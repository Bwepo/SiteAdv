var Oo=Object.defineProperty;var pa=A=>{throw TypeError(A)};var No=(A,$,H)=>$ in A?Oo(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var Fn=(A,$,H)=>No(A,typeof $!="symbol"?$+"":$,H),mi=(A,$,H)=>$.has(A)||pa("Cannot "+H);var V=(A,$,H)=>(mi(A,$,"read from private field"),H?H.call(A):$.get(A)),at=(A,$,H)=>$.has(A)?pa("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(A):$.set(A,H),ot=(A,$,H,R)=>(mi(A,$,"write to private field"),R?R.call(A,H):$.set(A,H),H),Ge=(A,$,H)=>(mi(A,$,"access private method"),H);var Pr=(A,$,H,R)=>({set _(O){ot(A,$,O,H)},get _(){return V(A,$,R)}});import{c as createLucideIcon,g as getAugmentedNamespace,r as reactExports,f as reactDomExports,j as jsxRuntimeExports,A as AnimatePresence,m as motion,e as cn,X,t as toast,L as Link}from"./index-DhJFBbWG.js";import{S as SEOHead,L as Layout,s as siteContent}from"./SEOHead-CmmWZG6A.js";import{P as PageTransition}from"./PageTransition-_Z8oG651.js";import{P as PageHeaderCompact}from"./PageHeaderCompact-CkanVTxW.js";import{B as Button}from"./button-CTgOP9BP.js";import{a as RevealContainer,b as RevealItem,R as Reveal}from"./reveal-D9Y6pcND.js";import{D as DropdownMenu,a as DropdownMenuTrigger,b as DropdownMenuContent,c as DropdownMenuItem,d as DropdownMenuSeparator}from"./dropdown-menu-BrIm1Si4.js";import{A as Award,B as BookOpen}from"./book-open-C2SXFPJI.js";import{C as Calendar}from"./calendar-A6NhF1Y-.js";import{F as FileText}from"./file-text-DvZETzYg.js";import{S as Share2}from"./share-2-CkghJr1U.js";import{M as Mail}from"./menu-CAk_CmdA.js";import{C as Check}from"./check-DHh9ZPzw.js";import{D as Download}from"./download-BwYTC8F5.js";import{E as ExternalLink}from"./external-link-CwtyYBI_.js";import{L as LoaderCircle}from"./loader-circle-C-BpveA3.js";import{u as usePosts}from"./usePosts-F62nUlet.js";import{A as ArrowRight}from"./arrow-right-D3s7k3hL.js";import{S as Sparkles}from"./sparkles-BXA2HqAb.js";import{f as format,p as ptBR}from"./pt-BR-BnWYOt86.js";import"./chevron-right-DEhnMEow.js";import"./scale-DnQmFlsu.js";import"./map-pin-B76EKdYI.js";import"./house-Br8nU-l7.js";import"./index-BAaUBjb8.js";import"./index-uMC9S6FD.js";import"./index-DZBaIp-7.js";import"./circle-Bl2lfeKG.js";import"./useMutation-L0aDKpuJ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link2=createLucideIcon("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,H){module.exports=$.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{var yn;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=xe,$.bytesToString=st,$.createValidAbsoluteUrl=Ve,$.getModificationDate=xt,$.getUuid=Ht,$.getVerbosityLevel=$e,$.info=je,$.isArrayBuffer=Ue,$.isArrayEqual=wt,$.isNodeJS=void 0,$.normalizeUnicode=Ft,$.objectFromMap=gt,$.objectSize=ht,$.setVerbosityLevel=Oe,$.shadow=Ee,$.string32=dt,$.stringToBytes=ct,$.stringToPDFString=rt,$.stringToUTF8String=mt,$.unreachable=Xe,$.utf8StringToString=ft,$.warn=Le;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H;const R=[1,0,0,1,0,0];$.IDENTITY_MATRIX=R;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const B=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=B;const J=1.35;$.LINE_FACTOR=J;const fe=.35;$.LINE_DESCENT_FACTOR=fe;const de=fe/J;$.BASELINE_FACTOR=de;const ue={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=ue;const W={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=W;const _e="pdfjs_internal_editor_";$.AnnotationEditorPrefix=_e;const le={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=le;const te={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=te;const ie={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=ie;const ee={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=ee;const q={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=q;const ne={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ne;const ae={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=ae;const be={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=be;const he={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=he;const Y={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Y;const ce={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ce;const re={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=re;const oe={O:"PageOpen",C:"PageClose"};$.PageActionEventType=oe;const se={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=se;const ye={NONE:0,BINARY:1};$.CMapCompressionType=ye;const Q={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Q;const ve={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=ve;let Ce=se.WARNINGS;function Oe(vt){Number.isInteger(vt)&&(Ce=vt)}function $e(){return Ce}function je(vt){Ce>=se.INFOS&&console.log(`Info: ${vt}`)}function Le(vt){Ce>=se.WARNINGS&&console.log(`Warning: ${vt}`)}function Xe(vt){throw new Error(vt)}function xe(vt,Ze){vt||Xe(Ze)}function Te(vt){switch(vt==null?void 0:vt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ve(vt,Ze=null,Qe=null){if(!vt)return null;try{if(Qe&&typeof vt=="string"){if(Qe.addDefaultProtocol&&vt.startsWith("www.")){const Dt=vt.match(/\./g);(Dt==null?void 0:Dt.length)>=2&&(vt=`http://${vt}`)}if(Qe.tryConvertEncoding)try{vt=mt(vt)}catch{}}const Rt=Ze?new URL(vt,Ze):new URL(vt);if(Te(Rt))return Rt}catch{}return null}function Ee(vt,Ze,Qe,Rt=!1){return Object.defineProperty(vt,Ze,{value:Qe,enumerable:!Rt,configurable:!0,writable:!1}),Qe}const G=function(){function Ze(Qe,Rt){this.constructor===Ze&&Xe("Cannot initialize BaseException."),this.message=Qe,this.name=Rt}return Ze.prototype=new Error,Ze.constructor=Ze,Ze}();$.BaseException=G;class K extends G{constructor(Ze,Qe){super(Ze,"PasswordException"),this.code=Qe}}$.PasswordException=K;class ge extends G{constructor(Ze,Qe){super(Ze,"UnknownErrorException"),this.details=Qe}}$.UnknownErrorException=ge;class Pe extends G{constructor(Ze){super(Ze,"InvalidPDFException")}}$.InvalidPDFException=Pe;class Ae extends G{constructor(Ze){super(Ze,"MissingPDFException")}}$.MissingPDFException=Ae;class ke extends G{constructor(Ze,Qe){super(Ze,"UnexpectedResponseException"),this.status=Qe}}$.UnexpectedResponseException=ke;class Ne extends G{constructor(Ze){super(Ze,"FormatError")}}$.FormatError=Ne;class et extends G{constructor(Ze){super(Ze,"AbortException")}}$.AbortException=et;function st(vt){(typeof vt!="object"||(vt==null?void 0:vt.length)===void 0)&&Xe("Invalid argument for bytesToString");const Ze=vt.length,Qe=8192;if(Ze<Qe)return String.fromCharCode.apply(null,vt);const Rt=[];for(let Dt=0;Dt<Ze;Dt+=Qe){const qt=Math.min(Dt+Qe,Ze),Re=vt.subarray(Dt,qt);Rt.push(String.fromCharCode.apply(null,Re))}return Rt.join("")}function ct(vt){typeof vt!="string"&&Xe("Invalid argument for stringToBytes");const Ze=vt.length,Qe=new Uint8Array(Ze);for(let Rt=0;Rt<Ze;++Rt)Qe[Rt]=vt.charCodeAt(Rt)&255;return Qe}function dt(vt){return String.fromCharCode(vt>>24&255,vt>>16&255,vt>>8&255,vt&255)}function ht(vt){return Object.keys(vt).length}function gt(vt){const Ze=Object.create(null);for(const[Qe,Rt]of vt)Ze[Qe]=Rt;return Ze}function qe(){const vt=new Uint8Array(4);return vt[0]=1,new Uint32Array(vt.buffer,0,1)[0]===1}function Ke(){try{return new Function(""),!0}catch{return!1}}class me{static get isLittleEndian(){return Ee(this,"isLittleEndian",qe())}static get isEvalSupported(){return Ee(this,"isEvalSupported",Ke())}static get isOffscreenCanvasSupported(){return Ee(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ee(this,"platform",{isWin:!1,isMac:!1}):Ee(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ze,Qe;return Ee(this,"isCSSRoundSupported",(Qe=(Ze=globalThis.CSS)==null?void 0:Ze.supports)==null?void 0:Qe.call(Ze,"width: round(1.5px, 1px)"))}}$.FeatureTest=me;const Se=[...Array(256).keys()].map(vt=>vt.toString(16).padStart(2,"0"));class ze{static makeHexColor(Ze,Qe,Rt){return`#${Se[Ze]}${Se[Qe]}${Se[Rt]}`}static scaleMinMax(Ze,Qe){let Rt;Ze[0]?(Ze[0]<0&&(Rt=Qe[0],Qe[0]=Qe[1],Qe[1]=Rt),Qe[0]*=Ze[0],Qe[1]*=Ze[0],Ze[3]<0&&(Rt=Qe[2],Qe[2]=Qe[3],Qe[3]=Rt),Qe[2]*=Ze[3],Qe[3]*=Ze[3]):(Rt=Qe[0],Qe[0]=Qe[2],Qe[2]=Rt,Rt=Qe[1],Qe[1]=Qe[3],Qe[3]=Rt,Ze[1]<0&&(Rt=Qe[2],Qe[2]=Qe[3],Qe[3]=Rt),Qe[2]*=Ze[1],Qe[3]*=Ze[1],Ze[2]<0&&(Rt=Qe[0],Qe[0]=Qe[1],Qe[1]=Rt),Qe[0]*=Ze[2],Qe[1]*=Ze[2]),Qe[0]+=Ze[4],Qe[1]+=Ze[4],Qe[2]+=Ze[5],Qe[3]+=Ze[5]}static transform(Ze,Qe){return[Ze[0]*Qe[0]+Ze[2]*Qe[1],Ze[1]*Qe[0]+Ze[3]*Qe[1],Ze[0]*Qe[2]+Ze[2]*Qe[3],Ze[1]*Qe[2]+Ze[3]*Qe[3],Ze[0]*Qe[4]+Ze[2]*Qe[5]+Ze[4],Ze[1]*Qe[4]+Ze[3]*Qe[5]+Ze[5]]}static applyTransform(Ze,Qe){const Rt=Ze[0]*Qe[0]+Ze[1]*Qe[2]+Qe[4],Dt=Ze[0]*Qe[1]+Ze[1]*Qe[3]+Qe[5];return[Rt,Dt]}static applyInverseTransform(Ze,Qe){const Rt=Qe[0]*Qe[3]-Qe[1]*Qe[2],Dt=(Ze[0]*Qe[3]-Ze[1]*Qe[2]+Qe[2]*Qe[5]-Qe[4]*Qe[3])/Rt,qt=(-Ze[0]*Qe[1]+Ze[1]*Qe[0]+Qe[4]*Qe[1]-Qe[5]*Qe[0])/Rt;return[Dt,qt]}static getAxialAlignedBoundingBox(Ze,Qe){const Rt=this.applyTransform(Ze,Qe),Dt=this.applyTransform(Ze.slice(2,4),Qe),qt=this.applyTransform([Ze[0],Ze[3]],Qe),Re=this.applyTransform([Ze[2],Ze[1]],Qe);return[Math.min(Rt[0],Dt[0],qt[0],Re[0]),Math.min(Rt[1],Dt[1],qt[1],Re[1]),Math.max(Rt[0],Dt[0],qt[0],Re[0]),Math.max(Rt[1],Dt[1],qt[1],Re[1])]}static inverseTransform(Ze){const Qe=Ze[0]*Ze[3]-Ze[1]*Ze[2];return[Ze[3]/Qe,-Ze[1]/Qe,-Ze[2]/Qe,Ze[0]/Qe,(Ze[2]*Ze[5]-Ze[4]*Ze[3])/Qe,(Ze[4]*Ze[1]-Ze[5]*Ze[0])/Qe]}static singularValueDecompose2dScale(Ze){const Qe=[Ze[0],Ze[2],Ze[1],Ze[3]],Rt=Ze[0]*Qe[0]+Ze[1]*Qe[2],Dt=Ze[0]*Qe[1]+Ze[1]*Qe[3],qt=Ze[2]*Qe[0]+Ze[3]*Qe[2],Re=Ze[2]*Qe[1]+Ze[3]*Qe[3],pt=(Rt+Re)/2,Pt=Math.sqrt((Rt+Re)**2-4*(Rt*Re-qt*Dt))/2,Ot=pt+Pt||1,Bt=pt-Pt||1;return[Math.sqrt(Ot),Math.sqrt(Bt)]}static normalizeRect(Ze){const Qe=Ze.slice(0);return Ze[0]>Ze[2]&&(Qe[0]=Ze[2],Qe[2]=Ze[0]),Ze[1]>Ze[3]&&(Qe[1]=Ze[3],Qe[3]=Ze[1]),Qe}static intersect(Ze,Qe){const Rt=Math.max(Math.min(Ze[0],Ze[2]),Math.min(Qe[0],Qe[2])),Dt=Math.min(Math.max(Ze[0],Ze[2]),Math.max(Qe[0],Qe[2]));if(Rt>Dt)return null;const qt=Math.max(Math.min(Ze[1],Ze[3]),Math.min(Qe[1],Qe[3])),Re=Math.min(Math.max(Ze[1],Ze[3]),Math.max(Qe[1],Qe[3]));return qt>Re?null:[Rt,qt,Dt,Re]}static bezierBoundingBox(Ze,Qe,Rt,Dt,qt,Re,pt,Pt){const Ot=[],Bt=[[],[]];let Tt,Me,we,He,lt,ut,bt,St;for(let rn=0;rn<2;++rn){if(rn===0?(Me=6*Ze-12*Rt+6*qt,Tt=-3*Ze+9*Rt-9*qt+3*pt,we=3*Rt-3*Ze):(Me=6*Qe-12*Dt+6*Re,Tt=-3*Qe+9*Dt-9*Re+3*Pt,we=3*Dt-3*Qe),Math.abs(Tt)<1e-12){if(Math.abs(Me)<1e-12)continue;He=-we/Me,0<He&&He<1&&Ot.push(He);continue}bt=Me*Me-4*we*Tt,St=Math.sqrt(bt),!(bt<0)&&(lt=(-Me+St)/(2*Tt),0<lt&&lt<1&&Ot.push(lt),ut=(-Me-St)/(2*Tt),0<ut&&ut<1&&Ot.push(ut))}let Nt=Ot.length,Lt;const Mt=Nt;for(;Nt--;)He=Ot[Nt],Lt=1-He,Bt[0][Nt]=Lt*Lt*Lt*Ze+3*Lt*Lt*He*Rt+3*Lt*He*He*qt+He*He*He*pt,Bt[1][Nt]=Lt*Lt*Lt*Qe+3*Lt*Lt*He*Dt+3*Lt*He*He*Re+He*He*He*Pt;return Bt[0][Mt]=Ze,Bt[1][Mt]=Qe,Bt[0][Mt+1]=pt,Bt[1][Mt+1]=Pt,Bt[0].length=Bt[1].length=Mt+2,[Math.min(...Bt[0]),Math.min(...Bt[1]),Math.max(...Bt[0]),Math.max(...Bt[1])]}}$.Util=ze;const Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function rt(vt){if(vt[0]>="ï"){let Qe;if(vt[0]==="þ"&&vt[1]==="ÿ"?Qe="utf-16be":vt[0]==="ÿ"&&vt[1]==="þ"?Qe="utf-16le":vt[0]==="ï"&&vt[1]==="»"&&vt[2]==="¿"&&(Qe="utf-8"),Qe)try{const Rt=new TextDecoder(Qe,{fatal:!0}),Dt=ct(vt);return Rt.decode(Dt)}catch(Rt){Le(`stringToPDFString: "${Rt}".`)}}const Ze=[];for(let Qe=0,Rt=vt.length;Qe<Rt;Qe++){const Dt=Ye[vt.charCodeAt(Qe)];Ze.push(Dt?String.fromCharCode(Dt):vt.charAt(Qe))}return Ze.join("")}function mt(vt){return decodeURIComponent(escape(vt))}function ft(vt){return unescape(encodeURIComponent(vt))}function Ue(vt){return typeof vt=="object"&&(vt==null?void 0:vt.byteLength)!==void 0}function wt(vt,Ze){if(vt.length!==Ze.length)return!1;for(let Qe=0,Rt=vt.length;Qe<Rt;Qe++)if(vt[Qe]!==Ze[Qe])return!1;return!0}function xt(vt=new Date){return[vt.getUTCFullYear().toString(),(vt.getUTCMonth()+1).toString().padStart(2,"0"),vt.getUTCDate().toString().padStart(2,"0"),vt.getUTCHours().toString().padStart(2,"0"),vt.getUTCMinutes().toString().padStart(2,"0"),vt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Zt{constructor(){at(this,yn,!1);this.promise=new Promise((Ze,Qe)=>{this.resolve=Rt=>{ot(this,yn,!0),Ze(Rt)},this.reject=Rt=>{ot(this,yn,!0),Qe(Rt)}})}get settled(){return V(this,yn)}}yn=new WeakMap,$.PromiseCapability=Zt;let Gt=null,fn=null;function Ft(vt){return Gt||(Gt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fn=new Map([["ﬅ","ſt"]])),vt.replaceAll(Gt,(Ze,Qe,Rt)=>Qe?Qe.normalize("NFKC"):fn.get(Rt))}function Ht(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const vt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(vt);else for(let Ze=0;Ze<32;Ze++)vt[Ze]=Math.floor(Math.random()*255);return st(vt)}const on="pdfjs_internal_id_";$.AnnotationPrefix=on},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,Er,Vr,fe,de,ue,W,_e,le,te,ie,ee,Wr,ne,ae,gi,he,Y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(re){if(typeof re=="string"||re instanceof URL?re={url:re}:(0,_util.isArrayBuffer)(re)&&(re={data:re}),typeof re!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!re.url&&!re.data&&!re.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const oe=new PDFDocumentLoadingTask,{docId:se}=oe,ye=re.url?getUrlProp(re.url):null,Q=re.data?getDataProp(re.data):null,ve=re.httpHeaders||null,Ce=re.withCredentials===!0,Oe=re.password??null,$e=re.range instanceof PDFDataRangeTransport?re.range:null,je=Number.isInteger(re.rangeChunkSize)&&re.rangeChunkSize>0?re.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Le=re.worker instanceof PDFWorker?re.worker:null;const Xe=re.verbosity,xe=typeof re.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(re.docBaseUrl)?re.docBaseUrl:null,Te=typeof re.cMapUrl=="string"?re.cMapUrl:null,Ve=re.cMapPacked!==!1,Ee=re.CMapReaderFactory||DefaultCMapReaderFactory,G=typeof re.standardFontDataUrl=="string"?re.standardFontDataUrl:null,K=re.StandardFontDataFactory||DefaultStandardFontDataFactory,ge=re.stopAtErrors!==!0,Pe=Number.isInteger(re.maxImageSize)&&re.maxImageSize>-1?re.maxImageSize:-1,Ae=re.isEvalSupported!==!1,ke=typeof re.isOffscreenCanvasSupported=="boolean"?re.isOffscreenCanvasSupported:!_util.isNodeJS,Ne=Number.isInteger(re.canvasMaxAreaInBytes)?re.canvasMaxAreaInBytes:-1,et=typeof re.disableFontFace=="boolean"?re.disableFontFace:_util.isNodeJS,st=re.fontExtraProperties===!0,ct=re.enableXfa===!0,dt=re.ownerDocument||globalThis.document,ht=re.disableRange===!0,gt=re.disableStream===!0,qe=re.disableAutoFetch===!0,Ke=re.pdfBug===!0,me=$e?$e.length:re.length??NaN,Se=typeof re.useSystemFonts=="boolean"?re.useSystemFonts:!_util.isNodeJS&&!et,ze=typeof re.useWorkerFetch=="boolean"?re.useWorkerFetch:Ee===_display_utils.DOMCMapReaderFactory&&K===_display_utils.DOMStandardFontDataFactory&&Te&&G&&(0,_display_utils.isValidFetchUrl)(Te,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(G,document.baseURI),Ye=re.canvasFactory||new DefaultCanvasFactory({ownerDocument:dt}),rt=re.filterFactory||new DefaultFilterFactory({docId:se,ownerDocument:dt}),mt=null;(0,_util.setVerbosityLevel)(Xe);const ft={canvasFactory:Ye,filterFactory:rt};if(ze||(ft.cMapReaderFactory=new Ee({baseUrl:Te,isCompressed:Ve}),ft.standardFontDataFactory=new K({baseUrl:G})),!Le){const xt={verbosity:Xe,port:_worker_options.GlobalWorkerOptions.workerPort};Le=xt.port?PDFWorker.fromPort(xt):new PDFWorker(xt),oe._worker=Le}const Ue={docId:se,apiVersion:"3.11.174",data:Q,password:Oe,disableAutoFetch:qe,rangeChunkSize:je,length:me,docBaseUrl:xe,enableXfa:ct,evaluatorOptions:{maxImageSize:Pe,disableFontFace:et,ignoreErrors:ge,isEvalSupported:Ae,isOffscreenCanvasSupported:ke,canvasMaxAreaInBytes:Ne,fontExtraProperties:st,useSystemFonts:Se,cMapUrl:ze?Te:null,standardFontDataUrl:ze?G:null}},wt={ignoreErrors:ge,isEvalSupported:Ae,disableFontFace:et,fontExtraProperties:st,enableXfa:ct,ownerDocument:dt,disableAutoFetch:qe,pdfBug:Ke,styleElement:mt};return Le.promise.then(function(){if(oe.destroyed)throw new Error("Loading aborted");const xt=_fetchDocument(Le,Ue),Zt=new Promise(function(Gt){let fn;$e?fn=new _transport_stream.PDFDataTransportStream({length:me,initialData:$e.initialData,progressiveDone:$e.progressiveDone,contentDispositionFilename:$e.contentDispositionFilename,disableRange:ht,disableStream:gt},$e):Q||(fn=(Ht=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ht):(0,_display_utils.isValidFetchUrl)(Ht.url)?new _displayFetch_stream.PDFFetchStream(Ht):new _displayNetwork.PDFNetworkStream(Ht))({url:ye,length:me,httpHeaders:ve,withCredentials:Ce,rangeChunkSize:je,disableRange:ht,disableStream:gt})),Gt(fn)});return Promise.all([xt,Zt]).then(function([Gt,fn]){if(oe.destroyed)throw new Error("Loading aborted");const Ft=new _message_handler.MessageHandler(se,Gt,Le.port),Ht=new WorkerTransport(Ft,oe,fn,wt,ft);oe._transport=Ht,Ft.send("Ready",null)})}).catch(oe._capability.reject),oe}async function _fetchDocument(re,oe){if(re.destroyed)throw new Error("Worker was destroyed");const se=await re.messageHandler.sendWithPromise("GetDocRequest",oe,oe.data?[oe.data.buffer]:null);if(re.destroyed)throw new Error("Worker was destroyed");return se}function getUrlProp(re){if(re instanceof URL)return re.href;try{return new URL(re,window.location).href}catch{if(_util.isNodeJS&&typeof re=="string")return re}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(re){if(_util.isNodeJS&&typeof Buffer<"u"&&re instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(re instanceof Uint8Array&&re.byteLength===re.buffer.byteLength)return re;if(typeof re=="string")return(0,_util.stringToBytes)(re);if(typeof re=="object"&&!isNaN(re==null?void 0:re.length)||(0,_util.isArrayBuffer)(re))return new Uint8Array(re);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Pr($,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var oe,se,ye;this.destroyed=!0;try{(oe=this._worker)!=null&&oe.port&&(this._worker._pendingDestroy=!0),await((se=this._transport)==null?void 0:se.destroy())}catch(Q){throw(ye=this._worker)!=null&&ye.port&&delete this._worker._pendingDestroy,Q}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,at($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(oe,se,ye=!1,Q=null){this.length=oe,this.initialData=se,this.progressiveDone=ye,this.contentDispositionFilename=Q,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(oe){this._rangeListeners.push(oe)}addProgressListener(oe){this._progressListeners.push(oe)}addProgressiveReadListener(oe){this._progressiveReadListeners.push(oe)}addProgressiveDoneListener(oe){this._progressiveDoneListeners.push(oe)}onDataRange(oe,se){for(const ye of this._rangeListeners)ye(oe,se)}onDataProgress(oe,se){this._readyCapability.promise.then(()=>{for(const ye of this._progressListeners)ye(oe,se)})}onDataProgressiveRead(oe){this._readyCapability.promise.then(()=>{for(const se of this._progressiveReadListeners)se(oe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const oe of this._progressiveDoneListeners)oe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(oe,se){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(oe,se){this._pdfInfo=oe,this._transport=se,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(ye=>{if(!ye)return ye;const Q=[];for(const ve in ye)Q.push(...ye[ve]);return Q}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(oe){return this._transport.getPage(oe)}getPageIndex(oe){return this._transport.getPageIndex(oe)}getDestinations(){return this._transport.getDestinations()}getDestination(oe){return this._transport.getDestination(oe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(oe=!1){return this._transport.startCleanup(oe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(oe,se,ye,Q=!1){at(this,O);at(this,H,null);at(this,R,!1);this._pageIndex=oe,this._pageInfo=se,this._transport=ye,this._stats=Q?new _display_utils.StatTimer:null,this._pdfBug=Q,this.commonObjs=ye.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:oe,rotation:se=this.rotate,offsetX:ye=0,offsetY:Q=0,dontFlip:ve=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:oe,rotation:se,offsetX:ye,offsetY:Q,dontFlip:ve})}getAnnotations({intent:oe="display"}={}){const se=this._transport.getRenderingIntent(oe);return this._transport.getAnnotations(this._pageIndex,se.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var oe;return((oe=this._transport._htmlForXfa)==null?void 0:oe.children[this._pageIndex])||null}render({canvasContext:oe,viewport:se,intent:ye="display",annotationMode:Q=_util.AnnotationMode.ENABLE,transform:ve=null,background:Ce=null,optionalContentConfigPromise:Oe=null,annotationCanvasMap:$e=null,pageColors:je=null,printAnnotationStorage:Le=null}){var K,ge;(K=this._stats)==null||K.time("Overall");const Xe=this._transport.getRenderingIntent(ye,Q,Le);ot(this,R,!1),Ge(this,O,Vr).call(this),Oe||(Oe=this._transport.getOptionalContentConfig());let xe=this._intentStates.get(Xe.cacheKey);xe||(xe=Object.create(null),this._intentStates.set(Xe.cacheKey,xe)),xe.streamReaderCancelTimeout&&(clearTimeout(xe.streamReaderCancelTimeout),xe.streamReaderCancelTimeout=null);const Te=!!(Xe.renderingIntent&_util.RenderingIntentFlag.PRINT);xe.displayReadyCapability||(xe.displayReadyCapability=new _util.PromiseCapability,xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ge=this._stats)==null||ge.time("Page Request"),this._pumpOperatorList(Xe));const Ve=Pe=>{var Ae,ke;xe.renderTasks.delete(Ee),(this._maybeCleanupAfterRender||Te)&&ot(this,R,!0),Ge(this,O,Er).call(this,!Te),Pe?(Ee.capability.reject(Pe),this._abortOperatorList({intentState:xe,reason:Pe instanceof Error?Pe:new Error(Pe)})):Ee.capability.resolve(),(Ae=this._stats)==null||Ae.timeEnd("Rendering"),(ke=this._stats)==null||ke.timeEnd("Overall")},Ee=new InternalRenderTask({callback:Ve,params:{canvasContext:oe,viewport:se,transform:ve,background:Ce},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$e,operatorList:xe.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Te,pdfBug:this._pdfBug,pageColors:je});(xe.renderTasks||(xe.renderTasks=new Set)).add(Ee);const G=Ee.task;return Promise.all([xe.displayReadyCapability.promise,Oe]).then(([Pe,Ae])=>{var ke;if(this.destroyed){Ve();return}(ke=this._stats)==null||ke.time("Rendering"),Ee.initializeGraphics({transparency:Pe,optionalContentConfig:Ae}),Ee.operatorListChanged()}).catch(Ve),G}getOperatorList({intent:oe="display",annotationMode:se=_util.AnnotationMode.ENABLE,printAnnotationStorage:ye=null}={}){var $e;function Q(){Ce.operatorList.lastChunk&&(Ce.opListReadCapability.resolve(Ce.operatorList),Ce.renderTasks.delete(Oe))}const ve=this._transport.getRenderingIntent(oe,se,ye,!0);let Ce=this._intentStates.get(ve.cacheKey);Ce||(Ce=Object.create(null),this._intentStates.set(ve.cacheKey,Ce));let Oe;return Ce.opListReadCapability||(Oe=Object.create(null),Oe.operatorListChanged=Q,Ce.opListReadCapability=new _util.PromiseCapability,(Ce.renderTasks||(Ce.renderTasks=new Set)).add(Oe),Ce.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},($e=this._stats)==null||$e.time("Page Request"),this._pumpOperatorList(ve)),Ce.opListReadCapability.promise}streamTextContent({includeMarkedContent:oe=!1,disableNormalization:se=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:oe===!0,disableNormalization:se===!0},{highWaterMark:100,size(Q){return Q.items.length}})}getTextContent(oe={}){if(this._transport._htmlForXfa)return this.getXfa().then(ye=>_xfa_text.XfaText.textContent(ye));const se=this.streamTextContent(oe);return new Promise(function(ye,Q){function ve(){Ce.read().then(function({value:$e,done:je}){if(je){ye(Oe);return}Object.assign(Oe.styles,$e.styles),Oe.items.push(...$e.items),ve()},Q)}const Ce=se.getReader(),Oe={items:[],styles:Object.create(null)};ve()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const oe=[];for(const se of this._intentStates.values())if(this._abortOperatorList({intentState:se,reason:new Error("Page was destroyed."),force:!0}),!se.opListReadCapability)for(const ye of se.renderTasks)oe.push(ye.completed),ye.cancel();return this.objs.clear(),ot(this,R,!1),Ge(this,O,Vr).call(this),Promise.all(oe)}cleanup(oe=!1){ot(this,R,!0);const se=Ge(this,O,Er).call(this,!1);return oe&&se&&this._stats&&(this._stats=new _display_utils.StatTimer),se}_startRenderPage(oe,se){var Q,ve;const ye=this._intentStates.get(se);ye&&((Q=this._stats)==null||Q.timeEnd("Page Request"),(ve=ye.displayReadyCapability)==null||ve.resolve(oe))}_renderPageChunk(oe,se){for(let ye=0,Q=oe.length;ye<Q;ye++)se.operatorList.fnArray.push(oe.fnArray[ye]),se.operatorList.argsArray.push(oe.argsArray[ye]);se.operatorList.lastChunk=oe.lastChunk,se.operatorList.separateAnnots=oe.separateAnnots;for(const ye of se.renderTasks)ye.operatorListChanged();oe.lastChunk&&Ge(this,O,Er).call(this,!0)}_pumpOperatorList({renderingIntent:oe,cacheKey:se,annotationStorageSerializable:ye}){const{map:Q,transfers:ve}=ye,Oe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:oe,cacheKey:se,annotationStorage:Q},ve).getReader(),$e=this._intentStates.get(se);$e.streamReader=Oe;const je=()=>{Oe.read().then(({value:Le,done:Xe})=>{if(Xe){$e.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Le,$e),je())},Le=>{if($e.streamReader=null,!this._transport.destroyed){if($e.operatorList){$e.operatorList.lastChunk=!0;for(const Xe of $e.renderTasks)Xe.operatorListChanged();Ge(this,O,Er).call(this,!0)}if($e.displayReadyCapability)$e.displayReadyCapability.reject(Le);else if($e.opListReadCapability)$e.opListReadCapability.reject(Le);else throw Le}})};je()}_abortOperatorList({intentState:oe,reason:se,force:ye=!1}){if(oe.streamReader){if(oe.streamReaderCancelTimeout&&(clearTimeout(oe.streamReaderCancelTimeout),oe.streamReaderCancelTimeout=null),!ye){if(oe.renderTasks.size>0)return;if(se instanceof _display_utils.RenderingCancelledException){let Q=RENDERING_CANCELLED_TIMEOUT;se.extraDelay>0&&se.extraDelay<1e3&&(Q+=se.extraDelay),oe.streamReaderCancelTimeout=setTimeout(()=>{oe.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:oe,reason:se,force:!0})},Q);return}}if(oe.streamReader.cancel(new _util.AbortException(se.message)).catch(()=>{}),oe.streamReader=null,!this._transport.destroyed){for(const[Q,ve]of this._intentStates)if(ve===oe){this._intentStates.delete(Q);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,Er=function(oe=!1){if(Ge(this,O,Vr).call(this),!V(this,R)||this.destroyed)return!1;if(oe)return ot(this,H,setTimeout(()=>{ot(this,H,null),Ge(this,O,Er).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:se,operatorList:ye}of this._intentStates.values())if(se.size>0||!ye.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ot(this,R,!1),!0},Vr=function(){V(this,H)&&(clearTimeout(V(this,H)),ot(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){at(this,fe,new Set);at(this,de,Promise.resolve())}postMessage(oe,se){const ye={data:structuredClone(oe,se?{transfer:se}:null)};V(this,de).then(()=>{for(const Q of V(this,fe))Q.call(this,ye)})}addEventListener(oe,se){V(this,fe).add(se)}removeEventListener(oe,se){V(this,fe).delete(se)}terminate(){V(this,fe).clear()}}fe=new WeakMap,de=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const re=(ue=document==null?void 0:document.currentScript)==null?void 0:ue.src;re&&(PDFWorkerUtil.fallbackWorkerSrc=re.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(re,oe){let se;try{if(se=new URL(re),!se.origin||se.origin==="null")return!1}catch{return!1}const ye=new URL(oe,se);return se.origin===ye.origin},PDFWorkerUtil.createCDNWrapper=function(re){const oe=`importScripts("${re}");`;return URL.createObjectURL(new Blob([oe]))}}const _PDFWorker=class _PDFWorker{constructor({name:re=null,port:oe=null,verbosity:se=(0,_util.getVerbosityLevel)()}={}){var ye;if(this.name=re,this.destroyed=!1,this.verbosity=se,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,oe){if((ye=V(_PDFWorker,W))!=null&&ye.has(oe))throw new Error("Cannot use more than one PDFWorker per port.");(V(_PDFWorker,W)||ot(_PDFWorker,W,new WeakMap)).set(oe,this),this._initializeFromPort(oe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(re){this._port=re,this._messageHandler=new _message_handler.MessageHandler("main","worker",re),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:re}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,re)||(re=PDFWorkerUtil.createCDNWrapper(new URL(re,window.location).href));const oe=new Worker(re),se=new _message_handler.MessageHandler("main","worker",oe),ye=()=>{oe.removeEventListener("error",Q),se.destroy(),oe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Q=()=>{this._webWorker||ye()};oe.addEventListener("error",Q),se.on("test",Ce=>{if(oe.removeEventListener("error",Q),this.destroyed){ye();return}Ce?(this._messageHandler=se,this._port=oe,this._webWorker=oe,this._readyCapability.resolve(),se.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),se.destroy(),oe.terminate())}),se.on("ready",Ce=>{if(oe.removeEventListener("error",Q),this.destroyed){ye();return}try{ve()}catch{this._setupFakeWorker()}});const ve=()=>{const Ce=new Uint8Array;se.send("test",Ce,[Ce.buffer])};ve();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(re=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const oe=new LoopbackPort;this._port=oe;const se=`fake${PDFWorkerUtil.fakeWorkerId++}`,ye=new _message_handler.MessageHandler(se+"_worker",se,oe);re.setup(ye,oe);const Q=new _message_handler.MessageHandler(se,se+"_worker",oe);this._messageHandler=Q,this._readyCapability.resolve(),Q.send("configure",{verbosity:this.verbosity})}).catch(re=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${re.message}".`))})}destroy(){var re;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(re=V(_PDFWorker,W))==null||re.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(re){var se;if(!(re!=null&&re.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const oe=(se=V(this,W))==null?void 0:se.get(re.port);if(oe){if(oe._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return oe}return new _PDFWorker(re)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var re;try{return((re=globalThis.pdfjsWorker)==null?void 0:re.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};W=new WeakMap,at(_PDFWorker,W);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(oe,se,ye,Q,ve){at(this,ee);at(this,_e,new Map);at(this,le,new Map);at(this,te,new Map);at(this,ie,null);this.messageHandler=oe,this.loadingTask=se,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Q.ownerDocument,styleElement:Q.styleElement}),this._params=Q,this.canvasFactory=ve.canvasFactory,this.filterFactory=ve.filterFactory,this.cMapReaderFactory=ve.cMapReaderFactory,this.standardFontDataFactory=ve.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ye,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(oe,se=_util.AnnotationMode.ENABLE,ye=null,Q=!1){let ve=_util.RenderingIntentFlag.DISPLAY,Ce=_annotation_storage.SerializableEmpty;switch(oe){case"any":ve=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ve=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${oe}`)}switch(se){case _util.AnnotationMode.DISABLE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ve+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ce=(ve&_util.RenderingIntentFlag.PRINT&&ye instanceof _annotation_storage.PrintAnnotationStorage?ye:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${se}`)}return Q&&(ve+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ve,cacheKey:`${ve}_${Ce.hash}`,annotationStorageSerializable:Ce}}destroy(){var ye;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(ye=V(this,ie))==null||ye.reject(new Error("Worker was destroyed during onPassword callback"));const oe=[];for(const Q of V(this,le).values())oe.push(Q._destroy());V(this,le).clear(),V(this,te).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const se=this.messageHandler.sendWithPromise("Terminate",null);return oe.push(se),Promise.all(oe).then(()=>{var Q;this.commonObjs.clear(),this.fontLoader.clear(),V(this,_e).clear(),this.filterFactory.destroy(),(Q=this._networkStream)==null||Q.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:oe,loadingTask:se}=this;oe.on("GetReader",(ye,Q)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ve=>{this._lastProgress={loaded:ve.loaded,total:ve.total}},Q.onPull=()=>{this._fullReader.read().then(function({value:ve,done:Ce}){if(Ce){Q.close();return}(0,_util.assert)(ve instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array(ve),1,[ve])}).catch(ve=>{Q.error(ve)})},Q.onCancel=ve=>{this._fullReader.cancel(ve),Q.ready.catch(Ce=>{if(!this.destroyed)throw Ce})}}),oe.on("ReaderHeadersReady",ye=>{const Q=new _util.PromiseCapability,ve=this._fullReader;return ve.headersReady.then(()=>{var Ce;(!ve.isStreamingSupported||!ve.isRangeSupported)&&(this._lastProgress&&((Ce=se.onProgress)==null||Ce.call(se,this._lastProgress)),ve.onProgress=Oe=>{var $e;($e=se.onProgress)==null||$e.call(se,{loaded:Oe.loaded,total:Oe.total})}),Q.resolve({isStreamingSupported:ve.isStreamingSupported,isRangeSupported:ve.isRangeSupported,contentLength:ve.contentLength})},Q.reject),Q.promise}),oe.on("GetRangeReader",(ye,Q)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ve=this._networkStream.getRangeReader(ye.begin,ye.end);if(!ve){Q.close();return}Q.onPull=()=>{ve.read().then(function({value:Ce,done:Oe}){if(Oe){Q.close();return}(0,_util.assert)(Ce instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Q.enqueue(new Uint8Array(Ce),1,[Ce])}).catch(Ce=>{Q.error(Ce)})},Q.onCancel=Ce=>{ve.cancel(Ce),Q.ready.catch(Oe=>{if(!this.destroyed)throw Oe})}}),oe.on("GetDoc",({pdfInfo:ye})=>{this._numPages=ye.numPages,this._htmlForXfa=ye.htmlForXfa,delete ye.htmlForXfa,se._capability.resolve(new PDFDocumentProxy(ye,this))}),oe.on("DocException",function(ye){let Q;switch(ye.name){case"PasswordException":Q=new _util.PasswordException(ye.message,ye.code);break;case"InvalidPDFException":Q=new _util.InvalidPDFException(ye.message);break;case"MissingPDFException":Q=new _util.MissingPDFException(ye.message);break;case"UnexpectedResponseException":Q=new _util.UnexpectedResponseException(ye.message,ye.status);break;case"UnknownErrorException":Q=new _util.UnknownErrorException(ye.message,ye.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}se._capability.reject(Q)}),oe.on("PasswordRequest",ye=>{if(ot(this,ie,new _util.PromiseCapability),se.onPassword){const Q=ve=>{ve instanceof Error?V(this,ie).reject(ve):V(this,ie).resolve({password:ve})};try{se.onPassword(Q,ye.code)}catch(ve){V(this,ie).reject(ve)}}else V(this,ie).reject(new _util.PasswordException(ye.message,ye.code));return V(this,ie).promise}),oe.on("DataLoaded",ye=>{var Q;(Q=se.onProgress)==null||Q.call(se,{loaded:ye.length,total:ye.length}),this.downloadInfoCapability.resolve(ye)}),oe.on("StartRenderPage",ye=>{if(this.destroyed)return;V(this,le).get(ye.pageIndex)._startRenderPage(ye.transparency,ye.cacheKey)}),oe.on("commonobj",([ye,Q,ve])=>{var Ce;if(!this.destroyed&&!this.commonObjs.has(ye))switch(Q){case"Font":const Oe=this._params;if("error"in ve){const Le=ve.error;(0,_util.warn)(`Error during font loading: ${Le}`),this.commonObjs.resolve(ye,Le);break}const $e=Oe.pdfBug&&((Ce=globalThis.FontInspector)!=null&&Ce.enabled)?(Le,Xe)=>globalThis.FontInspector.fontAdded(Le,Xe):null,je=new _font_loader.FontFaceObject(ve,{isEvalSupported:Oe.isEvalSupported,disableFontFace:Oe.disableFontFace,ignoreErrors:Oe.ignoreErrors,inspectFont:$e});this.fontLoader.bind(je).catch(Le=>oe.sendWithPromise("FontFallback",{id:ye})).finally(()=>{!Oe.fontExtraProperties&&je.data&&(je.data=null),this.commonObjs.resolve(ye,je)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ye,ve);break;default:throw new Error(`Got unknown common object type ${Q}`)}}),oe.on("obj",([ye,Q,ve,Ce])=>{var $e;if(this.destroyed)return;const Oe=V(this,le).get(Q);if(!Oe.objs.has(ye))switch(ve){case"Image":if(Oe.objs.resolve(ye,Ce),Ce){let je;if(Ce.bitmap){const{width:Le,height:Xe}=Ce;je=Le*Xe*4}else je=(($e=Ce.data)==null?void 0:$e.length)||0;je>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Oe._maybeCleanupAfterRender=!0)}break;case"Pattern":Oe.objs.resolve(ye,Ce);break;default:throw new Error(`Got unknown object type ${ve}`)}}),oe.on("DocProgress",ye=>{var Q;this.destroyed||(Q=se.onProgress)==null||Q.call(se,{loaded:ye.loaded,total:ye.total})}),oe.on("FetchBuiltInCMap",ye=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(ye):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),oe.on("FetchStandardFontData",ye=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(ye):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ye;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:oe,transfers:se}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:oe,filename:((ye=this._fullReader)==null?void 0:ye.filename)??null},se).finally(()=>{this.annotationStorage.resetModified()})}getPage(oe){if(!Number.isInteger(oe)||oe<=0||oe>this._numPages)return Promise.reject(new Error("Invalid page request."));const se=oe-1,ye=V(this,te).get(se);if(ye)return ye;const Q=this.messageHandler.sendWithPromise("GetPage",{pageIndex:se}).then(ve=>{if(this.destroyed)throw new Error("Transport destroyed");const Ce=new PDFPageProxy(se,ve,this,this._params.pdfBug);return V(this,le).set(se,Ce),Ce});return V(this,te).set(se,Q),Q}getPageIndex(oe){return typeof oe!="object"||oe===null||!Number.isInteger(oe.num)||oe.num<0||!Number.isInteger(oe.gen)||oe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:oe.num,gen:oe.gen})}getAnnotations(oe,se){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:oe,intent:se})}getFieldObjects(){return Ge(this,ee,Wr).call(this,"GetFieldObjects")}hasJSActions(){return Ge(this,ee,Wr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(oe){return typeof oe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:oe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ge(this,ee,Wr).call(this,"GetDocJSActions")}getPageJSActions(oe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:oe})}getStructTree(oe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:oe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(oe=>new _optional_content_config.OptionalContentConfig(oe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const oe="GetMetadata",se=V(this,_e).get(oe);if(se)return se;const ye=this.messageHandler.sendWithPromise(oe,null).then(Q=>{var ve,Ce;return{info:Q[0],metadata:Q[1]?new _metadata.Metadata(Q[1]):null,contentDispositionFilename:((ve=this._fullReader)==null?void 0:ve.filename)??null,contentLength:((Ce=this._fullReader)==null?void 0:Ce.contentLength)??null}});return V(this,_e).set(oe,ye),ye}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(oe=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const se of V(this,le).values())if(!se.cleanup())throw new Error(`startCleanup: Page ${se.pageNumber} is currently rendering.`);this.commonObjs.clear(),oe||this.fontLoader.clear(),V(this,_e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:oe,enableXfa:se}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:oe,enableXfa:se})}}_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakSet,Wr=function(oe,se=null){const ye=V(this,_e).get(oe);if(ye)return ye;const Q=this.messageHandler.sendWithPromise(oe,se);return V(this,_e).set(oe,Q),Q};class PDFObjects{constructor(){at(this,ae);at(this,ne,Object.create(null))}get(oe,se=null){if(se){const Q=Ge(this,ae,gi).call(this,oe);return Q.capability.promise.then(()=>se(Q.data)),null}const ye=V(this,ne)[oe];if(!(ye!=null&&ye.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${oe}.`);return ye.data}has(oe){const se=V(this,ne)[oe];return(se==null?void 0:se.capability.settled)||!1}resolve(oe,se=null){const ye=Ge(this,ae,gi).call(this,oe);ye.data=se,ye.capability.resolve()}clear(){var oe;for(const se in V(this,ne)){const{data:ye}=V(this,ne)[se];(oe=ye==null?void 0:ye.bitmap)==null||oe.close()}ot(this,ne,Object.create(null))}}ne=new WeakMap,ae=new WeakSet,gi=function(oe){var se;return(se=V(this,ne))[oe]||(se[oe]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(oe){at(this,he,null);ot(this,he,oe),this.onContinue=null}get promise(){return V(this,he).capability.promise}cancel(oe=0){V(this,he).cancel(null,oe)}get separateAnnots(){const{separateAnnots:oe}=V(this,he).operatorList;if(!oe)return!1;const{annotationCanvasMap:se}=V(this,he);return oe.form||oe.canvas&&(se==null?void 0:se.size)>0}}he=new WeakMap,exports.RenderTask=RenderTask;const ce=class ce{constructor({callback:oe,params:se,objs:ye,commonObjs:Q,annotationCanvasMap:ve,operatorList:Ce,pageIndex:Oe,canvasFactory:$e,filterFactory:je,useRequestAnimationFrame:Le=!1,pdfBug:Xe=!1,pageColors:xe=null}){this.callback=oe,this.params=se,this.objs=ye,this.commonObjs=Q,this.annotationCanvasMap=ve,this.operatorListIdx=null,this.operatorList=Ce,this._pageIndex=Oe,this.canvasFactory=$e,this.filterFactory=je,this._pdfBug=Xe,this.pageColors=xe,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Le===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=se.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:oe=!1,optionalContentConfig:se}){var Oe,$e;if(this.cancelled)return;if(this._canvas){if(V(ce,Y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(ce,Y).add(this._canvas)}this._pdfBug&&((Oe=globalThis.StepperManager)!=null&&Oe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ye,viewport:Q,transform:ve,background:Ce}=this.params;this.gfx=new _canvas.CanvasGraphics(ye,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:se},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ve,viewport:Q,transparency:oe,background:Ce}),this.operatorListIdx=0,this.graphicsReady=!0,($e=this.graphicsReadyCallback)==null||$e.call(this)}cancel(oe=null,se=0){var ye;this.running=!1,this.cancelled=!0,(ye=this.gfx)==null||ye.endDrawing(),V(ce,Y).delete(this._canvas),this.callback(oe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,se))}operatorListChanged(){var oe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(oe=this.stepper)==null||oe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(ce,Y).delete(this._canvas),this.callback())))}};Y=new WeakMap,at(ce,Y,new WeakSet);let InternalRenderTask=ce;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,$,H)=>{var ue,W,_e,ma,te;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var R=H(1),O=H(4),B=H(8);const J=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=J;class fe{constructor(){at(this,_e);at(this,ue,!1);at(this,W,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ee,q){const ne=V(this,W).get(ee);return ne===void 0?q:Object.assign(q,ne)}getRawValue(ee){return V(this,W).get(ee)}remove(ee){if(V(this,W).delete(ee),V(this,W).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const q of V(this,W).values())if(q instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ee,q){const ne=V(this,W).get(ee);let ae=!1;if(ne!==void 0)for(const[be,he]of Object.entries(q))ne[be]!==he&&(ae=!0,ne[be]=he);else ae=!0,V(this,W).set(ee,q);ae&&Ge(this,_e,ma).call(this),q instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(q.constructor._type)}has(ee){return V(this,W).has(ee)}getAll(){return V(this,W).size>0?(0,R.objectFromMap)(V(this,W)):null}setAll(ee){for(const[q,ne]of Object.entries(ee))this.setValue(q,ne)}get size(){return V(this,W).size}resetModified(){V(this,ue)&&(ot(this,ue,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new de(this)}get serializable(){if(V(this,W).size===0)return J;const ee=new Map,q=new B.MurmurHash3_64,ne=[],ae=Object.create(null);let be=!1;for(const[he,Y]of V(this,W)){const ce=Y instanceof O.AnnotationEditor?Y.serialize(!1,ae):Y;ce&&(ee.set(he,ce),q.update(`${he}:${JSON.stringify(ce)}`),be||(be=!!ce.bitmap))}if(be)for(const he of ee.values())he.bitmap&&ne.push(he.bitmap);return ee.size>0?{map:ee,hash:q.hexdigest(),transfers:ne}:J}}ue=new WeakMap,W=new WeakMap,_e=new WeakSet,ma=function(){V(this,ue)||(ot(this,ue,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=fe;class de extends fe{constructor(q){super();at(this,te);const{map:ne,hash:ae,transfers:be}=q.serializable,he=structuredClone(ne,be?{transfer:be}:null);ot(this,te,{map:he,hash:ae,transfers:be})}get print(){(0,R.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,te)}}te=new WeakMap,$.PrintAnnotationStorage=de},(A,$,H)=>{var de,ue,W,_e,le,te,ie,ee,q,ne,ae,be,he,Y,ce,vi,bi,se,_i,Ei,ga,va,ba,yi,_a;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var R=H(5),O=H(1),B=H(6);const Le=class Le{constructor(xe){at(this,ce);at(this,de,"");at(this,ue,!1);at(this,W,null);at(this,_e,null);at(this,le,null);at(this,te,!1);at(this,ie,null);at(this,ee,this.focusin.bind(this));at(this,q,this.focusout.bind(this));at(this,ne,!1);at(this,ae,!1);at(this,be,!1);Fn(this,"_initialOptions",Object.create(null));Fn(this,"_uiManager",null);Fn(this,"_focusEventsAllowed",!0);Fn(this,"_l10nPromise",null);at(this,he,!1);at(this,Y,Le._zIndex++);this.constructor===Le&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=xe.parent,this.id=xe.id,this.width=this.height=null,this.pageIndex=xe.parent.pageIndex,this.name=xe.name,this.div=null,this._uiManager=xe.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=xe.isCentered,this._structTreeParentId=null;const{rotation:Te,rawDims:{pageWidth:Ve,pageHeight:Ee,pageX:G,pageY:K}}=this.parent.viewport;this.rotation=Te,this.pageRotation=(360+Te-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ve,Ee],this.pageTranslation=[G,K];const[ge,Pe]=this.parentDimensions;this.x=xe.x/ge,this.y=xe.y/Pe,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(xe){const Te=new fe({id:xe.parent.getNextId(),parent:xe.parent,uiManager:xe._uiManager});Te.annotationElementId=xe.annotationElementId,Te.deleted=!0,Te._uiManager.addToAnnotationStorage(Te)}static initialize(xe,Te=null){if(Le._l10nPromise||(Le._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ee=>[Ee,xe.get(Ee)]))),Te!=null&&Te.strings)for(const Ee of Te.strings)Le._l10nPromise.set(Ee,xe.get(Ee));if(Le._borderLineWidth!==-1)return;const Ve=getComputedStyle(document.documentElement);Le._borderLineWidth=parseFloat(Ve.getPropertyValue("--outline-width"))||0}static updateDefaultParams(xe,Te){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(xe){return!1}static paste(xe,Te){(0,O.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,he)}set _isDraggable(xe){var Te;ot(this,he,xe),(Te=this.div)==null||Te.classList.toggle("draggable",xe)}center(){const[xe,Te]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Te/(xe*2),this.y+=this.width*xe/(Te*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Te/(xe*2),this.y-=this.width*xe/(Te*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(xe){this._uiManager.addCommands(xe)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,Y)}setParent(xe){xe!==null&&(this.pageIndex=xe.pageIndex,this.pageDimensions=xe.pageDimensions),this.parent=xe}focusin(xe){this._focusEventsAllowed&&(V(this,ne)?ot(this,ne,!1):this.parent.setSelected(this))}focusout(xe){var Ve;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Te=xe.relatedTarget;Te!=null&&Te.closest(`#${this.id}`)||(xe.preventDefault(),(Ve=this.parent)!=null&&Ve.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(xe,Te,Ve,Ee){const[G,K]=this.parentDimensions;[Ve,Ee]=this.screenToPageTranslation(Ve,Ee),this.x=(xe+Ve)/G,this.y=(Te+Ee)/K,this.fixAndSetPosition()}translate(xe,Te){Ge(this,ce,vi).call(this,this.parentDimensions,xe,Te)}translateInPage(xe,Te){Ge(this,ce,vi).call(this,this.pageDimensions,xe,Te),this.div.scrollIntoView({block:"nearest"})}drag(xe,Te){const[Ve,Ee]=this.parentDimensions;if(this.x+=xe/Ve,this.y+=Te/Ee,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ae,y:ke}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ae,ke)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:G,y:K}=this;const[ge,Pe]=Ge(this,ce,bi).call(this);G+=ge,K+=Pe,this.div.style.left=`${(100*G).toFixed(2)}%`,this.div.style.top=`${(100*K).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[xe,Te]=this.pageDimensions;let{x:Ve,y:Ee,width:G,height:K}=this;switch(G*=xe,K*=Te,Ve*=xe,Ee*=Te,this.rotation){case 0:Ve=Math.max(0,Math.min(xe-G,Ve)),Ee=Math.max(0,Math.min(Te-K,Ee));break;case 90:Ve=Math.max(0,Math.min(xe-K,Ve)),Ee=Math.min(Te,Math.max(G,Ee));break;case 180:Ve=Math.min(xe,Math.max(G,Ve)),Ee=Math.min(Te,Math.max(K,Ee));break;case 270:Ve=Math.min(xe,Math.max(K,Ve)),Ee=Math.max(0,Math.min(Te-G,Ee));break}this.x=Ve/=xe,this.y=Ee/=Te;const[ge,Pe]=Ge(this,ce,bi).call(this);Ve+=ge,Ee+=Pe;const{style:Ae}=this.div;Ae.left=`${(100*Ve).toFixed(2)}%`,Ae.top=`${(100*Ee).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(xe,Te){var Ve;return Ge(Ve=Le,se,_i).call(Ve,xe,Te,this.parentRotation)}pageTranslationToScreen(xe,Te){var Ve;return Ge(Ve=Le,se,_i).call(Ve,xe,Te,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:xe,pageDimensions:[Te,Ve]}=this,Ee=Te*xe,G=Ve*xe;return O.FeatureTest.isCSSRoundSupported?[Math.round(Ee),Math.round(G)]:[Ee,G]}setDims(xe,Te){var G;const[Ve,Ee]=this.parentDimensions;this.div.style.width=`${(100*xe/Ve).toFixed(2)}%`,V(this,te)||(this.div.style.height=`${(100*Te/Ee).toFixed(2)}%`),(G=V(this,W))==null||G.classList.toggle("small",xe<Le.SMALL_EDITOR_SIZE||Te<Le.SMALL_EDITOR_SIZE)}fixDims(){const{style:xe}=this.div,{height:Te,width:Ve}=xe,Ee=Ve.endsWith("%"),G=!V(this,te)&&Te.endsWith("%");if(Ee&&G)return;const[K,ge]=this.parentDimensions;Ee||(xe.width=`${(100*parseFloat(Ve)/K).toFixed(2)}%`),!V(this,te)&&!G&&(xe.height=`${(100*parseFloat(Te)/ge).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,W))return;const xe=ot(this,W,document.createElement("button"));xe.className="altText";const Te=await Le._l10nPromise.get("editor_alt_text_button_label");xe.textContent=Te,xe.setAttribute("aria-label",Te),xe.tabIndex="0",xe.addEventListener("contextmenu",B.noContextMenu),xe.addEventListener("pointerdown",Ve=>Ve.stopPropagation()),xe.addEventListener("click",Ve=>{Ve.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),xe.addEventListener("keydown",Ve=>{Ve.target===xe&&Ve.key==="Enter"&&(Ve.preventDefault(),this._uiManager.editAltText(this))}),Ge(this,ce,yi).call(this),this.div.append(xe),Le.SMALL_EDITOR_SIZE||(Le.SMALL_EDITOR_SIZE=Math.min(128,Math.round(xe.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,de),decorative:V(this,ue)}}set altTextData({altText:xe,decorative:Te}){V(this,de)===xe&&V(this,ue)===Te||(ot(this,de,xe),ot(this,ue,Te),Ge(this,ce,yi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,ee)),this.div.addEventListener("focusout",V(this,q));const[xe,Te]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Te/xe).toFixed(2)}%`,this.div.style.maxHeight=`${(100*xe/Te).toFixed(2)}%`);const[Ve,Ee]=this.getInitialTranslation();return this.translate(Ve,Ee),(0,R.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(xe){const{isMac:Te}=O.FeatureTest.platform;if(xe.button!==0||xe.ctrlKey&&Te){xe.preventDefault();return}ot(this,ne,!0),Ge(this,ce,_a).call(this,xe)}moveInDOM(){var xe;(xe=this.parent)==null||xe.moveEditorInDOM(this)}_setParentAndPosition(xe,Te,Ve){xe.changeParent(this),this.x=Te,this.y=Ve,this.fixAndSetPosition()}getRect(xe,Te){const Ve=this.parentScale,[Ee,G]=this.pageDimensions,[K,ge]=this.pageTranslation,Pe=xe/Ve,Ae=Te/Ve,ke=this.x*Ee,Ne=this.y*G,et=this.width*Ee,st=this.height*G;switch(this.rotation){case 0:return[ke+Pe+K,G-Ne-Ae-st+ge,ke+Pe+et+K,G-Ne-Ae+ge];case 90:return[ke+Ae+K,G-Ne+Pe+ge,ke+Ae+st+K,G-Ne+Pe+et+ge];case 180:return[ke-Pe-et+K,G-Ne+Ae+ge,ke-Pe+K,G-Ne+Ae+st+ge];case 270:return[ke-Ae-st+K,G-Ne-Pe-et+ge,ke-Ae+K,G-Ne-Pe+ge];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(xe,Te){const[Ve,Ee,G,K]=xe,ge=G-Ve,Pe=K-Ee;switch(this.rotation){case 0:return[Ve,Te-K,ge,Pe];case 90:return[Ve,Te-Ee,Pe,ge];case 180:return[G,Te-Ee,ge,Pe];case 270:return[G,Te-K,Pe,ge];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ot(this,be,!0)}disableEditMode(){ot(this,be,!1)}isInEditMode(){return V(this,be)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var xe,Te;(xe=this.div)==null||xe.addEventListener("focusin",V(this,ee)),(Te=this.div)==null||Te.addEventListener("focusout",V(this,q))}serialize(xe=!1,Te=null){(0,O.unreachable)("An editor must be serializable")}static deserialize(xe,Te,Ve){const Ee=new this.prototype.constructor({parent:Te,id:Te.getNextId(),uiManager:Ve});Ee.rotation=xe.rotation;const[G,K]=Ee.pageDimensions,[ge,Pe,Ae,ke]=Ee.getRectInCurrentCoords(xe.rect,K);return Ee.x=ge/G,Ee.y=Pe/K,Ee.width=Ae/G,Ee.height=ke/K,Ee}remove(){var xe;this.div.removeEventListener("focusin",V(this,ee)),this.div.removeEventListener("focusout",V(this,q)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(xe=V(this,W))==null||xe.remove(),ot(this,W,null),ot(this,_e,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ge(this,ce,ga).call(this),V(this,ie).classList.remove("hidden"))}select(){var xe;this.makeResizable(),(xe=this.div)==null||xe.classList.add("selectedEditor")}unselect(){var xe,Te,Ve;(xe=V(this,ie))==null||xe.classList.add("hidden"),(Te=this.div)==null||Te.classList.remove("selectedEditor"),(Ve=this.div)!=null&&Ve.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(xe,Te){}disableEditing(){V(this,W)&&(V(this,W).hidden=!0)}enableEditing(){V(this,W)&&(V(this,W).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,ae)}set isEditing(xe){ot(this,ae,xe),this.parent&&(xe?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(xe,Te){ot(this,te,!0);const Ve=xe/Te,{style:Ee}=this.div;Ee.aspectRatio=Ve,Ee.height="auto"}static get MIN_SIZE(){return 16}};de=new WeakMap,ue=new WeakMap,W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakMap,ae=new WeakMap,be=new WeakMap,he=new WeakMap,Y=new WeakMap,ce=new WeakSet,vi=function([xe,Te],Ve,Ee){[Ve,Ee]=this.screenToPageTranslation(Ve,Ee),this.x+=Ve/xe,this.y+=Ee/Te,this.fixAndSetPosition()},bi=function(){const[xe,Te]=this.parentDimensions,{_borderLineWidth:Ve}=Le,Ee=Ve/xe,G=Ve/Te;switch(this.rotation){case 90:return[-Ee,G];case 180:return[Ee,G];case 270:return[Ee,-G];default:return[-Ee,-G]}},se=new WeakSet,_i=function(xe,Te,Ve){switch(Ve){case 90:return[Te,-xe];case 180:return[-xe,-Te];case 270:return[-Te,xe];default:return[xe,Te]}},Ei=function(xe){switch(xe){case 90:{const[Te,Ve]=this.pageDimensions;return[0,-Te/Ve,Ve/Te,0]}case 180:return[-1,0,0,-1];case 270:{const[Te,Ve]=this.pageDimensions;return[0,Te/Ve,-Ve/Te,0]}default:return[1,0,0,1]}},ga=function(){if(V(this,ie))return;ot(this,ie,document.createElement("div")),V(this,ie).classList.add("resizers");const xe=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||xe.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Te of xe){const Ve=document.createElement("div");V(this,ie).append(Ve),Ve.classList.add("resizer",Te),Ve.addEventListener("pointerdown",Ge(this,ce,va).bind(this,Te)),Ve.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(V(this,ie))},va=function(xe,Te){Te.preventDefault();const{isMac:Ve}=O.FeatureTest.platform;if(Te.button!==0||Te.ctrlKey&&Ve)return;const Ee=Ge(this,ce,ba).bind(this,xe),G=this._isDraggable;this._isDraggable=!1;const K={passive:!0,capture:!0};window.addEventListener("pointermove",Ee,K);const ge=this.x,Pe=this.y,Ae=this.width,ke=this.height,Ne=this.parent.div.style.cursor,et=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Te.target).cursor;const st=()=>{this._isDraggable=G,window.removeEventListener("pointerup",st),window.removeEventListener("blur",st),window.removeEventListener("pointermove",Ee,K),this.parent.div.style.cursor=Ne,this.div.style.cursor=et;const ct=this.x,dt=this.y,ht=this.width,gt=this.height;ct===ge&&dt===Pe&&ht===Ae&&gt===ke||this.addCommands({cmd:()=>{this.width=ht,this.height=gt,this.x=ct,this.y=dt;const[qe,Ke]=this.parentDimensions;this.setDims(qe*ht,Ke*gt),this.fixAndSetPosition()},undo:()=>{this.width=Ae,this.height=ke,this.x=ge,this.y=Pe;const[qe,Ke]=this.parentDimensions;this.setDims(qe*Ae,Ke*ke),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",st),window.addEventListener("blur",st)},ba=function(xe,Te){const[Ve,Ee]=this.parentDimensions,G=this.x,K=this.y,ge=this.width,Pe=this.height,Ae=Le.MIN_SIZE/Ve,ke=Le.MIN_SIZE/Ee,Ne=Ft=>Math.round(Ft*1e4)/1e4,et=Ge(this,ce,Ei).call(this,this.rotation),st=(Ft,Ht)=>[et[0]*Ft+et[2]*Ht,et[1]*Ft+et[3]*Ht],ct=Ge(this,ce,Ei).call(this,360-this.rotation),dt=(Ft,Ht)=>[ct[0]*Ft+ct[2]*Ht,ct[1]*Ft+ct[3]*Ht];let ht,gt,qe=!1,Ke=!1;switch(xe){case"topLeft":qe=!0,ht=(Ft,Ht)=>[0,0],gt=(Ft,Ht)=>[Ft,Ht];break;case"topMiddle":ht=(Ft,Ht)=>[Ft/2,0],gt=(Ft,Ht)=>[Ft/2,Ht];break;case"topRight":qe=!0,ht=(Ft,Ht)=>[Ft,0],gt=(Ft,Ht)=>[0,Ht];break;case"middleRight":Ke=!0,ht=(Ft,Ht)=>[Ft,Ht/2],gt=(Ft,Ht)=>[0,Ht/2];break;case"bottomRight":qe=!0,ht=(Ft,Ht)=>[Ft,Ht],gt=(Ft,Ht)=>[0,0];break;case"bottomMiddle":ht=(Ft,Ht)=>[Ft/2,Ht],gt=(Ft,Ht)=>[Ft/2,0];break;case"bottomLeft":qe=!0,ht=(Ft,Ht)=>[0,Ht],gt=(Ft,Ht)=>[Ft,0];break;case"middleLeft":Ke=!0,ht=(Ft,Ht)=>[0,Ht/2],gt=(Ft,Ht)=>[Ft,Ht/2];break}const me=ht(ge,Pe),Se=gt(ge,Pe);let ze=st(...Se);const Ye=Ne(G+ze[0]),rt=Ne(K+ze[1]);let mt=1,ft=1,[Ue,wt]=this.screenToPageTranslation(Te.movementX,Te.movementY);if([Ue,wt]=dt(Ue/Ve,wt/Ee),qe){const Ft=Math.hypot(ge,Pe);mt=ft=Math.max(Math.min(Math.hypot(Se[0]-me[0]-Ue,Se[1]-me[1]-wt)/Ft,1/ge,1/Pe),Ae/ge,ke/Pe)}else Ke?mt=Math.max(Ae,Math.min(1,Math.abs(Se[0]-me[0]-Ue)))/ge:ft=Math.max(ke,Math.min(1,Math.abs(Se[1]-me[1]-wt)))/Pe;const xt=Ne(ge*mt),Zt=Ne(Pe*ft);ze=st(...gt(xt,Zt));const Gt=Ye-ze[0],fn=rt-ze[1];this.width=xt,this.height=Zt,this.x=Gt,this.y=fn,this.setDims(Ve*xt,Ee*Zt),this.fixAndSetPosition()},yi=async function(){var Ve;const xe=V(this,W);if(!xe)return;if(!V(this,de)&&!V(this,ue)){xe.classList.remove("done"),(Ve=V(this,_e))==null||Ve.remove();return}Le._l10nPromise.get("editor_alt_text_edit_button_label").then(Ee=>{xe.setAttribute("aria-label",Ee)});let Te=V(this,_e);if(!Te){ot(this,_e,Te=document.createElement("span")),Te.className="tooltip",Te.setAttribute("role","tooltip");const Ee=Te.id=`alt-text-tooltip-${this.id}`;xe.setAttribute("aria-describedby",Ee);const G=100;xe.addEventListener("mouseenter",()=>{ot(this,le,setTimeout(()=>{ot(this,le,null),V(this,_e).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},G))}),xe.addEventListener("mouseleave",()=>{var K;clearTimeout(V(this,le)),ot(this,le,null),(K=V(this,_e))==null||K.classList.remove("show")})}xe.classList.add("done"),Te.innerText=V(this,ue)?await Le._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,de),Te.parentNode||xe.append(Te)},_a=function(xe){if(!this._isDraggable)return;const Te=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Ve,Ee;Te&&(Ve={passive:!0,capture:!0},Ee=K=>{const[ge,Pe]=this.screenToPageTranslation(K.movementX,K.movementY);this._uiManager.dragSelectedEditors(ge,Pe)},window.addEventListener("pointermove",Ee,Ve));const G=()=>{if(window.removeEventListener("pointerup",G),window.removeEventListener("blur",G),Te&&window.removeEventListener("pointermove",Ee,Ve),ot(this,ne,!1),!this._uiManager.endDragSession()){const{isMac:K}=O.FeatureTest.platform;xe.ctrlKey&&!K||xe.shiftKey||xe.metaKey&&K?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",G),window.addEventListener("blur",G)},at(Le,se),Fn(Le,"_borderLineWidth",-1),Fn(Le,"_colorManager",new R.ColorManager),Fn(Le,"_zIndex",1),Fn(Le,"SMALL_EDITOR_SIZE",0);let J=Le;$.AnnotationEditor=J;class fe extends J{constructor(xe){super(xe),this.annotationElementId=xe.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,$,H)=>{var te,ie,ee,q,ne,Si,he,Y,ce,re,oe,Ea,Q,ve,Ce,Oe,$e,je,Le,Xe,xe,Te,Ve,Ee,G,K,ge,Pe,Ae,ke,Ne,et,st,ct,dt,ht,gt,qe,Ke,me,Se,ze,Ye,rt,mt,ft,Ue,ya,xi,wi,Ur,Ai,Ci,tr,kr,Sa,xa,Pi,Mr,ki;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=J;var R=H(1),O=H(6);function B(qt,Re,pt){for(const Pt of pt)Re.addEventListener(Pt,qt[Pt].bind(qt))}function J(qt){return Math.round(Math.min(255,Math.max(1,255*qt))).toString(16).padStart(2,"0")}class fe{constructor(){at(this,te,0)}getId(){return`${R.AnnotationEditorPrefix}${Pr(this,te)._++}`}}te=new WeakMap;const be=class be{constructor(){at(this,ne);at(this,ie,(0,R.getUuid)());at(this,ee,0);at(this,q,null)}static get _isSVGFittingCanvas(){const Re='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Pt=new OffscreenCanvas(1,3).getContext("2d"),Ot=new Image;Ot.src=Re;const Bt=Ot.decode().then(()=>(Pt.drawImage(Ot,0,0,1,1,0,0,1,3),new Uint32Array(Pt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,R.shadow)(this,"_isSVGFittingCanvas",Bt)}async getFromFile(Re){const{lastModified:pt,name:Pt,size:Ot,type:Bt}=Re;return Ge(this,ne,Si).call(this,`${pt}_${Pt}_${Ot}_${Bt}`,Re)}async getFromUrl(Re){return Ge(this,ne,Si).call(this,Re,Re)}async getFromId(Re){V(this,q)||ot(this,q,new Map);const pt=V(this,q).get(Re);return pt?pt.bitmap?(pt.refCounter+=1,pt):pt.file?this.getFromFile(pt.file):this.getFromUrl(pt.url):null}getSvgUrl(Re){const pt=V(this,q).get(Re);return pt!=null&&pt.isSvg?pt.svgUrl:null}deleteId(Re){V(this,q)||ot(this,q,new Map);const pt=V(this,q).get(Re);pt&&(pt.refCounter-=1,pt.refCounter===0&&(pt.bitmap=null))}isValidId(Re){return Re.startsWith(`image_${V(this,ie)}_`)}};ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakSet,Si=async function(Re,pt){V(this,q)||ot(this,q,new Map);let Pt=V(this,q).get(Re);if(Pt===null)return null;if(Pt!=null&&Pt.bitmap)return Pt.refCounter+=1,Pt;try{Pt||(Pt={bitmap:null,id:`image_${V(this,ie)}_${Pr(this,ee)._++}`,refCounter:0,isSvg:!1});let Ot;if(typeof pt=="string"){Pt.url=pt;const Bt=await fetch(pt);if(!Bt.ok)throw new Error(Bt.statusText);Ot=await Bt.blob()}else Ot=Pt.file=pt;if(Ot.type==="image/svg+xml"){const Bt=be._isSVGFittingCanvas,Tt=new FileReader,Me=new Image,we=new Promise((He,lt)=>{Me.onload=()=>{Pt.bitmap=Me,Pt.isSvg=!0,He()},Tt.onload=async()=>{const ut=Pt.svgUrl=Tt.result;Me.src=await Bt?`${ut}#svgView(preserveAspectRatio(none))`:ut},Me.onerror=Tt.onerror=lt});Tt.readAsDataURL(Ot),await we}else Pt.bitmap=await createImageBitmap(Ot);Pt.refCounter=1}catch(Ot){console.error(Ot),Pt=null}return V(this,q).set(Re,Pt),Pt&&V(this,q).set(Pt.id,Pt),Pt};let de=be;class ue{constructor(Re=128){at(this,he,[]);at(this,Y,!1);at(this,ce);at(this,re,-1);ot(this,ce,Re)}add({cmd:Re,undo:pt,mustExec:Pt,type:Ot=NaN,overwriteIfSameType:Bt=!1,keepUndo:Tt=!1}){if(Pt&&Re(),V(this,Y))return;const Me={cmd:Re,undo:pt,type:Ot};if(V(this,re)===-1){V(this,he).length>0&&(V(this,he).length=0),ot(this,re,0),V(this,he).push(Me);return}if(Bt&&V(this,he)[V(this,re)].type===Ot){Tt&&(Me.undo=V(this,he)[V(this,re)].undo),V(this,he)[V(this,re)]=Me;return}const we=V(this,re)+1;we===V(this,ce)?V(this,he).splice(0,1):(ot(this,re,we),we<V(this,he).length&&V(this,he).splice(we)),V(this,he).push(Me)}undo(){V(this,re)!==-1&&(ot(this,Y,!0),V(this,he)[V(this,re)].undo(),ot(this,Y,!1),ot(this,re,V(this,re)-1))}redo(){V(this,re)<V(this,he).length-1&&(ot(this,re,V(this,re)+1),ot(this,Y,!0),V(this,he)[V(this,re)].cmd(),ot(this,Y,!1))}hasSomethingToUndo(){return V(this,re)!==-1}hasSomethingToRedo(){return V(this,re)<V(this,he).length-1}destroy(){ot(this,he,null)}}he=new WeakMap,Y=new WeakMap,ce=new WeakMap,re=new WeakMap,$.CommandManager=ue;class W{constructor(Re){at(this,oe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pt}=R.FeatureTest.platform;for(const[Pt,Ot,Bt={}]of Re)for(const Tt of Pt){const Me=Tt.startsWith("mac+");pt&&Me?(this.callbacks.set(Tt.slice(4),{callback:Ot,options:Bt}),this.allKeys.add(Tt.split("+").at(-1))):!pt&&!Me&&(this.callbacks.set(Tt,{callback:Ot,options:Bt}),this.allKeys.add(Tt.split("+").at(-1)))}}exec(Re,pt){if(!this.allKeys.has(pt.key))return;const Pt=this.callbacks.get(Ge(this,oe,Ea).call(this,pt));if(!Pt)return;const{callback:Ot,options:{bubbles:Bt=!1,args:Tt=[],checker:Me=null}}=Pt;Me&&!Me(Re,pt)||(Ot.bind(Re,...Tt)(),Bt||(pt.stopPropagation(),pt.preventDefault()))}}oe=new WeakSet,Ea=function(Re){Re.altKey&&this.buffer.push("alt"),Re.ctrlKey&&this.buffer.push("ctrl"),Re.metaKey&&this.buffer.push("meta"),Re.shiftKey&&this.buffer.push("shift"),this.buffer.push(Re.key);const pt=this.buffer.join("+");return this.buffer.length=0,pt},$.KeyboardManager=W;const ye=class ye{get _colors(){const Re=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)(Re),(0,R.shadow)(this,"_colors",Re)}convert(Re){const pt=(0,O.getRGB)(Re);if(!window.matchMedia("(forced-colors: active)").matches)return pt;for(const[Pt,Ot]of this._colors)if(Ot.every((Bt,Tt)=>Bt===pt[Tt]))return ye._colorsMapping.get(Pt);return pt}getHexCode(Re){const pt=this._colors.get(Re);return pt?R.Util.makeHexColor(...pt):Re}};Fn(ye,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _e=ye;$.ColorManager=_e;const Dt=class Dt{constructor(Re,pt,Pt,Ot,Bt,Tt){at(this,Ue);at(this,Q,null);at(this,ve,new Map);at(this,Ce,new Map);at(this,Oe,null);at(this,$e,null);at(this,je,new ue);at(this,Le,0);at(this,Xe,new Set);at(this,xe,null);at(this,Te,null);at(this,Ve,new Set);at(this,Ee,null);at(this,G,new fe);at(this,K,!1);at(this,ge,!1);at(this,Pe,null);at(this,Ae,R.AnnotationEditorType.NONE);at(this,ke,new Set);at(this,Ne,null);at(this,et,this.blur.bind(this));at(this,st,this.focus.bind(this));at(this,ct,this.copy.bind(this));at(this,dt,this.cut.bind(this));at(this,ht,this.paste.bind(this));at(this,gt,this.keydown.bind(this));at(this,qe,this.onEditingAction.bind(this));at(this,Ke,this.onPageChanging.bind(this));at(this,me,this.onScaleChanging.bind(this));at(this,Se,this.onRotationChanging.bind(this));at(this,ze,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});at(this,Ye,[0,0]);at(this,rt,null);at(this,mt,null);at(this,ft,null);ot(this,mt,Re),ot(this,ft,pt),ot(this,Oe,Pt),this._eventBus=Ot,this._eventBus._on("editingaction",V(this,qe)),this._eventBus._on("pagechanging",V(this,Ke)),this._eventBus._on("scalechanging",V(this,me)),this._eventBus._on("rotationchanging",V(this,Se)),ot(this,$e,Bt.annotationStorage),ot(this,Ee,Bt.filterFactory),ot(this,Ne,Tt),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Re=Dt.prototype,pt=Bt=>{const{activeElement:Tt}=document;return Tt&&V(Bt,mt).contains(Tt)&&Bt.hasSomethingToControl()},Pt=this.TRANSLATE_SMALL,Ot=this.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new W([[["ctrl+a","mac+meta+a"],Re.selectAll],[["ctrl+z","mac+meta+z"],Re.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Re.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Re.delete],[["Escape","mac+Escape"],Re.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Re.translateSelectedEditors,{args:[-Pt,0],checker:pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Re.translateSelectedEditors,{args:[-Ot,0],checker:pt}],[["ArrowRight","mac+ArrowRight"],Re.translateSelectedEditors,{args:[Pt,0],checker:pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Re.translateSelectedEditors,{args:[Ot,0],checker:pt}],[["ArrowUp","mac+ArrowUp"],Re.translateSelectedEditors,{args:[0,-Pt],checker:pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Re.translateSelectedEditors,{args:[0,-Ot],checker:pt}],[["ArrowDown","mac+ArrowDown"],Re.translateSelectedEditors,{args:[0,Pt],checker:pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Re.translateSelectedEditors,{args:[0,Ot],checker:pt}]]))}destroy(){Ge(this,Ue,Ur).call(this),Ge(this,Ue,xi).call(this),this._eventBus._off("editingaction",V(this,qe)),this._eventBus._off("pagechanging",V(this,Ke)),this._eventBus._off("scalechanging",V(this,me)),this._eventBus._off("rotationchanging",V(this,Se));for(const Re of V(this,Ce).values())Re.destroy();V(this,Ce).clear(),V(this,ve).clear(),V(this,Ve).clear(),ot(this,Q,null),V(this,ke).clear(),V(this,je).destroy(),V(this,Oe).destroy()}get hcmFilter(){return(0,R.shadow)(this,"hcmFilter",V(this,Ne)?V(this,Ee).addHCMFilter(V(this,Ne).foreground,V(this,Ne).background):"none")}get direction(){return(0,R.shadow)(this,"direction",getComputedStyle(V(this,mt)).direction)}editAltText(Re){var pt;(pt=V(this,Oe))==null||pt.editAltText(this,Re)}onPageChanging({pageNumber:Re}){ot(this,Le,Re-1)}focusMainContainer(){V(this,mt).focus()}findParent(Re,pt){for(const Pt of V(this,Ce).values()){const{x:Ot,y:Bt,width:Tt,height:Me}=Pt.div.getBoundingClientRect();if(Re>=Ot&&Re<=Ot+Tt&&pt>=Bt&&pt<=Bt+Me)return Pt}return null}disableUserSelect(Re=!1){V(this,ft).classList.toggle("noUserSelect",Re)}addShouldRescale(Re){V(this,Ve).add(Re)}removeShouldRescale(Re){V(this,Ve).delete(Re)}onScaleChanging({scale:Re}){this.commitOrRemove(),this.viewParameters.realScale=Re*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pt of V(this,Ve))pt.onScaleChanging()}onRotationChanging({pagesRotation:Re}){this.commitOrRemove(),this.viewParameters.rotation=Re}addToAnnotationStorage(Re){!Re.isEmpty()&&V(this,$e)&&!V(this,$e).has(Re.id)&&V(this,$e).setValue(Re.id,Re)}blur(){if(!this.hasSelection)return;const{activeElement:Re}=document;for(const pt of V(this,ke))if(pt.div.contains(Re)){ot(this,Pe,[pt,Re]),pt._focusEventsAllowed=!1;break}}focus(){if(!V(this,Pe))return;const[Re,pt]=V(this,Pe);ot(this,Pe,null),pt.addEventListener("focusin",()=>{Re._focusEventsAllowed=!0},{once:!0}),pt.focus()}addEditListeners(){Ge(this,Ue,wi).call(this),Ge(this,Ue,Ai).call(this)}removeEditListeners(){Ge(this,Ue,Ur).call(this),Ge(this,Ue,Ci).call(this)}copy(Re){var Pt;if(Re.preventDefault(),(Pt=V(this,Q))==null||Pt.commitOrRemove(),!this.hasSelection)return;const pt=[];for(const Ot of V(this,ke)){const Bt=Ot.serialize(!0);Bt&&pt.push(Bt)}pt.length!==0&&Re.clipboardData.setData("application/pdfjs",JSON.stringify(pt))}cut(Re){this.copy(Re),this.delete()}paste(Re){Re.preventDefault();const{clipboardData:pt}=Re;for(const Bt of pt.items)for(const Tt of V(this,Te))if(Tt.isHandlingMimeForPasting(Bt.type)){Tt.paste(Bt,this.currentLayer);return}let Pt=pt.getData("application/pdfjs");if(!Pt)return;try{Pt=JSON.parse(Pt)}catch(Bt){(0,R.warn)(`paste: "${Bt.message}".`);return}if(!Array.isArray(Pt))return;this.unselectAll();const Ot=this.currentLayer;try{const Bt=[];for(const we of Pt){const He=Ot.deserialize(we);if(!He)return;Bt.push(He)}const Tt=()=>{for(const we of Bt)Ge(this,Ue,Pi).call(this,we);Ge(this,Ue,ki).call(this,Bt)},Me=()=>{for(const we of Bt)we.remove()};this.addCommands({cmd:Tt,undo:Me,mustExec:!0})}catch(Bt){(0,R.warn)(`paste: "${Bt.message}".`)}}keydown(Re){var pt;(pt=this.getActive())!=null&&pt.shouldGetKeyboardEvents()||Dt._keyboardManager.exec(this,Re)}onEditingAction(Re){["undo","redo","delete","selectAll"].includes(Re.name)&&this[Re.name]()}setEditingState(Re){Re?(Ge(this,Ue,ya).call(this),Ge(this,Ue,wi).call(this),Ge(this,Ue,Ai).call(this),Ge(this,Ue,tr).call(this,{isEditing:V(this,Ae)!==R.AnnotationEditorType.NONE,isEmpty:Ge(this,Ue,Mr).call(this),hasSomethingToUndo:V(this,je).hasSomethingToUndo(),hasSomethingToRedo:V(this,je).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ge(this,Ue,xi).call(this),Ge(this,Ue,Ur).call(this),Ge(this,Ue,Ci).call(this),Ge(this,Ue,tr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Re){if(!V(this,Te)){ot(this,Te,Re);for(const pt of V(this,Te))Ge(this,Ue,kr).call(this,pt.defaultPropertiesToUpdate)}}getId(){return V(this,G).getId()}get currentLayer(){return V(this,Ce).get(V(this,Le))}getLayer(Re){return V(this,Ce).get(Re)}get currentPageIndex(){return V(this,Le)}addLayer(Re){V(this,Ce).set(Re.pageIndex,Re),V(this,K)?Re.enable():Re.disable()}removeLayer(Re){V(this,Ce).delete(Re.pageIndex)}updateMode(Re,pt=null){if(V(this,Ae)!==Re){if(ot(this,Ae,Re),Re===R.AnnotationEditorType.NONE){this.setEditingState(!1),Ge(this,Ue,xa).call(this);return}this.setEditingState(!0),Ge(this,Ue,Sa).call(this),this.unselectAll();for(const Pt of V(this,Ce).values())Pt.updateMode(Re);if(pt){for(const Pt of V(this,ve).values())if(Pt.annotationElementId===pt){this.setSelected(Pt),Pt.enterInEditMode();break}}}}updateToolbar(Re){Re!==V(this,Ae)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Re})}updateParams(Re,pt){if(V(this,Te)){if(Re===R.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Re);return}for(const Pt of V(this,ke))Pt.updateParams(Re,pt);for(const Pt of V(this,Te))Pt.updateDefaultParams(Re,pt)}}enableWaiting(Re=!1){if(V(this,ge)!==Re){ot(this,ge,Re);for(const pt of V(this,Ce).values())Re?pt.disableClick():pt.enableClick(),pt.div.classList.toggle("waiting",Re)}}getEditors(Re){const pt=[];for(const Pt of V(this,ve).values())Pt.pageIndex===Re&&pt.push(Pt);return pt}getEditor(Re){return V(this,ve).get(Re)}addEditor(Re){V(this,ve).set(Re.id,Re)}removeEditor(Re){var pt;V(this,ve).delete(Re.id),this.unselect(Re),(!Re.annotationElementId||!V(this,Xe).has(Re.annotationElementId))&&((pt=V(this,$e))==null||pt.remove(Re.id))}addDeletedAnnotationElement(Re){V(this,Xe).add(Re.annotationElementId),Re.deleted=!0}isDeletedAnnotationElement(Re){return V(this,Xe).has(Re)}removeDeletedAnnotationElement(Re){V(this,Xe).delete(Re.annotationElementId),Re.deleted=!1}setActiveEditor(Re){V(this,Q)!==Re&&(ot(this,Q,Re),Re&&Ge(this,Ue,kr).call(this,Re.propertiesToUpdate))}toggleSelected(Re){if(V(this,ke).has(Re)){V(this,ke).delete(Re),Re.unselect(),Ge(this,Ue,tr).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,ke).add(Re),Re.select(),Ge(this,Ue,kr).call(this,Re.propertiesToUpdate),Ge(this,Ue,tr).call(this,{hasSelectedEditor:!0})}setSelected(Re){for(const pt of V(this,ke))pt!==Re&&pt.unselect();V(this,ke).clear(),V(this,ke).add(Re),Re.select(),Ge(this,Ue,kr).call(this,Re.propertiesToUpdate),Ge(this,Ue,tr).call(this,{hasSelectedEditor:!0})}isSelected(Re){return V(this,ke).has(Re)}unselect(Re){Re.unselect(),V(this,ke).delete(Re),Ge(this,Ue,tr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,ke).size!==0}undo(){V(this,je).undo(),Ge(this,Ue,tr).call(this,{hasSomethingToUndo:V(this,je).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ge(this,Ue,Mr).call(this)})}redo(){V(this,je).redo(),Ge(this,Ue,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,je).hasSomethingToRedo(),isEmpty:Ge(this,Ue,Mr).call(this)})}addCommands(Re){V(this,je).add(Re),Ge(this,Ue,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ge(this,Ue,Mr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Re=[...V(this,ke)],pt=()=>{for(const Ot of Re)Ot.remove()},Pt=()=>{for(const Ot of Re)Ge(this,Ue,Pi).call(this,Ot)};this.addCommands({cmd:pt,undo:Pt,mustExec:!0})}commitOrRemove(){var Re;(Re=V(this,Q))==null||Re.commitOrRemove()}hasSomethingToControl(){return V(this,Q)||this.hasSelection}selectAll(){for(const Re of V(this,ke))Re.commit();Ge(this,Ue,ki).call(this,V(this,ve).values())}unselectAll(){if(V(this,Q)){V(this,Q).commitOrRemove();return}if(this.hasSelection){for(const Re of V(this,ke))Re.unselect();V(this,ke).clear(),Ge(this,Ue,tr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Re,pt,Pt=!1){if(Pt||this.commitOrRemove(),!this.hasSelection)return;V(this,Ye)[0]+=Re,V(this,Ye)[1]+=pt;const[Ot,Bt]=V(this,Ye),Tt=[...V(this,ke)],Me=1e3;V(this,rt)&&clearTimeout(V(this,rt)),ot(this,rt,setTimeout(()=>{ot(this,rt,null),V(this,Ye)[0]=V(this,Ye)[1]=0,this.addCommands({cmd:()=>{for(const we of Tt)V(this,ve).has(we.id)&&we.translateInPage(Ot,Bt)},undo:()=>{for(const we of Tt)V(this,ve).has(we.id)&&we.translateInPage(-Ot,-Bt)},mustExec:!1})},Me));for(const we of Tt)we.translateInPage(Re,pt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ot(this,xe,new Map);for(const Re of V(this,ke))V(this,xe).set(Re,{savedX:Re.x,savedY:Re.y,savedPageIndex:Re.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,xe))return!1;this.disableUserSelect(!1);const Re=V(this,xe);ot(this,xe,null);let pt=!1;for(const[{x:Ot,y:Bt,pageIndex:Tt},Me]of Re)Me.newX=Ot,Me.newY=Bt,Me.newPageIndex=Tt,pt||(pt=Ot!==Me.savedX||Bt!==Me.savedY||Tt!==Me.savedPageIndex);if(!pt)return!1;const Pt=(Ot,Bt,Tt,Me)=>{if(V(this,ve).has(Ot.id)){const we=V(this,Ce).get(Me);we?Ot._setParentAndPosition(we,Bt,Tt):(Ot.pageIndex=Me,Ot.x=Bt,Ot.y=Tt)}};return this.addCommands({cmd:()=>{for(const[Ot,{newX:Bt,newY:Tt,newPageIndex:Me}]of Re)Pt(Ot,Bt,Tt,Me)},undo:()=>{for(const[Ot,{savedX:Bt,savedY:Tt,savedPageIndex:Me}]of Re)Pt(Ot,Bt,Tt,Me)},mustExec:!0}),!0}dragSelectedEditors(Re,pt){if(V(this,xe))for(const Pt of V(this,xe).keys())Pt.drag(Re,pt)}rebuild(Re){if(Re.parent===null){const pt=this.getLayer(Re.pageIndex);pt?(pt.changeParent(Re),pt.addOrRebuild(Re)):(this.addEditor(Re),this.addToAnnotationStorage(Re),Re.rebuild())}else Re.parent.addOrRebuild(Re)}isActive(Re){return V(this,Q)===Re}getActive(){return V(this,Q)}getMode(){return V(this,Ae)}get imageManager(){return(0,R.shadow)(this,"imageManager",new de)}};Q=new WeakMap,ve=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,$e=new WeakMap,je=new WeakMap,Le=new WeakMap,Xe=new WeakMap,xe=new WeakMap,Te=new WeakMap,Ve=new WeakMap,Ee=new WeakMap,G=new WeakMap,K=new WeakMap,ge=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,ke=new WeakMap,Ne=new WeakMap,et=new WeakMap,st=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,gt=new WeakMap,qe=new WeakMap,Ke=new WeakMap,me=new WeakMap,Se=new WeakMap,ze=new WeakMap,Ye=new WeakMap,rt=new WeakMap,mt=new WeakMap,ft=new WeakMap,Ue=new WeakSet,ya=function(){window.addEventListener("focus",V(this,st)),window.addEventListener("blur",V(this,et))},xi=function(){window.removeEventListener("focus",V(this,st)),window.removeEventListener("blur",V(this,et))},wi=function(){window.addEventListener("keydown",V(this,gt),{capture:!0})},Ur=function(){window.removeEventListener("keydown",V(this,gt),{capture:!0})},Ai=function(){document.addEventListener("copy",V(this,ct)),document.addEventListener("cut",V(this,dt)),document.addEventListener("paste",V(this,ht))},Ci=function(){document.removeEventListener("copy",V(this,ct)),document.removeEventListener("cut",V(this,dt)),document.removeEventListener("paste",V(this,ht))},tr=function(Re){Object.entries(Re).some(([Pt,Ot])=>V(this,ze)[Pt]!==Ot)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,ze),Re)})},kr=function(Re){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Re})},Sa=function(){if(!V(this,K)){ot(this,K,!0);for(const Re of V(this,Ce).values())Re.enable()}},xa=function(){if(this.unselectAll(),V(this,K)){ot(this,K,!1);for(const Re of V(this,Ce).values())Re.disable()}},Pi=function(Re){const pt=V(this,Ce).get(Re.pageIndex);pt?pt.addOrRebuild(Re):this.addEditor(Re)},Mr=function(){if(V(this,ve).size===0)return!0;if(V(this,ve).size===1)for(const Re of V(this,ve).values())return Re.isEmpty();return!1},ki=function(Re){V(this,ke).clear();for(const pt of Re)pt.isEmpty()||(V(this,ke).add(pt),pt.select());Ge(this,Ue,tr).call(this,{hasSelectedEditor:!0})},Fn(Dt,"TRANSLATE_SMALL",1),Fn(Dt,"TRANSLATE_BIG",10);let le=Dt;$.AnnotationEditorUIManager=le},(A,$,H)=>{var Le,Xe,xe,Te,Ve,Ee,G,K,ge,Pe,Ae,ke,yr,Sr,Mi,Gr,qr,$r,Tr;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=re,$.getColorValues=ve,$.getCurrentTransform=Ce,$.getCurrentTransformInverse=Oe,$.getFilenameFromUrl=ne,$.getPdfFilenameFromUrl=ae,$.getRGB=Q,$.getXfaPageViewport=ye,$.isDataScheme=ee,$.isPdfFile=q,$.isValidFetchUrl=he,$.loadScript=ce,$.noContextMenu=Y,$.setLayerDimensions=$e;var R=H(7),O=H(1);const B="http://www.w3.org/2000/svg",je=class je{};Fn(je,"CSS",96),Fn(je,"PDF",72),Fn(je,"PDF_TO_CSS_UNITS",je.CSS/je.PDF);let J=je;$.PixelsPerInch=J;class fe extends R.BaseFilterFactory{constructor({docId:me,ownerDocument:Se=globalThis.document}={}){super();at(this,ke);at(this,Le);at(this,Xe);at(this,xe);at(this,Te);at(this,Ve);at(this,Ee);at(this,G);at(this,K);at(this,ge);at(this,Pe);at(this,Ae,0);ot(this,xe,me),ot(this,Te,Se)}addFilter(me){if(!me)return"none";let Se=V(this,ke,yr).get(me);if(Se)return Se;let ze,Ye,rt,mt;if(me.length===1){const xt=me[0],Zt=new Array(256);for(let Gt=0;Gt<256;Gt++)Zt[Gt]=xt[Gt]/255;mt=ze=Ye=rt=Zt.join(",")}else{const[xt,Zt,Gt]=me,fn=new Array(256),Ft=new Array(256),Ht=new Array(256);for(let on=0;on<256;on++)fn[on]=xt[on]/255,Ft[on]=Zt[on]/255,Ht[on]=Gt[on]/255;ze=fn.join(","),Ye=Ft.join(","),rt=Ht.join(","),mt=`${ze}${Ye}${rt}`}if(Se=V(this,ke,yr).get(mt),Se)return V(this,ke,yr).set(me,Se),Se;const ft=`g_${V(this,xe)}_transfer_map_${Pr(this,Ae)._++}`,Ue=`url(#${ft})`;V(this,ke,yr).set(me,Ue),V(this,ke,yr).set(mt,Ue);const wt=Ge(this,ke,Gr).call(this,ft);return Ge(this,ke,$r).call(this,ze,Ye,rt,wt),Ue}addHCMFilter(me,Se){var Zt;const ze=`${me}-${Se}`;if(V(this,Ee)===ze)return V(this,G);if(ot(this,Ee,ze),ot(this,G,"none"),(Zt=V(this,Ve))==null||Zt.remove(),!me||!Se)return V(this,G);const Ye=Ge(this,ke,Tr).call(this,me);me=O.Util.makeHexColor(...Ye);const rt=Ge(this,ke,Tr).call(this,Se);if(Se=O.Util.makeHexColor(...rt),V(this,ke,Sr).style.color="",me==="#000000"&&Se==="#ffffff"||me===Se)return V(this,G);const mt=new Array(256);for(let Gt=0;Gt<=255;Gt++){const fn=Gt/255;mt[Gt]=fn<=.03928?fn/12.92:((fn+.055)/1.055)**2.4}const ft=mt.join(","),Ue=`g_${V(this,xe)}_hcm_filter`,wt=ot(this,K,Ge(this,ke,Gr).call(this,Ue));Ge(this,ke,$r).call(this,ft,ft,ft,wt),Ge(this,ke,Mi).call(this,wt);const xt=(Gt,fn)=>{const Ft=Ye[Gt]/255,Ht=rt[Gt]/255,on=new Array(fn+1);for(let yn=0;yn<=fn;yn++)on[yn]=Ft+yn/fn*(Ht-Ft);return on.join(",")};return Ge(this,ke,$r).call(this,xt(0,5),xt(1,5),xt(2,5),wt),ot(this,G,`url(#${Ue})`),V(this,G)}addHighlightHCMFilter(me,Se,ze,Ye){var Ht;const rt=`${me}-${Se}-${ze}-${Ye}`;if(V(this,ge)===rt)return V(this,Pe);if(ot(this,ge,rt),ot(this,Pe,"none"),(Ht=V(this,K))==null||Ht.remove(),!me||!Se)return V(this,Pe);const[mt,ft]=[me,Se].map(Ge(this,ke,Tr).bind(this));let Ue=Math.round(.2126*mt[0]+.7152*mt[1]+.0722*mt[2]),wt=Math.round(.2126*ft[0]+.7152*ft[1]+.0722*ft[2]),[xt,Zt]=[ze,Ye].map(Ge(this,ke,Tr).bind(this));wt<Ue&&([Ue,wt,xt,Zt]=[wt,Ue,Zt,xt]),V(this,ke,Sr).style.color="";const Gt=(on,yn,vt)=>{const Ze=new Array(256),Qe=(wt-Ue)/vt,Rt=on/255,Dt=(yn-on)/(255*vt);let qt=0;for(let Re=0;Re<=vt;Re++){const pt=Math.round(Ue+Re*Qe),Pt=Rt+Re*Dt;for(let Ot=qt;Ot<=pt;Ot++)Ze[Ot]=Pt;qt=pt+1}for(let Re=qt;Re<256;Re++)Ze[Re]=Ze[qt-1];return Ze.join(",")},fn=`g_${V(this,xe)}_hcm_highlight_filter`,Ft=ot(this,K,Ge(this,ke,Gr).call(this,fn));return Ge(this,ke,Mi).call(this,Ft),Ge(this,ke,$r).call(this,Gt(xt[0],Zt[0],5),Gt(xt[1],Zt[1],5),Gt(xt[2],Zt[2],5),Ft),ot(this,Pe,`url(#${fn})`),V(this,Pe)}destroy(me=!1){me&&(V(this,G)||V(this,Pe))||(V(this,Xe)&&(V(this,Xe).parentNode.parentNode.remove(),ot(this,Xe,null)),V(this,Le)&&(V(this,Le).clear(),ot(this,Le,null)),ot(this,Ae,0))}}Le=new WeakMap,Xe=new WeakMap,xe=new WeakMap,Te=new WeakMap,Ve=new WeakMap,Ee=new WeakMap,G=new WeakMap,K=new WeakMap,ge=new WeakMap,Pe=new WeakMap,Ae=new WeakMap,ke=new WeakSet,yr=function(){return V(this,Le)||ot(this,Le,new Map)},Sr=function(){if(!V(this,Xe)){const me=V(this,Te).createElement("div"),{style:Se}=me;Se.visibility="hidden",Se.contain="strict",Se.width=Se.height=0,Se.position="absolute",Se.top=Se.left=0,Se.zIndex=-1;const ze=V(this,Te).createElementNS(B,"svg");ze.setAttribute("width",0),ze.setAttribute("height",0),ot(this,Xe,V(this,Te).createElementNS(B,"defs")),me.append(ze),ze.append(V(this,Xe)),V(this,Te).body.append(me)}return V(this,Xe)},Mi=function(me){const Se=V(this,Te).createElementNS(B,"feColorMatrix");Se.setAttribute("type","matrix"),Se.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),me.append(Se)},Gr=function(me){const Se=V(this,Te).createElementNS(B,"filter");return Se.setAttribute("color-interpolation-filters","sRGB"),Se.setAttribute("id",me),V(this,ke,Sr).append(Se),Se},qr=function(me,Se,ze){const Ye=V(this,Te).createElementNS(B,Se);Ye.setAttribute("type","discrete"),Ye.setAttribute("tableValues",ze),me.append(Ye)},$r=function(me,Se,ze,Ye){const rt=V(this,Te).createElementNS(B,"feComponentTransfer");Ye.append(rt),Ge(this,ke,qr).call(this,rt,"feFuncR",me),Ge(this,ke,qr).call(this,rt,"feFuncG",Se),Ge(this,ke,qr).call(this,rt,"feFuncB",ze)},Tr=function(me){return V(this,ke,Sr).style.color=me,Q(getComputedStyle(V(this,ke,Sr)).getPropertyValue("color"))},$.DOMFilterFactory=fe;class de extends R.BaseCanvasFactory{constructor({ownerDocument:Ke=globalThis.document}={}){super(),this._document=Ke}_createCanvas(Ke,me){const Se=this._document.createElement("canvas");return Se.width=Ke,Se.height=me,Se}}$.DOMCanvasFactory=de;async function ue(qe,Ke=!1){if(he(qe,document.baseURI)){const me=await fetch(qe);if(!me.ok)throw new Error(me.statusText);return Ke?new Uint8Array(await me.arrayBuffer()):(0,O.stringToBytes)(await me.text())}return new Promise((me,Se)=>{const ze=new XMLHttpRequest;ze.open("GET",qe,!0),Ke&&(ze.responseType="arraybuffer"),ze.onreadystatechange=()=>{if(ze.readyState===XMLHttpRequest.DONE){if(ze.status===200||ze.status===0){let Ye;if(Ke&&ze.response?Ye=new Uint8Array(ze.response):!Ke&&ze.responseText&&(Ye=(0,O.stringToBytes)(ze.responseText)),Ye){me(Ye);return}}Se(new Error(ze.statusText))}},ze.send(null)})}class W extends R.BaseCMapReaderFactory{_fetchData(Ke,me){return ue(Ke,this.isCompressed).then(Se=>({cMapData:Se,compressionType:me}))}}$.DOMCMapReaderFactory=W;class _e extends R.BaseStandardFontDataFactory{_fetchData(Ke){return ue(Ke,!0)}}$.DOMStandardFontDataFactory=_e;class le extends R.BaseSVGFactory{_createSVG(Ke){return document.createElementNS(B,Ke)}}$.DOMSVGFactory=le;class te{constructor({viewBox:Ke,scale:me,rotation:Se,offsetX:ze=0,offsetY:Ye=0,dontFlip:rt=!1}){this.viewBox=Ke,this.scale=me,this.rotation=Se,this.offsetX=ze,this.offsetY=Ye;const mt=(Ke[2]+Ke[0])/2,ft=(Ke[3]+Ke[1])/2;let Ue,wt,xt,Zt;switch(Se%=360,Se<0&&(Se+=360),Se){case 180:Ue=-1,wt=0,xt=0,Zt=1;break;case 90:Ue=0,wt=1,xt=1,Zt=0;break;case 270:Ue=0,wt=-1,xt=-1,Zt=0;break;case 0:Ue=1,wt=0,xt=0,Zt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}rt&&(xt=-xt,Zt=-Zt);let Gt,fn,Ft,Ht;Ue===0?(Gt=Math.abs(ft-Ke[1])*me+ze,fn=Math.abs(mt-Ke[0])*me+Ye,Ft=(Ke[3]-Ke[1])*me,Ht=(Ke[2]-Ke[0])*me):(Gt=Math.abs(mt-Ke[0])*me+ze,fn=Math.abs(ft-Ke[1])*me+Ye,Ft=(Ke[2]-Ke[0])*me,Ht=(Ke[3]-Ke[1])*me),this.transform=[Ue*me,wt*me,xt*me,Zt*me,Gt-Ue*me*mt-xt*me*ft,fn-wt*me*mt-Zt*me*ft],this.width=Ft,this.height=Ht}get rawDims(){const{viewBox:Ke}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Ke[2]-Ke[0],pageHeight:Ke[3]-Ke[1],pageX:Ke[0],pageY:Ke[1]})}clone({scale:Ke=this.scale,rotation:me=this.rotation,offsetX:Se=this.offsetX,offsetY:ze=this.offsetY,dontFlip:Ye=!1}={}){return new te({viewBox:this.viewBox.slice(),scale:Ke,rotation:me,offsetX:Se,offsetY:ze,dontFlip:Ye})}convertToViewportPoint(Ke,me){return O.Util.applyTransform([Ke,me],this.transform)}convertToViewportRectangle(Ke){const me=O.Util.applyTransform([Ke[0],Ke[1]],this.transform),Se=O.Util.applyTransform([Ke[2],Ke[3]],this.transform);return[me[0],me[1],Se[0],Se[1]]}convertToPdfPoint(Ke,me){return O.Util.applyInverseTransform([Ke,me],this.transform)}}$.PageViewport=te;class ie extends O.BaseException{constructor(Ke,me=0){super(Ke,"RenderingCancelledException"),this.extraDelay=me}}$.RenderingCancelledException=ie;function ee(qe){const Ke=qe.length;let me=0;for(;me<Ke&&qe[me].trim()==="";)me++;return qe.substring(me,me+5).toLowerCase()==="data:"}function q(qe){return typeof qe=="string"&&/\.pdf$/i.test(qe)}function ne(qe,Ke=!1){return Ke||([qe]=qe.split(/[#?]/,1)),qe.substring(qe.lastIndexOf("/")+1)}function ae(qe,Ke="document.pdf"){if(typeof qe!="string")return Ke;if(ee(qe))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ke;const me=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Se=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ze=me.exec(qe);let Ye=Se.exec(ze[1])||Se.exec(ze[2])||Se.exec(ze[3]);if(Ye&&(Ye=Ye[0],Ye.includes("%")))try{Ye=Se.exec(decodeURIComponent(Ye))[0]}catch{}return Ye||Ke}class be{constructor(){Fn(this,"started",Object.create(null));Fn(this,"times",[])}time(Ke){Ke in this.started&&(0,O.warn)(`Timer is already running for ${Ke}`),this.started[Ke]=Date.now()}timeEnd(Ke){Ke in this.started||(0,O.warn)(`Timer has not been started for ${Ke}`),this.times.push({name:Ke,start:this.started[Ke],end:Date.now()}),delete this.started[Ke]}toString(){const Ke=[];let me=0;for(const{name:Se}of this.times)me=Math.max(Se.length,me);for(const{name:Se,start:ze,end:Ye}of this.times)Ke.push(`${Se.padEnd(me)} ${Ye-ze}ms
`);return Ke.join("")}}$.StatTimer=be;function he(qe,Ke){try{const{protocol:me}=Ke?new URL(qe,Ke):new URL(qe);return me==="http:"||me==="https:"}catch{return!1}}function Y(qe){qe.preventDefault()}function ce(qe,Ke=!1){return new Promise((me,Se)=>{const ze=document.createElement("script");ze.src=qe,ze.onload=function(Ye){Ke&&ze.remove(),me(Ye)},ze.onerror=function(){Se(new Error(`Cannot load script at: ${ze.src}`))},(document.head||document.documentElement).append(ze)})}function re(qe){console.log("Deprecated API usage: "+qe)}let oe;class se{static toDateObject(Ke){if(!Ke||typeof Ke!="string")return null;oe||(oe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const me=oe.exec(Ke);if(!me)return null;const Se=parseInt(me[1],10);let ze=parseInt(me[2],10);ze=ze>=1&&ze<=12?ze-1:0;let Ye=parseInt(me[3],10);Ye=Ye>=1&&Ye<=31?Ye:1;let rt=parseInt(me[4],10);rt=rt>=0&&rt<=23?rt:0;let mt=parseInt(me[5],10);mt=mt>=0&&mt<=59?mt:0;let ft=parseInt(me[6],10);ft=ft>=0&&ft<=59?ft:0;const Ue=me[7]||"Z";let wt=parseInt(me[8],10);wt=wt>=0&&wt<=23?wt:0;let xt=parseInt(me[9],10)||0;return xt=xt>=0&&xt<=59?xt:0,Ue==="-"?(rt+=wt,mt+=xt):Ue==="+"&&(rt-=wt,mt-=xt),new Date(Date.UTC(Se,ze,Ye,rt,mt,ft))}}$.PDFDateString=se;function ye(qe,{scale:Ke=1,rotation:me=0}){const{width:Se,height:ze}=qe.attributes.style,Ye=[0,0,parseInt(Se),parseInt(ze)];return new te({viewBox:Ye,scale:Ke,rotation:me})}function Q(qe){if(qe.startsWith("#")){const Ke=parseInt(qe.slice(1),16);return[(Ke&16711680)>>16,(Ke&65280)>>8,Ke&255]}return qe.startsWith("rgb(")?qe.slice(4,-1).split(",").map(Ke=>parseInt(Ke)):qe.startsWith("rgba(")?qe.slice(5,-1).split(",").map(Ke=>parseInt(Ke)).slice(0,3):((0,O.warn)(`Not a valid color format: "${qe}"`),[0,0,0])}function ve(qe){const Ke=document.createElement("span");Ke.style.visibility="hidden",document.body.append(Ke);for(const me of qe.keys()){Ke.style.color=me;const Se=window.getComputedStyle(Ke).color;qe.set(me,Q(Se))}Ke.remove()}function Ce(qe){const{a:Ke,b:me,c:Se,d:ze,e:Ye,f:rt}=qe.getTransform();return[Ke,me,Se,ze,Ye,rt]}function Oe(qe){const{a:Ke,b:me,c:Se,d:ze,e:Ye,f:rt}=qe.getTransform().invertSelf();return[Ke,me,Se,ze,Ye,rt]}function $e(qe,Ke,me=!1,Se=!0){if(Ke instanceof te){const{pageWidth:ze,pageHeight:Ye}=Ke.rawDims,{style:rt}=qe,mt=O.FeatureTest.isCSSRoundSupported,ft=`var(--scale-factor) * ${ze}px`,Ue=`var(--scale-factor) * ${Ye}px`,wt=mt?`round(${ft}, 1px)`:`calc(${ft})`,xt=mt?`round(${Ue}, 1px)`:`calc(${Ue})`;!me||Ke.rotation%180===0?(rt.width=wt,rt.height=xt):(rt.width=xt,rt.height=wt)}Se&&qe.setAttribute("data-main-rotation",Ke.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var R=H(1);class O{constructor(){this.constructor===O&&(0,R.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(W){return"none"}addHCMFilter(W,_e){return"none"}addHighlightHCMFilter(W,_e,le,te){return"none"}destroy(W=!1){}}$.BaseFilterFactory=O;class B{constructor(){this.constructor===B&&(0,R.unreachable)("Cannot initialize BaseCanvasFactory.")}create(W,_e){if(W<=0||_e<=0)throw new Error("Invalid canvas size");const le=this._createCanvas(W,_e);return{canvas:le,context:le.getContext("2d")}}reset(W,_e,le){if(!W.canvas)throw new Error("Canvas is not specified");if(_e<=0||le<=0)throw new Error("Invalid canvas size");W.canvas.width=_e,W.canvas.height=le}destroy(W){if(!W.canvas)throw new Error("Canvas is not specified");W.canvas.width=0,W.canvas.height=0,W.canvas=null,W.context=null}_createCanvas(W,_e){(0,R.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=B;class J{constructor({baseUrl:W=null,isCompressed:_e=!0}){this.constructor===J&&(0,R.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=W,this.isCompressed=_e}async fetch({name:W}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!W)throw new Error("CMap name must be specified.");const _e=this.baseUrl+W+(this.isCompressed?".bcmap":""),le=this.isCompressed?R.CMapCompressionType.BINARY:R.CMapCompressionType.NONE;return this._fetchData(_e,le).catch(te=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData(W,_e){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=J;class fe{constructor({baseUrl:W=null}){this.constructor===fe&&(0,R.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=W}async fetch({filename:W}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!W)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${W}`;return this._fetchData(_e).catch(le=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData(W){(0,R.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=fe;class de{constructor(){this.constructor===de&&(0,R.unreachable)("Cannot initialize BaseSVGFactory.")}create(W,_e,le=!1){if(W<=0||_e<=0)throw new Error("Invalid SVG dimensions");const te=this._createSVG("svg:svg");return te.setAttribute("version","1.1"),le||(te.setAttribute("width",`${W}px`),te.setAttribute("height",`${_e}px`)),te.setAttribute("preserveAspectRatio","none"),te.setAttribute("viewBox",`0 0 ${W} ${_e}`),te}createElement(W){if(typeof W!="string")throw new Error("Invalid SVG element type");return this._createSVG(W)}_createSVG(W){(0,R.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=de},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var R=H(1);const O=3285377520,B=4294901760,J=65535;class fe{constructor(ue){this.h1=ue?ue&4294967295:O,this.h2=ue?ue&4294967295:O}update(ue){let W,_e;if(typeof ue=="string"){W=new Uint8Array(ue.length*2),_e=0;for(let re=0,oe=ue.length;re<oe;re++){const se=ue.charCodeAt(re);se<=255?W[_e++]=se:(W[_e++]=se>>>8,W[_e++]=se&255)}}else if((0,R.isArrayBuffer)(ue))W=ue.slice(),_e=W.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const le=_e>>2,te=_e-le*4,ie=new Uint32Array(W.buffer,0,le);let ee=0,q=0,ne=this.h1,ae=this.h2;const be=3432918353,he=461845907,Y=be&J,ce=he&J;for(let re=0;re<le;re++)re&1?(ee=ie[re],ee=ee*be&B|ee*Y&J,ee=ee<<15|ee>>>17,ee=ee*he&B|ee*ce&J,ne^=ee,ne=ne<<13|ne>>>19,ne=ne*5+3864292196):(q=ie[re],q=q*be&B|q*Y&J,q=q<<15|q>>>17,q=q*he&B|q*ce&J,ae^=q,ae=ae<<13|ae>>>19,ae=ae*5+3864292196);switch(ee=0,te){case 3:ee^=W[le*4+2]<<16;case 2:ee^=W[le*4+1]<<8;case 1:ee^=W[le*4],ee=ee*be&B|ee*Y&J,ee=ee<<15|ee>>>17,ee=ee*he&B|ee*ce&J,le&1?ne^=ee:ae^=ee}this.h1=ne,this.h2=ae}hexdigest(){let ue=this.h1,W=this.h2;return ue^=W>>>1,ue=ue*3981806797&B|ue*36045&J,W=W*4283543511&B|((W<<16|ue>>>16)*2950163797&B)>>>16,ue^=W>>>1,ue=ue*444984403&B|ue*60499&J,W=W*3301882366&B|((W<<16|ue>>>16)*3120437893&B)>>>16,ue^=W>>>1,(ue>>>0).toString(16).padStart(8,"0")+(W>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=fe},(A,$,H)=>{var J;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var R=H(1);class O{constructor({ownerDocument:de=globalThis.document,styleElement:ue=null}){at(this,J,new Set);this._document=de,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(de){this.nativeFontFaces.add(de),this._document.fonts.add(de)}removeNativeFontFace(de){this.nativeFontFaces.delete(de),this._document.fonts.delete(de)}insertRule(de){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ue=this.styleElement.sheet;ue.insertRule(de,ue.cssRules.length)}clear(){for(const de of this.nativeFontFaces)this._document.fonts.delete(de);this.nativeFontFaces.clear(),V(this,J).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(de){if(!(!de||V(this,J).has(de.loadedName))){if((0,R.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ue,src:W,style:_e}=de,le=new FontFace(ue,W,_e);this.addNativeFontFace(le);try{await le.load(),V(this,J).add(ue)}catch{(0,R.warn)(`Cannot load system font: ${de.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(le)}return}(0,R.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(de){if(de.attached||de.missingFile&&!de.systemFontInfo)return;if(de.attached=!0,de.systemFontInfo){await this.loadSystemFont(de.systemFontInfo);return}if(this.isFontLoadingAPISupported){const W=de.createNativeFontFace();if(W){this.addNativeFontFace(W);try{await W.loaded}catch(_e){throw(0,R.warn)(`Failed to load font '${W.family}': '${_e}'.`),de.disableFontFace=!0,_e}}return}const ue=de.createFontFaceRule();if(ue){if(this.insertRule(ue),this.isSyncFontLoadingSupported)return;await new Promise(W=>{const _e=this._queueLoadingCallback(W);this._prepareFontLoadEvent(de,_e)})}}get isFontLoadingAPISupported(){var ue;const de=!!((ue=this._document)!=null&&ue.fonts);return(0,R.shadow)(this,"isFontLoadingAPISupported",de)}get isSyncFontLoadingSupported(){let de=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(de=!0),(0,R.shadow)(this,"isSyncFontLoadingSupported",de)}_queueLoadingCallback(de){function ue(){for((0,R.assert)(!_e.done,"completeRequest() cannot be called twice."),_e.done=!0;W.length>0&&W[0].done;){const le=W.shift();setTimeout(le.callback,0)}}const{loadingRequests:W}=this,_e={done:!1,complete:ue,callback:de};return W.push(_e),_e}get _loadTestFont(){const de=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,R.shadow)(this,"_loadTestFont",de)}_prepareFontLoadEvent(de,ue){function W(Q,ve){return Q.charCodeAt(ve)<<24|Q.charCodeAt(ve+1)<<16|Q.charCodeAt(ve+2)<<8|Q.charCodeAt(ve+3)&255}function _e(Q,ve,Ce,Oe){const $e=Q.substring(0,ve),je=Q.substring(ve+Ce);return $e+Oe+je}let le,te;const ie=this._document.createElement("canvas");ie.width=1,ie.height=1;const ee=ie.getContext("2d");let q=0;function ne(Q,ve){if(++q>30){(0,R.warn)("Load test font never loaded."),ve();return}if(ee.font="30px "+Q,ee.fillText(".",0,20),ee.getImageData(0,0,1,1).data[3]>0){ve();return}setTimeout(ne.bind(null,Q,ve))}const ae=`lt${Date.now()}${this.loadTestFontId++}`;let be=this._loadTestFont;be=_e(be,976,ae.length,ae);const Y=16,ce=1482184792;let re=W(be,Y);for(le=0,te=ae.length-3;le<te;le+=4)re=re-ce+W(ae,le)|0;le<ae.length&&(re=re-ce+W(ae+"XXX",le)|0),be=_e(be,Y,4,(0,R.string32)(re));const oe=`url(data:font/opentype;base64,${btoa(be)});`,se=`@font-face {font-family:"${ae}";src:${oe}}`;this.insertRule(se);const ye=this._document.createElement("div");ye.style.visibility="hidden",ye.style.width=ye.style.height="10px",ye.style.position="absolute",ye.style.top=ye.style.left="0px";for(const Q of[de.loadedName,ae]){const ve=this._document.createElement("span");ve.textContent="Hi",ve.style.fontFamily=Q,ye.append(ve)}this._document.body.append(ye),ne(ae,()=>{ye.remove(),ue.complete()})}}J=new WeakMap,$.FontLoader=O;class B{constructor(de,{isEvalSupported:ue=!0,disableFontFace:W=!1,ignoreErrors:_e=!1,inspectFont:le=null}){this.compiledGlyphs=Object.create(null);for(const te in de)this[te]=de[te];this.isEvalSupported=ue!==!1,this.disableFontFace=W===!0,this.ignoreErrors=_e===!0,this._inspectFont=le}createNativeFontFace(){var ue;if(!this.data||this.disableFontFace)return null;let de;if(!this.cssFontInfo)de=new FontFace(this.loadedName,this.data,{});else{const W={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(W.style=`oblique ${this.cssFontInfo.italicAngle}deg`),de=new FontFace(this.cssFontInfo.fontFamily,this.data,W)}return(ue=this._inspectFont)==null||ue.call(this,this),de}createFontFaceRule(){var _e;if(!this.data||this.disableFontFace)return null;const de=(0,R.bytesToString)(this.data),ue=`url(data:${this.mimetype};base64,${btoa(de)});`;let W;if(!this.cssFontInfo)W=`@font-face {font-family:"${this.loadedName}";src:${ue}}`;else{let le=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(le+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),W=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${le}src:${ue}}`}return(_e=this._inspectFont)==null||_e.call(this,this,ue),W}getPathGenerator(de,ue){if(this.compiledGlyphs[ue]!==void 0)return this.compiledGlyphs[ue];let W;try{W=de.get(this.loadedName+"_path_"+ue)}catch(_e){if(!this.ignoreErrors)throw _e;return(0,R.warn)(`getPathGenerator - ignoring character: "${_e}".`),this.compiledGlyphs[ue]=function(le,te){}}if(this.isEvalSupported&&R.FeatureTest.isEvalSupported){const _e=[];for(const le of W){const te=le.args!==void 0?le.args.join(","):"";_e.push("c.",le.cmd,"(",te,`);
`)}return this.compiledGlyphs[ue]=new Function("c","size",_e.join(""))}return this.compiledGlyphs[ue]=function(_e,le){for(const te of W)te.cmd==="scale"&&(te.args=[le,-le]),_e[te.cmd].apply(_e,te.args)}}}$.FontFaceObject=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var R=H(7);H(1);const O=function(ue){return new Promise((W,_e)=>{require$$5.readFile(ue,(te,ie)=>{if(te||!ie){_e(new Error(te));return}W(new Uint8Array(ie))})})};class B extends R.BaseFilterFactory{}$.NodeFilterFactory=B;class J extends R.BaseCanvasFactory{_createCanvas(W,_e){return require$$5.createCanvas(W,_e)}}$.NodeCanvasFactory=J;class fe extends R.BaseCMapReaderFactory{_fetchData(W,_e){return O(W).then(le=>({cMapData:le,compressionType:_e}))}}$.NodeCMapReaderFactory=fe;class de extends R.BaseStandardFontDataFactory{_fetchData(W){return O(W)}}$.NodeStandardFontDataFactory=de},(A,$,H)=>{var Xe,$i,Ti;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var R=H(1),O=H(6),B=H(12),J=H(13);const fe=16,de=100,ue=4096,W=15,_e=10,le=1e3,te=16;function ie(Ee,G){if(Ee._removeMirroring)throw new Error("Context is already forwarding operations.");Ee.__originalSave=Ee.save,Ee.__originalRestore=Ee.restore,Ee.__originalRotate=Ee.rotate,Ee.__originalScale=Ee.scale,Ee.__originalTranslate=Ee.translate,Ee.__originalTransform=Ee.transform,Ee.__originalSetTransform=Ee.setTransform,Ee.__originalResetTransform=Ee.resetTransform,Ee.__originalClip=Ee.clip,Ee.__originalMoveTo=Ee.moveTo,Ee.__originalLineTo=Ee.lineTo,Ee.__originalBezierCurveTo=Ee.bezierCurveTo,Ee.__originalRect=Ee.rect,Ee.__originalClosePath=Ee.closePath,Ee.__originalBeginPath=Ee.beginPath,Ee._removeMirroring=()=>{Ee.save=Ee.__originalSave,Ee.restore=Ee.__originalRestore,Ee.rotate=Ee.__originalRotate,Ee.scale=Ee.__originalScale,Ee.translate=Ee.__originalTranslate,Ee.transform=Ee.__originalTransform,Ee.setTransform=Ee.__originalSetTransform,Ee.resetTransform=Ee.__originalResetTransform,Ee.clip=Ee.__originalClip,Ee.moveTo=Ee.__originalMoveTo,Ee.lineTo=Ee.__originalLineTo,Ee.bezierCurveTo=Ee.__originalBezierCurveTo,Ee.rect=Ee.__originalRect,Ee.closePath=Ee.__originalClosePath,Ee.beginPath=Ee.__originalBeginPath,delete Ee._removeMirroring},Ee.save=function(){G.save(),this.__originalSave()},Ee.restore=function(){G.restore(),this.__originalRestore()},Ee.translate=function(ge,Pe){G.translate(ge,Pe),this.__originalTranslate(ge,Pe)},Ee.scale=function(ge,Pe){G.scale(ge,Pe),this.__originalScale(ge,Pe)},Ee.transform=function(ge,Pe,Ae,ke,Ne,et){G.transform(ge,Pe,Ae,ke,Ne,et),this.__originalTransform(ge,Pe,Ae,ke,Ne,et)},Ee.setTransform=function(ge,Pe,Ae,ke,Ne,et){G.setTransform(ge,Pe,Ae,ke,Ne,et),this.__originalSetTransform(ge,Pe,Ae,ke,Ne,et)},Ee.resetTransform=function(){G.resetTransform(),this.__originalResetTransform()},Ee.rotate=function(ge){G.rotate(ge),this.__originalRotate(ge)},Ee.clip=function(ge){G.clip(ge),this.__originalClip(ge)},Ee.moveTo=function(K,ge){G.moveTo(K,ge),this.__originalMoveTo(K,ge)},Ee.lineTo=function(K,ge){G.lineTo(K,ge),this.__originalLineTo(K,ge)},Ee.bezierCurveTo=function(K,ge,Pe,Ae,ke,Ne){G.bezierCurveTo(K,ge,Pe,Ae,ke,Ne),this.__originalBezierCurveTo(K,ge,Pe,Ae,ke,Ne)},Ee.rect=function(K,ge,Pe,Ae){G.rect(K,ge,Pe,Ae),this.__originalRect(K,ge,Pe,Ae)},Ee.closePath=function(){G.closePath(),this.__originalClosePath()},Ee.beginPath=function(){G.beginPath(),this.__originalBeginPath()}}class ee{constructor(G){this.canvasFactory=G,this.cache=Object.create(null)}getCanvas(G,K,ge){let Pe;return this.cache[G]!==void 0?(Pe=this.cache[G],this.canvasFactory.reset(Pe,K,ge)):(Pe=this.canvasFactory.create(K,ge),this.cache[G]=Pe),Pe}delete(G){delete this.cache[G]}clear(){for(const G in this.cache){const K=this.cache[G];this.canvasFactory.destroy(K),delete this.cache[G]}}}function q(Ee,G,K,ge,Pe,Ae,ke,Ne,et,st){const[ct,dt,ht,gt,qe,Ke]=(0,O.getCurrentTransform)(Ee);if(dt===0&&ht===0){const ze=ke*ct+qe,Ye=Math.round(ze),rt=Ne*gt+Ke,mt=Math.round(rt),ft=(ke+et)*ct+qe,Ue=Math.abs(Math.round(ft)-Ye)||1,wt=(Ne+st)*gt+Ke,xt=Math.abs(Math.round(wt)-mt)||1;return Ee.setTransform(Math.sign(ct),0,0,Math.sign(gt),Ye,mt),Ee.drawImage(G,K,ge,Pe,Ae,0,0,Ue,xt),Ee.setTransform(ct,dt,ht,gt,qe,Ke),[Ue,xt]}if(ct===0&&gt===0){const ze=Ne*ht+qe,Ye=Math.round(ze),rt=ke*dt+Ke,mt=Math.round(rt),ft=(Ne+st)*ht+qe,Ue=Math.abs(Math.round(ft)-Ye)||1,wt=(ke+et)*dt+Ke,xt=Math.abs(Math.round(wt)-mt)||1;return Ee.setTransform(0,Math.sign(dt),Math.sign(ht),0,Ye,mt),Ee.drawImage(G,K,ge,Pe,Ae,0,0,xt,Ue),Ee.setTransform(ct,dt,ht,gt,qe,Ke),[xt,Ue]}Ee.drawImage(G,K,ge,Pe,Ae,ke,Ne,et,st);const me=Math.hypot(ct,dt),Se=Math.hypot(ht,gt);return[me*et,Se*st]}function ne(Ee){const{width:G,height:K}=Ee;if(G>le||K>le)return null;const ge=1e3,Pe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ae=G+1;let ke=new Uint8Array(Ae*(K+1)),Ne,et,st;const ct=G+7&-8;let dt=new Uint8Array(ct*K),ht=0;for(const Se of Ee.data){let ze=128;for(;ze>0;)dt[ht++]=Se&ze?0:255,ze>>=1}let gt=0;for(ht=0,dt[ht]!==0&&(ke[0]=1,++gt),et=1;et<G;et++)dt[ht]!==dt[ht+1]&&(ke[et]=dt[ht]?2:1,++gt),ht++;for(dt[ht]!==0&&(ke[et]=2,++gt),Ne=1;Ne<K;Ne++){ht=Ne*ct,st=Ne*Ae,dt[ht-ct]!==dt[ht]&&(ke[st]=dt[ht]?1:8,++gt);let Se=(dt[ht]?4:0)+(dt[ht-ct]?8:0);for(et=1;et<G;et++)Se=(Se>>2)+(dt[ht+1]?4:0)+(dt[ht-ct+1]?8:0),Pe[Se]&&(ke[st+et]=Pe[Se],++gt),ht++;if(dt[ht-ct]!==dt[ht]&&(ke[st+et]=dt[ht]?2:4,++gt),gt>ge)return null}for(ht=ct*(K-1),st=Ne*Ae,dt[ht]!==0&&(ke[st]=8,++gt),et=1;et<G;et++)dt[ht]!==dt[ht+1]&&(ke[st+et]=dt[ht]?4:8,++gt),ht++;if(dt[ht]!==0&&(ke[st+et]=4,++gt),gt>ge)return null;const qe=new Int32Array([0,Ae,-1,0,-Ae,0,0,0,1]),Ke=new Path2D;for(Ne=0;gt&&Ne<=K;Ne++){let Se=Ne*Ae;const ze=Se+G;for(;Se<ze&&!ke[Se];)Se++;if(Se===ze)continue;Ke.moveTo(Se%Ae,Ne);const Ye=Se;let rt=ke[Se];do{const mt=qe[rt];do Se+=mt;while(!ke[Se]);const ft=ke[Se];ft!==5&&ft!==10?(rt=ft,ke[Se]=0):(rt=ft&51*rt>>4,ke[Se]&=rt>>2|rt<<2),Ke.lineTo(Se%Ae,Se/Ae|0),ke[Se]||--gt}while(Ye!==Se);--Ne}return dt=null,ke=null,function(Se){Se.save(),Se.scale(1/G,-1/K),Se.translate(0,-K),Se.fill(Ke),Se.beginPath(),Se.restore()}}class ae{constructor(G,K){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=R.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,G,K])}clone(){const G=Object.create(this);return G.clipBox=this.clipBox.slice(),G}setCurrentPoint(G,K){this.x=G,this.y=K}updatePathMinMax(G,K,ge){[K,ge]=R.Util.applyTransform([K,ge],G),this.minX=Math.min(this.minX,K),this.minY=Math.min(this.minY,ge),this.maxX=Math.max(this.maxX,K),this.maxY=Math.max(this.maxY,ge)}updateRectMinMax(G,K){const ge=R.Util.applyTransform(K,G),Pe=R.Util.applyTransform(K.slice(2),G);this.minX=Math.min(this.minX,ge[0],Pe[0]),this.minY=Math.min(this.minY,ge[1],Pe[1]),this.maxX=Math.max(this.maxX,ge[0],Pe[0]),this.maxY=Math.max(this.maxY,ge[1],Pe[1])}updateScalingPathMinMax(G,K){R.Util.scaleMinMax(G,K),this.minX=Math.min(this.minX,K[0]),this.maxX=Math.max(this.maxX,K[1]),this.minY=Math.min(this.minY,K[2]),this.maxY=Math.max(this.maxY,K[3])}updateCurvePathMinMax(G,K,ge,Pe,Ae,ke,Ne,et,st,ct){const dt=R.Util.bezierBoundingBox(K,ge,Pe,Ae,ke,Ne,et,st);if(ct){ct[0]=Math.min(ct[0],dt[0],dt[2]),ct[1]=Math.max(ct[1],dt[0],dt[2]),ct[2]=Math.min(ct[2],dt[1],dt[3]),ct[3]=Math.max(ct[3],dt[1],dt[3]);return}this.updateRectMinMax(G,dt)}getPathBoundingBox(G=B.PathType.FILL,K=null){const ge=[this.minX,this.minY,this.maxX,this.maxY];if(G===B.PathType.STROKE){K||(0,R.unreachable)("Stroke bounding box must include transform.");const Pe=R.Util.singularValueDecompose2dScale(K),Ae=Pe[0]*this.lineWidth/2,ke=Pe[1]*this.lineWidth/2;ge[0]-=Ae,ge[1]-=ke,ge[2]+=Ae,ge[3]+=ke}return ge}updateClipFromPath(){const G=R.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(G||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(G){this.clipBox=G,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(G=B.PathType.FILL,K=null){return R.Util.intersect(this.clipBox,this.getPathBoundingBox(G,K))}}function be(Ee,G){if(typeof ImageData<"u"&&G instanceof ImageData){Ee.putImageData(G,0,0);return}const K=G.height,ge=G.width,Pe=K%te,Ae=(K-Pe)/te,ke=Pe===0?Ae:Ae+1,Ne=Ee.createImageData(ge,te);let et=0,st;const ct=G.data,dt=Ne.data;let ht,gt,qe,Ke;if(G.kind===R.ImageKind.GRAYSCALE_1BPP){const me=ct.byteLength,Se=new Uint32Array(dt.buffer,0,dt.byteLength>>2),ze=Se.length,Ye=ge+7>>3,rt=4294967295,mt=R.FeatureTest.isLittleEndian?4278190080:255;for(ht=0;ht<ke;ht++){for(qe=ht<Ae?te:Pe,st=0,gt=0;gt<qe;gt++){const ft=me-et;let Ue=0;const wt=ft>Ye?ge:ft*8-7,xt=wt&-8;let Zt=0,Gt=0;for(;Ue<xt;Ue+=8)Gt=ct[et++],Se[st++]=Gt&128?rt:mt,Se[st++]=Gt&64?rt:mt,Se[st++]=Gt&32?rt:mt,Se[st++]=Gt&16?rt:mt,Se[st++]=Gt&8?rt:mt,Se[st++]=Gt&4?rt:mt,Se[st++]=Gt&2?rt:mt,Se[st++]=Gt&1?rt:mt;for(;Ue<wt;Ue++)Zt===0&&(Gt=ct[et++],Zt=128),Se[st++]=Gt&Zt?rt:mt,Zt>>=1}for(;st<ze;)Se[st++]=0;Ee.putImageData(Ne,0,ht*te)}}else if(G.kind===R.ImageKind.RGBA_32BPP){for(gt=0,Ke=ge*te*4,ht=0;ht<Ae;ht++)dt.set(ct.subarray(et,et+Ke)),et+=Ke,Ee.putImageData(Ne,0,gt),gt+=te;ht<ke&&(Ke=ge*Pe*4,dt.set(ct.subarray(et,et+Ke)),Ee.putImageData(Ne,0,gt))}else if(G.kind===R.ImageKind.RGB_24BPP)for(qe=te,Ke=ge*qe,ht=0;ht<ke;ht++){for(ht>=Ae&&(qe=Pe,Ke=ge*qe),st=0,gt=Ke;gt--;)dt[st++]=ct[et++],dt[st++]=ct[et++],dt[st++]=ct[et++],dt[st++]=255;Ee.putImageData(Ne,0,ht*te)}else throw new Error(`bad image kind: ${G.kind}`)}function he(Ee,G){if(G.bitmap){Ee.drawImage(G.bitmap,0,0);return}const K=G.height,ge=G.width,Pe=K%te,Ae=(K-Pe)/te,ke=Pe===0?Ae:Ae+1,Ne=Ee.createImageData(ge,te);let et=0;const st=G.data,ct=Ne.data;for(let dt=0;dt<ke;dt++){const ht=dt<Ae?te:Pe;({srcPos:et}=(0,J.convertBlackAndWhiteToRGBA)({src:st,srcPos:et,dest:ct,width:ge,height:ht,nonBlackColor:0})),Ee.putImageData(Ne,0,dt*te)}}function Y(Ee,G){const K=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ge of K)Ee[ge]!==void 0&&(G[ge]=Ee[ge]);Ee.setLineDash!==void 0&&(G.setLineDash(Ee.getLineDash()),G.lineDashOffset=Ee.lineDashOffset)}function ce(Ee){if(Ee.strokeStyle=Ee.fillStyle="#000000",Ee.fillRule="nonzero",Ee.globalAlpha=1,Ee.lineWidth=1,Ee.lineCap="butt",Ee.lineJoin="miter",Ee.miterLimit=10,Ee.globalCompositeOperation="source-over",Ee.font="10px sans-serif",Ee.setLineDash!==void 0&&(Ee.setLineDash([]),Ee.lineDashOffset=0),!R.isNodeJS){const{filter:G}=Ee;G!=="none"&&G!==""&&(Ee.filter="none")}}function re(Ee,G,K,ge){const Pe=Ee.length;for(let Ae=3;Ae<Pe;Ae+=4){const ke=Ee[Ae];if(ke===0)Ee[Ae-3]=G,Ee[Ae-2]=K,Ee[Ae-1]=ge;else if(ke<255){const Ne=255-ke;Ee[Ae-3]=Ee[Ae-3]*ke+G*Ne>>8,Ee[Ae-2]=Ee[Ae-2]*ke+K*Ne>>8,Ee[Ae-1]=Ee[Ae-1]*ke+ge*Ne>>8}}}function oe(Ee,G,K){const ge=Ee.length,Pe=1/255;for(let Ae=3;Ae<ge;Ae+=4){const ke=K?K[Ee[Ae]]:Ee[Ae];G[Ae]=G[Ae]*ke*Pe|0}}function se(Ee,G,K){const ge=Ee.length;for(let Pe=3;Pe<ge;Pe+=4){const Ae=Ee[Pe-3]*77+Ee[Pe-2]*152+Ee[Pe-1]*28;G[Pe]=K?G[Pe]*K[Ae>>8]>>8:G[Pe]*Ae>>16}}function ye(Ee,G,K,ge,Pe,Ae,ke,Ne,et,st,ct){const dt=!!Ae,ht=dt?Ae[0]:0,gt=dt?Ae[1]:0,qe=dt?Ae[2]:0,Ke=Pe==="Luminosity"?se:oe,Se=Math.min(ge,Math.ceil(1048576/K));for(let ze=0;ze<ge;ze+=Se){const Ye=Math.min(Se,ge-ze),rt=Ee.getImageData(Ne-st,ze+(et-ct),K,Ye),mt=G.getImageData(Ne,ze+et,K,Ye);dt&&re(rt.data,ht,gt,qe),Ke(rt.data,mt.data,ke),G.putImageData(mt,Ne,ze+et)}}function Q(Ee,G,K,ge){const Pe=ge[0],Ae=ge[1],ke=ge[2]-Pe,Ne=ge[3]-Ae;ke===0||Ne===0||(ye(G.context,K,ke,Ne,G.subtype,G.backdrop,G.transferMap,Pe,Ae,G.offsetX,G.offsetY),Ee.save(),Ee.globalAlpha=1,Ee.globalCompositeOperation="source-over",Ee.setTransform(1,0,0,1,0,0),Ee.drawImage(K.canvas,0,0),Ee.restore())}function ve(Ee,G){const K=R.Util.singularValueDecompose2dScale(Ee);K[0]=Math.fround(K[0]),K[1]=Math.fround(K[1]);const ge=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return G!==void 0?G:K[0]<=ge||K[1]<=ge}const Ce=["butt","round","square"],Oe=["miter","round","bevel"],$e={},je={},Ve=class Ve{constructor(G,K,ge,Pe,Ae,{optionalContentConfig:ke,markedContentStack:Ne=null},et,st){at(this,Xe);this.ctx=G,this.current=new ae(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=K,this.objs=ge,this.canvasFactory=Pe,this.filterFactory=Ae,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ne||[],this.optionalContentConfig=ke,this.cachedCanvases=new ee(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=et,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=st,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(G,K=null){return typeof G=="string"?G.startsWith("g_")?this.commonObjs.get(G):this.objs.get(G):K}beginDrawing({transform:G,viewport:K,transparency:ge=!1,background:Pe=null}){const Ae=this.ctx.canvas.width,ke=this.ctx.canvas.height,Ne=this.ctx.fillStyle;if(this.ctx.fillStyle=Pe||"#ffffff",this.ctx.fillRect(0,0,Ae,ke),this.ctx.fillStyle=Ne,ge){const et=this.cachedCanvases.getCanvas("transparent",Ae,ke);this.compositeCtx=this.ctx,this.transparentCanvas=et.canvas,this.ctx=et.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ce(this.ctx),G&&(this.ctx.transform(...G),this.outputScaleX=G[0],this.outputScaleY=G[0]),this.ctx.transform(...K.transform),this.viewportScale=K.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(G,K,ge,Pe){const Ae=G.argsArray,ke=G.fnArray;let Ne=K||0;const et=Ae.length;if(et===Ne)return Ne;const st=et-Ne>_e&&typeof ge=="function",ct=st?Date.now()+W:0;let dt=0;const ht=this.commonObjs,gt=this.objs;let qe;for(;;){if(Pe!==void 0&&Ne===Pe.nextBreakPoint)return Pe.breakIt(Ne,ge),Ne;if(qe=ke[Ne],qe!==R.OPS.dependency)this[qe].apply(this,Ae[Ne]);else for(const Ke of Ae[Ne]){const me=Ke.startsWith("g_")?ht:gt;if(!me.has(Ke))return me.get(Ke,ge),Ne}if(Ne++,Ne===et)return Ne;if(st&&++dt>_e){if(Date.now()>ct)return ge(),Ne;dt=0}}}endDrawing(){Ge(this,Xe,$i).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const G of this._cachedBitmapsMap.values()){for(const K of G.values())typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement&&(K.width=K.height=0);G.clear()}this._cachedBitmapsMap.clear(),Ge(this,Xe,Ti).call(this)}_scaleImage(G,K){const ge=G.width,Pe=G.height;let Ae=Math.max(Math.hypot(K[0],K[1]),1),ke=Math.max(Math.hypot(K[2],K[3]),1),Ne=ge,et=Pe,st="prescale1",ct,dt;for(;Ae>2&&Ne>1||ke>2&&et>1;){let ht=Ne,gt=et;Ae>2&&Ne>1&&(ht=Ne>=16384?Math.floor(Ne/2)-1||1:Math.ceil(Ne/2),Ae/=Ne/ht),ke>2&&et>1&&(gt=et>=16384?Math.floor(et/2)-1||1:Math.ceil(et)/2,ke/=et/gt),ct=this.cachedCanvases.getCanvas(st,ht,gt),dt=ct.context,dt.clearRect(0,0,ht,gt),dt.drawImage(G,0,0,Ne,et,0,0,ht,gt),G=ct.canvas,Ne=ht,et=gt,st=st==="prescale1"?"prescale2":"prescale1"}return{img:G,paintWidth:Ne,paintHeight:et}}_createMaskCanvas(G){const K=this.ctx,{width:ge,height:Pe}=G,Ae=this.current.fillColor,ke=this.current.patternFill,Ne=(0,O.getCurrentTransform)(K);let et,st,ct,dt;if((G.bitmap||G.data)&&G.count>1){const Ue=G.bitmap||G.data.buffer;st=JSON.stringify(ke?Ne:[Ne.slice(0,4),Ae]),et=this._cachedBitmapsMap.get(Ue),et||(et=new Map,this._cachedBitmapsMap.set(Ue,et));const wt=et.get(st);if(wt&&!ke){const xt=Math.round(Math.min(Ne[0],Ne[2])+Ne[4]),Zt=Math.round(Math.min(Ne[1],Ne[3])+Ne[5]);return{canvas:wt,offsetX:xt,offsetY:Zt}}ct=wt}ct||(dt=this.cachedCanvases.getCanvas("maskCanvas",ge,Pe),he(dt.context,G));let ht=R.Util.transform(Ne,[1/ge,0,0,-1/Pe,0,0]);ht=R.Util.transform(ht,[1,0,0,1,0,-Pe]);const gt=R.Util.applyTransform([0,0],ht),qe=R.Util.applyTransform([ge,Pe],ht),Ke=R.Util.normalizeRect([gt[0],gt[1],qe[0],qe[1]]),me=Math.round(Ke[2]-Ke[0])||1,Se=Math.round(Ke[3]-Ke[1])||1,ze=this.cachedCanvases.getCanvas("fillCanvas",me,Se),Ye=ze.context,rt=Math.min(gt[0],qe[0]),mt=Math.min(gt[1],qe[1]);Ye.translate(-rt,-mt),Ye.transform(...ht),ct||(ct=this._scaleImage(dt.canvas,(0,O.getCurrentTransformInverse)(Ye)),ct=ct.img,et&&ke&&et.set(st,ct)),Ye.imageSmoothingEnabled=ve((0,O.getCurrentTransform)(Ye),G.interpolate),q(Ye,ct,0,0,ct.width,ct.height,0,0,ge,Pe),Ye.globalCompositeOperation="source-in";const ft=R.Util.transform((0,O.getCurrentTransformInverse)(Ye),[1,0,0,1,-rt,-mt]);return Ye.fillStyle=ke?Ae.getPattern(K,this,ft,B.PathType.FILL):Ae,Ye.fillRect(0,0,ge,Pe),et&&!ke&&(this.cachedCanvases.delete("fillCanvas"),et.set(st,ze.canvas)),{canvas:ze.canvas,offsetX:Math.round(rt),offsetY:Math.round(mt)}}setLineWidth(G){G!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=G,this.ctx.lineWidth=G}setLineCap(G){this.ctx.lineCap=Ce[G]}setLineJoin(G){this.ctx.lineJoin=Oe[G]}setMiterLimit(G){this.ctx.miterLimit=G}setDash(G,K){const ge=this.ctx;ge.setLineDash!==void 0&&(ge.setLineDash(G),ge.lineDashOffset=K)}setRenderingIntent(G){}setFlatness(G){}setGState(G){for(const[K,ge]of G)switch(K){case"LW":this.setLineWidth(ge);break;case"LC":this.setLineCap(ge);break;case"LJ":this.setLineJoin(ge);break;case"ML":this.setMiterLimit(ge);break;case"D":this.setDash(ge[0],ge[1]);break;case"RI":this.setRenderingIntent(ge);break;case"FL":this.setFlatness(ge);break;case"Font":this.setFont(ge[0],ge[1]);break;case"CA":this.current.strokeAlpha=ge;break;case"ca":this.current.fillAlpha=ge,this.ctx.globalAlpha=ge;break;case"BM":this.ctx.globalCompositeOperation=ge;break;case"SMask":this.current.activeSMask=ge?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ge);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const G=this.inSMaskMode;this.current.activeSMask&&!G?this.beginSMaskMode():!this.current.activeSMask&&G&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const G=this.ctx.canvas.width,K=this.ctx.canvas.height,ge="smaskGroupAt"+this.groupLevel,Pe=this.cachedCanvases.getCanvas(ge,G,K);this.suspendedCtx=this.ctx,this.ctx=Pe.context;const Ae=this.ctx;Ae.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),Y(this.suspendedCtx,Ae),ie(Ae,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(G){if(!this.current.activeSMask)return;G?(G[0]=Math.floor(G[0]),G[1]=Math.floor(G[1]),G[2]=Math.ceil(G[2]),G[3]=Math.ceil(G[3])):G=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const K=this.current.activeSMask,ge=this.suspendedCtx;Q(ge,K,this.ctx,G),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const G=this.current;this.stateStack.push(G),this.current=G.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(G,K,ge,Pe,Ae,ke){this.ctx.transform(G,K,ge,Pe,Ae,ke),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(G,K,ge){const Pe=this.ctx,Ae=this.current;let ke=Ae.x,Ne=Ae.y,et,st;const ct=(0,O.getCurrentTransform)(Pe),dt=ct[0]===0&&ct[3]===0||ct[1]===0&&ct[2]===0,ht=dt?ge.slice(0):null;for(let gt=0,qe=0,Ke=G.length;gt<Ke;gt++)switch(G[gt]|0){case R.OPS.rectangle:ke=K[qe++],Ne=K[qe++];const me=K[qe++],Se=K[qe++],ze=ke+me,Ye=Ne+Se;Pe.moveTo(ke,Ne),me===0||Se===0?Pe.lineTo(ze,Ye):(Pe.lineTo(ze,Ne),Pe.lineTo(ze,Ye),Pe.lineTo(ke,Ye)),dt||Ae.updateRectMinMax(ct,[ke,Ne,ze,Ye]),Pe.closePath();break;case R.OPS.moveTo:ke=K[qe++],Ne=K[qe++],Pe.moveTo(ke,Ne),dt||Ae.updatePathMinMax(ct,ke,Ne);break;case R.OPS.lineTo:ke=K[qe++],Ne=K[qe++],Pe.lineTo(ke,Ne),dt||Ae.updatePathMinMax(ct,ke,Ne);break;case R.OPS.curveTo:et=ke,st=Ne,ke=K[qe+4],Ne=K[qe+5],Pe.bezierCurveTo(K[qe],K[qe+1],K[qe+2],K[qe+3],ke,Ne),Ae.updateCurvePathMinMax(ct,et,st,K[qe],K[qe+1],K[qe+2],K[qe+3],ke,Ne,ht),qe+=6;break;case R.OPS.curveTo2:et=ke,st=Ne,Pe.bezierCurveTo(ke,Ne,K[qe],K[qe+1],K[qe+2],K[qe+3]),Ae.updateCurvePathMinMax(ct,et,st,ke,Ne,K[qe],K[qe+1],K[qe+2],K[qe+3],ht),ke=K[qe+2],Ne=K[qe+3],qe+=4;break;case R.OPS.curveTo3:et=ke,st=Ne,ke=K[qe+2],Ne=K[qe+3],Pe.bezierCurveTo(K[qe],K[qe+1],ke,Ne,ke,Ne),Ae.updateCurvePathMinMax(ct,et,st,K[qe],K[qe+1],ke,Ne,ke,Ne,ht),qe+=4;break;case R.OPS.closePath:Pe.closePath();break}dt&&Ae.updateScalingPathMinMax(ct,ht),Ae.setCurrentPoint(ke,Ne)}closePath(){this.ctx.closePath()}stroke(G=!0){const K=this.ctx,ge=this.current.strokeColor;K.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ge=="object"&&(ge!=null&&ge.getPattern)?(K.save(),K.strokeStyle=ge.getPattern(K,this,(0,O.getCurrentTransformInverse)(K),B.PathType.STROKE),this.rescaleAndStroke(!1),K.restore()):this.rescaleAndStroke(!0)),G&&this.consumePath(this.current.getClippedPathBoundingBox()),K.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(G=!0){const K=this.ctx,ge=this.current.fillColor,Pe=this.current.patternFill;let Ae=!1;Pe&&(K.save(),K.fillStyle=ge.getPattern(K,this,(0,O.getCurrentTransformInverse)(K),B.PathType.FILL),Ae=!0);const ke=this.current.getClippedPathBoundingBox();this.contentVisible&&ke!==null&&(this.pendingEOFill?(K.fill("evenodd"),this.pendingEOFill=!1):K.fill()),Ae&&K.restore(),G&&this.consumePath(ke)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$e}eoClip(){this.pendingClip=je}beginText(){this.current.textMatrix=R.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const G=this.pendingTextPaths,K=this.ctx;if(G===void 0){K.beginPath();return}K.save(),K.beginPath();for(const ge of G)K.setTransform(...ge.transform),K.translate(ge.x,ge.y),ge.addToPath(K,ge.fontSize);K.restore(),K.clip(),K.beginPath(),delete this.pendingTextPaths}setCharSpacing(G){this.current.charSpacing=G}setWordSpacing(G){this.current.wordSpacing=G}setHScale(G){this.current.textHScale=G/100}setLeading(G){this.current.leading=-G}setFont(G,K){var ct;const ge=this.commonObjs.get(G),Pe=this.current;if(!ge)throw new Error(`Can't find font for ${G}`);if(Pe.fontMatrix=ge.fontMatrix||R.FONT_IDENTITY_MATRIX,(Pe.fontMatrix[0]===0||Pe.fontMatrix[3]===0)&&(0,R.warn)("Invalid font matrix for font "+G),K<0?(K=-K,Pe.fontDirection=-1):Pe.fontDirection=1,this.current.font=ge,this.current.fontSize=K,ge.isType3Font)return;const Ae=ge.loadedName||"sans-serif",ke=((ct=ge.systemFontInfo)==null?void 0:ct.css)||`"${Ae}", ${ge.fallbackName}`;let Ne="normal";ge.black?Ne="900":ge.bold&&(Ne="bold");const et=ge.italic?"italic":"normal";let st=K;K<fe?st=fe:K>de&&(st=de),this.current.fontSizeScale=K/st,this.ctx.font=`${et} ${Ne} ${st}px ${ke}`}setTextRenderingMode(G){this.current.textRenderingMode=G}setTextRise(G){this.current.textRise=G}moveText(G,K){this.current.x=this.current.lineX+=G,this.current.y=this.current.lineY+=K}setLeadingMoveText(G,K){this.setLeading(-K),this.moveText(G,K)}setTextMatrix(G,K,ge,Pe,Ae,ke){this.current.textMatrix=[G,K,ge,Pe,Ae,ke],this.current.textMatrixScale=Math.hypot(G,K),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(G,K,ge,Pe){const Ae=this.ctx,ke=this.current,Ne=ke.font,et=ke.textRenderingMode,st=ke.fontSize/ke.fontSizeScale,ct=et&R.TextRenderingMode.FILL_STROKE_MASK,dt=!!(et&R.TextRenderingMode.ADD_TO_PATH_FLAG),ht=ke.patternFill&&!Ne.missingFile;let gt;(Ne.disableFontFace||dt||ht)&&(gt=Ne.getPathGenerator(this.commonObjs,G)),Ne.disableFontFace||ht?(Ae.save(),Ae.translate(K,ge),Ae.beginPath(),gt(Ae,st),Pe&&Ae.setTransform(...Pe),(ct===R.TextRenderingMode.FILL||ct===R.TextRenderingMode.FILL_STROKE)&&Ae.fill(),(ct===R.TextRenderingMode.STROKE||ct===R.TextRenderingMode.FILL_STROKE)&&Ae.stroke(),Ae.restore()):((ct===R.TextRenderingMode.FILL||ct===R.TextRenderingMode.FILL_STROKE)&&Ae.fillText(G,K,ge),(ct===R.TextRenderingMode.STROKE||ct===R.TextRenderingMode.FILL_STROKE)&&Ae.strokeText(G,K,ge)),dt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(Ae),x:K,y:ge,fontSize:st,addToPath:gt})}get isFontSubpixelAAEnabled(){const{context:G}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);G.scale(1.5,1),G.fillText("I",0,10);const K=G.getImageData(0,0,10,10).data;let ge=!1;for(let Pe=3;Pe<K.length;Pe+=4)if(K[Pe]>0&&K[Pe]<255){ge=!0;break}return(0,R.shadow)(this,"isFontSubpixelAAEnabled",ge)}showText(G){const K=this.current,ge=K.font;if(ge.isType3Font)return this.showType3Text(G);const Pe=K.fontSize;if(Pe===0)return;const Ae=this.ctx,ke=K.fontSizeScale,Ne=K.charSpacing,et=K.wordSpacing,st=K.fontDirection,ct=K.textHScale*st,dt=G.length,ht=ge.vertical,gt=ht?1:-1,qe=ge.defaultVMetrics,Ke=Pe*K.fontMatrix[0],me=K.textRenderingMode===R.TextRenderingMode.FILL&&!ge.disableFontFace&&!K.patternFill;Ae.save(),Ae.transform(...K.textMatrix),Ae.translate(K.x,K.y+K.textRise),st>0?Ae.scale(ct,-1):Ae.scale(ct,1);let Se;if(K.patternFill){Ae.save();const ft=K.fillColor.getPattern(Ae,this,(0,O.getCurrentTransformInverse)(Ae),B.PathType.FILL);Se=(0,O.getCurrentTransform)(Ae),Ae.restore(),Ae.fillStyle=ft}let ze=K.lineWidth;const Ye=K.textMatrixScale;if(Ye===0||ze===0){const ft=K.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;(ft===R.TextRenderingMode.STROKE||ft===R.TextRenderingMode.FILL_STROKE)&&(ze=this.getSinglePixelWidth())}else ze/=Ye;if(ke!==1&&(Ae.scale(ke,ke),ze/=ke),Ae.lineWidth=ze,ge.isInvalidPDFjsFont){const ft=[];let Ue=0;for(const wt of G)ft.push(wt.unicode),Ue+=wt.width;Ae.fillText(ft.join(""),0,0),K.x+=Ue*Ke*ct,Ae.restore(),this.compose();return}let rt=0,mt;for(mt=0;mt<dt;++mt){const ft=G[mt];if(typeof ft=="number"){rt+=gt*ft*Pe/1e3;continue}let Ue=!1;const wt=(ft.isSpace?et:0)+Ne,xt=ft.fontChar,Zt=ft.accent;let Gt,fn,Ft=ft.width;if(ht){const on=ft.vmetric||qe,yn=-(ft.vmetric?on[1]:Ft*.5)*Ke,vt=on[2]*Ke;Ft=on?-on[0]:Ft,Gt=yn/ke,fn=(rt+vt)/ke}else Gt=rt/ke,fn=0;if(ge.remeasure&&Ft>0){const on=Ae.measureText(xt).width*1e3/Pe*ke;if(Ft<on&&this.isFontSubpixelAAEnabled){const yn=Ft/on;Ue=!0,Ae.save(),Ae.scale(yn,1),Gt/=yn}else Ft!==on&&(Gt+=(Ft-on)/2e3*Pe/ke)}if(this.contentVisible&&(ft.isInFont||ge.missingFile)){if(me&&!Zt)Ae.fillText(xt,Gt,fn);else if(this.paintChar(xt,Gt,fn,Se),Zt){const on=Gt+Pe*Zt.offset.x/ke,yn=fn-Pe*Zt.offset.y/ke;this.paintChar(Zt.fontChar,on,yn,Se)}}const Ht=ht?Ft*Ke-wt*st:Ft*Ke+wt*st;rt+=Ht,Ue&&Ae.restore()}ht?K.y-=rt:K.x+=rt*ct,Ae.restore(),this.compose()}showType3Text(G){const K=this.ctx,ge=this.current,Pe=ge.font,Ae=ge.fontSize,ke=ge.fontDirection,Ne=Pe.vertical?1:-1,et=ge.charSpacing,st=ge.wordSpacing,ct=ge.textHScale*ke,dt=ge.fontMatrix||R.FONT_IDENTITY_MATRIX,ht=G.length,gt=ge.textRenderingMode===R.TextRenderingMode.INVISIBLE;let qe,Ke,me,Se;if(!(gt||Ae===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,K.save(),K.transform(...ge.textMatrix),K.translate(ge.x,ge.y),K.scale(ct,ke),qe=0;qe<ht;++qe){if(Ke=G[qe],typeof Ke=="number"){Se=Ne*Ke*Ae/1e3,this.ctx.translate(Se,0),ge.x+=Se*ct;continue}const ze=(Ke.isSpace?st:0)+et,Ye=Pe.charProcOperatorList[Ke.operatorListId];if(!Ye){(0,R.warn)(`Type3 character "${Ke.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ke,this.save(),K.scale(Ae,Ae),K.transform(...dt),this.executeOperatorList(Ye),this.restore()),me=R.Util.applyTransform([Ke.width,0],dt)[0]*Ae+ze,K.translate(me,0),ge.x+=me*ct}K.restore(),this.processingType3=null}}setCharWidth(G,K){}setCharWidthAndBounds(G,K,ge,Pe,Ae,ke){this.ctx.rect(ge,Pe,Ae-ge,ke-Pe),this.ctx.clip(),this.endPath()}getColorN_Pattern(G){let K;if(G[0]==="TilingPattern"){const ge=G[1],Pe=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),Ae={createCanvasGraphics:ke=>new Ve(ke,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};K=new B.TilingPattern(G,ge,this.ctx,Ae,Pe)}else K=this._getPattern(G[1],G[2]);return K}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(G,K,ge){const Pe=R.Util.makeHexColor(G,K,ge);this.ctx.strokeStyle=Pe,this.current.strokeColor=Pe}setFillRGBColor(G,K,ge){const Pe=R.Util.makeHexColor(G,K,ge);this.ctx.fillStyle=Pe,this.current.fillColor=Pe,this.current.patternFill=!1}_getPattern(G,K=null){let ge;return this.cachedPatterns.has(G)?ge=this.cachedPatterns.get(G):(ge=(0,B.getShadingPattern)(this.getObject(G)),this.cachedPatterns.set(G,ge)),K&&(ge.matrix=K),ge}shadingFill(G){if(!this.contentVisible)return;const K=this.ctx;this.save();const ge=this._getPattern(G);K.fillStyle=ge.getPattern(K,this,(0,O.getCurrentTransformInverse)(K),B.PathType.SHADING);const Pe=(0,O.getCurrentTransformInverse)(K);if(Pe){const{width:Ae,height:ke}=K.canvas,[Ne,et,st,ct]=R.Util.getAxialAlignedBoundingBox([0,0,Ae,ke],Pe);this.ctx.fillRect(Ne,et,st-Ne,ct-et)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,R.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,R.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(G,K){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(G)&&G.length===6&&this.transform(...G),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),K)){const ge=K[2]-K[0],Pe=K[3]-K[1];this.ctx.rect(K[0],K[1],ge,Pe),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),K),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(G){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const K=this.ctx;G.isolated||(0,R.info)("TODO: Support non-isolated groups."),G.knockout&&(0,R.warn)("Knockout groups not supported.");const ge=(0,O.getCurrentTransform)(K);if(G.matrix&&K.transform(...G.matrix),!G.bbox)throw new Error("Bounding box is required.");let Pe=R.Util.getAxialAlignedBoundingBox(G.bbox,(0,O.getCurrentTransform)(K));const Ae=[0,0,K.canvas.width,K.canvas.height];Pe=R.Util.intersect(Pe,Ae)||[0,0,0,0];const ke=Math.floor(Pe[0]),Ne=Math.floor(Pe[1]);let et=Math.max(Math.ceil(Pe[2])-ke,1),st=Math.max(Math.ceil(Pe[3])-Ne,1),ct=1,dt=1;et>ue&&(ct=et/ue,et=ue),st>ue&&(dt=st/ue,st=ue),this.current.startNewPathAndClipBox([0,0,et,st]);let ht="groupAt"+this.groupLevel;G.smask&&(ht+="_smask_"+this.smaskCounter++%2);const gt=this.cachedCanvases.getCanvas(ht,et,st),qe=gt.context;qe.scale(1/ct,1/dt),qe.translate(-ke,-Ne),qe.transform(...ge),G.smask?this.smaskStack.push({canvas:gt.canvas,context:qe,offsetX:ke,offsetY:Ne,scaleX:ct,scaleY:dt,subtype:G.smask.subtype,backdrop:G.smask.backdrop,transferMap:G.smask.transferMap||null,startTransformInverse:null}):(K.setTransform(1,0,0,1,0,0),K.translate(ke,Ne),K.scale(ct,dt),K.save()),Y(K,qe),this.ctx=qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(K),this.groupLevel++}endGroup(G){if(!this.contentVisible)return;this.groupLevel--;const K=this.ctx,ge=this.groupStack.pop();if(this.ctx=ge,this.ctx.imageSmoothingEnabled=!1,G.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pe=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pe);const Ae=R.Util.getAxialAlignedBoundingBox([0,0,K.canvas.width,K.canvas.height],Pe);this.ctx.drawImage(K.canvas,0,0),this.ctx.restore(),this.compose(Ae)}}beginAnnotation(G,K,ge,Pe,Ae){if(Ge(this,Xe,$i).call(this),ce(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(K)&&K.length===4){const ke=K[2]-K[0],Ne=K[3]-K[1];if(Ae&&this.annotationCanvasMap){ge=ge.slice(),ge[4]-=K[0],ge[5]-=K[1],K=K.slice(),K[0]=K[1]=0,K[2]=ke,K[3]=Ne;const[et,st]=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:ct}=this,dt=Math.ceil(ke*this.outputScaleX*ct),ht=Math.ceil(Ne*this.outputScaleY*ct);this.annotationCanvas=this.canvasFactory.create(dt,ht);const{canvas:gt,context:qe}=this.annotationCanvas;this.annotationCanvasMap.set(G,gt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=qe,this.ctx.save(),this.ctx.setTransform(et,0,0,-st,0,Ne*st),ce(this.ctx)}else ce(this.ctx),this.ctx.rect(K[0],K[1],ke,Ne),this.ctx.clip(),this.endPath()}this.current=new ae(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ge),this.transform(...Pe)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ge(this,Xe,Ti).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(G){if(!this.contentVisible)return;const K=G.count;G=this.getObject(G.data,G),G.count=K;const ge=this.ctx,Pe=this.processingType3;if(Pe&&(Pe.compiled===void 0&&(Pe.compiled=ne(G)),Pe.compiled)){Pe.compiled(ge);return}const Ae=this._createMaskCanvas(G),ke=Ae.canvas;ge.save(),ge.setTransform(1,0,0,1,0,0),ge.drawImage(ke,Ae.offsetX,Ae.offsetY),ge.restore(),this.compose()}paintImageMaskXObjectRepeat(G,K,ge=0,Pe=0,Ae,ke){if(!this.contentVisible)return;G=this.getObject(G.data,G);const Ne=this.ctx;Ne.save();const et=(0,O.getCurrentTransform)(Ne);Ne.transform(K,ge,Pe,Ae,0,0);const st=this._createMaskCanvas(G);Ne.setTransform(1,0,0,1,st.offsetX-et[4],st.offsetY-et[5]);for(let ct=0,dt=ke.length;ct<dt;ct+=2){const ht=R.Util.transform(et,[K,ge,Pe,Ae,ke[ct],ke[ct+1]]),[gt,qe]=R.Util.applyTransform([0,0],ht);Ne.drawImage(st.canvas,gt,qe)}Ne.restore(),this.compose()}paintImageMaskXObjectGroup(G){if(!this.contentVisible)return;const K=this.ctx,ge=this.current.fillColor,Pe=this.current.patternFill;for(const Ae of G){const{data:ke,width:Ne,height:et,transform:st}=Ae,ct=this.cachedCanvases.getCanvas("maskCanvas",Ne,et),dt=ct.context;dt.save();const ht=this.getObject(ke,Ae);he(dt,ht),dt.globalCompositeOperation="source-in",dt.fillStyle=Pe?ge.getPattern(dt,this,(0,O.getCurrentTransformInverse)(K),B.PathType.FILL):ge,dt.fillRect(0,0,Ne,et),dt.restore(),K.save(),K.transform(...st),K.scale(1,-1),q(K,ct.canvas,0,0,Ne,et,0,-1,1,1),K.restore()}this.compose()}paintImageXObject(G){if(!this.contentVisible)return;const K=this.getObject(G);if(!K){(0,R.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(K)}paintImageXObjectRepeat(G,K,ge,Pe){if(!this.contentVisible)return;const Ae=this.getObject(G);if(!Ae){(0,R.warn)("Dependent image isn't ready yet");return}const ke=Ae.width,Ne=Ae.height,et=[];for(let st=0,ct=Pe.length;st<ct;st+=2)et.push({transform:[K,0,0,ge,Pe[st],Pe[st+1]],x:0,y:0,w:ke,h:Ne});this.paintInlineImageXObjectGroup(Ae,et)}applyTransferMapsToCanvas(G){return this.current.transferMaps!=="none"&&(G.filter=this.current.transferMaps,G.drawImage(G.canvas,0,0),G.filter="none"),G.canvas}applyTransferMapsToBitmap(G){if(this.current.transferMaps==="none")return G.bitmap;const{bitmap:K,width:ge,height:Pe}=G,Ae=this.cachedCanvases.getCanvas("inlineImage",ge,Pe),ke=Ae.context;return ke.filter=this.current.transferMaps,ke.drawImage(K,0,0),ke.filter="none",Ae.canvas}paintInlineImageXObject(G){if(!this.contentVisible)return;const K=G.width,ge=G.height,Pe=this.ctx;if(this.save(),!R.isNodeJS){const{filter:Ne}=Pe;Ne!=="none"&&Ne!==""&&(Pe.filter="none")}Pe.scale(1/K,-1/ge);let Ae;if(G.bitmap)Ae=this.applyTransferMapsToBitmap(G);else if(typeof HTMLElement=="function"&&G instanceof HTMLElement||!G.data)Ae=G;else{const et=this.cachedCanvases.getCanvas("inlineImage",K,ge).context;be(et,G),Ae=this.applyTransferMapsToCanvas(et)}const ke=this._scaleImage(Ae,(0,O.getCurrentTransformInverse)(Pe));Pe.imageSmoothingEnabled=ve((0,O.getCurrentTransform)(Pe),G.interpolate),q(Pe,ke.img,0,0,ke.paintWidth,ke.paintHeight,0,-ge,K,ge),this.compose(),this.restore()}paintInlineImageXObjectGroup(G,K){if(!this.contentVisible)return;const ge=this.ctx;let Pe;if(G.bitmap)Pe=G.bitmap;else{const Ae=G.width,ke=G.height,et=this.cachedCanvases.getCanvas("inlineImage",Ae,ke).context;be(et,G),Pe=this.applyTransferMapsToCanvas(et)}for(const Ae of K)ge.save(),ge.transform(...Ae.transform),ge.scale(1,-1),q(ge,Pe,Ae.x,Ae.y,Ae.w,Ae.h,0,-1,1,1),ge.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(G){}markPointProps(G,K){}beginMarkedContent(G){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(G,K){G==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(K)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(G){const K=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(G);const ge=this.ctx;this.pendingClip&&(K||(this.pendingClip===je?ge.clip("evenodd"):ge.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ge.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const G=(0,O.getCurrentTransform)(this.ctx);if(G[1]===0&&G[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(G[0]),Math.abs(G[3]));else{const K=Math.abs(G[0]*G[3]-G[2]*G[1]),ge=Math.hypot(G[0],G[2]),Pe=Math.hypot(G[1],G[3]);this._cachedGetSinglePixelWidth=Math.max(ge,Pe)/K}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:G}=this.current,{a:K,b:ge,c:Pe,d:Ae}=this.ctx.getTransform();let ke,Ne;if(ge===0&&Pe===0){const et=Math.abs(K),st=Math.abs(Ae);if(et===st)if(G===0)ke=Ne=1/et;else{const ct=et*G;ke=Ne=ct<1?1/ct:1}else if(G===0)ke=1/et,Ne=1/st;else{const ct=et*G,dt=st*G;ke=ct<1?1/ct:1,Ne=dt<1?1/dt:1}}else{const et=Math.abs(K*Ae-ge*Pe),st=Math.hypot(K,ge),ct=Math.hypot(Pe,Ae);if(G===0)ke=ct/et,Ne=st/et;else{const dt=G*et;ke=ct>dt?ct/dt:1,Ne=st>dt?st/dt:1}}this._cachedScaleForStroking[0]=ke,this._cachedScaleForStroking[1]=Ne}return this._cachedScaleForStroking}rescaleAndStroke(G){const{ctx:K}=this,{lineWidth:ge}=this.current,[Pe,Ae]=this.getScaleForStroking();if(K.lineWidth=ge||1,Pe===1&&Ae===1){K.stroke();return}const ke=K.getLineDash();if(G&&K.save(),K.scale(Pe,Ae),ke.length>0){const Ne=Math.max(Pe,Ae);K.setLineDash(ke.map(et=>et/Ne)),K.lineDashOffset/=Ne}K.stroke(),G&&K.restore()}isContentVisible(){for(let G=this.markedContentStack.length-1;G>=0;G--)if(!this.markedContentStack[G].visible)return!1;return!0}};Xe=new WeakSet,$i=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ti=function(){if(this.pageColors){const G=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(G!=="none"){const K=this.ctx.filter;this.ctx.filter=G,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=K}}};let Le=Ve;$.CanvasGraphics=Le;for(const Ee in R.OPS)Le.prototype[Ee]!==void 0&&(Le.prototype[R.OPS[Ee]]=Le.prototype[Ee])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=te;var R=H(1),O=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function J(ne,ae){if(!ae)return;const be=ae[2]-ae[0],he=ae[3]-ae[1],Y=new Path2D;Y.rect(ae[0],ae[1],be,he),ne.clip(Y)}class fe{constructor(){this.constructor===fe&&(0,R.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,R.unreachable)("Abstract method `getPattern` called.")}}class de extends fe{constructor(ae){super(),this._type=ae[1],this._bbox=ae[2],this._colorStops=ae[3],this._p0=ae[4],this._p1=ae[5],this._r0=ae[6],this._r1=ae[7],this.matrix=null}_createGradient(ae){let be;this._type==="axial"?be=ae.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(be=ae.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const he of this._colorStops)be.addColorStop(he[0],he[1]);return be}getPattern(ae,be,he,Y){let ce;if(Y===B.STROKE||Y===B.FILL){const re=be.current.getClippedPathBoundingBox(Y,(0,O.getCurrentTransform)(ae))||[0,0,0,0],oe=Math.ceil(re[2]-re[0])||1,se=Math.ceil(re[3]-re[1])||1,ye=be.cachedCanvases.getCanvas("pattern",oe,se,!0),Q=ye.context;Q.clearRect(0,0,Q.canvas.width,Q.canvas.height),Q.beginPath(),Q.rect(0,0,Q.canvas.width,Q.canvas.height),Q.translate(-re[0],-re[1]),he=R.Util.transform(he,[1,0,0,1,re[0],re[1]]),Q.transform(...be.baseTransform),this.matrix&&Q.transform(...this.matrix),J(Q,this._bbox),Q.fillStyle=this._createGradient(Q),Q.fill(),ce=ae.createPattern(ye.canvas,"no-repeat");const ve=new DOMMatrix(he);ce.setTransform(ve)}else J(ae,this._bbox),ce=this._createGradient(ae);return ce}}function ue(ne,ae,be,he,Y,ce,re,oe){const se=ae.coords,ye=ae.colors,Q=ne.data,ve=ne.width*4;let Ce;se[be+1]>se[he+1]&&(Ce=be,be=he,he=Ce,Ce=ce,ce=re,re=Ce),se[he+1]>se[Y+1]&&(Ce=he,he=Y,Y=Ce,Ce=re,re=oe,oe=Ce),se[be+1]>se[he+1]&&(Ce=be,be=he,he=Ce,Ce=ce,ce=re,re=Ce);const Oe=(se[be]+ae.offsetX)*ae.scaleX,$e=(se[be+1]+ae.offsetY)*ae.scaleY,je=(se[he]+ae.offsetX)*ae.scaleX,Le=(se[he+1]+ae.offsetY)*ae.scaleY,Xe=(se[Y]+ae.offsetX)*ae.scaleX,xe=(se[Y+1]+ae.offsetY)*ae.scaleY;if($e>=xe)return;const Te=ye[ce],Ve=ye[ce+1],Ee=ye[ce+2],G=ye[re],K=ye[re+1],ge=ye[re+2],Pe=ye[oe],Ae=ye[oe+1],ke=ye[oe+2],Ne=Math.round($e),et=Math.round(xe);let st,ct,dt,ht,gt,qe,Ke,me;for(let Se=Ne;Se<=et;Se++){if(Se<Le){const ft=Se<$e?0:($e-Se)/($e-Le);st=Oe-(Oe-je)*ft,ct=Te-(Te-G)*ft,dt=Ve-(Ve-K)*ft,ht=Ee-(Ee-ge)*ft}else{let ft;Se>xe?ft=1:Le===xe?ft=0:ft=(Le-Se)/(Le-xe),st=je-(je-Xe)*ft,ct=G-(G-Pe)*ft,dt=K-(K-Ae)*ft,ht=ge-(ge-ke)*ft}let ze;Se<$e?ze=0:Se>xe?ze=1:ze=($e-Se)/($e-xe),gt=Oe-(Oe-Xe)*ze,qe=Te-(Te-Pe)*ze,Ke=Ve-(Ve-Ae)*ze,me=Ee-(Ee-ke)*ze;const Ye=Math.round(Math.min(st,gt)),rt=Math.round(Math.max(st,gt));let mt=ve*Se+Ye*4;for(let ft=Ye;ft<=rt;ft++)ze=(st-ft)/(st-gt),ze<0?ze=0:ze>1&&(ze=1),Q[mt++]=ct-(ct-qe)*ze|0,Q[mt++]=dt-(dt-Ke)*ze|0,Q[mt++]=ht-(ht-me)*ze|0,Q[mt++]=255}}function W(ne,ae,be){const he=ae.coords,Y=ae.colors;let ce,re;switch(ae.type){case"lattice":const oe=ae.verticesPerRow,se=Math.floor(he.length/oe)-1,ye=oe-1;for(ce=0;ce<se;ce++){let Q=ce*oe;for(let ve=0;ve<ye;ve++,Q++)ue(ne,be,he[Q],he[Q+1],he[Q+oe],Y[Q],Y[Q+1],Y[Q+oe]),ue(ne,be,he[Q+oe+1],he[Q+1],he[Q+oe],Y[Q+oe+1],Y[Q+1],Y[Q+oe])}break;case"triangles":for(ce=0,re=he.length;ce<re;ce+=3)ue(ne,be,he[ce],he[ce+1],he[ce+2],Y[ce],Y[ce+1],Y[ce+2]);break;default:throw new Error("illegal figure")}}class _e extends fe{constructor(ae){super(),this._coords=ae[2],this._colors=ae[3],this._figures=ae[4],this._bounds=ae[5],this._bbox=ae[7],this._background=ae[8],this.matrix=null}_createMeshCanvas(ae,be,he){const oe=Math.floor(this._bounds[0]),se=Math.floor(this._bounds[1]),ye=Math.ceil(this._bounds[2])-oe,Q=Math.ceil(this._bounds[3])-se,ve=Math.min(Math.ceil(Math.abs(ye*ae[0]*1.1)),3e3),Ce=Math.min(Math.ceil(Math.abs(Q*ae[1]*1.1)),3e3),Oe=ye/ve,$e=Q/Ce,je={coords:this._coords,colors:this._colors,offsetX:-oe,offsetY:-se,scaleX:1/Oe,scaleY:1/$e},Le=ve+2*2,Xe=Ce+2*2,xe=he.getCanvas("mesh",Le,Xe,!1),Te=xe.context,Ve=Te.createImageData(ve,Ce);if(be){const G=Ve.data;for(let K=0,ge=G.length;K<ge;K+=4)G[K]=be[0],G[K+1]=be[1],G[K+2]=be[2],G[K+3]=255}for(const G of this._figures)W(Ve,G,je);return Te.putImageData(Ve,2,2),{canvas:xe.canvas,offsetX:oe-2*Oe,offsetY:se-2*$e,scaleX:Oe,scaleY:$e}}getPattern(ae,be,he,Y){J(ae,this._bbox);let ce;if(Y===B.SHADING)ce=R.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(ae));else if(ce=R.Util.singularValueDecompose2dScale(be.baseTransform),this.matrix){const oe=R.Util.singularValueDecompose2dScale(this.matrix);ce=[ce[0]*oe[0],ce[1]*oe[1]]}const re=this._createMeshCanvas(ce,Y===B.SHADING?null:this._background,be.cachedCanvases);return Y!==B.SHADING&&(ae.setTransform(...be.baseTransform),this.matrix&&ae.transform(...this.matrix)),ae.translate(re.offsetX,re.offsetY),ae.scale(re.scaleX,re.scaleY),ae.createPattern(re.canvas,"no-repeat")}}class le extends fe{getPattern(){return"hotpink"}}function te(ne){switch(ne[0]){case"RadialAxial":return new de(ne);case"Mesh":return new _e(ne);case"Dummy":return new le}throw new Error(`Unknown IR type: ${ne[0]}`)}const ie={COLORED:1,UNCOLORED:2},q=class q{constructor(ae,be,he,Y,ce){this.operatorList=ae[2],this.matrix=ae[3]||[1,0,0,1,0,0],this.bbox=ae[4],this.xstep=ae[5],this.ystep=ae[6],this.paintType=ae[7],this.tilingType=ae[8],this.color=be,this.ctx=he,this.canvasGraphicsFactory=Y,this.baseTransform=ce}createPatternCanvas(ae){const be=this.operatorList,he=this.bbox,Y=this.xstep,ce=this.ystep,re=this.paintType,oe=this.tilingType,se=this.color,ye=this.canvasGraphicsFactory;(0,R.info)("TilingType: "+oe);const Q=he[0],ve=he[1],Ce=he[2],Oe=he[3],$e=R.Util.singularValueDecompose2dScale(this.matrix),je=R.Util.singularValueDecompose2dScale(this.baseTransform),Le=[$e[0]*je[0],$e[1]*je[1]],Xe=this.getSizeAndScale(Y,this.ctx.canvas.width,Le[0]),xe=this.getSizeAndScale(ce,this.ctx.canvas.height,Le[1]),Te=ae.cachedCanvases.getCanvas("pattern",Xe.size,xe.size,!0),Ve=Te.context,Ee=ye.createCanvasGraphics(Ve);Ee.groupLevel=ae.groupLevel,this.setFillAndStrokeStyleToContext(Ee,re,se);let G=Q,K=ve,ge=Ce,Pe=Oe;return Q<0&&(G=0,ge+=Math.abs(Q)),ve<0&&(K=0,Pe+=Math.abs(ve)),Ve.translate(-(Xe.scale*G),-(xe.scale*K)),Ee.transform(Xe.scale,0,0,xe.scale,0,0),Ve.save(),this.clipBbox(Ee,G,K,ge,Pe),Ee.baseTransform=(0,O.getCurrentTransform)(Ee.ctx),Ee.executeOperatorList(be),Ee.endDrawing(),{canvas:Te.canvas,scaleX:Xe.scale,scaleY:xe.scale,offsetX:G,offsetY:K}}getSizeAndScale(ae,be,he){ae=Math.abs(ae);const Y=Math.max(q.MAX_PATTERN_SIZE,be);let ce=Math.ceil(ae*he);return ce>=Y?ce=Y:he=ce/ae,{scale:he,size:ce}}clipBbox(ae,be,he,Y,ce){const re=Y-be,oe=ce-he;ae.ctx.rect(be,he,re,oe),ae.current.updateRectMinMax((0,O.getCurrentTransform)(ae.ctx),[be,he,Y,ce]),ae.clip(),ae.endPath()}setFillAndStrokeStyleToContext(ae,be,he){const Y=ae.ctx,ce=ae.current;switch(be){case ie.COLORED:const re=this.ctx;Y.fillStyle=re.fillStyle,Y.strokeStyle=re.strokeStyle,ce.fillColor=re.fillStyle,ce.strokeColor=re.strokeStyle;break;case ie.UNCOLORED:const oe=R.Util.makeHexColor(he[0],he[1],he[2]);Y.fillStyle=oe,Y.strokeStyle=oe,ce.fillColor=oe,ce.strokeColor=oe;break;default:throw new R.FormatError(`Unsupported paint type: ${be}`)}}getPattern(ae,be,he,Y){let ce=he;Y!==B.SHADING&&(ce=R.Util.transform(ce,be.baseTransform),this.matrix&&(ce=R.Util.transform(ce,this.matrix)));const re=this.createPatternCanvas(be);let oe=new DOMMatrix(ce);oe=oe.translate(re.offsetX,re.offsetY),oe=oe.scale(1/re.scaleX,1/re.scaleY);const se=ae.createPattern(re.canvas,"repeat");return se.setTransform(oe),se}};Fn(q,"MAX_PATTERN_SIZE",3e3);let ee=q;$.TilingPattern=ee},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=B,$.convertToRGBA=O,$.grayToRGBA=fe;var R=H(1);function O(de){switch(de.kind){case R.ImageKind.GRAYSCALE_1BPP:return B(de);case R.ImageKind.RGB_24BPP:return J(de)}return null}function B({src:de,srcPos:ue=0,dest:W,width:_e,height:le,nonBlackColor:te=4294967295,inverseDecode:ie=!1}){const ee=R.FeatureTest.isLittleEndian?4278190080:255,[q,ne]=ie?[te,ee]:[ee,te],ae=_e>>3,be=_e&7,he=de.length;W=new Uint32Array(W.buffer);let Y=0;for(let ce=0;ce<le;ce++){for(const oe=ue+ae;ue<oe;ue++){const se=ue<he?de[ue]:255;W[Y++]=se&128?ne:q,W[Y++]=se&64?ne:q,W[Y++]=se&32?ne:q,W[Y++]=se&16?ne:q,W[Y++]=se&8?ne:q,W[Y++]=se&4?ne:q,W[Y++]=se&2?ne:q,W[Y++]=se&1?ne:q}if(be===0)continue;const re=ue<he?de[ue++]:255;for(let oe=0;oe<be;oe++)W[Y++]=re&1<<7-oe?ne:q}return{srcPos:ue,destPos:Y}}function J({src:de,srcPos:ue=0,dest:W,destPos:_e=0,width:le,height:te}){let ie=0;const ee=de.length>>2,q=new Uint32Array(de.buffer,ue,ee);if(R.FeatureTest.isLittleEndian){for(;ie<ee-2;ie+=3,_e+=4){const ne=q[ie],ae=q[ie+1],be=q[ie+2];W[_e]=ne|4278190080,W[_e+1]=ne>>>24|ae<<8|4278190080,W[_e+2]=ae>>>16|be<<16|4278190080,W[_e+3]=be>>>8|4278190080}for(let ne=ie*4,ae=de.length;ne<ae;ne+=3)W[_e++]=de[ne]|de[ne+1]<<8|de[ne+2]<<16|4278190080}else{for(;ie<ee-2;ie+=3,_e+=4){const ne=q[ie],ae=q[ie+1],be=q[ie+2];W[_e]=ne|255,W[_e+1]=ne<<24|ae>>>8|255,W[_e+2]=ae<<16|be>>>16|255,W[_e+3]=be<<8|255}for(let ne=ie*4,ae=de.length;ne<ae;ne+=3)W[_e++]=de[ne]<<24|de[ne+1]<<16|de[ne+2]<<8|255}return{srcPos:ue,destPos:_e}}function fe(de,ue){if(R.FeatureTest.isLittleEndian)for(let W=0,_e=de.length;W<_e;W++)ue[W]=de[W]*65793|4278190080;else for(let W=0,_e=de.length;W<_e;W++)ue[W]=de[W]*16843008|255}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{var de,wa,Aa,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var R=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function J(le){switch(le instanceof Error||typeof le=="object"&&le!==null||(0,R.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),le.name){case"AbortException":return new R.AbortException(le.message);case"MissingPDFException":return new R.MissingPDFException(le.message);case"PasswordException":return new R.PasswordException(le.message,le.code);case"UnexpectedResponseException":return new R.UnexpectedResponseException(le.message,le.status);case"UnknownErrorException":return new R.UnknownErrorException(le.message,le.details);default:return new R.UnknownErrorException(le.message,le.toString())}}class fe{constructor(te,ie,ee){at(this,de);this.sourceName=te,this.targetName=ie,this.comObj=ee,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=q=>{const ne=q.data;if(ne.targetName!==this.sourceName)return;if(ne.stream){Ge(this,de,Aa).call(this,ne);return}if(ne.callback){const be=ne.callbackId,he=this.callbackCapabilities[be];if(!he)throw new Error(`Cannot resolve callback ${be}`);if(delete this.callbackCapabilities[be],ne.callback===O.DATA)he.resolve(ne.data);else if(ne.callback===O.ERROR)he.reject(J(ne.reason));else throw new Error("Unexpected callback case");return}const ae=this.actionHandler[ne.action];if(!ae)throw new Error(`Unknown action from worker: ${ne.action}`);if(ne.callbackId){const be=this.sourceName,he=ne.sourceName;new Promise(function(Y){Y(ae(ne.data))}).then(function(Y){ee.postMessage({sourceName:be,targetName:he,callback:O.DATA,callbackId:ne.callbackId,data:Y})},function(Y){ee.postMessage({sourceName:be,targetName:he,callback:O.ERROR,callbackId:ne.callbackId,reason:J(Y)})});return}if(ne.streamId){Ge(this,de,wa).call(this,ne);return}ae(ne.data)},ee.addEventListener("message",this._onComObjOnMessage)}on(te,ie){const ee=this.actionHandler;if(ee[te])throw new Error(`There is already an actionName called "${te}"`);ee[te]=ie}send(te,ie,ee){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,data:ie},ee)}sendWithPromise(te,ie,ee){const q=this.callbackId++,ne=new R.PromiseCapability;this.callbackCapabilities[q]=ne;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:te,callbackId:q,data:ie},ee)}catch(ae){ne.reject(ae)}return ne.promise}sendWithStream(te,ie,ee,q){const ne=this.streamId++,ae=this.sourceName,be=this.targetName,he=this.comObj;return new ReadableStream({start:Y=>{const ce=new R.PromiseCapability;return this.streamControllers[ne]={controller:Y,startCall:ce,pullCall:null,cancelCall:null,isClosed:!1},he.postMessage({sourceName:ae,targetName:be,action:te,streamId:ne,data:ie,desiredSize:Y.desiredSize},q),ce.promise},pull:Y=>{const ce=new R.PromiseCapability;return this.streamControllers[ne].pullCall=ce,he.postMessage({sourceName:ae,targetName:be,stream:B.PULL,streamId:ne,desiredSize:Y.desiredSize}),ce.promise},cancel:Y=>{(0,R.assert)(Y instanceof Error,"cancel must have a valid reason");const ce=new R.PromiseCapability;return this.streamControllers[ne].cancelCall=ce,this.streamControllers[ne].isClosed=!0,he.postMessage({sourceName:ae,targetName:be,stream:B.CANCEL,streamId:ne,reason:J(Y)}),ce.promise}},ee)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}de=new WeakSet,wa=function(te){const ie=te.streamId,ee=this.sourceName,q=te.sourceName,ne=this.comObj,ae=this,be=this.actionHandler[te.action],he={enqueue(Y,ce=1,re){if(this.isCancelled)return;const oe=this.desiredSize;this.desiredSize-=ce,oe>0&&this.desiredSize<=0&&(this.sinkCapability=new R.PromiseCapability,this.ready=this.sinkCapability.promise),ne.postMessage({sourceName:ee,targetName:q,stream:B.ENQUEUE,streamId:ie,chunk:Y},re)},close(){this.isCancelled||(this.isCancelled=!0,ne.postMessage({sourceName:ee,targetName:q,stream:B.CLOSE,streamId:ie}),delete ae.streamSinks[ie])},error(Y){(0,R.assert)(Y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ne.postMessage({sourceName:ee,targetName:q,stream:B.ERROR,streamId:ie,reason:J(Y)}))},sinkCapability:new R.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:te.desiredSize,ready:null};he.sinkCapability.resolve(),he.ready=he.sinkCapability.promise,this.streamSinks[ie]=he,new Promise(function(Y){Y(be(te.data,he))}).then(function(){ne.postMessage({sourceName:ee,targetName:q,stream:B.START_COMPLETE,streamId:ie,success:!0})},function(Y){ne.postMessage({sourceName:ee,targetName:q,stream:B.START_COMPLETE,streamId:ie,reason:J(Y)})})},Aa=function(te){const ie=te.streamId,ee=this.sourceName,q=te.sourceName,ne=this.comObj,ae=this.streamControllers[ie],be=this.streamSinks[ie];switch(te.stream){case B.START_COMPLETE:te.success?ae.startCall.resolve():ae.startCall.reject(J(te.reason));break;case B.PULL_COMPLETE:te.success?ae.pullCall.resolve():ae.pullCall.reject(J(te.reason));break;case B.PULL:if(!be){ne.postMessage({sourceName:ee,targetName:q,stream:B.PULL_COMPLETE,streamId:ie,success:!0});break}be.desiredSize<=0&&te.desiredSize>0&&be.sinkCapability.resolve(),be.desiredSize=te.desiredSize,new Promise(function(he){var Y;he((Y=be.onPull)==null?void 0:Y.call(be))}).then(function(){ne.postMessage({sourceName:ee,targetName:q,stream:B.PULL_COMPLETE,streamId:ie,success:!0})},function(he){ne.postMessage({sourceName:ee,targetName:q,stream:B.PULL_COMPLETE,streamId:ie,reason:J(he)})});break;case B.ENQUEUE:if((0,R.assert)(ae,"enqueue should have stream controller"),ae.isClosed)break;ae.controller.enqueue(te.chunk);break;case B.CLOSE:if((0,R.assert)(ae,"close should have stream controller"),ae.isClosed)break;ae.isClosed=!0,ae.controller.close(),Ge(this,de,Xr).call(this,ae,ie);break;case B.ERROR:(0,R.assert)(ae,"error should have stream controller"),ae.controller.error(J(te.reason)),Ge(this,de,Xr).call(this,ae,ie);break;case B.CANCEL_COMPLETE:te.success?ae.cancelCall.resolve():ae.cancelCall.reject(J(te.reason)),Ge(this,de,Xr).call(this,ae,ie);break;case B.CANCEL:if(!be)break;new Promise(function(he){var Y;he((Y=be.onCancel)==null?void 0:Y.call(be,J(te.reason)))}).then(function(){ne.postMessage({sourceName:ee,targetName:q,stream:B.CANCEL_COMPLETE,streamId:ie,success:!0})},function(he){ne.postMessage({sourceName:ee,targetName:q,stream:B.CANCEL_COMPLETE,streamId:ie,reason:J(he)})}),be.sinkCapability.reject(J(te.reason)),be.isCancelled=!0,delete this.streamSinks[ie];break;default:throw new Error("Unexpected stream case")}},Xr=async function(te,ie){var ee,q,ne;await Promise.allSettled([(ee=te.startCall)==null?void 0:ee.promise,(q=te.pullCall)==null?void 0:q.promise,(ne=te.cancelCall)==null?void 0:ne.promise]),delete this.streamControllers[ie]},$.MessageHandler=fe},(A,$,H)=>{var B,J;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var R=H(1);class O{constructor({parsedData:de,rawData:ue}){at(this,B);at(this,J);ot(this,B,de),ot(this,J,ue)}getRaw(){return V(this,J)}get(de){return V(this,B).get(de)??null}getAll(){return(0,R.objectFromMap)(V(this,B))}has(de){return V(this,B).has(de)}}B=new WeakMap,J=new WeakMap,$.Metadata=O},(A,$,H)=>{var de,ue,W,_e,le,te,Ri;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var R=H(1),O=H(8);const B=Symbol("INTERNAL");class J{constructor(q,ne){at(this,de,!0);this.name=q,this.intent=ne}get visible(){return V(this,de)}_setVisible(q,ne){q!==B&&(0,R.unreachable)("Internal method `_setVisible` called."),ot(this,de,ne)}}de=new WeakMap;class fe{constructor(q){at(this,te);at(this,ue,null);at(this,W,new Map);at(this,_e,null);at(this,le,null);if(this.name=null,this.creator=null,q!==null){this.name=q.name,this.creator=q.creator,ot(this,le,q.order);for(const ne of q.groups)V(this,W).set(ne.id,new J(ne.name,ne.intent));if(q.baseState==="OFF")for(const ne of V(this,W).values())ne._setVisible(B,!1);for(const ne of q.on)V(this,W).get(ne)._setVisible(B,!0);for(const ne of q.off)V(this,W).get(ne)._setVisible(B,!1);ot(this,_e,this.getHash())}}isVisible(q){if(V(this,W).size===0)return!0;if(!q)return(0,R.warn)("Optional content group not defined."),!0;if(q.type==="OCG")return V(this,W).has(q.id)?V(this,W).get(q.id).visible:((0,R.warn)(`Optional content group not found: ${q.id}`),!0);if(q.type==="OCMD"){if(q.expression)return Ge(this,te,Ri).call(this,q.expression);if(!q.policy||q.policy==="AnyOn"){for(const ne of q.ids){if(!V(this,W).has(ne))return(0,R.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,W).get(ne).visible)return!0}return!1}else if(q.policy==="AllOn"){for(const ne of q.ids){if(!V(this,W).has(ne))return(0,R.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,W).get(ne).visible)return!1}return!0}else if(q.policy==="AnyOff"){for(const ne of q.ids){if(!V(this,W).has(ne))return(0,R.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,W).get(ne).visible)return!0}return!1}else if(q.policy==="AllOff"){for(const ne of q.ids){if(!V(this,W).has(ne))return(0,R.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,W).get(ne).visible)return!1}return!0}return(0,R.warn)(`Unknown optional content policy ${q.policy}.`),!0}return(0,R.warn)(`Unknown group type ${q.type}.`),!0}setVisibility(q,ne=!0){if(!V(this,W).has(q)){(0,R.warn)(`Optional content group not found: ${q}`);return}V(this,W).get(q)._setVisible(B,!!ne),ot(this,ue,null)}get hasInitialVisibility(){return V(this,_e)===null||this.getHash()===V(this,_e)}getOrder(){return V(this,W).size?V(this,le)?V(this,le).slice():[...V(this,W).keys()]:null}getGroups(){return V(this,W).size>0?(0,R.objectFromMap)(V(this,W)):null}getGroup(q){return V(this,W).get(q)||null}getHash(){if(V(this,ue)!==null)return V(this,ue);const q=new O.MurmurHash3_64;for(const[ne,ae]of V(this,W))q.update(`${ne}:${ae.visible}`);return ot(this,ue,q.hexdigest())}}ue=new WeakMap,W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakSet,Ri=function(q){const ne=q.length;if(ne<2)return!0;const ae=q[0];for(let be=1;be<ne;be++){const he=q[be];let Y;if(Array.isArray(he))Y=Ge(this,te,Ri).call(this,he);else if(V(this,W).has(he))Y=V(this,W).get(he).visible;else return(0,R.warn)(`Optional content group not found: ${he}`),!0;switch(ae){case"And":if(!Y)return!1;break;case"Or":if(Y)return!0;break;case"Not":return!Y;default:return!0}}return ae==="And"},$.OptionalContentConfig=fe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var R=H(1),O=H(6);class B{constructor({length:ue,initialData:W,progressiveDone:_e=!1,contentDispositionFilename:le=null,disableRange:te=!1,disableStream:ie=!1},ee){if((0,R.assert)(ee,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e,this._contentDispositionFilename=le,(W==null?void 0:W.length)>0){const q=W instanceof Uint8Array&&W.byteLength===W.buffer.byteLength?W.buffer:new Uint8Array(W).buffer;this._queuedChunks.push(q)}this._pdfDataRangeTransport=ee,this._isStreamingSupported=!ie,this._isRangeSupported=!te,this._contentLength=ue,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((q,ne)=>{this._onReceiveData({begin:q,chunk:ne})}),this._pdfDataRangeTransport.addProgressListener((q,ne)=>{this._onProgress({loaded:q,total:ne})}),this._pdfDataRangeTransport.addProgressiveReadListener(q=>{this._onReceiveData({chunk:q})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ue,chunk:W}){const _e=W instanceof Uint8Array&&W.byteLength===W.buffer.byteLength?W.buffer:new Uint8Array(W).buffer;if(ue===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const le=this._rangeReaders.some(function(te){return te._begin!==ue?!1:(te._enqueue(_e),!0)});(0,R.assert)(le,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ue;return((ue=this._fullRequestReader)==null?void 0:ue._loaded)??0}_onProgress(ue){var W,_e,le,te;ue.total===void 0?(_e=(W=this._rangeReaders[0])==null?void 0:W.onProgress)==null||_e.call(W,{loaded:ue.loaded}):(te=(le=this._fullRequestReader)==null?void 0:le.onProgress)==null||te.call(le,{loaded:ue.loaded,total:ue.total})}_onProgressiveDone(){var ue;(ue=this._fullRequestReader)==null||ue.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ue){const W=this._rangeReaders.indexOf(ue);W>=0&&this._rangeReaders.splice(W,1)}getFullReader(){(0,R.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ue=this._queuedChunks;return this._queuedChunks=null,new J(this,ue,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ue,W){if(W<=this._progressiveDataLength)return null;const _e=new fe(this,ue,W);return this._pdfDataRangeTransport.requestDataRange(ue,W),this._rangeReaders.push(_e),_e}cancelAllRequests(ue){var W;(W=this._fullRequestReader)==null||W.cancel(ue);for(const _e of this._rangeReaders.slice(0))_e.cancel(ue);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class J{constructor(ue,W,_e=!1,le=null){this._stream=ue,this._done=_e||!1,this._filename=(0,O.isPdfFile)(le)?le:null,this._queuedChunks=W||[],this._loaded=0;for(const te of this._queuedChunks)this._loaded+=te.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ue._fullRequestReader=this,this.onProgress=null}_enqueue(ue){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ue,done:!1}):this._queuedChunks.push(ue),this._loaded+=ue.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ue=new R.PromiseCapability;return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fe{constructor(ue,W,_e){this._stream=ue,this._begin=W,this._end=_e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ue){if(!this._done){if(this._requests.length===0)this._queuedChunk=ue;else{this._requests.shift().resolve({value:ue,done:!1});for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const W=this._queuedChunk;return this._queuedChunk=null,{value:W,done:!1}}if(this._done)return{value:void 0,done:!0};const ue=new R.PromiseCapability;return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var R=H(1),O=H(20);function B(_e,le,te){return{method:"GET",headers:_e,signal:te.signal,mode:"cors",credentials:le?"include":"same-origin",redirect:"follow"}}function J(_e){const le=new Headers;for(const te in _e){const ie=_e[te];ie!==void 0&&le.append(te,ie)}return le}function fe(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:((0,R.warn)(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class de{constructor(le){this.source=le,this.isHttp=/^https?:/i.test(le.url),this.httpHeaders=this.isHttp&&le.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var le;return((le=this._fullRequestReader)==null?void 0:le._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ue(this),this._fullRequestReader}getRangeReader(le,te){if(te<=this._progressiveDataLength)return null;const ie=new W(this,le,te);return this._rangeRequestReaders.push(ie),ie}cancelAllRequests(le){var te;(te=this._fullRequestReader)==null||te.cancel(le);for(const ie of this._rangeRequestReaders.slice(0))ie.cancel(le)}}$.PDFFetchStream=de;class ue{constructor(le){this._stream=le,this._reader=null,this._loaded=0,this._filename=null;const te=le.source;this._withCredentials=te.withCredentials||!1,this._contentLength=te.length,this._headersCapability=new R.PromiseCapability,this._disableRange=te.disableRange||!1,this._rangeChunkSize=te.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!te.disableStream,this._isRangeSupported=!te.disableRange,this._headers=J(this._stream.httpHeaders);const ie=te.url;fetch(ie,B(this._headers,this._withCredentials,this._abortController)).then(ee=>{if(!(0,O.validateResponseStatus)(ee.status))throw(0,O.createResponseStatusError)(ee.status,ie);this._reader=ee.body.getReader(),this._headersCapability.resolve();const q=be=>ee.headers.get(be),{allowRangeRequests:ne,suggestedLength:ae}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:q,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ne,this._contentLength=ae||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(q),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new R.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ie;await this._headersCapability.promise;const{value:le,done:te}=await this._reader.read();return te?{value:le,done:te}:(this._loaded+=le.byteLength,(ie=this.onProgress)==null||ie.call(this,{loaded:this._loaded,total:this._contentLength}),{value:fe(le),done:!1})}cancel(le){var te;(te=this._reader)==null||te.cancel(le),this._abortController.abort()}}class W{constructor(le,te,ie){this._stream=le,this._reader=null,this._loaded=0;const ee=le.source;this._withCredentials=ee.withCredentials||!1,this._readCapability=new R.PromiseCapability,this._isStreamingSupported=!ee.disableStream,this._abortController=new AbortController,this._headers=J(this._stream.httpHeaders),this._headers.append("Range",`bytes=${te}-${ie-1}`);const q=ee.url;fetch(q,B(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,O.validateResponseStatus)(ne.status))throw(0,O.createResponseStatusError)(ne.status,q);this._readCapability.resolve(),this._reader=ne.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ie;await this._readCapability.promise;const{value:le,done:te}=await this._reader.read();return te?{value:le,done:te}:(this._loaded+=le.byteLength,(ie=this.onProgress)==null||ie.call(this,{loaded:this._loaded}),{value:fe(le),done:!1})}cancel(le){var te;(te=this._reader)==null||te.cancel(le),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=de,$.extractFilenameFromHeader=fe,$.validateRangeRequestCapabilities=J,$.validateResponseStatus=ue;var R=H(1),O=H(21),B=H(6);function J({getResponseHeader:W,isHttp:_e,rangeChunkSize:le,disableRange:te}){const ie={allowRangeRequests:!1,suggestedLength:void 0},ee=parseInt(W("Content-Length"),10);return!Number.isInteger(ee)||(ie.suggestedLength=ee,ee<=2*le)||te||!_e||W("Accept-Ranges")!=="bytes"||(W("Content-Encoding")||"identity")!=="identity"||(ie.allowRangeRequests=!0),ie}function fe(W){const _e=W("Content-Disposition");if(_e){let le=(0,O.getFilenameFromContentDispositionHeader)(_e);if(le.includes("%"))try{le=decodeURIComponent(le)}catch{}if((0,B.isPdfFile)(le))return le}return null}function de(W,_e){return W===404||W===0&&_e.startsWith("file:")?new R.MissingPDFException('Missing PDF "'+_e+'".'):new R.UnexpectedResponseException(`Unexpected server response (${W}) while retrieving PDF "${_e}".`,W)}function ue(W){return W===200||W===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=O;var R=H(1);function O(B){let J=!0,fe=de("filename\\*","i").exec(B);if(fe){fe=fe[1];let ee=le(fe);return ee=unescape(ee),ee=te(ee),ee=ie(ee),W(ee)}if(fe=_e(B),fe){const ee=ie(fe);return W(ee)}if(fe=de("filename","i").exec(B),fe){fe=fe[1];let ee=le(fe);return ee=ie(ee),W(ee)}function de(ee,q){return new RegExp("(?:^|;)\\s*"+ee+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',q)}function ue(ee,q){if(ee){if(!/^[\x00-\xFF]+$/.test(q))return q;try{const ne=new TextDecoder(ee,{fatal:!0}),ae=(0,R.stringToBytes)(q);q=ne.decode(ae),J=!1}catch{}}return q}function W(ee){return J&&/[\x80-\xff]/.test(ee)&&(ee=ue("utf-8",ee),J&&(ee=ue("iso-8859-1",ee))),ee}function _e(ee){const q=[];let ne;const ae=de("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ne=ae.exec(ee))!==null;){let[,he,Y,ce]=ne;if(he=parseInt(he,10),he in q){if(he===0)break;continue}q[he]=[Y,ce]}const be=[];for(let he=0;he<q.length&&he in q;++he){let[Y,ce]=q[he];ce=le(ce),Y&&(ce=unescape(ce),he===0&&(ce=te(ce))),be.push(ce)}return be.join("")}function le(ee){if(ee.startsWith('"')){const q=ee.slice(1).split('\\"');for(let ne=0;ne<q.length;++ne){const ae=q[ne].indexOf('"');ae!==-1&&(q[ne]=q[ne].slice(0,ae),q.length=ne+1),q[ne]=q[ne].replaceAll(/\\(.)/g,"$1")}ee=q.join('"')}return ee}function te(ee){const q=ee.indexOf("'");if(q===-1)return ee;const ne=ee.slice(0,q),be=ee.slice(q+1).replace(/^[^']*'/,"");return ue(ne,be)}function ie(ee){return!ee.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ee)?ee:ee.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(q,ne,ae,be){if(ae==="q"||ae==="Q")return be=be.replaceAll("_"," "),be=be.replaceAll(/=([0-9a-fA-F]{2})/g,function(he,Y){return String.fromCharCode(parseInt(Y,16))}),ue(ne,be);try{be=atob(be)}catch{}return ue(ne,be)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var R=H(1),O=H(20);const B=200,J=206;function fe(le){const te=le.response;return typeof te!="string"?te:(0,R.stringToBytes)(te).buffer}class de{constructor(te,ie={}){this.url=te,this.isHttp=/^https?:/i.test(te),this.httpHeaders=this.isHttp&&ie.httpHeaders||Object.create(null),this.withCredentials=ie.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(te,ie,ee){const q={begin:te,end:ie};for(const ne in ee)q[ne]=ee[ne];return this.request(q)}requestFull(te){return this.request(te)}request(te){const ie=new XMLHttpRequest,ee=this.currXhrId++,q=this.pendingRequests[ee]={xhr:ie};ie.open("GET",this.url),ie.withCredentials=this.withCredentials;for(const ne in this.httpHeaders){const ae=this.httpHeaders[ne];ae!==void 0&&ie.setRequestHeader(ne,ae)}return this.isHttp&&"begin"in te&&"end"in te?(ie.setRequestHeader("Range",`bytes=${te.begin}-${te.end-1}`),q.expectedStatus=J):q.expectedStatus=B,ie.responseType="arraybuffer",te.onError&&(ie.onerror=function(ne){te.onError(ie.status)}),ie.onreadystatechange=this.onStateChange.bind(this,ee),ie.onprogress=this.onProgress.bind(this,ee),q.onHeadersReceived=te.onHeadersReceived,q.onDone=te.onDone,q.onError=te.onError,q.onProgress=te.onProgress,ie.send(null),ee}onProgress(te,ie){var q;const ee=this.pendingRequests[te];ee&&((q=ee.onProgress)==null||q.call(ee,ie))}onStateChange(te,ie){var he,Y,ce;const ee=this.pendingRequests[te];if(!ee)return;const q=ee.xhr;if(q.readyState>=2&&ee.onHeadersReceived&&(ee.onHeadersReceived(),delete ee.onHeadersReceived),q.readyState!==4||!(te in this.pendingRequests))return;if(delete this.pendingRequests[te],q.status===0&&this.isHttp){(he=ee.onError)==null||he.call(ee,q.status);return}const ne=q.status||B;if(!(ne===B&&ee.expectedStatus===J)&&ne!==ee.expectedStatus){(Y=ee.onError)==null||Y.call(ee,q.status);return}const be=fe(q);if(ne===J){const re=q.getResponseHeader("Content-Range"),oe=/bytes (\d+)-(\d+)\/(\d+)/.exec(re);ee.onDone({begin:parseInt(oe[1],10),chunk:be})}else be?ee.onDone({begin:0,chunk:be}):(ce=ee.onError)==null||ce.call(ee,q.status)}getRequestXhr(te){return this.pendingRequests[te].xhr}isPendingRequest(te){return te in this.pendingRequests}abortRequest(te){const ie=this.pendingRequests[te].xhr;delete this.pendingRequests[te],ie.abort()}}class ue{constructor(te){this._source=te,this._manager=new de(te.url,{httpHeaders:te.httpHeaders,withCredentials:te.withCredentials}),this._rangeChunkSize=te.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(te){const ie=this._rangeRequestReaders.indexOf(te);ie>=0&&this._rangeRequestReaders.splice(ie,1)}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new W(this._manager,this._source),this._fullRequestReader}getRangeReader(te,ie){const ee=new _e(this._manager,te,ie);return ee.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ee),ee}cancelAllRequests(te){var ie;(ie=this._fullRequestReader)==null||ie.cancel(te);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(te)}}$.PDFNetworkStream=ue;class W{constructor(te,ie){this._manager=te;const ee={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ie.url,this._fullRequestId=te.requestFull(ee),this._headersReceivedCapability=new R.PromiseCapability,this._disableRange=ie.disableRange||!1,this._contentLength=ie.length,this._rangeChunkSize=ie.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const te=this._fullRequestId,ie=this._manager.getRequestXhr(te),ee=ae=>ie.getResponseHeader(ae),{allowRangeRequests:q,suggestedLength:ne}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:ee,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});q&&(this._isRangeSupported=!0),this._contentLength=ne||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(ee),this._isRangeSupported&&this._manager.abortRequest(te),this._headersReceivedCapability.resolve()}_onDone(te){if(te&&(this._requests.length>0?this._requests.shift().resolve({value:te.chunk,done:!1}):this._cachedChunks.push(te.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(te){this._storedError=(0,O.createResponseStatusError)(te,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ie of this._requests)ie.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(te){var ie;(ie=this.onProgress)==null||ie.call(this,{loaded:te.loaded,total:te.lengthComputable?te.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const te=new R.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0,this._headersReceivedCapability.reject(te);for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _e{constructor(te,ie,ee){this._manager=te;const q={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=te.url,this._requestId=te.requestRange(ie,ee,q),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var te;(te=this.onClosed)==null||te.call(this,this)}_onDone(te){const ie=te.chunk;this._requests.length>0?this._requests.shift().resolve({value:ie,done:!1}):this._queuedChunk=ie,this._done=!0;for(const ee of this._requests)ee.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(te){this._storedError=(0,O.createResponseStatusError)(te,this._url);for(const ie of this._requests)ie.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(te){var ie;this.isStreamingSupported||(ie=this.onProgress)==null||ie.call(this,{loaded:te.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ie=this._queuedChunk;return this._queuedChunk=null,{value:ie,done:!1}}if(this._done)return{value:void 0,done:!0};const te=new R.PromiseCapability;return this._requests.push(te),te.promise}cancel(te){this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var R=H(1),O=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function J(ee){const q=require$$5,ne=q.parse(ee);return ne.protocol==="file:"||ne.host?ne:/^[a-z]:[/\\]/i.test(ee)?q.parse(`file:///${ee}`):(ne.host||(ne.protocol="file:"),ne)}class fe{constructor(q){this.source=q,this.url=J(q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var q;return((q=this._fullRequestReader)==null?void 0:q._loaded)??0}getFullReader(){return(0,R.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new _e(this),this._fullRequestReader}getRangeReader(q,ne){if(ne<=this._progressiveDataLength)return null;const ae=this.isFsUrl?new ie(this,q,ne):new le(this,q,ne);return this._rangeRequestReaders.push(ae),ae}cancelAllRequests(q){var ne;(ne=this._fullRequestReader)==null||ne.cancel(q);for(const ae of this._rangeRequestReaders.slice(0))ae.cancel(q)}}$.PDFNodeStream=fe;class de{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null;const ne=q.source;this._contentLength=ne.length,this._loaded=0,this._filename=null,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._readableStream=null,this._readCapability=new R.PromiseCapability,this._headersCapability=new R.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ae;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(ae=this.onProgress)==null||ae.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ne=>{this._error(ne)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new R.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ue{constructor(q){this._url=q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new R.PromiseCapability;const ne=q.source;this._isStreamingSupported=!ne.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ae;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const q=this._readableStream.read();return q===null?(this._readCapability=new R.PromiseCapability,this.read()):(this._loaded+=q.length,(ae=this.onProgress)==null||ae.call(this,{loaded:this._loaded}),{value:new Uint8Array(q).buffer,done:!1})}cancel(q){if(!this._readableStream){this._error(q);return}this._readableStream.destroy(q)}_error(q){this._storedError=q,this._readCapability.resolve()}_setReadableStream(q){this._readableStream=q,q.on("readable",()=>{this._readCapability.resolve()}),q.on("end",()=>{q.destroy(),this._done=!0,this._readCapability.resolve()}),q.on("error",ne=>{this._error(ne)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function W(ee,q){return{protocol:ee.protocol,auth:ee.auth,host:ee.hostname,port:ee.port,path:ee.path,method:"GET",headers:q}}class _e extends de{constructor(q){super(q);const ne=ae=>{if(ae.statusCode===404){const ce=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ce,this._headersCapability.reject(ce);return}this._headersCapability.resolve(),this._setReadableStream(ae);const be=ce=>this._readableStream.headers[ce.toLowerCase()],{allowRangeRequests:he,suggestedLength:Y}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:be,isHttp:q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=he,this._contentLength=Y||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(be)};if(this._request=null,this._url.protocol==="http:"){const ae=require$$5;this._request=ae.request(W(this._url,q.httpHeaders),ne)}else{const ae=require$$5;this._request=ae.request(W(this._url,q.httpHeaders),ne)}this._request.on("error",ae=>{this._storedError=ae,this._headersCapability.reject(ae)}),this._request.end()}}class le extends ue{constructor(q,ne,ae){super(q),this._httpHeaders={};for(const he in q.httpHeaders){const Y=q.httpHeaders[he];Y!==void 0&&(this._httpHeaders[he]=Y)}this._httpHeaders.Range=`bytes=${ne}-${ae-1}`;const be=he=>{if(he.statusCode===404){const Y=new R.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Y;return}this._setReadableStream(he)};if(this._request=null,this._url.protocol==="http:"){const he=require$$5;this._request=he.request(W(this._url,this._httpHeaders),be)}else{const he=require$$5;this._request=he.request(W(this._url,this._httpHeaders),be)}this._request.on("error",he=>{this._storedError=he}),this._request.end()}}class te extends de{constructor(q){super(q);let ne=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ne=ne.replace(/^\//,""));const ae=require$$5;ae.lstat(ne,(be,he)=>{if(be){be.code==="ENOENT"&&(be=new R.MissingPDFException(`Missing PDF "${ne}".`)),this._storedError=be,this._headersCapability.reject(be);return}this._contentLength=he.size,this._setReadableStream(ae.createReadStream(ne)),this._headersCapability.resolve()})}}class ie extends ue{constructor(q,ne,ae){super(q);let be=decodeURIComponent(this._url.path);B.test(this._url.href)&&(be=be.replace(/^\//,""));const he=require$$5;this._setReadableStream(he.createReadStream(be,{start:ne,end:ae-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var R=H(6),O=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},J="http://www.w3.org/XML/1998/namespace",fe="http://www.w3.org/1999/xlink",de=["butt","round","square"],ue=["miter","round","bevel"],W=function(he,Y="",ce=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ce)return URL.createObjectURL(new Blob([he],{type:Y}));const re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let oe=`data:${Y};base64,`;for(let se=0,ye=he.length;se<ye;se+=3){const Q=he[se]&255,ve=he[se+1]&255,Ce=he[se+2]&255,Oe=Q>>2,$e=(Q&3)<<4|ve>>4,je=se+1<ye?(ve&15)<<2|Ce>>6:64,Le=se+2<ye?Ce&63:64;oe+=re[Oe]+re[$e]+re[je]+re[Le]}return oe},_e=function(){const he=new Uint8Array([137,80,78,71,13,10,26,10]),Y=12,ce=new Int32Array(256);for(let Ce=0;Ce<256;Ce++){let Oe=Ce;for(let $e=0;$e<8;$e++)Oe=Oe&1?3988292384^Oe>>1&2147483647:Oe>>1&2147483647;ce[Ce]=Oe}function re(Ce,Oe,$e){let je=-1;for(let Le=Oe;Le<$e;Le++){const Xe=(je^Ce[Le])&255,xe=ce[Xe];je=je>>>8^xe}return je^-1}function oe(Ce,Oe,$e,je){let Le=je;const Xe=Oe.length;$e[Le]=Xe>>24&255,$e[Le+1]=Xe>>16&255,$e[Le+2]=Xe>>8&255,$e[Le+3]=Xe&255,Le+=4,$e[Le]=Ce.charCodeAt(0)&255,$e[Le+1]=Ce.charCodeAt(1)&255,$e[Le+2]=Ce.charCodeAt(2)&255,$e[Le+3]=Ce.charCodeAt(3)&255,Le+=4,$e.set(Oe,Le),Le+=Oe.length;const xe=re($e,je+4,Le);$e[Le]=xe>>24&255,$e[Le+1]=xe>>16&255,$e[Le+2]=xe>>8&255,$e[Le+3]=xe&255}function se(Ce,Oe,$e){let je=1,Le=0;for(let Xe=Oe;Xe<$e;++Xe)je=(je+(Ce[Xe]&255))%65521,Le=(Le+je)%65521;return Le<<16|je}function ye(Ce){if(!O.isNodeJS)return Q(Ce);try{const Oe=parseInt(process.versions.node)>=8?Ce:Buffer.from(Ce),$e=require$$5.deflateSync(Oe,{level:9});return $e instanceof Uint8Array?$e:new Uint8Array($e)}catch(Oe){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return Q(Ce)}function Q(Ce){let Oe=Ce.length;const $e=65535,je=Math.ceil(Oe/$e),Le=new Uint8Array(2+Oe+je*5+4);let Xe=0;Le[Xe++]=120,Le[Xe++]=156;let xe=0;for(;Oe>$e;)Le[Xe++]=0,Le[Xe++]=255,Le[Xe++]=255,Le[Xe++]=0,Le[Xe++]=0,Le.set(Ce.subarray(xe,xe+$e),Xe),Xe+=$e,xe+=$e,Oe-=$e;Le[Xe++]=1,Le[Xe++]=Oe&255,Le[Xe++]=Oe>>8&255,Le[Xe++]=~Oe&65535&255,Le[Xe++]=(~Oe&65535)>>8&255,Le.set(Ce.subarray(xe),Xe),Xe+=Ce.length-xe;const Te=se(Ce,0,Ce.length);return Le[Xe++]=Te>>24&255,Le[Xe++]=Te>>16&255,Le[Xe++]=Te>>8&255,Le[Xe++]=Te&255,Le}function ve(Ce,Oe,$e,je){const Le=Ce.width,Xe=Ce.height;let xe,Te,Ve;const Ee=Ce.data;switch(Oe){case O.ImageKind.GRAYSCALE_1BPP:Te=0,xe=1,Ve=Le+7>>3;break;case O.ImageKind.RGB_24BPP:Te=2,xe=8,Ve=Le*3;break;case O.ImageKind.RGBA_32BPP:Te=6,xe=8,Ve=Le*4;break;default:throw new Error("invalid format")}const G=new Uint8Array((1+Ve)*Xe);let K=0,ge=0;for(let st=0;st<Xe;++st)G[K++]=0,G.set(Ee.subarray(ge,ge+Ve),K),ge+=Ve,K+=Ve;if(Oe===O.ImageKind.GRAYSCALE_1BPP&&je){K=0;for(let st=0;st<Xe;st++){K++;for(let ct=0;ct<Ve;ct++)G[K++]^=255}}const Pe=new Uint8Array([Le>>24&255,Le>>16&255,Le>>8&255,Le&255,Xe>>24&255,Xe>>16&255,Xe>>8&255,Xe&255,xe,Te,0,0,0]),Ae=ye(G),ke=he.length+Y*3+Pe.length+Ae.length,Ne=new Uint8Array(ke);let et=0;return Ne.set(he,et),et+=he.length,oe("IHDR",Pe,Ne,et),et+=Y+Pe.length,oe("IDATA",Ae,Ne,et),et+=Y+Ae.length,oe("IEND",new Uint8Array(0),Ne,et),W(Ne,"image/png",$e)}return function(Oe,$e,je){const Le=Oe.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:Oe.kind;return ve(Oe,Le,$e,je)}}();class le{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Y,ce){this.x=Y,this.y=ce}}function te(he){let Y=[];const ce=[];for(const re of he){if(re.fn==="save"){Y.push({fnId:92,fn:"group",items:[]}),ce.push(Y),Y=Y.at(-1).items;continue}re.fn==="restore"?Y=ce.pop():Y.push(re)}return Y}function ie(he){if(Number.isInteger(he))return he.toString();const Y=he.toFixed(10);let ce=Y.length-1;if(Y[ce]!=="0")return Y;do ce--;while(Y[ce]==="0");return Y.substring(0,Y[ce]==="."?ce:ce+1)}function ee(he){if(he[4]===0&&he[5]===0){if(he[1]===0&&he[2]===0)return he[0]===1&&he[3]===1?"":`scale(${ie(he[0])} ${ie(he[3])})`;if(he[0]===he[3]&&he[1]===-he[2]){const Y=Math.acos(he[0])*180/Math.PI;return`rotate(${ie(Y)})`}}else if(he[0]===1&&he[1]===0&&he[2]===0&&he[3]===1)return`translate(${ie(he[4])} ${ie(he[5])})`;return`matrix(${ie(he[0])} ${ie(he[1])} ${ie(he[2])} ${ie(he[3])} ${ie(he[4])} ${ie(he[5])})`}let q=0,ne=0,ae=0;class be{constructor(Y,ce,re=!1){(0,R.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new R.DOMSVGFactory,this.current=new le,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Y,this.objs=ce,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!re,this._operatorIdMapping=[];for(const oe in O.OPS)this._operatorIdMapping[O.OPS[oe]]=oe}getObject(Y,ce=null){return typeof Y=="string"?Y.startsWith("g_")?this.commonObjs.get(Y):this.objs.get(Y):ce}save(){this.transformStack.push(this.transformMatrix);const Y=this.current;this.extraStack.push(Y),this.current=Y.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Y){this.save(),this.executeOpTree(Y),this.restore()}loadDependencies(Y){const ce=Y.fnArray,re=Y.argsArray;for(let oe=0,se=ce.length;oe<se;oe++)if(ce[oe]===O.OPS.dependency)for(const ye of re[oe]){const Q=ye.startsWith("g_")?this.commonObjs:this.objs,ve=new Promise(Ce=>{Q.get(ye,Ce)});this.current.dependencies.push(ve)}return Promise.all(this.current.dependencies)}transform(Y,ce,re,oe,se,ye){const Q=[Y,ce,re,oe,se,ye];this.transformMatrix=O.Util.transform(this.transformMatrix,Q),this.tgrp=null}getSVG(Y,ce){this.viewport=ce;const re=this._initialize(ce);return this.loadDependencies(Y).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Y)),re))}convertOpList(Y){const ce=this._operatorIdMapping,re=Y.argsArray,oe=Y.fnArray,se=[];for(let ye=0,Q=oe.length;ye<Q;ye++){const ve=oe[ye];se.push({fnId:ve,fn:ce[ve],args:re[ye]})}return te(se)}executeOpTree(Y){for(const ce of Y){const re=ce.fn,oe=ce.fnId,se=ce.args;switch(oe|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(se);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(se[0],se[1]);break;case O.OPS.setFont:this.setFont(se);break;case O.OPS.showText:this.showText(se[0]);break;case O.OPS.showSpacedText:this.showText(se[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(se[0],se[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(se[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(se[0]);break;case O.OPS.setHScale:this.setHScale(se[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(se[0],se[1],se[2],se[3],se[4],se[5]);break;case O.OPS.setTextRise:this.setTextRise(se[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(se[0]);break;case O.OPS.setLineWidth:this.setLineWidth(se[0]);break;case O.OPS.setLineJoin:this.setLineJoin(se[0]);break;case O.OPS.setLineCap:this.setLineCap(se[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(se[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(se[0],se[1],se[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(se[0],se[1],se[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(se);break;case O.OPS.setFillColorN:this.setFillColorN(se);break;case O.OPS.shadingFill:this.shadingFill(se[0]);break;case O.OPS.setDash:this.setDash(se[0],se[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(se[0]);break;case O.OPS.setFlatness:this.setFlatness(se[0]);break;case O.OPS.setGState:this.setGState(se[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(se[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(se[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(se[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(se[0],se[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(se[0],se[1],se[2],se[3],se[4],se[5]);break;case O.OPS.constructPath:this.constructPath(se[0],se[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(ce.items);break;default:(0,O.warn)(`Unimplemented operator ${re}`);break}}}setWordSpacing(Y){this.current.wordSpacing=Y}setCharSpacing(Y){this.current.charSpacing=Y}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Y,ce,re,oe,se,ye){const Q=this.current;Q.textMatrix=Q.lineMatrix=[Y,ce,re,oe,se,ye],Q.textMatrixScale=Math.hypot(Y,ce),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${ie(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",ie(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){const Y=this.current;Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.textMatrix=O.IDENTITY_MATRIX,Y.lineMatrix=O.IDENTITY_MATRIX,Y.textMatrixScale=1,Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtgrp=this.svgFactory.createElement("svg:g"),Y.xcoords=[],Y.ycoords=[]}moveText(Y,ce){const re=this.current;re.x=re.lineX+=Y,re.y=re.lineY+=ce,re.xcoords=[],re.ycoords=[],re.tspan=this.svgFactory.createElement("svg:tspan"),re.tspan.setAttributeNS(null,"font-family",re.fontFamily),re.tspan.setAttributeNS(null,"font-size",`${ie(re.fontSize)}px`),re.tspan.setAttributeNS(null,"y",ie(-re.y))}showText(Y){const ce=this.current,re=ce.font,oe=ce.fontSize;if(oe===0)return;const se=ce.fontSizeScale,ye=ce.charSpacing,Q=ce.wordSpacing,ve=ce.fontDirection,Ce=ce.textHScale*ve,Oe=re.vertical,$e=Oe?1:-1,je=re.defaultVMetrics,Le=oe*ce.fontMatrix[0];let Xe=0;for(const Ve of Y){if(Ve===null){Xe+=ve*Q;continue}else if(typeof Ve=="number"){Xe+=$e*Ve*oe/1e3;continue}const Ee=(Ve.isSpace?Q:0)+ye,G=Ve.fontChar;let K,ge,Pe=Ve.width;if(Oe){let ke;const Ne=Ve.vmetric||je;ke=Ve.vmetric?Ne[1]:Pe*.5,ke=-ke*Le;const et=Ne[2]*Le;Pe=Ne?-Ne[0]:Pe,K=ke/se,ge=(Xe+et)/se}else K=Xe/se,ge=0;(Ve.isInFont||re.missingFile)&&(ce.xcoords.push(ce.x+K),Oe&&ce.ycoords.push(-ce.y+ge),ce.tspan.textContent+=G);const Ae=Oe?Pe*Le-Ee*ve:Pe*Le+Ee*ve;Xe+=Ae}ce.tspan.setAttributeNS(null,"x",ce.xcoords.map(ie).join(" ")),Oe?ce.tspan.setAttributeNS(null,"y",ce.ycoords.map(ie).join(" ")):ce.tspan.setAttributeNS(null,"y",ie(-ce.y)),Oe?ce.y-=Xe:ce.x+=Xe*Ce,ce.tspan.setAttributeNS(null,"font-family",ce.fontFamily),ce.tspan.setAttributeNS(null,"font-size",`${ie(ce.fontSize)}px`),ce.fontStyle!==B.fontStyle&&ce.tspan.setAttributeNS(null,"font-style",ce.fontStyle),ce.fontWeight!==B.fontWeight&&ce.tspan.setAttributeNS(null,"font-weight",ce.fontWeight);const xe=ce.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(xe===O.TextRenderingMode.FILL||xe===O.TextRenderingMode.FILL_STROKE?(ce.fillColor!==B.fillColor&&ce.tspan.setAttributeNS(null,"fill",ce.fillColor),ce.fillAlpha<1&&ce.tspan.setAttributeNS(null,"fill-opacity",ce.fillAlpha)):ce.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?ce.tspan.setAttributeNS(null,"fill","transparent"):ce.tspan.setAttributeNS(null,"fill","none"),xe===O.TextRenderingMode.STROKE||xe===O.TextRenderingMode.FILL_STROKE){const Ve=1/(ce.textMatrixScale||1);this._setStrokeAttributes(ce.tspan,Ve)}let Te=ce.textMatrix;ce.textRise!==0&&(Te=Te.slice(),Te[5]+=ce.textRise),ce.txtElement.setAttributeNS(null,"transform",`${ee(Te)} scale(${ie(Ce)}, -1)`),ce.txtElement.setAttributeNS(J,"xml:space","preserve"),ce.txtElement.append(ce.tspan),ce.txtgrp.append(ce.txtElement),this._ensureTransformGroup().append(ce.txtElement)}setLeadingMoveText(Y,ce){this.setLeading(-ce),this.moveText(Y,ce)}addFontStyle(Y){if(!Y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ce=W(Y.data,Y.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Y.loadedName}"; src: url(${ce}); }
`}setFont(Y){const ce=this.current,re=this.commonObjs.get(Y[0]);let oe=Y[1];ce.font=re,this.embedFonts&&!re.missingFile&&!this.embeddedFonts[re.loadedName]&&(this.addFontStyle(re),this.embeddedFonts[re.loadedName]=re),ce.fontMatrix=re.fontMatrix||O.FONT_IDENTITY_MATRIX;let se="normal";re.black?se="900":re.bold&&(se="bold");const ye=re.italic?"italic":"normal";oe<0?(oe=-oe,ce.fontDirection=-1):ce.fontDirection=1,ce.fontSize=oe,ce.fontFamily=re.loadedName,ce.fontWeight=se,ce.fontStyle=ye,ce.tspan=this.svgFactory.createElement("svg:tspan"),ce.tspan.setAttributeNS(null,"y",ie(-ce.y)),ce.xcoords=[],ce.ycoords=[]}endText(){var ce;const Y=this.current;Y.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((ce=Y.txtElement)!=null&&ce.hasChildNodes())&&(Y.element=Y.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Y){Y>0&&(this.current.lineWidth=Y)}setLineCap(Y){this.current.lineCap=de[Y]}setLineJoin(Y){this.current.lineJoin=ue[Y]}setMiterLimit(Y){this.current.miterLimit=Y}setStrokeAlpha(Y){this.current.strokeAlpha=Y}setStrokeRGBColor(Y,ce,re){this.current.strokeColor=O.Util.makeHexColor(Y,ce,re)}setFillAlpha(Y){this.current.fillAlpha=Y}setFillRGBColor(Y,ce,re){this.current.fillColor=O.Util.makeHexColor(Y,ce,re),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Y){this.current.strokeColor=this._makeColorN_Pattern(Y)}setFillColorN(Y){this.current.fillColor=this._makeColorN_Pattern(Y)}shadingFill(Y){const{width:ce,height:re}=this.viewport,oe=O.Util.inverseTransform(this.transformMatrix),[se,ye,Q,ve]=O.Util.getAxialAlignedBoundingBox([0,0,ce,re],oe),Ce=this.svgFactory.createElement("svg:rect");Ce.setAttributeNS(null,"x",se),Ce.setAttributeNS(null,"y",ye),Ce.setAttributeNS(null,"width",Q-se),Ce.setAttributeNS(null,"height",ve-ye),Ce.setAttributeNS(null,"fill",this._makeShadingPattern(Y)),this.current.fillAlpha<1&&Ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ce)}_makeColorN_Pattern(Y){return Y[0]==="TilingPattern"?this._makeTilingPattern(Y):this._makeShadingPattern(Y)}_makeTilingPattern(Y){const ce=Y[1],re=Y[2],oe=Y[3]||O.IDENTITY_MATRIX,[se,ye,Q,ve]=Y[4],Ce=Y[5],Oe=Y[6],$e=Y[7],je=`shading${ae++}`,[Le,Xe,xe,Te]=O.Util.normalizeRect([...O.Util.applyTransform([se,ye],oe),...O.Util.applyTransform([Q,ve],oe)]),[Ve,Ee]=O.Util.singularValueDecompose2dScale(oe),G=Ce*Ve,K=Oe*Ee,ge=this.svgFactory.createElement("svg:pattern");ge.setAttributeNS(null,"id",je),ge.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ge.setAttributeNS(null,"width",G),ge.setAttributeNS(null,"height",K),ge.setAttributeNS(null,"x",`${Le}`),ge.setAttributeNS(null,"y",`${Xe}`);const Pe=this.svg,Ae=this.transformMatrix,ke=this.current.fillColor,Ne=this.current.strokeColor,et=this.svgFactory.create(xe-Le,Te-Xe);if(this.svg=et,this.transformMatrix=oe,$e===2){const st=O.Util.makeHexColor(...ce);this.current.fillColor=st,this.current.strokeColor=st}return this.executeOpTree(this.convertOpList(re)),this.svg=Pe,this.transformMatrix=Ae,this.current.fillColor=ke,this.current.strokeColor=Ne,ge.append(et.childNodes[0]),this.defs.append(ge),`url(#${je})`}_makeShadingPattern(Y){switch(typeof Y=="string"&&(Y=this.objs.get(Y)),Y[0]){case"RadialAxial":const ce=`shading${ae++}`,re=Y[3];let oe;switch(Y[1]){case"axial":const se=Y[4],ye=Y[5];oe=this.svgFactory.createElement("svg:linearGradient"),oe.setAttributeNS(null,"id",ce),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"x1",se[0]),oe.setAttributeNS(null,"y1",se[1]),oe.setAttributeNS(null,"x2",ye[0]),oe.setAttributeNS(null,"y2",ye[1]);break;case"radial":const Q=Y[4],ve=Y[5],Ce=Y[6],Oe=Y[7];oe=this.svgFactory.createElement("svg:radialGradient"),oe.setAttributeNS(null,"id",ce),oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),oe.setAttributeNS(null,"cx",ve[0]),oe.setAttributeNS(null,"cy",ve[1]),oe.setAttributeNS(null,"r",Oe),oe.setAttributeNS(null,"fx",Q[0]),oe.setAttributeNS(null,"fy",Q[1]),oe.setAttributeNS(null,"fr",Ce);break;default:throw new Error(`Unknown RadialAxial type: ${Y[1]}`)}for(const se of re){const ye=this.svgFactory.createElement("svg:stop");ye.setAttributeNS(null,"offset",se[0]),ye.setAttributeNS(null,"stop-color",se[1]),oe.append(ye)}return this.defs.append(oe),`url(#${ce})`;case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Y[0]}`)}}setDash(Y,ce){this.current.dashArray=Y,this.current.dashPhase=ce}constructPath(Y,ce){const re=this.current;let oe=re.x,se=re.y,ye=[],Q=0;for(const ve of Y)switch(ve|0){case O.OPS.rectangle:oe=ce[Q++],se=ce[Q++];const Ce=ce[Q++],Oe=ce[Q++],$e=oe+Ce,je=se+Oe;ye.push("M",ie(oe),ie(se),"L",ie($e),ie(se),"L",ie($e),ie(je),"L",ie(oe),ie(je),"Z");break;case O.OPS.moveTo:oe=ce[Q++],se=ce[Q++],ye.push("M",ie(oe),ie(se));break;case O.OPS.lineTo:oe=ce[Q++],se=ce[Q++],ye.push("L",ie(oe),ie(se));break;case O.OPS.curveTo:oe=ce[Q+4],se=ce[Q+5],ye.push("C",ie(ce[Q]),ie(ce[Q+1]),ie(ce[Q+2]),ie(ce[Q+3]),ie(oe),ie(se)),Q+=6;break;case O.OPS.curveTo2:ye.push("C",ie(oe),ie(se),ie(ce[Q]),ie(ce[Q+1]),ie(ce[Q+2]),ie(ce[Q+3])),oe=ce[Q+2],se=ce[Q+3],Q+=4;break;case O.OPS.curveTo3:oe=ce[Q+2],se=ce[Q+3],ye.push("C",ie(ce[Q]),ie(ce[Q+1]),ie(oe),ie(se),ie(oe),ie(se)),Q+=4;break;case O.OPS.closePath:ye.push("Z");break}ye=ye.join(" "),re.path&&Y.length>0&&Y[0]!==O.OPS.rectangle&&Y[0]!==O.OPS.moveTo?ye=re.path.getAttributeNS(null,"d")+ye:(re.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(re.path)),re.path.setAttributeNS(null,"d",ye),re.path.setAttributeNS(null,"fill","none"),re.element=re.path,re.setCurrentPoint(oe,se)}endPath(){const Y=this.current;if(Y.path=null,!this.pendingClip)return;if(!Y.element){this.pendingClip=null;return}const ce=`clippath${q++}`,re=this.svgFactory.createElement("svg:clipPath");re.setAttributeNS(null,"id",ce),re.setAttributeNS(null,"transform",ee(this.transformMatrix));const oe=Y.element.cloneNode(!0);if(this.pendingClip==="evenodd"?oe.setAttributeNS(null,"clip-rule","evenodd"):oe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,re.append(oe),this.defs.append(re),Y.activeClipUrl){Y.clipGroup=null;for(const se of this.extraStack)se.clipGroup=null;re.setAttributeNS(null,"clip-path",Y.activeClipUrl)}Y.activeClipUrl=`url(#${ce})`,this.tgrp=null}clip(Y){this.pendingClip=Y}closePath(){const Y=this.current;if(Y.path){const ce=`${Y.path.getAttributeNS(null,"d")}Z`;Y.path.setAttributeNS(null,"d",ce)}}setLeading(Y){this.current.leading=-Y}setTextRise(Y){this.current.textRise=Y}setTextRenderingMode(Y){this.current.textRenderingMode=Y}setHScale(Y){this.current.textHScale=Y/100}setRenderingIntent(Y){}setFlatness(Y){}setGState(Y){for(const[ce,re]of Y)switch(ce){case"LW":this.setLineWidth(re);break;case"LC":this.setLineCap(re);break;case"LJ":this.setLineJoin(re);break;case"ML":this.setMiterLimit(re);break;case"D":this.setDash(re[0],re[1]);break;case"RI":this.setRenderingIntent(re);break;case"FL":this.setFlatness(re);break;case"Font":this.setFont(re);break;case"CA":this.setStrokeAlpha(re);break;case"ca":this.setFillAlpha(re);break;default:(0,O.warn)(`Unimplemented graphic state operator ${ce}`);break}}fill(){const Y=this.current;Y.element&&(Y.element.setAttributeNS(null,"fill",Y.fillColor),Y.element.setAttributeNS(null,"fill-opacity",Y.fillAlpha),this.endPath())}stroke(){const Y=this.current;Y.element&&(this._setStrokeAttributes(Y.element),Y.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Y,ce=1){const re=this.current;let oe=re.dashArray;ce!==1&&oe.length>0&&(oe=oe.map(function(se){return ce*se})),Y.setAttributeNS(null,"stroke",re.strokeColor),Y.setAttributeNS(null,"stroke-opacity",re.strokeAlpha),Y.setAttributeNS(null,"stroke-miterlimit",ie(re.miterLimit)),Y.setAttributeNS(null,"stroke-linecap",re.lineCap),Y.setAttributeNS(null,"stroke-linejoin",re.lineJoin),Y.setAttributeNS(null,"stroke-width",ie(ce*re.lineWidth)+"px"),Y.setAttributeNS(null,"stroke-dasharray",oe.map(ie).join(" ")),Y.setAttributeNS(null,"stroke-dashoffset",ie(ce*re.dashPhase)+"px")}eoFill(){var Y;(Y=this.current.element)==null||Y.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Y;(Y=this.current.element)==null||Y.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width","1px"),Y.setAttributeNS(null,"height","1px"),Y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Y)}paintImageXObject(Y){const ce=this.getObject(Y);if(!ce){(0,O.warn)(`Dependent image with object ID ${Y} is not ready yet`);return}this.paintInlineImageXObject(ce)}paintInlineImageXObject(Y,ce){const re=Y.width,oe=Y.height,se=_e(Y,this.forceDataSchema,!!ce),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y","0"),ye.setAttributeNS(null,"width",ie(re)),ye.setAttributeNS(null,"height",ie(oe)),this.current.element=ye,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS(fe,"xlink:href",se),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",ie(-oe)),Q.setAttributeNS(null,"width",ie(re)+"px"),Q.setAttributeNS(null,"height",ie(oe)+"px"),Q.setAttributeNS(null,"transform",`scale(${ie(1/re)} ${ie(-1/oe)})`),ce?ce.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(Y){const ce=this.getObject(Y.data,Y);if(ce.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const re=this.current,oe=ce.width,se=ce.height,ye=re.fillColor;re.maskId=`mask${ne++}`;const Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",re.maskId);const ve=this.svgFactory.createElement("svg:rect");ve.setAttributeNS(null,"x","0"),ve.setAttributeNS(null,"y","0"),ve.setAttributeNS(null,"width",ie(oe)),ve.setAttributeNS(null,"height",ie(se)),ve.setAttributeNS(null,"fill",ye),ve.setAttributeNS(null,"mask",`url(#${re.maskId})`),this.defs.append(Q),this._ensureTransformGroup().append(ve),this.paintInlineImageXObject(ce,Q)}paintFormXObjectBegin(Y,ce){if(Array.isArray(Y)&&Y.length===6&&this.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),ce){const re=ce[2]-ce[0],oe=ce[3]-ce[1],se=this.svgFactory.createElement("svg:rect");se.setAttributeNS(null,"x",ce[0]),se.setAttributeNS(null,"y",ce[1]),se.setAttributeNS(null,"width",ie(re)),se.setAttributeNS(null,"height",ie(oe)),this.current.element=se,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Y){const ce=this.svgFactory.create(Y.width,Y.height),re=this.svgFactory.createElement("svg:defs");ce.append(re),this.defs=re;const oe=this.svgFactory.createElement("svg:g");return oe.setAttributeNS(null,"transform",ee(Y.transform)),ce.append(oe),this.svg=oe,ce}_ensureClipGroup(){if(!this.current.clipGroup){const Y=this.svgFactory.createElement("svg:g");Y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Y),this.current.clipGroup=Y}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ee(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=be},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(O){const B=[],J={items:B,styles:Object.create(null)};function fe(de){var _e;if(!de)return;let ue=null;const W=de.name;if(W==="#text")ue=de.value;else if(H.shouldBuildText(W))(_e=de==null?void 0:de.attributes)!=null&&_e.textContent?ue=de.attributes.textContent:de.value&&(ue=de.value);else return;if(ue!==null&&B.push({str:ue}),!!de.children)for(const le of de.children)fe(le)}return fe(O),J}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=ee,$.updateTextLayer=q;var R=H(1),O=H(6);const B=1e5,J=30,fe=.8,de=new Map;function ue(ne,ae){let be;if(ae&&R.FeatureTest.isOffscreenCanvasSupported)be=new OffscreenCanvas(ne,ne).getContext("2d",{alpha:!1});else{const he=document.createElement("canvas");he.width=he.height=ne,be=he.getContext("2d",{alpha:!1})}return be}function W(ne,ae){const be=de.get(ne);if(be)return be;const he=ue(J,ae);he.font=`${J}px ${ne}`;const Y=he.measureText("");let ce=Y.fontBoundingBoxAscent,re=Math.abs(Y.fontBoundingBoxDescent);if(ce){const se=ce/(ce+re);return de.set(ne,se),he.canvas.width=he.canvas.height=0,se}he.strokeStyle="red",he.clearRect(0,0,J,J),he.strokeText("g",0,0);let oe=he.getImageData(0,0,J,J).data;re=0;for(let se=oe.length-1-3;se>=0;se-=4)if(oe[se]>0){re=Math.ceil(se/4/J);break}he.clearRect(0,0,J,J),he.strokeText("A",0,J),oe=he.getImageData(0,0,J,J).data,ce=0;for(let se=0,ye=oe.length;se<ye;se+=4)if(oe[se]>0){ce=J-Math.floor(se/4/J);break}if(he.canvas.width=he.canvas.height=0,ce){const se=ce/(ce+re);return de.set(ne,se),se}return de.set(ne,fe),fe}function _e(ne,ae,be){const he=document.createElement("span"),Y={angle:0,canvasWidth:0,hasText:ae.str!=="",hasEOL:ae.hasEOL,fontSize:0};ne._textDivs.push(he);const ce=R.Util.transform(ne._transform,ae.transform);let re=Math.atan2(ce[1],ce[0]);const oe=be[ae.fontName];oe.vertical&&(re+=Math.PI/2);const se=Math.hypot(ce[2],ce[3]),ye=se*W(oe.fontFamily,ne._isOffscreenCanvasSupported);let Q,ve;re===0?(Q=ce[4],ve=ce[5]-ye):(Q=ce[4]+ye*Math.sin(re),ve=ce[5]-ye*Math.cos(re));const Ce="calc(var(--scale-factor)*",Oe=he.style;ne._container===ne._rootContainer?(Oe.left=`${(100*Q/ne._pageWidth).toFixed(2)}%`,Oe.top=`${(100*ve/ne._pageHeight).toFixed(2)}%`):(Oe.left=`${Ce}${Q.toFixed(2)}px)`,Oe.top=`${Ce}${ve.toFixed(2)}px)`),Oe.fontSize=`${Ce}${se.toFixed(2)}px)`,Oe.fontFamily=oe.fontFamily,Y.fontSize=se,he.setAttribute("role","presentation"),he.textContent=ae.str,he.dir=ae.dir,ne._fontInspectorEnabled&&(he.dataset.fontName=ae.fontName),re!==0&&(Y.angle=re*(180/Math.PI));let $e=!1;if(ae.str.length>1)$e=!0;else if(ae.str!==" "&&ae.transform[0]!==ae.transform[3]){const je=Math.abs(ae.transform[0]),Le=Math.abs(ae.transform[3]);je!==Le&&Math.max(je,Le)/Math.min(je,Le)>1.5&&($e=!0)}$e&&(Y.canvasWidth=oe.vertical?ae.height:ae.width),ne._textDivProperties.set(he,Y),ne._isReadableStream&&ne._layoutText(he)}function le(ne){const{div:ae,scale:be,properties:he,ctx:Y,prevFontSize:ce,prevFontFamily:re}=ne,{style:oe}=ae;let se="";if(he.canvasWidth!==0&&he.hasText){const{fontFamily:ye}=oe,{canvasWidth:Q,fontSize:ve}=he;(ce!==ve||re!==ye)&&(Y.font=`${ve*be}px ${ye}`,ne.prevFontSize=ve,ne.prevFontFamily=ye);const{width:Ce}=Y.measureText(ae.textContent);Ce>0&&(se=`scaleX(${Q*be/Ce})`)}he.angle!==0&&(se=`rotate(${he.angle}deg) ${se}`),se.length>0&&(oe.transform=se)}function te(ne){if(ne._canceled)return;const ae=ne._textDivs,be=ne._capability;if(ae.length>B){be.resolve();return}if(!ne._isReadableStream)for(const Y of ae)ne._layoutText(Y);be.resolve()}class ie{constructor({textContentSource:ae,container:be,viewport:he,textDivs:Y,textDivProperties:ce,textContentItemsStr:re,isOffscreenCanvasSupported:oe}){var Ce;this._textContentSource=ae,this._isReadableStream=ae instanceof ReadableStream,this._container=this._rootContainer=be,this._textDivs=Y||[],this._textContentItemsStr=re||[],this._isOffscreenCanvasSupported=oe,this._fontInspectorEnabled=!!((Ce=globalThis.FontInspector)!=null&&Ce.enabled),this._reader=null,this._textDivProperties=ce||new WeakMap,this._canceled=!1,this._capability=new R.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:he.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ue(0,oe)};const{pageWidth:se,pageHeight:ye,pageX:Q,pageY:ve}=he.rawDims;this._transform=[1,0,0,-1,-Q,ve+ye],this._pageWidth=se,this._pageHeight=ye,(0,O.setLayerDimensions)(be,he),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new R.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new R.AbortException("TextLayer task cancelled."))}_processItems(ae,be){for(const he of ae){if(he.str===void 0){if(he.type==="beginMarkedContentProps"||he.type==="beginMarkedContent"){const Y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),he.id!==null&&this._container.setAttribute("id",`${he.id}`),Y.append(this._container)}else he.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(he.str),_e(this,he,be)}}_layoutText(ae){const be=this._layoutTextParams.properties=this._textDivProperties.get(ae);if(this._layoutTextParams.div=ae,le(this._layoutTextParams),be.hasText&&this._container.append(ae),be.hasEOL){const he=document.createElement("br");he.setAttribute("role","presentation"),this._container.append(he)}}_render(){const ae=new R.PromiseCapability;let be=Object.create(null);if(this._isReadableStream){const he=()=>{this._reader.read().then(({value:Y,done:ce})=>{if(ce){ae.resolve();return}Object.assign(be,Y.styles),this._processItems(Y.items,be),he()},ae.reject)};this._reader=this._textContentSource.getReader(),he()}else if(this._textContentSource){const{items:he,styles:Y}=this._textContentSource;this._processItems(he,Y),ae.resolve()}else throw new Error('No "textContentSource" parameter specified.');ae.promise.then(()=>{be=null,te(this)},this._capability.reject)}}$.TextLayerRenderTask=ie;function ee(ne){!ne.textContentSource&&(ne.textContent||ne.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ne.textContentSource=ne.textContent||ne.textContentStream);const{container:ae,viewport:be}=ne,he=getComputedStyle(ae),Y=he.getPropertyValue("visibility"),ce=parseFloat(he.getPropertyValue("--scale-factor"));Y==="visible"&&(!ce||Math.abs(ce-be.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const re=new ie(ne);return re._render(),re}function q({container:ne,viewport:ae,textDivs:be,textDivProperties:he,isOffscreenCanvasSupported:Y,mustRotate:ce=!0,mustRescale:re=!0}){if(ce&&(0,O.setLayerDimensions)(ne,{rotation:ae.rotation}),re){const oe=ue(0,Y),ye={prevFontSize:null,prevFontFamily:null,div:null,scale:ae.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:oe};for(const Q of be)ye.properties=he.get(Q),ye.div=Q,le(ye)}}},(A,$,H)=>{var W,_e,le,te,ie,ee,q,ne,ae,be,he,Fi,Kr,Li,Ii;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var R=H(1),O=H(4),B=H(28),J=H(33),fe=H(6),de=H(34);const se=class se{constructor({uiManager:Q,pageIndex:ve,div:Ce,accessibilityManager:Oe,annotationLayer:$e,viewport:je,l10n:Le}){at(this,he);at(this,W);at(this,_e,!1);at(this,le,null);at(this,te,this.pointerup.bind(this));at(this,ie,this.pointerdown.bind(this));at(this,ee,new Map);at(this,q,!1);at(this,ne,!1);at(this,ae,!1);at(this,be);const Xe=[B.FreeTextEditor,J.InkEditor,de.StampEditor];if(!se._initialized){se._initialized=!0;for(const xe of Xe)xe.initialize(Le)}Q.registerEditorTypes(Xe),ot(this,be,Q),this.pageIndex=ve,this.div=Ce,ot(this,W,Oe),ot(this,le,$e),this.viewport=je,V(this,be).addLayer(this)}get isEmpty(){return V(this,ee).size===0}updateToolbar(Q){V(this,be).updateToolbar(Q)}updateMode(Q=V(this,be).getMode()){Ge(this,he,Ii).call(this),Q===R.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Q!==R.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Q===R.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Q===R.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Q===R.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Q){if(!Q&&V(this,be).getMode()!==R.AnnotationEditorType.INK)return;if(!Q){for(const Ce of V(this,ee).values())if(Ce.isEmpty()){Ce.setInBackground();return}}Ge(this,he,Kr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Q){V(this,be).setEditingState(Q)}addCommands(Q){V(this,be).addCommands(Q)}enable(){this.div.style.pointerEvents="auto";const Q=new Set;for(const Ce of V(this,ee).values())Ce.enableEditing(),Ce.annotationElementId&&Q.add(Ce.annotationElementId);if(!V(this,le))return;const ve=V(this,le).getEditableAnnotations();for(const Ce of ve){if(Ce.hide(),V(this,be).isDeletedAnnotationElement(Ce.data.id)||Q.has(Ce.data.id))continue;const Oe=this.deserialize(Ce);Oe&&(this.addOrRebuild(Oe),Oe.enableEditing())}}disable(){var ve;ot(this,ae,!0),this.div.style.pointerEvents="none";const Q=new Set;for(const Ce of V(this,ee).values()){if(Ce.disableEditing(),!Ce.annotationElementId||Ce.serialize()!==null){Q.add(Ce.annotationElementId);continue}(ve=this.getEditableAnnotation(Ce.annotationElementId))==null||ve.show(),Ce.remove()}if(V(this,le)){const Ce=V(this,le).getEditableAnnotations();for(const Oe of Ce){const{id:$e}=Oe.data;Q.has($e)||V(this,be).isDeletedAnnotationElement($e)||Oe.show()}}Ge(this,he,Ii).call(this),this.isEmpty&&(this.div.hidden=!0),ot(this,ae,!1)}getEditableAnnotation(Q){var ve;return((ve=V(this,le))==null?void 0:ve.getEditableAnnotation(Q))||null}setActiveEditor(Q){V(this,be).getActive()!==Q&&V(this,be).setActiveEditor(Q)}enableClick(){this.div.addEventListener("pointerdown",V(this,ie)),this.div.addEventListener("pointerup",V(this,te))}disableClick(){this.div.removeEventListener("pointerdown",V(this,ie)),this.div.removeEventListener("pointerup",V(this,te))}attach(Q){V(this,ee).set(Q.id,Q);const{annotationElementId:ve}=Q;ve&&V(this,be).isDeletedAnnotationElement(ve)&&V(this,be).removeDeletedAnnotationElement(Q)}detach(Q){var ve;V(this,ee).delete(Q.id),(ve=V(this,W))==null||ve.removePointerInTextLayer(Q.contentDiv),!V(this,ae)&&Q.annotationElementId&&V(this,be).addDeletedAnnotationElement(Q)}remove(Q){this.detach(Q),V(this,be).removeEditor(Q),Q.div.contains(document.activeElement)&&setTimeout(()=>{V(this,be).focusMainContainer()},0),Q.div.remove(),Q.isAttachedToDOM=!1,V(this,ne)||this.addInkEditorIfNeeded(!1)}changeParent(Q){var ve;Q.parent!==this&&(Q.annotationElementId&&(V(this,be).addDeletedAnnotationElement(Q.annotationElementId),O.AnnotationEditor.deleteAnnotationElement(Q),Q.annotationElementId=null),this.attach(Q),(ve=Q.parent)==null||ve.detach(Q),Q.setParent(this),Q.div&&Q.isAttachedToDOM&&(Q.div.remove(),this.div.append(Q.div)))}add(Q){if(this.changeParent(Q),V(this,be).addEditor(Q),this.attach(Q),!Q.isAttachedToDOM){const ve=Q.render();this.div.append(ve),Q.isAttachedToDOM=!0}Q.fixAndSetPosition(),Q.onceAdded(),V(this,be).addToAnnotationStorage(Q)}moveEditorInDOM(Q){var Ce;if(!Q.isAttachedToDOM)return;const{activeElement:ve}=document;Q.div.contains(ve)&&(Q._focusEventsAllowed=!1,setTimeout(()=>{Q.div.contains(document.activeElement)?Q._focusEventsAllowed=!0:(Q.div.addEventListener("focusin",()=>{Q._focusEventsAllowed=!0},{once:!0}),ve.focus())},0)),Q._structTreeParentId=(Ce=V(this,W))==null?void 0:Ce.moveElementInDOM(this.div,Q.div,Q.contentDiv,!0)}addOrRebuild(Q){Q.needsToBeRebuilt()?Q.rebuild():this.add(Q)}addUndoableEditor(Q){const ve=()=>Q._uiManager.rebuild(Q),Ce=()=>{Q.remove()};this.addCommands({cmd:ve,undo:Ce,mustExec:!1})}getNextId(){return V(this,be).getId()}pasteEditor(Q,ve){V(this,be).updateToolbar(Q),V(this,be).updateMode(Q);const{offsetX:Ce,offsetY:Oe}=Ge(this,he,Li).call(this),$e=this.getNextId(),je=Ge(this,he,Fi).call(this,{parent:this,id:$e,x:Ce,y:Oe,uiManager:V(this,be),isCentered:!0,...ve});je&&this.add(je)}deserialize(Q){switch(Q.annotationType??Q.annotationEditorType){case R.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(Q,this,V(this,be));case R.AnnotationEditorType.INK:return J.InkEditor.deserialize(Q,this,V(this,be));case R.AnnotationEditorType.STAMP:return de.StampEditor.deserialize(Q,this,V(this,be))}return null}addNewEditor(){Ge(this,he,Kr).call(this,Ge(this,he,Li).call(this),!0)}setSelected(Q){V(this,be).setSelected(Q)}toggleSelected(Q){V(this,be).toggleSelected(Q)}isSelected(Q){return V(this,be).isSelected(Q)}unselect(Q){V(this,be).unselect(Q)}pointerup(Q){const{isMac:ve}=R.FeatureTest.platform;if(!(Q.button!==0||Q.ctrlKey&&ve)&&Q.target===this.div&&V(this,q)){if(ot(this,q,!1),!V(this,_e)){ot(this,_e,!0);return}if(V(this,be).getMode()===R.AnnotationEditorType.STAMP){V(this,be).unselectAll();return}Ge(this,he,Kr).call(this,Q,!1)}}pointerdown(Q){if(V(this,q)){ot(this,q,!1);return}const{isMac:ve}=R.FeatureTest.platform;if(Q.button!==0||Q.ctrlKey&&ve||Q.target!==this.div)return;ot(this,q,!0);const Ce=V(this,be).getActive();ot(this,_e,!Ce||Ce.isEmpty())}findNewParent(Q,ve,Ce){const Oe=V(this,be).findParent(ve,Ce);return Oe===null||Oe===this?!1:(Oe.changeParent(Q),!0)}destroy(){var Q,ve;((Q=V(this,be).getActive())==null?void 0:Q.parent)===this&&(V(this,be).commitOrRemove(),V(this,be).setActiveEditor(null));for(const Ce of V(this,ee).values())(ve=V(this,W))==null||ve.removePointerInTextLayer(Ce.contentDiv),Ce.setParent(null),Ce.isAttachedToDOM=!1,Ce.div.remove();this.div=null,V(this,ee).clear(),V(this,be).removeLayer(this)}render({viewport:Q}){this.viewport=Q,(0,fe.setLayerDimensions)(this.div,Q);for(const ve of V(this,be).getEditors(this.pageIndex))this.add(ve);this.updateMode()}update({viewport:Q}){V(this,be).commitOrRemove(),this.viewport=Q,(0,fe.setLayerDimensions)(this.div,{rotation:Q.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Q,pageHeight:ve}=this.viewport.rawDims;return[Q,ve]}};W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakMap,ae=new WeakMap,be=new WeakMap,he=new WeakSet,Fi=function(Q){switch(V(this,be).getMode()){case R.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(Q);case R.AnnotationEditorType.INK:return new J.InkEditor(Q);case R.AnnotationEditorType.STAMP:return new de.StampEditor(Q)}return null},Kr=function(Q,ve){const Ce=this.getNextId(),Oe=Ge(this,he,Fi).call(this,{parent:this,id:Ce,x:Q.offsetX,y:Q.offsetY,uiManager:V(this,be),isCentered:ve});return Oe&&this.add(Oe),Oe},Li=function(){const{x:Q,y:ve,width:Ce,height:Oe}=this.div.getBoundingClientRect(),$e=Math.max(0,Q),je=Math.max(0,ve),Le=Math.min(window.innerWidth,Q+Ce),Xe=Math.min(window.innerHeight,ve+Oe),xe=($e+Le)/2-Q,Te=(je+Xe)/2-ve,[Ve,Ee]=this.viewport.rotation%180===0?[xe,Te]:[Te,xe];return{offsetX:Ve,offsetY:Ee}},Ii=function(){ot(this,ne,!0);for(const Q of V(this,ee).values())Q.isEmpty()&&Q.remove();ot(this,ne,!1)},Fn(se,"_initialized",!1);let ue=se;$.AnnotationEditorLayer=ue},(A,$,H)=>{var de,ue,W,_e,le,te,ie,ee,q,ne,Ca,Pa,ka,Rr,Di,Ma,Oi;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var R=H(1),O=H(5),B=H(4),J=H(29);const se=class se extends B.AnnotationEditor{constructor(ve){super({...ve,name:"freeTextEditor"});at(this,ne);at(this,de,this.editorDivBlur.bind(this));at(this,ue,this.editorDivFocus.bind(this));at(this,W,this.editorDivInput.bind(this));at(this,_e,this.editorDivKeydown.bind(this));at(this,le);at(this,te,"");at(this,ie,`${this.id}-editor`);at(this,ee);at(this,q,null);ot(this,le,ve.color||se._defaultColor||B.AnnotationEditor._defaultLineColor),ot(this,ee,ve.fontSize||se._defaultFontSize)}static get _keyboardManager(){const ve=se.prototype,Ce=je=>je.isEmpty(),Oe=O.AnnotationEditorUIManager.TRANSLATE_SMALL,$e=O.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,R.shadow)(this,"_keyboardManager",new O.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ve.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ve.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ve._translateEmpty,{args:[-Oe,0],checker:Ce}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ve._translateEmpty,{args:[-$e,0],checker:Ce}],[["ArrowRight","mac+ArrowRight"],ve._translateEmpty,{args:[Oe,0],checker:Ce}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ve._translateEmpty,{args:[$e,0],checker:Ce}],[["ArrowUp","mac+ArrowUp"],ve._translateEmpty,{args:[0,-Oe],checker:Ce}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ve._translateEmpty,{args:[0,-$e],checker:Ce}],[["ArrowDown","mac+ArrowDown"],ve._translateEmpty,{args:[0,Oe],checker:Ce}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ve._translateEmpty,{args:[0,$e],checker:Ce}]]))}static initialize(ve){B.AnnotationEditor.initialize(ve,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ce=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ce.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ve,Ce){switch(ve){case R.AnnotationEditorParamsType.FREETEXT_SIZE:se._defaultFontSize=Ce;break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:se._defaultColor=Ce;break}}updateParams(ve,Ce){switch(ve){case R.AnnotationEditorParamsType.FREETEXT_SIZE:Ge(this,ne,Ca).call(this,Ce);break;case R.AnnotationEditorParamsType.FREETEXT_COLOR:Ge(this,ne,Pa).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,se._defaultFontSize],[R.AnnotationEditorParamsType.FREETEXT_COLOR,se._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,ee)],[R.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,le)]]}_translateEmpty(ve,Ce){this._uiManager.translateSelectedEditors(ve,Ce,!0)}getInitialTranslation(){const ve=this.parentScale;return[-se._internalPadding*ve,-(se._internalPadding+V(this,ee))*ve]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(R.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,_e)),this.editorDiv.addEventListener("focus",V(this,ue)),this.editorDiv.addEventListener("blur",V(this,de)),this.editorDiv.addEventListener("input",V(this,W)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,ie)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,_e)),this.editorDiv.removeEventListener("focus",V(this,ue)),this.editorDiv.removeEventListener("blur",V(this,de)),this.editorDiv.removeEventListener("input",V(this,W)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ve){this._focusEventsAllowed&&(super.focusin(ve),ve.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ve;if(this.width){Ge(this,ne,Oi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ve=this._initialOptions)!=null&&ve.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ve=V(this,te),Ce=ot(this,te,Ge(this,ne,ka).call(this).trimEnd());if(ve===Ce)return;const Oe=$e=>{if(ot(this,te,$e),!$e){this.remove();return}Ge(this,ne,Di).call(this),this._uiManager.rebuild(this),Ge(this,ne,Rr).call(this)};this.addCommands({cmd:()=>{Oe(Ce)},undo:()=>{Oe(ve)},mustExec:!1}),Ge(this,ne,Rr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ve){this.enterInEditMode()}keydown(ve){ve.target===this.div&&ve.key==="Enter"&&(this.enterInEditMode(),ve.preventDefault())}editorDivKeydown(ve){se._keyboardManager.exec(this,ve)}editorDivFocus(ve){this.isEditing=!0}editorDivBlur(ve){this.isEditing=!1}editorDivInput(ve){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ve,Ce;this.width&&(ve=this.x,Ce=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,ie)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then($e=>{var je;return(je=this.editorDiv)==null?void 0:je.setAttribute("aria-label",$e)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then($e=>{var je;return(je=this.editorDiv)==null?void 0:je.setAttribute("default-content",$e)}),this.editorDiv.contentEditable=!0;const{style:Oe}=this.editorDiv;if(Oe.fontSize=`calc(${V(this,ee)}px * var(--scale-factor))`,Oe.color=V(this,le),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[$e,je]=this.parentDimensions;if(this.annotationElementId){const{position:Le}=V(this,q);let[Xe,xe]=this.getInitialTranslation();[Xe,xe]=this.pageTranslationToScreen(Xe,xe);const[Te,Ve]=this.pageDimensions,[Ee,G]=this.pageTranslation;let K,ge;switch(this.rotation){case 0:K=ve+(Le[0]-Ee)/Te,ge=Ce+this.height-(Le[1]-G)/Ve;break;case 90:K=ve+(Le[0]-Ee)/Te,ge=Ce-(Le[1]-G)/Ve,[Xe,xe]=[xe,-Xe];break;case 180:K=ve-this.width+(Le[0]-Ee)/Te,ge=Ce-(Le[1]-G)/Ve,[Xe,xe]=[-Xe,-xe];break;case 270:K=ve+(Le[0]-Ee-this.height*Ve)/Te,ge=Ce+(Le[1]-G-this.width*Te)/Ve,[Xe,xe]=[-xe,Xe];break}this.setAt(K*$e,ge*je,Xe,xe)}else this.setAt(ve*$e,Ce*je,this.width*$e,this.height*je);Ge(this,ne,Di).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ve,Ce,Oe){let $e=null;if(ve instanceof J.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Le,fontColor:Xe},rect:xe,rotation:Te,id:Ve},textContent:Ee,textPosition:G,parent:{page:{pageNumber:K}}}=ve;if(!Ee||Ee.length===0)return null;$e=ve={annotationType:R.AnnotationEditorType.FREETEXT,color:Array.from(Xe),fontSize:Le,value:Ee.join(`
`),position:G,pageIndex:K-1,rect:xe,rotation:Te,id:Ve,deleted:!1}}const je=super.deserialize(ve,Ce,Oe);return ot(je,ee,ve.fontSize),ot(je,le,R.Util.makeHexColor(...ve.color)),ot(je,te,ve.value),je.annotationElementId=ve.id||null,ot(je,q,$e),je}serialize(ve=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ce=se._internalPadding*this.parentScale,Oe=this.getRect(Ce,Ce),$e=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,le)),je={annotationType:R.AnnotationEditorType.FREETEXT,color:$e,fontSize:V(this,ee),value:V(this,te),pageIndex:this.pageIndex,rect:Oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ve?je:this.annotationElementId&&!Ge(this,ne,Ma).call(this,je)?null:(je.id=this.annotationElementId,je)}};de=new WeakMap,ue=new WeakMap,W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakSet,Ca=function(ve){const Ce=$e=>{this.editorDiv.style.fontSize=`calc(${$e}px * var(--scale-factor))`,this.translate(0,-($e-V(this,ee))*this.parentScale),ot(this,ee,$e),Ge(this,ne,Rr).call(this)},Oe=V(this,ee);this.addCommands({cmd:()=>{Ce(ve)},undo:()=>{Ce(Oe)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Pa=function(ve){const Ce=V(this,le);this.addCommands({cmd:()=>{ot(this,le,this.editorDiv.style.color=ve)},undo:()=>{ot(this,le,this.editorDiv.style.color=Ce)},mustExec:!0,type:R.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ka=function(){const ve=this.editorDiv.getElementsByTagName("div");if(ve.length===0)return this.editorDiv.innerText;const Ce=[];for(const Oe of ve)Ce.push(Oe.innerText.replace(/\r\n?|\n/,""));return Ce.join(`
`)},Rr=function(){const[ve,Ce]=this.parentDimensions;let Oe;if(this.isAttachedToDOM)Oe=this.div.getBoundingClientRect();else{const{currentLayer:$e,div:je}=this,Le=je.style.display;je.style.display="hidden",$e.div.append(this.div),Oe=je.getBoundingClientRect(),je.remove(),je.style.display=Le}this.rotation%180===this.parentRotation%180?(this.width=Oe.width/ve,this.height=Oe.height/Ce):(this.width=Oe.height/ve,this.height=Oe.width/Ce),this.fixAndSetPosition()},Di=function(){if(this.editorDiv.replaceChildren(),!!V(this,te))for(const ve of V(this,te).split(`
`)){const Ce=document.createElement("div");Ce.append(ve?document.createTextNode(ve):document.createElement("br")),this.editorDiv.append(Ce)}},Ma=function(ve){const{value:Ce,fontSize:Oe,color:$e,rect:je,pageIndex:Le}=V(this,q);return ve.value!==Ce||ve.fontSize!==Oe||ve.rect.some((Xe,xe)=>Math.abs(Xe-je[xe])>=1)||ve.color.some((Xe,xe)=>Xe!==$e[xe])||ve.pageIndex!==Le},Oi=function(ve=!1){if(!this.annotationElementId)return;if(Ge(this,ne,Rr).call(this),!ve&&(this.width===0||this.height===0)){setTimeout(()=>Ge(this,ne,Oi).call(this,!0),0);return}const Ce=se._internalPadding*this.parentScale;V(this,q).rect=this.getRect(Ce,Ce)},Fn(se,"_freeTextDefaultContent",""),Fn(se,"_internalPadding",0),Fn(se,"_defaultColor",null),Fn(se,"_defaultFontSize",10),Fn(se,"_type","freetext");let fe=se;$.FreeTextEditor=fe},(A,$,H)=>{var ge,Ae,gr,$a,et,st,ct,dt,ht,gt,qe,Ke,me,Se,ze,Ye,rt,mt,ft,Ue,wt,xt,Ta,Yr,Ni,ji,Ht,on,yn,vt,Ze,Qe,Rt,Bi,qt,Re,pt,Pt,Ra,zi;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var R=H(1),O=H(6),B=H(3),J=H(30),fe=H(31),de=H(32);const ue=1e3,W=9,_e=new WeakSet;function le(Tt){return{width:Tt[2]-Tt[0],height:Tt[3]-Tt[1]}}class te{static create(Me){switch(Me.data.annotationType){case R.AnnotationType.LINK:return new ee(Me);case R.AnnotationType.TEXT:return new q(Me);case R.AnnotationType.WIDGET:switch(Me.data.fieldType){case"Tx":return new ae(Me);case"Btn":return Me.data.radioButton?new Y(Me):Me.data.checkBox?new he(Me):new ce(Me);case"Ch":return new re(Me);case"Sig":return new be(Me)}return new ne(Me);case R.AnnotationType.POPUP:return new oe(Me);case R.AnnotationType.FREETEXT:return new ye(Me);case R.AnnotationType.LINE:return new Q(Me);case R.AnnotationType.SQUARE:return new ve(Me);case R.AnnotationType.CIRCLE:return new Ce(Me);case R.AnnotationType.POLYLINE:return new Oe(Me);case R.AnnotationType.CARET:return new je(Me);case R.AnnotationType.INK:return new Le(Me);case R.AnnotationType.POLYGON:return new $e(Me);case R.AnnotationType.HIGHLIGHT:return new Xe(Me);case R.AnnotationType.UNDERLINE:return new xe(Me);case R.AnnotationType.SQUIGGLY:return new Te(Me);case R.AnnotationType.STRIKEOUT:return new Ve(Me);case R.AnnotationType.STAMP:return new Ee(Me);case R.AnnotationType.FILEATTACHMENT:return new G(Me);default:return new ie(Me)}}}const Pe=class Pe{constructor(Me,{isRenderable:we=!1,ignoreBorder:He=!1,createQuadrilaterals:lt=!1}={}){at(this,ge,!1);this.isRenderable=we,this.data=Me.data,this.layer=Me.layer,this.linkService=Me.linkService,this.downloadManager=Me.downloadManager,this.imageResourcesPath=Me.imageResourcesPath,this.renderForms=Me.renderForms,this.svgFactory=Me.svgFactory,this.annotationStorage=Me.annotationStorage,this.enableScripting=Me.enableScripting,this.hasJSActions=Me.hasJSActions,this._fieldObjects=Me.fieldObjects,this.parent=Me.parent,we&&(this.container=this._createContainer(He)),lt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Me,contentsObj:we,richText:He}){return!!(Me!=null&&Me.str||we!=null&&we.str||He!=null&&He.str)}get hasPopupData(){return Pe._hasPopupData(this.data)}_createContainer(Me){const{data:we,parent:{page:He,viewport:lt}}=this,ut=document.createElement("section");ut.setAttribute("data-annotation-id",we.id),this instanceof ne||(ut.tabIndex=ue),ut.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ut.setAttribute("aria-haspopup","dialog"),we.noRotate&&ut.classList.add("norotate");const{pageWidth:bt,pageHeight:St,pageX:Nt,pageY:Lt}=lt.rawDims;if(!we.rect||this instanceof oe){const{rotation:Jt}=we;return!we.hasOwnCanvas&&Jt!==0&&this.setRotation(Jt,ut),ut}const{width:Mt,height:rn}=le(we.rect),It=R.Util.normalizeRect([we.rect[0],He.view[3]-we.rect[1]+He.view[1],we.rect[2],He.view[3]-we.rect[3]+He.view[1]]);if(!Me&&we.borderStyle.width>0){ut.style.borderWidth=`${we.borderStyle.width}px`;const Jt=we.borderStyle.horizontalCornerRadius,un=we.borderStyle.verticalCornerRadius;if(Jt>0||un>0){const Pn=`calc(${Jt}px * var(--scale-factor)) / calc(${un}px * var(--scale-factor))`;ut.style.borderRadius=Pn}else if(this instanceof Y){const Pn=`calc(${Mt}px * var(--scale-factor)) / calc(${rn}px * var(--scale-factor))`;ut.style.borderRadius=Pn}switch(we.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:ut.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:ut.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:(0,R.warn)("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:(0,R.warn)("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:ut.style.borderBottomStyle="solid";break}const bn=we.borderColor||null;bn?(ot(this,ge,!0),ut.style.borderColor=R.Util.makeHexColor(bn[0]|0,bn[1]|0,bn[2]|0)):ut.style.borderWidth=0}ut.style.left=`${100*(It[0]-Nt)/bt}%`,ut.style.top=`${100*(It[1]-Lt)/St}%`;const{rotation:zt}=we;return we.hasOwnCanvas||zt===0?(ut.style.width=`${100*Mt/bt}%`,ut.style.height=`${100*rn/St}%`):this.setRotation(zt,ut),ut}setRotation(Me,we=this.container){if(!this.data.rect)return;const{pageWidth:He,pageHeight:lt}=this.parent.viewport.rawDims,{width:ut,height:bt}=le(this.data.rect);let St,Nt;Me%180===0?(St=100*ut/He,Nt=100*bt/lt):(St=100*bt/He,Nt=100*ut/lt),we.style.width=`${St}%`,we.style.height=`${Nt}%`,we.setAttribute("data-main-rotation",(360-Me)%360)}get _commonActions(){const Me=(we,He,lt)=>{const ut=lt.detail[we],bt=ut[0],St=ut.slice(1);lt.target.style[He]=J.ColorConverters[`${bt}_HTML`](St),this.annotationStorage.setValue(this.data.id,{[He]:J.ColorConverters[`${bt}_rgb`](St)})};return(0,R.shadow)(this,"_commonActions",{display:we=>{const{display:He}=we.detail,lt=He%2===1;this.container.style.visibility=lt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:lt,noPrint:He===1||He===2})},print:we=>{this.annotationStorage.setValue(this.data.id,{noPrint:!we.detail.print})},hidden:we=>{const{hidden:He}=we.detail;this.container.style.visibility=He?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:He,noView:He})},focus:we=>{setTimeout(()=>we.target.focus({preventScroll:!1}),0)},userName:we=>{we.target.title=we.detail.userName},readonly:we=>{we.target.disabled=we.detail.readonly},required:we=>{this._setRequired(we.target,we.detail.required)},bgColor:we=>{Me("bgColor","backgroundColor",we)},fillColor:we=>{Me("fillColor","backgroundColor",we)},fgColor:we=>{Me("fgColor","color",we)},textColor:we=>{Me("textColor","color",we)},borderColor:we=>{Me("borderColor","borderColor",we)},strokeColor:we=>{Me("strokeColor","borderColor",we)},rotation:we=>{const He=we.detail.rotation;this.setRotation(He),this.annotationStorage.setValue(this.data.id,{rotation:He})}})}_dispatchEventFromSandbox(Me,we){const He=this._commonActions;for(const lt of Object.keys(we.detail)){const ut=Me[lt]||He[lt];ut==null||ut(we)}}_setDefaultPropertiesFromJS(Me){if(!this.enableScripting)return;const we=this.annotationStorage.getRawValue(this.data.id);if(!we)return;const He=this._commonActions;for(const[lt,ut]of Object.entries(we)){const bt=He[lt];if(bt){const St={detail:{[lt]:ut},target:Me};bt(St),delete we[lt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Me}=this.data;if(!Me)return;const[we,He,lt,ut]=this.data.rect;if(Me.length===1){const[,{x:un,y:bn},{x:Pn,y:Un}]=Me[0];if(lt===un&&ut===bn&&we===Pn&&He===Un)return}const{style:bt}=this.container;let St;if(V(this,ge)){const{borderColor:un,borderWidth:bn}=bt;bt.borderWidth=0,St=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${un}" stroke-width="${bn}">`],this.container.classList.add("hasBorder")}const Nt=lt-we,Lt=ut-He,{svgFactory:Mt}=this,rn=Mt.createElement("svg");rn.classList.add("quadrilateralsContainer"),rn.setAttribute("width",0),rn.setAttribute("height",0);const It=Mt.createElement("defs");rn.append(It);const zt=Mt.createElement("clipPath"),Jt=`clippath_${this.data.id}`;zt.setAttribute("id",Jt),zt.setAttribute("clipPathUnits","objectBoundingBox"),It.append(zt);for(const[,{x:un,y:bn},{x:Pn,y:Un}]of Me){const Nn=Mt.createElement("rect"),nr=(Pn-we)/Nt,ir=(ut-bn)/Lt,ar=(un-Pn)/Nt,Ir=(bn-Un)/Lt;Nn.setAttribute("x",nr),Nn.setAttribute("y",ir),Nn.setAttribute("width",ar),Nn.setAttribute("height",Ir),zt.append(Nn),St==null||St.push(`<rect vector-effect="non-scaling-stroke" x="${nr}" y="${ir}" width="${ar}" height="${Ir}"/>`)}V(this,ge)&&(St.push("</g></svg>')"),bt.backgroundImage=St.join("")),this.container.append(rn),this.container.style.clipPath=`url(#${Jt})`}_createPopup(){const{container:Me,data:we}=this;Me.setAttribute("aria-haspopup","dialog");const He=new oe({data:{color:we.color,titleObj:we.titleObj,modificationDate:we.modificationDate,contentsObj:we.contentsObj,richText:we.richText,parentRect:we.rect,borderStyle:0,id:`popup_${we.id}`,rotation:we.rotation},parent:this.parent,elements:[this]});this.parent.div.append(He.render())}render(){(0,R.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Me,we=null){const He=[];if(this._fieldObjects){const lt=this._fieldObjects[Me];if(lt)for(const{page:ut,id:bt,exportValues:St}of lt){if(ut===-1||bt===we)continue;const Nt=typeof St=="string"?St:null,Lt=document.querySelector(`[data-element-id="${bt}"]`);if(Lt&&!_e.has(Lt)){(0,R.warn)(`_getElementsByName - element not allowed: ${bt}`);continue}He.push({id:bt,exportValue:Nt,domElement:Lt})}return He}for(const lt of document.getElementsByName(Me)){const{exportValue:ut}=lt,bt=lt.getAttribute("data-element-id");bt!==we&&_e.has(lt)&&He.push({id:bt,exportValue:ut,domElement:lt})}return He}show(){var Me;this.container&&(this.container.hidden=!1),(Me=this.popup)==null||Me.maybeShow()}hide(){var Me;this.container&&(this.container.hidden=!0),(Me=this.popup)==null||Me.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Me=this.getElementsToTriggerPopup();if(Array.isArray(Me))for(const we of Me)we.classList.add("highlightArea");else Me.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Me,data:{id:we}}=this;this.container.addEventListener("dblclick",()=>{var He;(He=this.linkService.eventBus)==null||He.dispatch("switchannotationeditormode",{source:this,mode:Me,editId:we})})}};ge=new WeakMap;let ie=Pe;class ee extends ie{constructor(we,He=null){super(we,{isRenderable:!0,ignoreBorder:!!(He!=null&&He.ignoreBorder),createQuadrilaterals:!0});at(this,Ae);this.isTooltipOnly=we.data.isTooltipOnly}render(){const{data:we,linkService:He}=this,lt=document.createElement("a");lt.setAttribute("data-element-id",we.id);let ut=!1;return we.url?(He.addLinkAttributes(lt,we.url,we.newWindow),ut=!0):we.action?(this._bindNamedAction(lt,we.action),ut=!0):we.attachment?(this._bindAttachment(lt,we.attachment),ut=!0):we.setOCGState?(Ge(this,Ae,$a).call(this,lt,we.setOCGState),ut=!0):we.dest?(this._bindLink(lt,we.dest),ut=!0):(we.actions&&(we.actions.Action||we.actions["Mouse Up"]||we.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(lt,we),ut=!0),we.resetForm?(this._bindResetFormAction(lt,we.resetForm),ut=!0):this.isTooltipOnly&&!ut&&(this._bindLink(lt,""),ut=!0)),this.container.classList.add("linkAnnotation"),ut&&this.container.append(lt),this.container}_bindLink(we,He){we.href=this.linkService.getDestinationHash(He),we.onclick=()=>(He&&this.linkService.goToDestination(He),!1),(He||He==="")&&Ge(this,Ae,gr).call(this)}_bindNamedAction(we,He){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>(this.linkService.executeNamedAction(He),!1),Ge(this,Ae,gr).call(this)}_bindAttachment(we,He){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>{var lt;return(lt=this.downloadManager)==null||lt.openOrDownloadData(this.container,He.content,He.filename),!1},Ge(this,Ae,gr).call(this)}_bindJSAction(we,He){we.href=this.linkService.getAnchorUrl("");const lt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ut of Object.keys(He.actions)){const bt=lt.get(ut);bt&&(we[bt]=()=>{var St;return(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:He.id,name:ut}}),!1})}we.onclick||(we.onclick=()=>!1),Ge(this,Ae,gr).call(this)}_bindResetFormAction(we,He){const lt=we.onclick;if(lt||(we.href=this.linkService.getAnchorUrl("")),Ge(this,Ae,gr).call(this),!this._fieldObjects){(0,R.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),lt||(we.onclick=()=>!1);return}we.onclick=()=>{var rn;lt==null||lt();const{fields:ut,refs:bt,include:St}=He,Nt=[];if(ut.length!==0||bt.length!==0){const It=new Set(bt);for(const zt of ut){const Jt=this._fieldObjects[zt]||[];for(const{id:un}of Jt)It.add(un)}for(const zt of Object.values(this._fieldObjects))for(const Jt of zt)It.has(Jt.id)===St&&Nt.push(Jt)}else for(const It of Object.values(this._fieldObjects))Nt.push(...It);const Lt=this.annotationStorage,Mt=[];for(const It of Nt){const{id:zt}=It;switch(Mt.push(zt),It.type){case"text":{const un=It.defaultValue||"";Lt.setValue(zt,{value:un});break}case"checkbox":case"radiobutton":{const un=It.defaultValue===It.exportValues;Lt.setValue(zt,{value:un});break}case"combobox":case"listbox":{const un=It.defaultValue||"";Lt.setValue(zt,{value:un});break}default:continue}const Jt=document.querySelector(`[data-element-id="${zt}"]`);if(Jt){if(!_e.has(Jt)){(0,R.warn)(`_bindResetFormAction - element not allowed: ${zt}`);continue}}else continue;Jt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Mt,name:"ResetForm"}})),!1}}}Ae=new WeakSet,gr=function(){this.container.setAttribute("data-internal-link","")},$a=function(we,He){we.href=this.linkService.getAnchorUrl(""),we.onclick=()=>(this.linkService.executeSetOCGState(He),!1),Ge(this,Ae,gr).call(this)};class q extends ie{constructor(Me){super(Me,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Me=document.createElement("img");return Me.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Me.alt="[{{type}} Annotation]",Me.dataset.l10nId="text_annotation_type",Me.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Me),this.container}}class ne extends ie{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Me){var we;this.data.hasOwnCanvas&&(((we=Me.previousSibling)==null?void 0:we.nodeName)==="CANVAS"&&(Me.previousSibling.hidden=!0),Me.hidden=!1)}_getKeyModifier(Me){const{isWin:we,isMac:He}=R.FeatureTest.platform;return we&&Me.ctrlKey||He&&Me.metaKey}_setEventListener(Me,we,He,lt,ut){He.includes("mouse")?Me.addEventListener(He,bt=>{var St;(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ut(bt),shift:bt.shiftKey,modifier:this._getKeyModifier(bt)}})}):Me.addEventListener(He,bt=>{var St;if(He==="blur"){if(!we.focused||!bt.relatedTarget)return;we.focused=!1}else if(He==="focus"){if(we.focused)return;we.focused=!0}ut&&((St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ut(bt)}}))})}_setEventListeners(Me,we,He,lt){var ut,bt,St;for(const[Nt,Lt]of He)(Lt==="Action"||(ut=this.data.actions)!=null&&ut[Lt])&&((Lt==="Focus"||Lt==="Blur")&&(we||(we={focused:!1})),this._setEventListener(Me,we,Nt,Lt,lt),Lt==="Focus"&&!((bt=this.data.actions)!=null&&bt.Blur)?this._setEventListener(Me,we,"blur","Blur",null):Lt==="Blur"&&!((St=this.data.actions)!=null&&St.Focus)&&this._setEventListener(Me,we,"focus","Focus",null))}_setBackgroundColor(Me){const we=this.data.backgroundColor||null;Me.style.backgroundColor=we===null?"transparent":R.Util.makeHexColor(we[0],we[1],we[2])}_setTextStyle(Me){const we=["left","center","right"],{fontColor:He}=this.data.defaultAppearanceData,lt=this.data.defaultAppearanceData.fontSize||W,ut=Me.style;let bt;const St=2,Nt=Lt=>Math.round(10*Lt)/10;if(this.data.multiLine){const Lt=Math.abs(this.data.rect[3]-this.data.rect[1]-St),Mt=Math.round(Lt/(R.LINE_FACTOR*lt))||1,rn=Lt/Mt;bt=Math.min(lt,Nt(rn/R.LINE_FACTOR))}else{const Lt=Math.abs(this.data.rect[3]-this.data.rect[1]-St);bt=Math.min(lt,Nt(Lt/R.LINE_FACTOR))}ut.fontSize=`calc(${bt}px * var(--scale-factor))`,ut.color=R.Util.makeHexColor(He[0],He[1],He[2]),this.data.textAlignment!==null&&(ut.textAlign=we[this.data.textAlignment])}_setRequired(Me,we){we?Me.setAttribute("required",!0):Me.removeAttribute("required"),Me.setAttribute("aria-required",we)}}class ae extends ne{constructor(Me){const we=Me.renderForms||!Me.data.hasAppearance&&!!Me.data.fieldValue;super(Me,{isRenderable:we})}setPropertyOnSiblings(Me,we,He,lt){const ut=this.annotationStorage;for(const bt of this._getElementsByName(Me.name,Me.id))bt.domElement&&(bt.domElement[we]=He),ut.setValue(bt.id,{[lt]:He})}render(){var lt,ut;const Me=this.annotationStorage,we=this.data.id;this.container.classList.add("textWidgetAnnotation");let He=null;if(this.renderForms){const bt=Me.getValue(we,{value:this.data.fieldValue});let St=bt.value||"";const Nt=Me.getValue(we,{charLimit:this.data.maxLen}).charLimit;Nt&&St.length>Nt&&(St=St.slice(0,Nt));let Lt=bt.formattedValue||((lt=this.data.textContent)==null?void 0:lt.join(`
`))||null;Lt&&this.data.comb&&(Lt=Lt.replaceAll(/\s+/g,""));const Mt={userValue:St,formattedValue:Lt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(He=document.createElement("textarea"),He.textContent=Lt??St,this.data.doNotScroll&&(He.style.overflowY="hidden")):(He=document.createElement("input"),He.type="text",He.setAttribute("value",Lt??St),this.data.doNotScroll&&(He.style.overflowX="hidden")),this.data.hasOwnCanvas&&(He.hidden=!0),_e.add(He),He.setAttribute("data-element-id",we),He.disabled=this.data.readOnly,He.name=this.data.fieldName,He.tabIndex=ue,this._setRequired(He,this.data.required),Nt&&(He.maxLength=Nt),He.addEventListener("input",It=>{Me.setValue(we,{value:It.target.value}),this.setPropertyOnSiblings(He,"value",It.target.value,"value"),Mt.formattedValue=null}),He.addEventListener("resetform",It=>{const zt=this.data.defaultFieldValue??"";He.value=Mt.userValue=zt,Mt.formattedValue=null});let rn=It=>{const{formattedValue:zt}=Mt;zt!=null&&(It.target.value=zt),It.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){He.addEventListener("focus",zt=>{if(Mt.focused)return;const{target:Jt}=zt;Mt.userValue&&(Jt.value=Mt.userValue),Mt.lastCommittedValue=Jt.value,Mt.commitKey=1,Mt.focused=!0}),He.addEventListener("updatefromsandbox",zt=>{this.showElementAndHideCanvas(zt.target);const Jt={value(un){Mt.userValue=un.detail.value??"",Me.setValue(we,{value:Mt.userValue.toString()}),un.target.value=Mt.userValue},formattedValue(un){const{formattedValue:bn}=un.detail;Mt.formattedValue=bn,bn!=null&&un.target!==document.activeElement&&(un.target.value=bn),Me.setValue(we,{formattedValue:bn})},selRange(un){un.target.setSelectionRange(...un.detail.selRange)},charLimit:un=>{var Nn;const{charLimit:bn}=un.detail,{target:Pn}=un;if(bn===0){Pn.removeAttribute("maxLength");return}Pn.setAttribute("maxLength",bn);let Un=Mt.userValue;!Un||Un.length<=bn||(Un=Un.slice(0,bn),Pn.value=Mt.userValue=Un,Me.setValue(we,{value:Un}),(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Un,willCommit:!0,commitKey:1,selStart:Pn.selectionStart,selEnd:Pn.selectionEnd}}))}};this._dispatchEventFromSandbox(Jt,zt)}),He.addEventListener("keydown",zt=>{var bn;Mt.commitKey=1;let Jt=-1;if(zt.key==="Escape"?Jt=0:zt.key==="Enter"&&!this.data.multiLine?Jt=2:zt.key==="Tab"&&(Mt.commitKey=3),Jt===-1)return;const{value:un}=zt.target;Mt.lastCommittedValue!==un&&(Mt.lastCommittedValue=un,Mt.userValue=un,(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:un,willCommit:!0,commitKey:Jt,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}}))});const It=rn;rn=null,He.addEventListener("blur",zt=>{var un;if(!Mt.focused||!zt.relatedTarget)return;Mt.focused=!1;const{value:Jt}=zt.target;Mt.userValue=Jt,Mt.lastCommittedValue!==Jt&&((un=this.linkService.eventBus)==null||un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Jt,willCommit:!0,commitKey:Mt.commitKey,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}})),It(zt)}),(ut=this.data.actions)!=null&&ut.Keystroke&&He.addEventListener("beforeinput",zt=>{var ir;Mt.lastCommittedValue=null;const{data:Jt,target:un}=zt,{value:bn,selectionStart:Pn,selectionEnd:Un}=un;let Nn=Pn,nr=Un;switch(zt.inputType){case"deleteWordBackward":{const ar=bn.substring(0,Pn).match(/\w*[^\w]*$/);ar&&(Nn-=ar[0].length);break}case"deleteWordForward":{const ar=bn.substring(Pn).match(/^[^\w]*\w*/);ar&&(nr+=ar[0].length);break}case"deleteContentBackward":Pn===Un&&(Nn-=1);break;case"deleteContentForward":Pn===Un&&(nr+=1);break}zt.preventDefault(),(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:bn,change:Jt||"",willCommit:!1,selStart:Nn,selEnd:nr}})}),this._setEventListeners(He,Mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zt=>zt.target.value)}if(rn&&He.addEventListener("blur",rn),this.data.comb){const zt=(this.data.rect[2]-this.data.rect[0])/Nt;He.classList.add("comb"),He.style.letterSpacing=`calc(${zt}px * var(--scale-factor) - 1ch)`}}else He=document.createElement("div"),He.textContent=this.data.fieldValue,He.style.verticalAlign="middle",He.style.display="table-cell";return this._setTextStyle(He),this._setBackgroundColor(He),this._setDefaultPropertiesFromJS(He),this.container.append(He),this.container}}class be extends ne{constructor(Me){super(Me,{isRenderable:!!Me.data.hasOwnCanvas})}}class he extends ne{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){const Me=this.annotationStorage,we=this.data,He=we.id;let lt=Me.getValue(He,{value:we.exportValue===we.fieldValue}).value;typeof lt=="string"&&(lt=lt!=="Off",Me.setValue(He,{value:lt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ut=document.createElement("input");return _e.add(ut),ut.setAttribute("data-element-id",He),ut.disabled=we.readOnly,this._setRequired(ut,this.data.required),ut.type="checkbox",ut.name=we.fieldName,lt&&ut.setAttribute("checked",!0),ut.setAttribute("exportValue",we.exportValue),ut.tabIndex=ue,ut.addEventListener("change",bt=>{const{name:St,checked:Nt}=bt.target;for(const Lt of this._getElementsByName(St,He)){const Mt=Nt&&Lt.exportValue===we.exportValue;Lt.domElement&&(Lt.domElement.checked=Mt),Me.setValue(Lt.id,{value:Mt})}Me.setValue(He,{value:Nt})}),ut.addEventListener("resetform",bt=>{const St=we.defaultFieldValue||"Off";bt.target.checked=St===we.exportValue}),this.enableScripting&&this.hasJSActions&&(ut.addEventListener("updatefromsandbox",bt=>{const St={value(Nt){Nt.target.checked=Nt.detail.value!=="Off",Me.setValue(He,{value:Nt.target.checked})}};this._dispatchEventFromSandbox(St,bt)}),this._setEventListeners(ut,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bt=>bt.target.checked)),this._setBackgroundColor(ut),this._setDefaultPropertiesFromJS(ut),this.container.append(ut),this.container}}class Y extends ne{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Me=this.annotationStorage,we=this.data,He=we.id;let lt=Me.getValue(He,{value:we.fieldValue===we.buttonValue}).value;typeof lt=="string"&&(lt=lt!==we.buttonValue,Me.setValue(He,{value:lt}));const ut=document.createElement("input");if(_e.add(ut),ut.setAttribute("data-element-id",He),ut.disabled=we.readOnly,this._setRequired(ut,this.data.required),ut.type="radio",ut.name=we.fieldName,lt&&ut.setAttribute("checked",!0),ut.tabIndex=ue,ut.addEventListener("change",bt=>{const{name:St,checked:Nt}=bt.target;for(const Lt of this._getElementsByName(St,He))Me.setValue(Lt.id,{value:!1});Me.setValue(He,{value:Nt})}),ut.addEventListener("resetform",bt=>{const St=we.defaultFieldValue;bt.target.checked=St!=null&&St===we.buttonValue}),this.enableScripting&&this.hasJSActions){const bt=we.buttonValue;ut.addEventListener("updatefromsandbox",St=>{const Nt={value:Lt=>{const Mt=bt===Lt.detail.value;for(const rn of this._getElementsByName(Lt.target.name)){const It=Mt&&rn.id===He;rn.domElement&&(rn.domElement.checked=It),Me.setValue(rn.id,{value:It})}}};this._dispatchEventFromSandbox(Nt,St)}),this._setEventListeners(ut,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.checked)}return this._setBackgroundColor(ut),this._setDefaultPropertiesFromJS(ut),this.container.append(ut),this.container}}class ce extends ee{constructor(Me){super(Me,{ignoreBorder:Me.data.hasAppearance})}render(){const Me=super.render();Me.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Me.title=this.data.alternativeText);const we=Me.lastChild;return this.enableScripting&&this.hasJSActions&&we&&(this._setDefaultPropertiesFromJS(we),we.addEventListener("updatefromsandbox",He=>{this._dispatchEventFromSandbox({},He)})),Me}}class re extends ne{constructor(Me){super(Me,{isRenderable:Me.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Me=this.annotationStorage,we=this.data.id,He=Me.getValue(we,{value:this.data.fieldValue}),lt=document.createElement("select");_e.add(lt),lt.setAttribute("data-element-id",we),lt.disabled=this.data.readOnly,this._setRequired(lt,this.data.required),lt.name=this.data.fieldName,lt.tabIndex=ue;let ut=this.data.combo&&this.data.options.length>0;this.data.combo||(lt.size=this.data.options.length,this.data.multiSelect&&(lt.multiple=!0)),lt.addEventListener("resetform",Mt=>{const rn=this.data.defaultFieldValue;for(const It of lt.options)It.selected=It.value===rn});for(const Mt of this.data.options){const rn=document.createElement("option");rn.textContent=Mt.displayValue,rn.value=Mt.exportValue,He.value.includes(Mt.exportValue)&&(rn.setAttribute("selected",!0),ut=!1),lt.append(rn)}let bt=null;if(ut){const Mt=document.createElement("option");Mt.value=" ",Mt.setAttribute("hidden",!0),Mt.setAttribute("selected",!0),lt.prepend(Mt),bt=()=>{Mt.remove(),lt.removeEventListener("input",bt),bt=null},lt.addEventListener("input",bt)}const St=Mt=>{const rn=Mt?"value":"textContent",{options:It,multiple:zt}=lt;return zt?Array.prototype.filter.call(It,Jt=>Jt.selected).map(Jt=>Jt[rn]):It.selectedIndex===-1?null:It[It.selectedIndex][rn]};let Nt=St(!1);const Lt=Mt=>{const rn=Mt.target.options;return Array.prototype.map.call(rn,It=>({displayValue:It.textContent,exportValue:It.value}))};return this.enableScripting&&this.hasJSActions?(lt.addEventListener("updatefromsandbox",Mt=>{const rn={value(It){bt==null||bt();const zt=It.detail.value,Jt=new Set(Array.isArray(zt)?zt:[zt]);for(const un of lt.options)un.selected=Jt.has(un.value);Me.setValue(we,{value:St(!0)}),Nt=St(!1)},multipleSelection(It){lt.multiple=!0},remove(It){const zt=lt.options,Jt=It.detail.remove;zt[Jt].selected=!1,lt.remove(Jt),zt.length>0&&Array.prototype.findIndex.call(zt,bn=>bn.selected)===-1&&(zt[0].selected=!0),Me.setValue(we,{value:St(!0),items:Lt(It)}),Nt=St(!1)},clear(It){for(;lt.length!==0;)lt.remove(0);Me.setValue(we,{value:null,items:[]}),Nt=St(!1)},insert(It){const{index:zt,displayValue:Jt,exportValue:un}=It.detail.insert,bn=lt.children[zt],Pn=document.createElement("option");Pn.textContent=Jt,Pn.value=un,bn?bn.before(Pn):lt.append(Pn),Me.setValue(we,{value:St(!0),items:Lt(It)}),Nt=St(!1)},items(It){const{items:zt}=It.detail;for(;lt.length!==0;)lt.remove(0);for(const Jt of zt){const{displayValue:un,exportValue:bn}=Jt,Pn=document.createElement("option");Pn.textContent=un,Pn.value=bn,lt.append(Pn)}lt.options.length>0&&(lt.options[0].selected=!0),Me.setValue(we,{value:St(!0),items:Lt(It)}),Nt=St(!1)},indices(It){const zt=new Set(It.detail.indices);for(const Jt of It.target.options)Jt.selected=zt.has(Jt.index);Me.setValue(we,{value:St(!0)}),Nt=St(!1)},editable(It){It.target.disabled=!It.detail.editable}};this._dispatchEventFromSandbox(rn,Mt)}),lt.addEventListener("input",Mt=>{var It;const rn=St(!0);Me.setValue(we,{value:rn}),Mt.preventDefault(),(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:we,name:"Keystroke",value:Nt,changeEx:rn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(lt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Mt=>Mt.target.value)):lt.addEventListener("input",function(Mt){Me.setValue(we,{value:St(!0)})}),this.data.combo&&this._setTextStyle(lt),this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class oe extends ie{constructor(Me){const{data:we,elements:He}=Me;super(Me,{isRenderable:ie._hasPopupData(we)}),this.elements=He}render(){this.container.classList.add("popupAnnotation");const Me=new se({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),we=[];for(const He of this.elements)He.popup=Me,we.push(He.data.id),He.addHighlightArea();return this.container.setAttribute("aria-controls",we.map(He=>`${R.AnnotationPrefix}${He}`).join(",")),this.container}}class se{constructor({container:Me,color:we,elements:He,titleObj:lt,modificationDate:ut,contentsObj:bt,richText:St,parent:Nt,rect:Lt,parentRect:Mt,open:rn}){at(this,xt);at(this,et,null);at(this,st,Ge(this,xt,Ta).bind(this));at(this,ct,Ge(this,xt,ji).bind(this));at(this,dt,Ge(this,xt,Ni).bind(this));at(this,ht,Ge(this,xt,Yr).bind(this));at(this,gt,null);at(this,qe,null);at(this,Ke,null);at(this,me,null);at(this,Se,null);at(this,ze,null);at(this,Ye,!1);at(this,rt,null);at(this,mt,null);at(this,ft,null);at(this,Ue,null);at(this,wt,!1);var zt;ot(this,qe,Me),ot(this,Ue,lt),ot(this,Ke,bt),ot(this,ft,St),ot(this,Se,Nt),ot(this,gt,we),ot(this,mt,Lt),ot(this,ze,Mt),ot(this,me,He);const It=O.PDFDateString.toDateObject(ut);It&&ot(this,et,Nt.l10n.get("annotation_date_string",{date:It.toLocaleDateString(),time:It.toLocaleTimeString()})),this.trigger=He.flatMap(Jt=>Jt.getElementsToTriggerPopup());for(const Jt of this.trigger)Jt.addEventListener("click",V(this,ht)),Jt.addEventListener("mouseenter",V(this,dt)),Jt.addEventListener("mouseleave",V(this,ct)),Jt.classList.add("popupTriggerArea");for(const Jt of He)(zt=Jt.container)==null||zt.addEventListener("keydown",V(this,st));V(this,qe).hidden=!0,rn&&Ge(this,xt,Yr).call(this)}render(){if(V(this,rt))return;const{page:{view:Me},viewport:{rawDims:{pageWidth:we,pageHeight:He,pageX:lt,pageY:ut}}}=V(this,Se),bt=ot(this,rt,document.createElement("div"));if(bt.className="popup",V(this,gt)){const Nn=bt.style.outlineColor=R.Util.makeHexColor(...V(this,gt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?bt.style.backgroundColor=`color-mix(in srgb, ${Nn} 30%, white)`:bt.style.backgroundColor=R.Util.makeHexColor(...V(this,gt).map(ir=>Math.floor(.7*(255-ir)+ir)))}const St=document.createElement("span");St.className="header";const Nt=document.createElement("h1");if(St.append(Nt),{dir:Nt.dir,str:Nt.textContent}=V(this,Ue),bt.append(St),V(this,et)){const Nn=document.createElement("span");Nn.classList.add("popupDate"),V(this,et).then(nr=>{Nn.textContent=nr}),St.append(Nn)}const Lt=V(this,Ke),Mt=V(this,ft);if(Mt!=null&&Mt.str&&(!(Lt!=null&&Lt.str)||Lt.str===Mt.str))de.XfaLayer.render({xfaHtml:Mt.html,intent:"richText",div:bt}),bt.lastChild.classList.add("richText","popupContent");else{const Nn=this._formatContents(Lt);bt.append(Nn)}let rn=!!V(this,ze),It=rn?V(this,ze):V(this,mt);for(const Nn of V(this,me))if(!It||R.Util.intersect(Nn.data.rect,It)!==null){It=Nn.data.rect,rn=!0;break}const zt=R.Util.normalizeRect([It[0],Me[3]-It[1]+Me[1],It[2],Me[3]-It[3]+Me[1]]),un=rn?It[2]-It[0]+5:0,bn=zt[0]+un,Pn=zt[1],{style:Un}=V(this,qe);Un.left=`${100*(bn-lt)/we}%`,Un.top=`${100*(Pn-ut)/He}%`,V(this,qe).append(bt)}_formatContents({str:Me,dir:we}){const He=document.createElement("p");He.classList.add("popupContent"),He.dir=we;const lt=Me.split(/(?:\r\n?|\n)/);for(let ut=0,bt=lt.length;ut<bt;++ut){const St=lt[ut];He.append(document.createTextNode(St)),ut<bt-1&&He.append(document.createElement("br"))}return He}forceHide(){ot(this,wt,this.isVisible),V(this,wt)&&(V(this,qe).hidden=!0)}maybeShow(){V(this,wt)&&(ot(this,wt,!1),V(this,qe).hidden=!1)}get isVisible(){return V(this,qe).hidden===!1}}et=new WeakMap,st=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,gt=new WeakMap,qe=new WeakMap,Ke=new WeakMap,me=new WeakMap,Se=new WeakMap,ze=new WeakMap,Ye=new WeakMap,rt=new WeakMap,mt=new WeakMap,ft=new WeakMap,Ue=new WeakMap,wt=new WeakMap,xt=new WeakSet,Ta=function(Me){Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey||(Me.key==="Enter"||Me.key==="Escape"&&V(this,Ye))&&Ge(this,xt,Yr).call(this)},Yr=function(){ot(this,Ye,!V(this,Ye)),V(this,Ye)?(Ge(this,xt,Ni).call(this),V(this,qe).addEventListener("click",V(this,ht)),V(this,qe).addEventListener("keydown",V(this,st))):(Ge(this,xt,ji).call(this),V(this,qe).removeEventListener("click",V(this,ht)),V(this,qe).removeEventListener("keydown",V(this,st)))},Ni=function(){V(this,rt)||this.render(),this.isVisible?V(this,Ye)&&V(this,qe).classList.add("focused"):(V(this,qe).hidden=!1,V(this,qe).style.zIndex=parseInt(V(this,qe).style.zIndex)+1e3)},ji=function(){V(this,qe).classList.remove("focused"),!(V(this,Ye)||!this.isVisible)&&(V(this,qe).hidden=!0,V(this,qe).style.zIndex=parseInt(V(this,qe).style.zIndex)-1e3)};class ye extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Me.data.textContent,this.textPosition=Me.data.textPosition,this.annotationEditorType=R.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Me=document.createElement("div");Me.classList.add("annotationTextContent"),Me.setAttribute("role","comment");for(const we of this.textContent){const He=document.createElement("span");He.textContent=we,Me.append(He)}this.container.append(Me)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=ye;class Q extends ie{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});at(this,Ht,null)}render(){this.container.classList.add("lineAnnotation");const we=this.data,{width:He,height:lt}=le(we.rect),ut=this.svgFactory.create(He,lt,!0),bt=ot(this,Ht,this.svgFactory.createElement("svg:line"));return bt.setAttribute("x1",we.rect[2]-we.lineCoordinates[0]),bt.setAttribute("y1",we.rect[3]-we.lineCoordinates[1]),bt.setAttribute("x2",we.rect[2]-we.lineCoordinates[2]),bt.setAttribute("y2",we.rect[3]-we.lineCoordinates[3]),bt.setAttribute("stroke-width",we.borderStyle.width||1),bt.setAttribute("stroke","transparent"),bt.setAttribute("fill","transparent"),ut.append(bt),this.container.append(ut),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ht=new WeakMap;class ve extends ie{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});at(this,on,null)}render(){this.container.classList.add("squareAnnotation");const we=this.data,{width:He,height:lt}=le(we.rect),ut=this.svgFactory.create(He,lt,!0),bt=we.borderStyle.width,St=ot(this,on,this.svgFactory.createElement("svg:rect"));return St.setAttribute("x",bt/2),St.setAttribute("y",bt/2),St.setAttribute("width",He-bt),St.setAttribute("height",lt-bt),St.setAttribute("stroke-width",bt||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,on)}addHighlightArea(){this.container.classList.add("highlightArea")}}on=new WeakMap;class Ce extends ie{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});at(this,yn,null)}render(){this.container.classList.add("circleAnnotation");const we=this.data,{width:He,height:lt}=le(we.rect),ut=this.svgFactory.create(He,lt,!0),bt=we.borderStyle.width,St=ot(this,yn,this.svgFactory.createElement("svg:ellipse"));return St.setAttribute("cx",He/2),St.setAttribute("cy",lt/2),St.setAttribute("rx",He/2-bt/2),St.setAttribute("ry",lt/2-bt/2),St.setAttribute("stroke-width",bt||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}yn=new WeakMap;class Oe extends ie{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});at(this,vt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const we=this.data,{width:He,height:lt}=le(we.rect),ut=this.svgFactory.create(He,lt,!0);let bt=[];for(const Nt of we.vertices){const Lt=Nt.x-we.rect[0],Mt=we.rect[3]-Nt.y;bt.push(Lt+","+Mt)}bt=bt.join(" ");const St=ot(this,vt,this.svgFactory.createElement(this.svgElementName));return St.setAttribute("points",bt),St.setAttribute("stroke-width",we.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!we.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}vt=new WeakMap;class $e extends Oe{constructor(Me){super(Me),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class je extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Le extends ie{constructor(we){super(we,{isRenderable:!0,ignoreBorder:!0});at(this,Ze,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=R.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const we=this.data,{width:He,height:lt}=le(we.rect),ut=this.svgFactory.create(He,lt,!0);for(const bt of we.inkLists){let St=[];for(const Lt of bt){const Mt=Lt.x-we.rect[0],rn=we.rect[3]-Lt.y;St.push(`${Mt},${rn}`)}St=St.join(" ");const Nt=this.svgFactory.createElement(this.svgElementName);V(this,Ze).push(Nt),Nt.setAttribute("points",St),Nt.setAttribute("stroke-width",we.borderStyle.width||1),Nt.setAttribute("stroke","transparent"),Nt.setAttribute("fill","transparent"),!we.popupRef&&this.hasPopupData&&this._createPopup(),ut.append(Nt)}return this.container.append(ut),this.container}getElementsToTriggerPopup(){return V(this,Ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ze=new WeakMap,$.InkAnnotationElement=Le;class Xe extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class xe extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Te extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ve extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ee extends ie{constructor(Me){super(Me,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=Ee;class G extends ie{constructor(we){var ut;super(we,{isRenderable:!0});at(this,Rt);at(this,Qe,null);const{filename:He,content:lt}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(He,!0),this.content=lt,(ut=this.linkService.eventBus)==null||ut.dispatch("fileattachmentannotation",{source:this,filename:He,content:lt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:we,data:He}=this;let lt;He.hasAppearance||He.fillAlpha===0?lt=document.createElement("div"):(lt=document.createElement("img"),lt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(He.name)?"paperclip":"pushpin"}.svg`,He.fillAlpha&&He.fillAlpha<1&&(lt.style=`filter: opacity(${Math.round(He.fillAlpha*100)}%);`)),lt.addEventListener("dblclick",Ge(this,Rt,Bi).bind(this)),ot(this,Qe,lt);const{isMac:ut}=R.FeatureTest.platform;return we.addEventListener("keydown",bt=>{bt.key==="Enter"&&(ut?bt.metaKey:bt.ctrlKey)&&Ge(this,Rt,Bi).call(this)}),!He.popupRef&&this.hasPopupData?this._createPopup():lt.classList.add("popupTriggerArea"),we.append(lt),we}getElementsToTriggerPopup(){return V(this,Qe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qe=new WeakMap,Rt=new WeakSet,Bi=function(){var we;(we=this.downloadManager)==null||we.openOrDownloadData(this.container,this.content,this.filename)};class K{constructor({div:Me,accessibilityManager:we,annotationCanvasMap:He,l10n:lt,page:ut,viewport:bt}){at(this,Pt);at(this,qt,null);at(this,Re,null);at(this,pt,new Map);this.div=Me,ot(this,qt,we),ot(this,Re,He),this.l10n=lt,this.page=ut,this.viewport=bt,this.zIndex=0,this.l10n||(this.l10n=fe.NullL10n)}async render(Me){const{annotations:we}=Me,He=this.div;(0,O.setLayerDimensions)(He,this.viewport);const lt=new Map,ut={data:null,layer:He,linkService:Me.linkService,downloadManager:Me.downloadManager,imageResourcesPath:Me.imageResourcesPath||"",renderForms:Me.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:Me.annotationStorage||new B.AnnotationStorage,enableScripting:Me.enableScripting===!0,hasJSActions:Me.hasJSActions,fieldObjects:Me.fieldObjects,parent:this,elements:null};for(const bt of we){if(bt.noHTML)continue;const St=bt.annotationType===R.AnnotationType.POPUP;if(St){const Mt=lt.get(bt.id);if(!Mt)continue;ut.elements=Mt}else{const{width:Mt,height:rn}=le(bt.rect);if(Mt<=0||rn<=0)continue}ut.data=bt;const Nt=te.create(ut);if(!Nt.isRenderable)continue;if(!St&&bt.popupRef){const Mt=lt.get(bt.popupRef);Mt?Mt.push(Nt):lt.set(bt.popupRef,[Nt])}Nt.annotationEditorType>0&&V(this,pt).set(Nt.data.id,Nt);const Lt=Nt.render();bt.hidden&&(Lt.style.visibility="hidden"),Ge(this,Pt,Ra).call(this,Lt,bt.id)}Ge(this,Pt,zi).call(this),await this.l10n.translate(He)}update({viewport:Me}){const we=this.div;this.viewport=Me,(0,O.setLayerDimensions)(we,{rotation:Me.rotation}),Ge(this,Pt,zi).call(this),we.hidden=!1}getEditableAnnotations(){return Array.from(V(this,pt).values())}getEditableAnnotation(Me){return V(this,pt).get(Me)}}qt=new WeakMap,Re=new WeakMap,pt=new WeakMap,Pt=new WeakSet,Ra=function(Me,we){var lt;const He=Me.firstChild||Me;He.id=`${R.AnnotationPrefix}${we}`,this.div.append(Me),(lt=V(this,qt))==null||lt.moveElementInDOM(this.div,Me,He,!1)},zi=function(){if(!V(this,Re))return;const Me=this.div;for(const[we,He]of V(this,Re)){const lt=Me.querySelector(`[data-annotation-id="${we}"]`);if(!lt)continue;const{firstChild:ut}=lt;ut?ut.nodeName==="CANVAS"?ut.replaceWith(He):ut.before(He):lt.append(He)}V(this,Re).clear()},$.AnnotationLayer=K},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function R(B){return Math.max(0,Math.min(255,255*B))}class O{static CMYK_G([J,fe,de,ue]){return["G",1-Math.min(1,.3*J+.59*de+.11*fe+ue)]}static G_CMYK([J]){return["CMYK",0,0,0,1-J]}static G_RGB([J]){return["RGB",J,J,J]}static G_rgb([J]){return J=R(J),[J,J,J]}static G_HTML([J]){const fe=H(J);return`#${fe}${fe}${fe}`}static RGB_G([J,fe,de]){return["G",.3*J+.59*fe+.11*de]}static RGB_rgb(J){return J.map(R)}static RGB_HTML(J){return`#${J.map(H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([J,fe,de,ue]){return["RGB",1-Math.min(1,J+ue),1-Math.min(1,de+ue),1-Math.min(1,fe+ue)]}static CMYK_rgb([J,fe,de,ue]){return[R(1-Math.min(1,J+ue)),R(1-Math.min(1,de+ue)),R(1-Math.min(1,fe+ue))]}static CMYK_HTML(J){const fe=this.CMYK_RGB(J).slice(1);return this.RGB_HTML(fe)}static RGB_CMYK([J,fe,de]){const ue=1-J,W=1-fe,_e=1-de,le=Math.min(ue,W,_e);return["CMYK",ue,W,_e,le]}}$.ColorConverters=O},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=R;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function R(J,fe){switch(J){case"find_match_count":J=`find_match_count[${fe.total===1?"one":"other"}]`;break;case"find_match_count_limit":J=`find_match_count_limit[${fe.limit===1?"one":"other"}]`;break}return H[J]||""}function O(J,fe){return fe?J.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(de,ue)=>ue in fe?fe[ue]:"{{"+ue+"}}"):J}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(J,fe=null,de=R(J,fe)){return O(de,fe)},async translate(J){}};$.NullL10n=B},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var R=H(25);class O{static setupStorage(J,fe,de,ue,W){const _e=ue.getValue(fe,{value:null});switch(de.name){case"textarea":if(_e.value!==null&&(J.textContent=_e.value),W==="print")break;J.addEventListener("input",le=>{ue.setValue(fe,{value:le.target.value})});break;case"input":if(de.attributes.type==="radio"||de.attributes.type==="checkbox"){if(_e.value===de.attributes.xfaOn?J.setAttribute("checked",!0):_e.value===de.attributes.xfaOff&&J.removeAttribute("checked"),W==="print")break;J.addEventListener("change",le=>{ue.setValue(fe,{value:le.target.checked?le.target.getAttribute("xfaOn"):le.target.getAttribute("xfaOff")})})}else{if(_e.value!==null&&J.setAttribute("value",_e.value),W==="print")break;J.addEventListener("input",le=>{ue.setValue(fe,{value:le.target.value})})}break;case"select":if(_e.value!==null){J.setAttribute("value",_e.value);for(const le of de.children)le.attributes.value===_e.value?le.attributes.selected=!0:le.attributes.hasOwnProperty("selected")&&delete le.attributes.selected}J.addEventListener("input",le=>{const te=le.target.options,ie=te.selectedIndex===-1?"":te[te.selectedIndex].value;ue.setValue(fe,{value:ie})});break}}static setAttributes({html:J,element:fe,storage:de=null,intent:ue,linkService:W}){const{attributes:_e}=fe,le=J instanceof HTMLAnchorElement;_e.type==="radio"&&(_e.name=`${_e.name}-${ue}`);for(const[te,ie]of Object.entries(_e))if(ie!=null)switch(te){case"class":ie.length&&J.setAttribute(te,ie.join(" "));break;case"dataId":break;case"id":J.setAttribute("data-element-id",ie);break;case"style":Object.assign(J.style,ie);break;case"textContent":J.textContent=ie;break;default:(!le||te!=="href"&&te!=="newWindow")&&J.setAttribute(te,ie)}le&&W.addLinkAttributes(J,_e.href,_e.newWindow),de&&_e.dataId&&this.setupStorage(J,_e.dataId,fe,de)}static render(J){var ee;const fe=J.annotationStorage,de=J.linkService,ue=J.xfaHtml,W=J.intent||"display",_e=document.createElement(ue.name);ue.attributes&&this.setAttributes({html:_e,element:ue,intent:W,linkService:de});const le=[[ue,-1,_e]],te=J.div;if(te.append(_e),J.viewport){const q=`matrix(${J.viewport.transform.join(",")})`;te.style.transform=q}W!=="richText"&&te.setAttribute("class","xfaLayer xfaFont");const ie=[];for(;le.length>0;){const[q,ne,ae]=le.at(-1);if(ne+1===q.children.length){le.pop();continue}const be=q.children[++le.at(-1)[1]];if(be===null)continue;const{name:he}=be;if(he==="#text"){const ce=document.createTextNode(be.value);ie.push(ce),ae.append(ce);continue}const Y=(ee=be==null?void 0:be.attributes)!=null&&ee.xmlns?document.createElementNS(be.attributes.xmlns,he):document.createElement(he);if(ae.append(Y),be.attributes&&this.setAttributes({html:Y,element:be,storage:fe,intent:W,linkService:de}),be.children&&be.children.length>0)le.push([be,-1,Y]);else if(be.value){const ce=document.createTextNode(be.value);R.XfaText.shouldBuildText(he)&&ie.push(ce),Y.append(ce)}}for(const q of te.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))q.setAttribute("readOnly",!0);return{textDivs:ie}}static update(J){const fe=`matrix(${J.viewport.transform.join(",")})`;J.div.style.transform=fe,J.div.hidden=!1}}$.XfaLayer=O},(A,$,H)=>{var ue,W,_e,le,te,ie,ee,q,ne,ae,be,he,Y,ce,re,Fa,La,Ia,Da,Hi,Oa,Vi,Na,ja,Ba,za,Ha,cr,Wi,Zr,Jr,xr,Ui,Qr,Ae,Va,Gi,Wa,Ua,qi,ei,wr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var R=H(1),O=H(4),B=H(29),J=H(6),fe=H(5);const gt=class gt extends O.AnnotationEditor{constructor(me){super({...me,name:"inkEditor"});at(this,re);at(this,ue,0);at(this,W,0);at(this,_e,this.canvasPointermove.bind(this));at(this,le,this.canvasPointerleave.bind(this));at(this,te,this.canvasPointerup.bind(this));at(this,ie,this.canvasPointerdown.bind(this));at(this,ee,new Path2D);at(this,q,!1);at(this,ne,!1);at(this,ae,!1);at(this,be,null);at(this,he,0);at(this,Y,0);at(this,ce,null);this.color=me.color||null,this.thickness=me.thickness||null,this.opacity=me.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(me){O.AnnotationEditor.initialize(me,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(me,Se){switch(me){case R.AnnotationEditorParamsType.INK_THICKNESS:gt._defaultThickness=Se;break;case R.AnnotationEditorParamsType.INK_COLOR:gt._defaultColor=Se;break;case R.AnnotationEditorParamsType.INK_OPACITY:gt._defaultOpacity=Se/100;break}}updateParams(me,Se){switch(me){case R.AnnotationEditorParamsType.INK_THICKNESS:Ge(this,re,Fa).call(this,Se);break;case R.AnnotationEditorParamsType.INK_COLOR:Ge(this,re,La).call(this,Se);break;case R.AnnotationEditorParamsType.INK_OPACITY:Ge(this,re,Ia).call(this,Se);break}}static get defaultPropertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,gt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,gt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(gt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[R.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gt._defaultThickness],[R.AnnotationEditorParamsType.INK_COLOR,this.color||gt._defaultColor||O.AnnotationEditor._defaultLineColor],[R.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ge(this,re,Zr).call(this),Ge(this,re,Jr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ge(this,re,xr).call(this)),Ge(this,re,wr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,be).disconnect(),ot(this,be,null),super.remove())}setParent(me){!this.parent&&me?this._uiManager.removeShouldRescale(this):this.parent&&me===null&&this._uiManager.addShouldRescale(this),super.setParent(me)}onScaleChanging(){const[me,Se]=this.parentDimensions,ze=this.width*me,Ye=this.height*Se;this.setDimensions(ze,Ye)}enableEditMode(){V(this,q)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,ie)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,ie)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,q)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ot(this,q,!0),this.div.classList.add("disabled"),Ge(this,re,wr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(me){this._focusEventsAllowed&&(super.focusin(me),this.enableEditMode())}canvasPointerdown(me){me.button!==0||!this.isInEditMode()||V(this,q)||(this.setInForeground(),me.preventDefault(),me.type!=="mouse"&&this.div.focus(),Ge(this,re,Oa).call(this,me.offsetX,me.offsetY))}canvasPointermove(me){me.preventDefault(),Ge(this,re,Vi).call(this,me.offsetX,me.offsetY)}canvasPointerup(me){me.preventDefault(),Ge(this,re,Wi).call(this,me)}canvasPointerleave(me){Ge(this,re,Wi).call(this,me)}get isResizable(){return!this.isEmpty()&&V(this,q)}render(){if(this.div)return this.div;let me,Se;this.width&&(me=this.x,Se=this.y),super.render(),O.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ft=>{var Ue;return(Ue=this.div)==null?void 0:Ue.setAttribute("aria-label",ft)});const[ze,Ye,rt,mt]=Ge(this,re,Da).call(this);if(this.setAt(ze,Ye,0,0),this.setDims(rt,mt),Ge(this,re,Zr).call(this),this.width){const[ft,Ue]=this.parentDimensions;this.setAspectRatio(this.width*ft,this.height*Ue),this.setAt(me*ft,Se*Ue,this.width*ft,this.height*Ue),ot(this,ae,!0),Ge(this,re,xr).call(this),this.setDims(this.width*ft,this.height*Ue),Ge(this,re,cr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ge(this,re,Jr).call(this),this.div}setDimensions(me,Se){const ze=Math.round(me),Ye=Math.round(Se);if(V(this,he)===ze&&V(this,Y)===Ye)return;ot(this,he,ze),ot(this,Y,Ye),this.canvas.style.visibility="hidden";const[rt,mt]=this.parentDimensions;this.width=me/rt,this.height=Se/mt,this.fixAndSetPosition(),V(this,q)&&Ge(this,re,Ui).call(this,me,Se),Ge(this,re,xr).call(this),Ge(this,re,cr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(me,Se,ze){var Ht,on,yn;if(me instanceof B.InkAnnotationElement)return null;const Ye=super.deserialize(me,Se,ze);Ye.thickness=me.thickness,Ye.color=R.Util.makeHexColor(...me.color),Ye.opacity=me.opacity;const[rt,mt]=Ye.pageDimensions,ft=Ye.width*rt,Ue=Ye.height*mt,wt=Ye.parentScale,xt=me.thickness/2;ot(Ye,q,!0),ot(Ye,he,Math.round(ft)),ot(Ye,Y,Math.round(Ue));const{paths:Zt,rect:Gt,rotation:fn}=me;for(let{bezier:vt}of Zt){vt=Ge(Ht=gt,Ae,Wa).call(Ht,vt,Gt,fn);const Ze=[];Ye.paths.push(Ze);let Qe=wt*(vt[0]-xt),Rt=wt*(vt[1]-xt);for(let qt=2,Re=vt.length;qt<Re;qt+=6){const pt=wt*(vt[qt]-xt),Pt=wt*(vt[qt+1]-xt),Ot=wt*(vt[qt+2]-xt),Bt=wt*(vt[qt+3]-xt),Tt=wt*(vt[qt+4]-xt),Me=wt*(vt[qt+5]-xt);Ze.push([[Qe,Rt],[pt,Pt],[Ot,Bt],[Tt,Me]]),Qe=Tt,Rt=Me}const Dt=Ge(this,Ae,Va).call(this,Ze);Ye.bezierPath2D.push(Dt)}const Ft=Ge(on=Ye,re,qi).call(on);return ot(Ye,W,Math.max(O.AnnotationEditor.MIN_SIZE,Ft[2]-Ft[0])),ot(Ye,ue,Math.max(O.AnnotationEditor.MIN_SIZE,Ft[3]-Ft[1])),Ge(yn=Ye,re,Ui).call(yn,ft,Ue),Ye}serialize(){if(this.isEmpty())return null;const me=this.getRect(0,0),Se=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:R.AnnotationEditorType.INK,color:Se,thickness:this.thickness,opacity:this.opacity,paths:Ge(this,re,Ua).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,me),pageIndex:this.pageIndex,rect:me,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ue=new WeakMap,W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakMap,ae=new WeakMap,be=new WeakMap,he=new WeakMap,Y=new WeakMap,ce=new WeakMap,re=new WeakSet,Fa=function(me){const Se=this.thickness;this.addCommands({cmd:()=>{this.thickness=me,Ge(this,re,wr).call(this)},undo:()=>{this.thickness=Se,Ge(this,re,wr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},La=function(me){const Se=this.color;this.addCommands({cmd:()=>{this.color=me,Ge(this,re,cr).call(this)},undo:()=>{this.color=Se,Ge(this,re,cr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ia=function(me){me/=100;const Se=this.opacity;this.addCommands({cmd:()=>{this.opacity=me,Ge(this,re,cr).call(this)},undo:()=>{this.opacity=Se,Ge(this,re,cr).call(this)},mustExec:!0,type:R.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Da=function(){const{parentRotation:me,parentDimensions:[Se,ze]}=this;switch(me){case 90:return[0,ze,ze,Se];case 180:return[Se,ze,Se,ze];case 270:return[Se,0,ze,Se];default:return[0,0,Se,ze]}},Hi=function(){const{ctx:me,color:Se,opacity:ze,thickness:Ye,parentScale:rt,scaleFactor:mt}=this;me.lineWidth=Ye*rt/mt,me.lineCap="round",me.lineJoin="round",me.miterLimit=10,me.strokeStyle=`${Se}${(0,fe.opacityToHex)(ze)}`},Oa=function(me,Se){this.canvas.addEventListener("contextmenu",J.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,le)),this.canvas.addEventListener("pointermove",V(this,_e)),this.canvas.addEventListener("pointerup",V(this,te)),this.canvas.removeEventListener("pointerdown",V(this,ie)),this.isEditing=!0,V(this,ae)||(ot(this,ae,!0),Ge(this,re,xr).call(this),this.thickness||(this.thickness=gt._defaultThickness),this.color||(this.color=gt._defaultColor||O.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gt._defaultOpacity)),this.currentPath.push([me,Se]),ot(this,ne,!1),Ge(this,re,Hi).call(this),ot(this,ce,()=>{Ge(this,re,Ba).call(this),V(this,ce)&&window.requestAnimationFrame(V(this,ce))}),window.requestAnimationFrame(V(this,ce))},Vi=function(me,Se){const[ze,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&me===ze&&Se===Ye)return;const rt=this.currentPath;let mt=V(this,ee);if(rt.push([me,Se]),ot(this,ne,!0),rt.length<=2){mt.moveTo(...rt[0]),mt.lineTo(me,Se);return}rt.length===3&&(ot(this,ee,mt=new Path2D),mt.moveTo(...rt[0])),Ge(this,re,za).call(this,mt,...rt.at(-3),...rt.at(-2),me,Se)},Na=function(){if(this.currentPath.length===0)return;const me=this.currentPath.at(-1);V(this,ee).lineTo(...me)},ja=function(me,Se){ot(this,ce,null),me=Math.min(Math.max(me,0),this.canvas.width),Se=Math.min(Math.max(Se,0),this.canvas.height),Ge(this,re,Vi).call(this,me,Se),Ge(this,re,Na).call(this);let ze;if(this.currentPath.length!==1)ze=Ge(this,re,Ha).call(this);else{const Ue=[me,Se];ze=[[Ue,Ue.slice(),Ue.slice(),Ue]]}const Ye=V(this,ee),rt=this.currentPath;this.currentPath=[],ot(this,ee,new Path2D);const mt=()=>{this.allRawPaths.push(rt),this.paths.push(ze),this.bezierPath2D.push(Ye),this.rebuild()},ft=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ge(this,re,Zr).call(this),Ge(this,re,Jr).call(this)),Ge(this,re,wr).call(this))};this.addCommands({cmd:mt,undo:ft,mustExec:!0})},Ba=function(){if(!V(this,ne))return;ot(this,ne,!1);const me=Math.ceil(this.thickness*this.parentScale),Se=this.currentPath.slice(-3),ze=Se.map(mt=>mt[0]),Ye=Se.map(mt=>mt[1]);Math.min(...ze)-me,Math.max(...ze)+me,Math.min(...Ye)-me,Math.max(...Ye)+me;const{ctx:rt}=this;rt.save(),rt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const mt of this.bezierPath2D)rt.stroke(mt);rt.stroke(V(this,ee)),rt.restore()},za=function(me,Se,ze,Ye,rt,mt,ft){const Ue=(Se+Ye)/2,wt=(ze+rt)/2,xt=(Ye+mt)/2,Zt=(rt+ft)/2;me.bezierCurveTo(Ue+2*(Ye-Ue)/3,wt+2*(rt-wt)/3,xt+2*(Ye-xt)/3,Zt+2*(rt-Zt)/3,xt,Zt)},Ha=function(){const me=this.currentPath;if(me.length<=2)return[[me[0],me[0],me.at(-1),me.at(-1)]];const Se=[];let ze,[Ye,rt]=me[0];for(ze=1;ze<me.length-2;ze++){const[Gt,fn]=me[ze],[Ft,Ht]=me[ze+1],on=(Gt+Ft)/2,yn=(fn+Ht)/2,vt=[Ye+2*(Gt-Ye)/3,rt+2*(fn-rt)/3],Ze=[on+2*(Gt-on)/3,yn+2*(fn-yn)/3];Se.push([[Ye,rt],vt,Ze,[on,yn]]),[Ye,rt]=[on,yn]}const[mt,ft]=me[ze],[Ue,wt]=me[ze+1],xt=[Ye+2*(mt-Ye)/3,rt+2*(ft-rt)/3],Zt=[Ue+2*(mt-Ue)/3,wt+2*(ft-wt)/3];return Se.push([[Ye,rt],xt,Zt,[Ue,wt]]),Se},cr=function(){if(this.isEmpty()){Ge(this,re,Qr).call(this);return}Ge(this,re,Hi).call(this);const{canvas:me,ctx:Se}=this;Se.setTransform(1,0,0,1,0,0),Se.clearRect(0,0,me.width,me.height),Ge(this,re,Qr).call(this);for(const ze of this.bezierPath2D)Se.stroke(ze)},Wi=function(me){this.canvas.removeEventListener("pointerleave",V(this,le)),this.canvas.removeEventListener("pointermove",V(this,_e)),this.canvas.removeEventListener("pointerup",V(this,te)),this.canvas.addEventListener("pointerdown",V(this,ie)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",J.noContextMenu)},10),Ge(this,re,ja).call(this,me.offsetX,me.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",O.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(me=>{var Se;return(Se=this.canvas)==null?void 0:Se.setAttribute("aria-label",me)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Jr=function(){ot(this,be,new ResizeObserver(me=>{const Se=me[0].contentRect;Se.width&&Se.height&&this.setDimensions(Se.width,Se.height)})),V(this,be).observe(this.div)},xr=function(){if(!V(this,ae))return;const[me,Se]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*me),this.canvas.height=Math.ceil(this.height*Se),Ge(this,re,Qr).call(this)},Ui=function(me,Se){const ze=Ge(this,re,ei).call(this),Ye=(me-ze)/V(this,W),rt=(Se-ze)/V(this,ue);this.scaleFactor=Math.min(Ye,rt)},Qr=function(){const me=Ge(this,re,ei).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+me,this.translationY*this.scaleFactor+me)},Ae=new WeakSet,Va=function(me){const Se=new Path2D;for(let ze=0,Ye=me.length;ze<Ye;ze++){const[rt,mt,ft,Ue]=me[ze];ze===0&&Se.moveTo(...rt),Se.bezierCurveTo(mt[0],mt[1],ft[0],ft[1],Ue[0],Ue[1])}return Se},Gi=function(me,Se,ze){const[Ye,rt,mt,ft]=Se;switch(ze){case 0:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2)me[Ue]+=Ye,me[Ue+1]=ft-me[Ue+1];break;case 90:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2){const xt=me[Ue];me[Ue]=me[Ue+1]+Ye,me[Ue+1]=xt+rt}break;case 180:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2)me[Ue]=mt-me[Ue],me[Ue+1]+=rt;break;case 270:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2){const xt=me[Ue];me[Ue]=mt-me[Ue+1],me[Ue+1]=ft-xt}break;default:throw new Error("Invalid rotation")}return me},Wa=function(me,Se,ze){const[Ye,rt,mt,ft]=Se;switch(ze){case 0:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2)me[Ue]-=Ye,me[Ue+1]=ft-me[Ue+1];break;case 90:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2){const xt=me[Ue];me[Ue]=me[Ue+1]-rt,me[Ue+1]=xt-Ye}break;case 180:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2)me[Ue]=mt-me[Ue],me[Ue+1]-=rt;break;case 270:for(let Ue=0,wt=me.length;Ue<wt;Ue+=2){const xt=me[Ue];me[Ue]=ft-me[Ue+1],me[Ue+1]=mt-xt}break;default:throw new Error("Invalid rotation")}return me},Ua=function(me,Se,ze,Ye){var wt,xt;const rt=[],mt=this.thickness/2,ft=me*Se+mt,Ue=me*ze+mt;for(const Zt of this.paths){const Gt=[],fn=[];for(let Ft=0,Ht=Zt.length;Ft<Ht;Ft++){const[on,yn,vt,Ze]=Zt[Ft],Qe=me*on[0]+ft,Rt=me*on[1]+Ue,Dt=me*yn[0]+ft,qt=me*yn[1]+Ue,Re=me*vt[0]+ft,pt=me*vt[1]+Ue,Pt=me*Ze[0]+ft,Ot=me*Ze[1]+Ue;Ft===0&&(Gt.push(Qe,Rt),fn.push(Qe,Rt)),Gt.push(Dt,qt,Re,pt,Pt,Ot),fn.push(Dt,qt),Ft===Ht-1&&fn.push(Pt,Ot)}rt.push({bezier:Ge(wt=gt,Ae,Gi).call(wt,Gt,Ye,this.rotation),points:Ge(xt=gt,Ae,Gi).call(xt,fn,Ye,this.rotation)})}return rt},qi=function(){let me=1/0,Se=-1/0,ze=1/0,Ye=-1/0;for(const rt of this.paths)for(const[mt,ft,Ue,wt]of rt){const xt=R.Util.bezierBoundingBox(...mt,...ft,...Ue,...wt);me=Math.min(me,xt[0]),ze=Math.min(ze,xt[1]),Se=Math.max(Se,xt[2]),Ye=Math.max(Ye,xt[3])}return[me,ze,Se,Ye]},ei=function(){return V(this,q)?Math.ceil(this.thickness*this.parentScale):0},wr=function(me=!1){if(this.isEmpty())return;if(!V(this,q)){Ge(this,re,cr).call(this);return}const Se=Ge(this,re,qi).call(this),ze=Ge(this,re,ei).call(this);ot(this,W,Math.max(O.AnnotationEditor.MIN_SIZE,Se[2]-Se[0])),ot(this,ue,Math.max(O.AnnotationEditor.MIN_SIZE,Se[3]-Se[1]));const Ye=Math.ceil(ze+V(this,W)*this.scaleFactor),rt=Math.ceil(ze+V(this,ue)*this.scaleFactor),[mt,ft]=this.parentDimensions;this.width=Ye/mt,this.height=rt/ft,this.setAspectRatio(Ye,rt);const Ue=this.translationX,wt=this.translationY;this.translationX=-Se[0],this.translationY=-Se[1],Ge(this,re,xr).call(this),Ge(this,re,cr).call(this),ot(this,he,Ye),ot(this,Y,rt),this.setDims(Ye,rt);const xt=me?ze/this.scaleFactor/2:0;this.translate(Ue-this.translationX-xt,wt-this.translationY-xt)},at(gt,Ae),Fn(gt,"_defaultColor",null),Fn(gt,"_defaultOpacity",1),Fn(gt,"_defaultThickness",1),Fn(gt,"_type","ink");let de=gt;$.InkEditor=de},(A,$,H)=>{var de,ue,W,_e,le,te,ie,ee,q,ne,ae,Fr,Lr,ti,Xi,Ga,qa,Ki,ni,Xa;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var R=H(1),O=H(4),B=H(6),J=H(29);const ve=class ve extends O.AnnotationEditor{constructor($e){super({...$e,name:"stampEditor"});at(this,ae);at(this,de,null);at(this,ue,null);at(this,W,null);at(this,_e,null);at(this,le,null);at(this,te,null);at(this,ie,null);at(this,ee,null);at(this,q,!1);at(this,ne,!1);ot(this,_e,$e.bitmapUrl),ot(this,le,$e.bitmapFile)}static initialize($e){O.AnnotationEditor.initialize($e)}static get supportedTypes(){const $e=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,R.shadow)(this,"supportedTypes",$e.map(je=>`image/${je}`))}static get supportedTypesStr(){return(0,R.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting($e){return this.supportedTypes.includes($e)}static paste($e,je){je.pasteEditor(R.AnnotationEditorType.STAMP,{bitmapFile:$e.getAsFile()})}remove(){var $e,je;V(this,ue)&&(ot(this,de,null),this._uiManager.imageManager.deleteId(V(this,ue)),($e=V(this,te))==null||$e.remove(),ot(this,te,null),(je=V(this,ie))==null||je.disconnect(),ot(this,ie,null)),super.remove()}rebuild(){if(!this.parent){V(this,ue)&&Ge(this,ae,ti).call(this);return}super.rebuild(),this.div!==null&&(V(this,ue)&&Ge(this,ae,ti).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,W)||V(this,de)||V(this,_e)||V(this,le))}get isResizable(){return!0}render(){if(this.div)return this.div;let $e,je;if(this.width&&($e=this.x,je=this.y),super.render(),this.div.hidden=!0,V(this,de)?Ge(this,ae,Xi).call(this):Ge(this,ae,ti).call(this),this.width){const[Le,Xe]=this.parentDimensions;this.setAt($e*Le,je*Xe,this.width*Le,this.height*Xe)}return this.div}static deserialize($e,je,Le){if($e instanceof J.StampAnnotationElement)return null;const Xe=super.deserialize($e,je,Le),{rect:xe,bitmapUrl:Te,bitmapId:Ve,isSvg:Ee,accessibilityData:G}=$e;Ve&&Le.imageManager.isValidId(Ve)?ot(Xe,ue,Ve):ot(Xe,_e,Te),ot(Xe,q,Ee);const[K,ge]=Xe.pageDimensions;return Xe.width=(xe[2]-xe[0])/K,Xe.height=(xe[3]-xe[1])/ge,G&&(Xe.altTextData=G),Xe}serialize($e=!1,je=null){if(this.isEmpty())return null;const Le={annotationType:R.AnnotationEditorType.STAMP,bitmapId:V(this,ue),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,q),structTreeParentId:this._structTreeParentId};if($e)return Le.bitmapUrl=Ge(this,ae,ni).call(this,!0),Le.accessibilityData=this.altTextData,Le;const{decorative:Xe,altText:xe}=this.altTextData;if(!Xe&&xe&&(Le.accessibilityData={type:"Figure",alt:xe}),je===null)return Le;je.stamps||(je.stamps=new Map);const Te=V(this,q)?(Le.rect[2]-Le.rect[0])*(Le.rect[3]-Le.rect[1]):null;if(!je.stamps.has(V(this,ue)))je.stamps.set(V(this,ue),{area:Te,serialized:Le}),Le.bitmap=Ge(this,ae,ni).call(this,!1);else if(V(this,q)){const Ve=je.stamps.get(V(this,ue));Te>Ve.area&&(Ve.area=Te,Ve.serialized.bitmap.close(),Ve.serialized.bitmap=Ge(this,ae,ni).call(this,!1))}return Le}};de=new WeakMap,ue=new WeakMap,W=new WeakMap,_e=new WeakMap,le=new WeakMap,te=new WeakMap,ie=new WeakMap,ee=new WeakMap,q=new WeakMap,ne=new WeakMap,ae=new WeakSet,Fr=function($e,je=!1){if(!$e){this.remove();return}ot(this,de,$e.bitmap),je||(ot(this,ue,$e.id),ot(this,q,$e.isSvg)),Ge(this,ae,Xi).call(this)},Lr=function(){ot(this,W,null),this._uiManager.enableWaiting(!1),V(this,te)&&this.div.focus()},ti=function(){if(V(this,ue)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,ue)).then(je=>Ge(this,ae,Fr).call(this,je,!0)).finally(()=>Ge(this,ae,Lr).call(this));return}if(V(this,_e)){const je=V(this,_e);ot(this,_e,null),this._uiManager.enableWaiting(!0),ot(this,W,this._uiManager.imageManager.getFromUrl(je).then(Le=>Ge(this,ae,Fr).call(this,Le)).finally(()=>Ge(this,ae,Lr).call(this)));return}if(V(this,le)){const je=V(this,le);ot(this,le,null),this._uiManager.enableWaiting(!0),ot(this,W,this._uiManager.imageManager.getFromFile(je).then(Le=>Ge(this,ae,Fr).call(this,Le)).finally(()=>Ge(this,ae,Lr).call(this)));return}const $e=document.createElement("input");$e.type="file",$e.accept=ve.supportedTypesStr,ot(this,W,new Promise(je=>{$e.addEventListener("change",async()=>{if(!$e.files||$e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Le=await this._uiManager.imageManager.getFromFile($e.files[0]);Ge(this,ae,Fr).call(this,Le)}je()}),$e.addEventListener("cancel",()=>{this.remove(),je()})}).finally(()=>Ge(this,ae,Lr).call(this))),$e.click()},Xi=function(){const{div:$e}=this;let{width:je,height:Le}=V(this,de);const[Xe,xe]=this.pageDimensions,Te=.75;if(this.width)je=this.width*Xe,Le=this.height*xe;else if(je>Te*Xe||Le>Te*xe){const K=Math.min(Te*Xe/je,Te*xe/Le);je*=K,Le*=K}const[Ve,Ee]=this.parentDimensions;this.setDims(je*Ve/Xe,Le*Ee/xe),this._uiManager.enableWaiting(!1);const G=ot(this,te,document.createElement("canvas"));$e.append(G),$e.hidden=!1,Ge(this,ae,Ki).call(this,je,Le),Ge(this,ae,Xa).call(this),V(this,ne)||(this.parent.addUndoableEditor(this),ot(this,ne,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ga=function($e,je){var Te;const[Le,Xe]=this.parentDimensions;this.width=$e/Le,this.height=je/Xe,this.setDims($e,je),(Te=this._initialOptions)!=null&&Te.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,ee)!==null&&clearTimeout(V(this,ee)),ot(this,ee,setTimeout(()=>{ot(this,ee,null),Ge(this,ae,Ki).call(this,$e,je)},200))},qa=function($e,je){const{width:Le,height:Xe}=V(this,de);let xe=Le,Te=Xe,Ve=V(this,de);for(;xe>2*$e||Te>2*je;){const Ee=xe,G=Te;xe>2*$e&&(xe=xe>=16384?Math.floor(xe/2)-1:Math.ceil(xe/2)),Te>2*je&&(Te=Te>=16384?Math.floor(Te/2)-1:Math.ceil(Te/2));const K=new OffscreenCanvas(xe,Te);K.getContext("2d").drawImage(Ve,0,0,Ee,G,0,0,xe,Te),Ve=K.transferToImageBitmap()}return Ve},Ki=function($e,je){$e=Math.ceil($e),je=Math.ceil(je);const Le=V(this,te);if(!Le||Le.width===$e&&Le.height===je)return;Le.width=$e,Le.height=je;const Xe=V(this,q)?V(this,de):Ge(this,ae,qa).call(this,$e,je),xe=Le.getContext("2d");xe.filter=this._uiManager.hcmFilter,xe.drawImage(Xe,0,0,Xe.width,Xe.height,0,0,$e,je)},ni=function($e){if($e){if(V(this,q)){const Xe=this._uiManager.imageManager.getSvgUrl(V(this,ue));if(Xe)return Xe}const je=document.createElement("canvas");return{width:je.width,height:je.height}=V(this,de),je.getContext("2d").drawImage(V(this,de),0,0),je.toDataURL()}if(V(this,q)){const[je,Le]=this.pageDimensions,Xe=Math.round(this.width*je*B.PixelsPerInch.PDF_TO_CSS_UNITS),xe=Math.round(this.height*Le*B.PixelsPerInch.PDF_TO_CSS_UNITS),Te=new OffscreenCanvas(Xe,xe);return Te.getContext("2d").drawImage(V(this,de),0,0,V(this,de).width,V(this,de).height,0,0,Xe,xe),Te.transferToImageBitmap()}return structuredClone(V(this,de))},Xa=function(){ot(this,ie,new ResizeObserver($e=>{const je=$e[0].contentRect;je.width&&je.height&&Ge(this,ae,Ga).call(this,je.width,je.height)})),V(this,ie).observe(this.div)},Fn(ve,"_type","stamp");let fe=ve;$.StampEditor=fe}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return J.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return fe.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return R.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return de.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return R.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return R.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return R.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ue.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return R.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return R.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return R.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return R.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return R.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return R.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return R.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return R.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),R=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),J=__w_pdfjs_require__(5),fe=__w_pdfjs_require__(29),de=__w_pdfjs_require__(14),ue=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var $=reactExports,H=pdfExports;function R(U){var pe=Object.create(null);return U&&Object.keys(U).forEach(function(Fe){if(Fe!=="default"){var Ie=Object.getOwnPropertyDescriptor(U,Fe);Object.defineProperty(pe,Fe,Ie.get?Ie:{enumerable:!0,get:function(){return U[Fe]}})}}),pe.default=U,Object.freeze(pe)}var O,B=R($),J=R(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var fe=function(U,pe){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fe,Ie){Fe.__proto__=Ie}||function(Fe,Ie){for(var Be in Ie)Object.prototype.hasOwnProperty.call(Ie,Be)&&(Fe[Be]=Ie[Be])},fe(U,pe)};function de(U,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function Fe(){this.constructor=U}fe(U,pe),U.prototype=pe===null?Object.create(pe):(Fe.prototype=pe.prototype,new Fe)}var ue,W=function(){return W=Object.assign||function(U){for(var pe,Fe=1,Ie=arguments.length;Fe<Ie;Fe++)for(var Be in pe=arguments[Fe])Object.prototype.hasOwnProperty.call(pe,Be)&&(U[Be]=pe[Be]);return U},W.apply(this,arguments)};A.TextDirection=void 0,(ue=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ue.LeftToRight="LTR";var _e,le=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),te=function(U){var pe=[];return Object.keys(U).forEach(function(Fe){Fe&&U[Fe]&&pe.push(Fe)}),pe.join(" ")},ie=typeof window<"u"?B.useLayoutEffect:B.useEffect,ee=function(U){var pe=B.useRef(null),Fe=U.once,Ie=U.threshold,Be=U.onVisibilityChanged;return ie(function(){var We=pe.current;if(We){var it=new IntersectionObserver(function(Je){Je.forEach(function(De){var nt=De.isIntersecting,tt=De.intersectionRatio;Be({isVisible:nt,ratio:tt}),nt&&Fe&&(it.unobserve(We),it.disconnect())})},{threshold:Ie||0});return it.observe(We),function(){it.unobserve(We),it.disconnect()}}},[]),pe},q=function(U){var pe=U.children,Fe=U.ignoreDirection,Ie=Fe!==void 0&&Fe,Be=U.size,We=Be===void 0?24:Be,it=B.useContext(le).direction,Je=!Ie&&it===A.TextDirection.RightToLeft,De="".concat(We||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:te({"rpv-core__icon":!0,"rpv-core__icon--rtl":Je}),focusable:"false",height:De,viewBox:"0 0 24 24",width:De},pe)},ne=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ae=function(U){var pe=U.children,Fe=U.testId,Ie=U.onClick,Be=B.useContext(le).direction===A.TextDirection.RightToLeft,We=Fe?{"data-testid":Fe}:{};return B.createElement("button",W({className:te({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Be}),type:"button",onClick:Ie},We),pe)},be=function(U){var pe=U.size,Fe=pe===void 0?"4rem":pe,Ie=U.testId,Be=B.useState(!1),We=Be[0],it=Be[1],Je=Ie?{"data-testid":Ie}:{},De=ee({onVisibilityChanged:function(nt){it(nt.isVisible)}});return B.createElement("div",W({},Je,{className:te({"rpv-core__spinner":!0,"rpv-core__spinner--animating":We}),ref:De,style:{height:Fe,width:Fe}}))},he=function(U){var pe=U.ariaLabel,Fe=pe===void 0?"":pe,Ie=U.autoFocus,Be=Ie!==void 0&&Ie,We=U.placeholder,it=We===void 0?"":We,Je=U.testId,De=U.type,nt=De===void 0?"text":De,tt=U.value,yt=tt===void 0?"":tt,Et=U.onChange,_t=U.onKeyDown,$t=_t===void 0?function(){}:_t,kt=B.useContext(le).direction,Ct=B.useRef(),gn=kt===A.TextDirection.RightToLeft,Yt={ref:Ct,"data-testid":"","aria-label":Fe,className:te({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":gn}),placeholder:it,value:yt,onChange:function(Qt){return Et(Qt.target.value)},onKeyDown:$t};return Je&&(Yt["data-testid"]=Je),ie(function(){if(Be){var Qt=Ct.current;if(Qt){var an=window.scrollX,Vt=window.scrollY;Qt.focus(),window.scrollTo(an,Vt)}}},[]),nt==="text"?B.createElement("input",W({type:"text"},Yt)):B.createElement("input",W({type:"password"},Yt))};(function(U){U[U.ExitFullScreen=0]="ExitFullScreen",U[U.FullScreenChange=1]="FullScreenChange",U[U.FullScreenElement=2]="FullScreenElement",U[U.FullScreenEnabled=3]="FullScreenEnabled",U[U.RequestFullScreen=4]="RequestFullScreen"})(_e||(_e={}));var Y,ce={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},re={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},oe={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},se=typeof window<"u",ye=se&&(_e.FullScreenEnabled in document&&ce||re.FullScreenEnabled in document&&re||oe.FullScreenEnabled in document&&oe)||ce,Q=function(){return se&&ye.FullScreenEnabled in document&&document[ye.FullScreenEnabled]===!0},ve=function(U){return se?U[ye.ExitFullScreen]():Promise.resolve({})},Ce=function(){return se?document[ye.FullScreenElement]:null},Oe=function(U,pe){var Fe=B.useRef(),Ie=function(){Fe.current&&clearTimeout(Fe.current)};return B.useEffect(function(){return function(){return Ie()}},[]),B.useCallback(function(){for(var Be=[],We=0;We<arguments.length;We++)Be[We]=arguments[We];Ie(),Fe.current=setTimeout(function(){U.apply(void 0,Be)},pe)},[U,pe])},$e=function(){var U=B.useRef(!1);return B.useEffect(function(){return U.current=!0,function(){U.current=!1}},[]),U},je=function(U){var pe=B.useRef(U);return B.useEffect(function(){pe.current=U},[U]),pe.current};(function(U){U.NotRenderedYet="NotRenderedYet",U.Rendering="Rendering",U.Rendered="Rendered"})(Y||(Y={}));var Le,Xe=-9999,xe=function(U){var pe=U.doc,Fe=pe.numPages,Ie=pe.loadingTask.docId,Be=B.useMemo(function(){return Array(Fe).fill(null).map(function(Je,De){return{pageIndex:De,renderStatus:Y.NotRenderedYet,visibility:Xe}})},[Ie]),We=B.useRef({currentRenderingPage:-1,startRange:0,endRange:Fe-1,visibilities:Be}),it=function(Je,De){We.current.visibilities[Je].visibility=De};return{getHighestPriorityPage:function(){var Je=We.current.visibilities.slice(We.current.startRange,We.current.endRange+1).filter(function(Et){return Et.visibility>Xe});if(!Je.length)return-1;for(var De=Je[0].pageIndex,nt=Je[Je.length-1].pageIndex,tt=Je.length,yt=0;yt<tt;yt++){if(Je[yt].renderStatus===Y.Rendering)return-1;if(Je[yt].renderStatus===Y.NotRenderedYet)return Je[yt].pageIndex}return nt+1<Fe&&We.current.visibilities[nt+1].renderStatus!==Y.Rendered?nt+1:De-1>=0&&We.current.visibilities[De-1].renderStatus!==Y.Rendered?De-1:-1},isInRange:function(Je){return Je>=We.current.startRange&&Je<=We.current.endRange},markNotRendered:function(){for(var Je=0;Je<Fe;Je++)We.current.visibilities[Je].renderStatus=Y.NotRenderedYet},markRendered:function(Je){We.current.visibilities[Je].renderStatus=Y.Rendered},markRendering:function(Je){We.current.currentRenderingPage!==-1&&We.current.currentRenderingPage!==Je&&We.current.visibilities[We.current.currentRenderingPage].renderStatus===Y.Rendering&&(We.current.visibilities[We.current.currentRenderingPage].renderStatus=Y.NotRenderedYet),We.current.visibilities[Je].renderStatus=Y.Rendering,We.current.currentRenderingPage=Je},setOutOfRange:function(Je){it(Je,Xe)},setRange:function(Je,De){We.current.startRange=Je,We.current.endRange=De;for(var nt=0;nt<Fe;nt++)(nt<Je||nt>De)&&(We.current.visibilities[nt].visibility=Xe,We.current.visibilities[nt].renderStatus=Y.NotRenderedYet)},setVisibility:it}},Te={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Ve=B.createContext({l10n:Te,setL10n:function(){}}),Ee=0,G=function(){return Ee++},K=function(U,pe,Fe){var Ie=function(Be){var We=pe.current;if(We){var it=Be.target;if(it instanceof Element&&it.shadowRoot){var Je=Be.composedPath();Je.length>0&&!We.contains(Je[0])&&Fe()}else We.contains(it)||Fe()}};B.useEffect(function(){if(U){var Be={capture:!0};return document.addEventListener("click",Ie,Be),function(){document.removeEventListener("click",Ie,Be)}}},[])},ge=function(U){var pe=function(Fe){Fe.key==="Escape"&&U()};B.useEffect(function(){return document.addEventListener("keyup",pe),function(){document.removeEventListener("keyup",pe)}},[])},Pe=function(U){var pe=U.ariaControlsSuffix,Fe=U.children,Ie=U.closeOnClickOutside,Be=U.closeOnEscape,We=U.onToggle,it=B.useRef(),Je=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var De=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=De}},[]),ge(function(){it.current&&Be&&We()}),K(Ie,it,We),ie(function(){var De=it.current;if(De){var nt=.75*document.body.clientHeight;De.getBoundingClientRect().height>=nt&&(De.style.overflow="auto",De.style.maxHeight="".concat(nt,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:te({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Je}),id:"rpv-core__modal-body-".concat(pe),ref:it,role:"dialog",tabIndex:-1},Fe)},Ae=function(U){var pe=U.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},pe)};A.ToggleStatus=void 0,(Le=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Le.Open="Open",Le.Toggle="Toggle";var ke,Ne=function(U){var pe=B.useState(U),Fe=pe[0],Ie=pe[1];return{opened:Fe,toggle:function(Be){switch(Be){case A.ToggleStatus.Close:Ie(!1);break;case A.ToggleStatus.Open:Ie(!0);break;case A.ToggleStatus.Toggle:default:Ie(function(We){return!We})}}}},et=function(U){var pe=U.content,Fe=U.isOpened,Ie=Fe!==void 0&&Fe,Be=U.target,We=Ne(Ie),it=We.opened,Je=We.toggle;return B.createElement(B.Fragment,null,Be&&Be(Je,it),it&&pe(Je))};A.Position=void 0,(ke=A.Position||(A.Position={})).TopLeft="TOP_LEFT",ke.TopCenter="TOP_CENTER",ke.TopRight="TOP_RIGHT",ke.RightTop="RIGHT_TOP",ke.RightCenter="RIGHT_CENTER",ke.RightBottom="RIGHT_BOTTOM",ke.BottomLeft="BOTTOM_LEFT",ke.BottomCenter="BOTTOM_CENTER",ke.BottomRight="BOTTOM_RIGHT",ke.LeftTop="LEFT_TOP",ke.LeftCenter="LEFT_CENTER",ke.LeftBottom="LEFT_BOTTOM";var st,ct,dt,ht,gt,qe,Ke,me,Se=function(U,pe,Fe,Ie,Be){ie(function(){var We=pe.current,it=U.current,Je=Fe.current;if(it&&We&&Je){var De=Je.getBoundingClientRect(),nt=function(Et,_t,$t,kt){var Ct=_t.getBoundingClientRect(),gn=Et.getBoundingClientRect(),Yt=gn.height,Qt=gn.width,an=0,Vt=0;switch($t){case A.Position.TopLeft:an=Ct.top-Yt,Vt=Ct.left;break;case A.Position.TopCenter:an=Ct.top-Yt,Vt=Ct.left+Ct.width/2-Qt/2;break;case A.Position.TopRight:an=Ct.top-Yt,Vt=Ct.left+Ct.width-Qt;break;case A.Position.RightTop:an=Ct.top,Vt=Ct.left+Ct.width;break;case A.Position.RightCenter:an=Ct.top+Ct.height/2-Yt/2,Vt=Ct.left+Ct.width;break;case A.Position.RightBottom:an=Ct.top+Ct.height-Yt,Vt=Ct.left+Ct.width;break;case A.Position.BottomLeft:an=Ct.top+Ct.height,Vt=Ct.left;break;case A.Position.BottomCenter:an=Ct.top+Ct.height,Vt=Ct.left+Ct.width/2-Qt/2;break;case A.Position.BottomRight:an=Ct.top+Ct.height,Vt=Ct.left+Ct.width-Qt;break;case A.Position.LeftTop:an=Ct.top,Vt=Ct.left-Qt;break;case A.Position.LeftCenter:an=Ct.top+Ct.height/2-Yt/2,Vt=Ct.left-Qt;break;case A.Position.LeftBottom:an=Ct.top+Ct.height-Yt,Vt=Ct.left-Qt}return{left:Vt+(kt.left||0),top:an+(kt.top||0)}}(it,We,Ie,Be),tt=nt.top,yt=nt.left;it.style.top="".concat(tt-De.top,"px"),it.style.left="".concat(yt-De.left,"px")}},[])},ze=function(U){var pe,Fe=U.customClassName,Ie=U.position;return B.createElement("div",{className:te((pe={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Ie===A.Position.TopLeft,"rpv-core__arrow--tc":Ie===A.Position.TopCenter,"rpv-core__arrow--tr":Ie===A.Position.TopRight,"rpv-core__arrow--rt":Ie===A.Position.RightTop,"rpv-core__arrow--rc":Ie===A.Position.RightCenter,"rpv-core__arrow--rb":Ie===A.Position.RightBottom,"rpv-core__arrow--bl":Ie===A.Position.BottomLeft,"rpv-core__arrow--bc":Ie===A.Position.BottomCenter,"rpv-core__arrow--br":Ie===A.Position.BottomRight,"rpv-core__arrow--lt":Ie===A.Position.LeftTop,"rpv-core__arrow--lc":Ie===A.Position.LeftCenter,"rpv-core__arrow--lb":Ie===A.Position.LeftBottom},pe["".concat(Fe)]=Fe!=="",pe))})},Ye=function(U){var pe=U.ariaControlsSuffix,Fe=U.children,Ie=U.closeOnClickOutside,Be=U.offset,We=U.position,it=U.targetRef,Je=U.onClose,De=B.useRef(),nt=B.useRef(),tt=B.useRef(),yt=B.useContext(le).direction===A.TextDirection.RightToLeft;K(Ie,De,Je),Se(De,it,tt,We,Be),ie(function(){var _t=nt.current;if(_t){var $t=.75*document.body.clientHeight;_t.getBoundingClientRect().height>=$t&&(_t.style.overflow="auto",_t.style.maxHeight="".concat($t,"px"))}},[]);var Et="rpv-core__popover-body-inner-".concat(pe);return B.createElement(B.Fragment,null,B.createElement("div",{ref:tt,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":Et,className:te({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":yt}),id:"rpv-core__popover-body-".concat(pe),ref:De,role:"dialog",tabIndex:-1},B.createElement(ze,{customClassName:"rpv-core__popover-body-arrow",position:We}),B.createElement("div",{id:Et,ref:nt},Fe)))},rt=function(U){var pe=U.closeOnEscape,Fe=U.onClose,Ie=B.useRef();return ge(function(){Ie.current&&pe&&Fe()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Ie})},mt=function(U){var pe=U.ariaControlsSuffix,Fe=U.children,Ie=U.contentRef,Be=U.offset,We=U.position,it=U.targetRef,Je=B.useRef(),De=B.useContext(le).direction===A.TextDirection.RightToLeft;return Se(Ie,it,Je,We,Be),B.createElement(B.Fragment,null,B.createElement("div",{ref:Je,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:te({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":De}),id:"rpv-core__tooltip-body-".concat(pe),ref:Ie,role:"tooltip"},B.createElement(ze,{customClassName:"rpv-core__tooltip-body-arrow",position:We}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},Fe)))};A.FullScreenMode=void 0,(st=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",st.Entering="Entering",st.Entered="Entered",st.EnteredCompletely="EnteredCompletely",st.Exitting="Exitting",st.Exited="Exited",A.LayerRenderStatus=void 0,(ct=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ct.PreRender=0]="PreRender",ct[ct.DidRender=1]="DidRender",A.PageMode=void 0,(dt=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",dt.Bookmarks="UseOutlines",dt.ContentGroup="UseOC",dt.Default="UserNone",dt.FullScreen="FullScreen",dt.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(ht=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",ht.WrongPassword="WrongPassword",A.RotateDirection=void 0,(gt=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",gt.Forward="Forward",A.ScrollMode=void 0,(qe=A.ScrollMode||(A.ScrollMode={})).Page="Page",qe.Horizontal="Horizontal",qe.Vertical="Vertical",qe.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Ke=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Ke.PageFit="PageFit",Ke.PageWidth="PageWidth",A.ViewMode=void 0,(me=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",me.DualPageWithCover="DualPageWithCover",me.SinglePage="SinglePage";var ft,Ue=function(U,pe){return U.reduce(function(Fe,Ie,Be){return Be%pe?Fe[Fe.length-1].push(Ie):Fe.push([Ie]),Fe},[])},wt=function(U,pe){switch(pe[1].name){case"XYZ":return{bottomOffset:function(Fe,Ie){return pe[3]===null?Ie:pe[3]},leftOffset:function(Fe,Ie){return pe[2]===null?0:pe[2]},pageIndex:U,scaleTo:pe[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:U,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:pe[2],leftOffset:0,pageIndex:U,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:U,scaleTo:1}}},xt=new Map,Zt=new Map,Gt=function(U,pe){return"".concat(U.loadingTask.docId,"___").concat(pe.num,"R").concat(pe.gen===0?"":pe.gen)},fn=function(U,pe,Fe){xt.set(Gt(U,pe),Fe)},Ft=function(U,pe){if(!U)return Promise.reject("The document is not loaded yet");var Fe="".concat(U.loadingTask.docId,"___").concat(pe),Ie=Zt.get(Fe);return Ie?Promise.resolve(Ie):new Promise(function(Be,We){U.getPage(pe+1).then(function(it){Zt.set(Fe,it),it.ref&&fn(U,it.ref,pe),Be(it)})})},Ht=function(U,pe){return new Promise(function(Fe){new Promise(function(Ie){typeof pe=="string"?U.getDestination(pe).then(function(Be){Ie(Be)}):Ie(pe)}).then(function(Ie){if(typeof Ie[0]=="object"&&Ie[0]!==null){var Be=Ie[0],We=function(Je,De){var nt=Gt(Je,De);return xt.has(nt)?xt.get(nt):null}(U,Be);We===null?U.getPageIndex(Be).then(function(Je){fn(U,Be,Je),Ht(U,pe).then(function(De){return Fe(De)})}):Fe(wt(We,Ie))}else{var it=wt(Ie[0],Ie);Fe(it)}})})};(function(U){U[U.Solid=1]="Solid",U[U.Dashed=2]="Dashed",U[U.Beveled=3]="Beveled",U[U.Inset=4]="Inset",U[U.Underline=5]="Underline"})(ft||(ft={}));var on,yn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),vt=function(U,pe,Fe,Ie){var Be=parseInt(U,10);return Be>=pe&&Be<=Fe?Be:Ie},Ze=function(U){return U.contentsObj?U.contentsObj.str:U.contents||""},Qe=function(U){return U.titleObj?U.titleObj.str:U.title||""},Rt=function(U){var pe=U.annotation,Fe=B.useContext(le).direction,Ie=Qe(pe),Be=Ze(pe),We=Fe===A.TextDirection.RightToLeft,it=B.useRef(),Je="";if(pe.modificationDate){var De=function(nt){var tt=yn.exec(nt);if(!tt)return null;var yt=parseInt(tt[1],10),Et=vt(tt[2],1,12,1)-1,_t=vt(tt[3],1,31,1),$t=vt(tt[4],0,23,0),kt=vt(tt[5],0,59,0),Ct=vt(tt[6],0,59,0),gn=tt[7]||"Z",Yt=vt(tt[8],0,23,0),Qt=vt(tt[9],0,59,0);switch(gn){case"-":$t+=Yt,kt+=Qt;break;case"+":$t-=Yt,kt-=Qt}return new Date(Date.UTC(yt,Et,_t,$t,kt,Ct))}(pe.modificationDate);Je=De?"".concat(De.toLocaleDateString(),", ").concat(De.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(it.current){var nt=document.querySelector('[data-annotation-id="'.concat(pe.id,'"]'));if(nt){var tt=nt;return tt.style.zIndex+=1,function(){tt.style.zIndex="".concat(parseInt(tt.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:it,className:te({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":We}),style:{top:pe.annotationType===A.AnnotationType.Popup?"":"100%"}},Ie&&B.createElement(B.Fragment,null,B.createElement("div",{className:te({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!We,"rpv-core__annotation-popup-title--rtl":We})},Ie),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Je)),Be&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Be.split(`
`).map(function(nt,tt){return B.createElement(B.Fragment,{key:tt},nt,B.createElement("br",null))})))};(function(U){U.Click="Click",U.Hover="Hover"})(on||(on={}));var Dt,qt=function(U){var pe,Fe=U.annotation,Ie=U.children,Be=U.ignoreBorder,We=U.hasPopup,it=U.isRenderable,Je=U.page,De=U.viewport,nt=Fe.rect,tt=function(){var tn=Ne(!1),xn=tn.opened,Sn=tn.toggle,wn=B.useState(on.Hover),An=wn[0],kn=wn[1];return{opened:xn,closeOnHover:function(){An===on.Hover&&Sn(A.ToggleStatus.Close)},openOnHover:function(){An===on.Hover&&Sn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(An){case on.Click:xn&&kn(on.Hover),Sn(A.ToggleStatus.Toggle);break;case on.Hover:kn(on.Click),Sn(A.ToggleStatus.Open)}}}}(),yt=tt.closeOnHover,Et=tt.opened,_t=tt.openOnHover,$t=tt.toggleOnClick,kt=(pe=[nt[0],Je.view[3]+Je.view[1]-nt[1],nt[2],Je.view[3]+Je.view[1]-nt[3]],[Math.min(pe[0],pe[2]),Math.min(pe[1],pe[3]),Math.max(pe[0],pe[2]),Math.max(pe[1],pe[3])]),Ct=nt[2]-nt[0],gn=nt[3]-nt[1],Yt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Be&&Fe.borderStyle.width>0){switch(Fe.borderStyle.style){case ft.Dashed:Yt.borderStyle="dashed";break;case ft.Solid:Yt.borderStyle="solid";break;case ft.Underline:Yt=Object.assign({borderBottomStyle:"solid"},Yt);case ft.Beveled:case ft.Inset:}var Qt=Fe.borderStyle.width;Yt.borderWidth="".concat(Qt,"px"),Fe.borderStyle.style!==ft.Underline&&(Ct-=2*Qt,gn-=2*Qt);var an=Fe.borderStyle,Vt=an.horizontalCornerRadius,sn=an.verticalCornerRadius;(Vt>0||sn>0)&&(Yt.borderRadius="".concat(Vt,"px / ").concat(sn,"px")),Fe.color?Yt.borderColor="rgb(".concat(0|Fe.color[0],", ").concat(0|Fe.color[1],", ").concat(0|Fe.color[2],")"):Yt.borderWidth="0"}return B.createElement(B.Fragment,null,it&&Ie({popup:{opened:Et,closeOnHover:yt,openOnHover:_t,toggleOnClick:$t},slot:{attrs:{style:Object.assign({height:"".concat(gn,"px"),left:"".concat(kt[0],"px"),top:"".concat(kt[1],"px"),transform:"matrix(".concat(De.transform.join(","),")"),transformOrigin:"-".concat(kt[0],"px -").concat(kt[1],"px"),width:"".concat(Ct,"px")},Yt)},children:B.createElement(B.Fragment,null,We&&Et&&B.createElement(Rt,{annotation:Fe}))}}))},Re=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},pt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("circle",{cy:tt/2,fill:"none",rx:nt/2-yt/2,ry:tt/2-yt/2,stroke:"transparent",strokeWidth:yt||1})),Et.slot.children)})},Pt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=Qe(pe),We=Ze(pe),it=!(pe.hasPopup!==!1||!Be&&!We),Je=function(){var De,nt,tt,yt,Et=pe.file;Et&&(De=Et.filename,nt=Et.content,tt=typeof nt=="string"?"":URL.createObjectURL(new Blob([nt],{type:""})),(yt=document.createElement("a")).style.display="none",yt.href=tt||De,yt.setAttribute("download",function(_t){var $t=_t.split("/").pop();return $t?$t.split("#")[0].split("?")[0]:_t}(De)),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),tt&&URL.revokeObjectURL(tt))};return B.createElement(qt,{annotation:pe,hasPopup:it,ignoreBorder:!0,isRenderable:!0,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onDoubleClick:Je,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},Ot=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},Bt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=Qe(pe),We=Ze(pe),it=!(!Be&&!We),Je=!pe.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(pe.parentType)!==-1;return ie(function(){if(pe.parentId){var De=document.querySelector('[data-annotation-id="'.concat(pe.parentId,'"]')),nt=document.querySelector('[data-annotation-id="'.concat(pe.id,'"]'));if(De&&nt){var tt=parseFloat(De.style.left),yt=parseFloat(De.style.top)+parseFloat(De.style.height);nt.style.left="".concat(tt,"px"),nt.style.top="".concat(yt,"px"),nt.style.transformOrigin="-".concat(tt,"px -").concat(yt,"px")}}},[]),B.createElement(qt,{annotation:pe,hasPopup:Je,ignoreBorder:!1,isRenderable:it,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":pe.id}),B.createElement(Rt,{annotation:pe}))})},Tt=function(U){var pe=U.annotation,Fe=U.childAnnotation,Ie=U.page,Be=U.viewport,We=pe.hasPopup===!1,it=Qe(pe),Je=Ze(pe),De=!!(pe.hasPopup||it||Je);if(pe.quadPoints&&pe.quadPoints.length>0){var nt=pe.quadPoints.map(function(tt){return Object.assign({},pe,{rect:[tt[2].x,tt[2].y,tt[1].x,tt[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,nt.map(function(tt,yt){return B.createElement(Tt,{key:yt,annotation:tt,childAnnotation:Fe,page:Ie,viewport:Be})}))}return B.createElement(qt,{annotation:pe,hasPopup:We,ignoreBorder:!0,isRenderable:De,page:Ie,viewport:Be},function(tt){return B.createElement(B.Fragment,null,B.createElement("div",W({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":pe.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children),Fe&&Fe.annotationType===A.AnnotationType.Popup&&tt.popup.opened&&B.createElement(Bt,{annotation:Fe,page:Ie,viewport:Be}))})},Me=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),pe.inkLists&&pe.inkLists.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},pe.inkLists.map(function(_t,$t){return B.createElement("polyline",{key:$t,fill:"none",stroke:"transparent",strokeWidth:yt||1,points:_t.map(function(kt){return"".concat(kt.x-De[0],",").concat(De[3]-kt.y)}).join(" ")})})),Et.slot.children)})},we=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:yt||1,x1:De[2]-pe.lineCoordinates[0],x2:De[2]-pe.lineCoordinates[2],y1:De[3]-pe.lineCoordinates[1],y2:De[3]-pe.lineCoordinates[3]})),Et.slot.children)})},He=/^([^\w]*)(javascript|data|vbscript)/im,lt=/&#(\w+)(^\w|;)?/g,ut=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,bt=/^([^:]+):/gm,St=function(U,pe){var Fe,Ie=(Fe=U||"",Fe.replace(lt,function(Je,De){return String.fromCharCode(De)})).replace(ut,"").trim();if(!Ie)return pe;var Be=Ie[0];if(Be==="."||Be==="/")return Ie;var We=Ie.match(bt);if(!We)return Ie;var it=We[0];return He.test(it)?pe:Ie},Nt=function(U){var pe,Fe=U.annotation,Ie=U.annotationContainerRef,Be=U.doc,We=U.outlines,it=U.page,Je=U.pageIndex,De=U.scale,nt=U.viewport,tt=U.onExecuteNamedAction,yt=U.onJumpFromLinkAnnotation,Et=U.onJumpToDest,_t=B.useRef(),$t=We&&We.length&&Fe.dest&&typeof Fe.dest=="string"?(pe=We.find(function(Yt){return Yt.dest===Fe.dest}))===null||pe===void 0?void 0:pe.title:"",kt=!!(Fe.url||Fe.dest||Fe.action||Fe.unsafeUrl),Ct={};if(Fe.url||Fe.unsafeUrl){var gn=St(Fe.url||Fe.unsafeUrl,"");gn?Ct={"data-target":"external",href:gn,rel:"noopener noreferrer nofollow",target:Fe.newWindow?"_blank":"",title:gn}:kt=!1}else Ct={href:"","data-annotation-link":Fe.id,onClick:function(Yt){Yt.preventDefault(),Fe.action?tt(Fe.action):Ht(Be,Fe.dest).then(function(Qt){var an=_t.current,Vt=Ie.current;if(an&&Vt){var sn=an.getBoundingClientRect();Vt.style.setProperty("height","100%"),Vt.style.setProperty("width","100%");var tn=Vt.getBoundingClientRect();Vt.style.removeProperty("height"),Vt.style.removeProperty("width");var xn=(sn.left-tn.left)/De,Sn=(tn.bottom-sn.bottom+sn.height)/De;yt({bottomOffset:Sn,label:$t,leftOffset:xn,pageIndex:Je})}Et(Qt)})}};return $t&&(Ct=Object.assign({},Ct,{title:$t,"aria-label":$t})),B.createElement(qt,{annotation:Fe,hasPopup:!1,ignoreBorder:!1,isRenderable:kt,page:it,viewport:nt},function(Yt){return B.createElement("div",W({},Yt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Fe.id,"data-testid":"core__annotation--link-".concat(Fe.id)}),B.createElement("a",W({ref:_t},Ct)))})},Lt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),pe.vertices&&pe.vertices.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:pe.vertices.map(function(_t){return"".concat(_t.x-De[0],",").concat(De[3]-_t.y)}).join(" ")})),Et.slot.children)})},Mt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),pe.vertices&&pe.vertices.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:pe.vertices.map(function(_t){return"".concat(_t.x-De[0],",").concat(De[3]-_t.y)}).join(" ")})),Et.slot.children)})},rn=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it),De=pe.rect,nt=De[2]-De[0],tt=De[3]-De[1],yt=pe.borderStyle.width;return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(Et){return B.createElement("div",W({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":pe.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("rect",{height:tt-yt,fill:"none",stroke:"transparent",strokeWidth:yt||1,x:yt/2,y:yt/2,width:nt-yt})),Et.slot.children)})},It=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},zt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},Jt=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},un=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},bn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Pn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Un=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Nn=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},nr=function(){return B.createElement(q,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ir=function(U){var pe=U.annotation,Fe=U.childAnnotation,Ie=U.page,Be=U.viewport,We=pe.hasPopup===!1,it=Qe(pe),Je=Ze(pe),De=!!(pe.hasPopup||it||Je),nt=pe.name?pe.name.toLowerCase():"";return B.createElement(qt,{annotation:pe,hasPopup:We,ignoreBorder:!1,isRenderable:De,page:Ie,viewport:Be},function(tt){return B.createElement(B.Fragment,null,B.createElement("div",W({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":pe.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),nt&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},nt==="check"&&B.createElement(ne,null),nt==="comment"&&B.createElement(un,null),nt==="help"&&B.createElement(bn,null),nt==="insert"&&B.createElement(nr,null),nt==="key"&&B.createElement(Pn,null),nt==="note"&&B.createElement(Un,null),(nt==="newparagraph"||nt==="paragraph")&&B.createElement(Nn,null)),tt.slot.children),Fe&&Fe.annotationType===A.AnnotationType.Popup&&tt.popup.opened&&B.createElement(Bt,{annotation:Fe,page:Ie,viewport:Be}))})},ar=function(U){var pe=U.annotation,Fe=U.page,Ie=U.viewport,Be=pe.hasPopup===!1,We=Qe(pe),it=Ze(pe),Je=!!(pe.hasPopup||We||it);return B.createElement(qt,{annotation:pe,hasPopup:Be,ignoreBorder:!0,isRenderable:Je,page:Fe,viewport:Ie},function(De){return B.createElement("div",W({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":pe.id,onClick:De.popup.toggleOnClick,onMouseEnter:De.popup.openOnHover,onMouseLeave:De.popup.closeOnHover}),De.slot.children)})},Ir=function(U){var pe=U.annotations,Fe=U.doc,Ie=U.outlines,Be=U.page,We=U.pageIndex,it=U.plugins,Je=U.rotation,De=U.scale,nt=U.onExecuteNamedAction,tt=U.onJumpFromLinkAnnotation,yt=U.onJumpToDest,Et=B.useRef(),_t=Be.getViewport({rotation:Je,scale:De}).clone({dontFlip:!0}),$t=pe.filter(function(kt){return!kt.parentId});return ie(function(){var kt=Et.current;kt&&it.forEach(function(Ct){Ct.onAnnotationLayerRender&&Ct.onAnnotationLayerRender({annotations:$t,container:kt,pageIndex:We,rotation:Je,scale:De})})},[]),B.createElement("div",{ref:Et,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(We)},$t.map(function(kt){var Ct=pe.find(function(gn){return gn.parentId===kt.id});switch(kt.annotationType){case A.AnnotationType.Caret:return B.createElement(Re,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Circle:return B.createElement(pt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.FileAttachment:return B.createElement(Pt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.FreeText:return B.createElement(Ot,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Highlight:return B.createElement(Tt,{key:kt.id,annotation:kt,childAnnotation:Ct,page:Be,viewport:_t});case A.AnnotationType.Ink:return B.createElement(Me,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Line:return B.createElement(we,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Link:return B.createElement(Nt,{key:kt.id,annotation:kt,annotationContainerRef:Et,doc:Fe,outlines:Ie,page:Be,pageIndex:We,scale:De,viewport:_t,onExecuteNamedAction:nt,onJumpFromLinkAnnotation:tt,onJumpToDest:yt});case A.AnnotationType.Polygon:return B.createElement(Lt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Polyline:return B.createElement(Mt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Popup:return B.createElement(Bt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Square:return B.createElement(rn,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Squiggly:return B.createElement(It,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Stamp:return B.createElement(zt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.StrikeOut:return B.createElement(Jt,{key:kt.id,annotation:kt,page:Be,viewport:_t});case A.AnnotationType.Text:return B.createElement(ir,{key:kt.id,annotation:kt,childAnnotation:Ct,page:Be,viewport:_t});case A.AnnotationType.Underline:return B.createElement(ar,{key:kt.id,annotation:kt,page:Be,viewport:_t});default:return B.createElement(B.Fragment,{key:kt.id})}}))},Ka=function(U){var pe=U.page,Fe=U.renderAnnotations,Ie=$e(),Be=B.useState({loading:!0,annotations:[]}),We=Be[0],it=Be[1];return B.useEffect(function(){pe.getAnnotations({intent:"display"}).then(function(Je){Ie.current&&it({loading:!1,annotations:Je})})},[]),We.loading?B.createElement(B.Fragment,null):Fe(We.annotations)},Ya=function(U){var pe=U.doc,Fe=U.outlines,Ie=U.page,Be=U.pageIndex,We=U.plugins,it=U.rotation,Je=U.scale,De=U.onExecuteNamedAction,nt=U.onJumpFromLinkAnnotation,tt=U.onJumpToDest;return B.createElement(Ka,{page:Ie,renderAnnotations:function(yt){return B.createElement(Ir,{annotations:yt,doc:pe,outlines:Fe,page:Ie,pageIndex:Be,plugins:We,rotation:it,scale:Je,onExecuteNamedAction:De,onJumpFromLinkAnnotation:nt,onJumpToDest:tt})}})},Dr=function(U,pe){var Fe=U%pe;return Fe===0?U:Math.floor(U-Fe)},Za=function(U){var pe=U.canvasLayerRef,Fe=U.height,Ie=U.page,Be=U.pageIndex,We=U.plugins,it=U.rotation,Je=U.scale,De=U.width,nt=U.onRenderCanvasCompleted,tt=B.useRef();return ie(function(){var yt=tt.current;yt&&yt.cancel();var Et=pe.current;Et.removeAttribute("data-testid"),We.forEach(function(tn){tn.onCanvasLayerRender&&tn.onCanvasLayerRender({ele:Et,pageIndex:Be,rotation:it,scale:Je,status:A.LayerRenderStatus.PreRender})});var _t=Ie.getViewport({rotation:it,scale:Je}),$t=window.devicePixelRatio||1,kt=Math.sqrt(16777216/(_t.width*_t.height)),Ct=$t>kt;Ct?Et.style.transform="scale(1, 1)":Et.style.removeProperty("transform");var gn=Math.min(kt,$t),Yt=function(tn,xn){var Sn,wn;if(Math.floor(tn)===tn)return[tn,1];var An=1/tn;if(An>xn)return[1,xn];if(Math.floor(An)===An)return[1,An];for(var kn=tn>1?An:tn,Vn=0,Dn=1,Wn=1,jn=1;;){var zn=Vn+Wn,Hn=Dn+jn;if(Hn>xn)break;kn<=zn/Hn?(Wn=(Sn=[zn,Hn])[0],jn=Sn[1]):(Vn=(wn=[zn,Hn])[0],Dn=wn[1])}return kn<(Vn/Dn+Wn/jn)/2?kn===tn?[Vn,Dn]:[Dn,Vn]:kn===tn?[Wn,jn]:[jn,Wn]}(gn,8),Qt=Yt[0],an=Yt[1];Et.width=Dr(_t.width*gn,Qt),Et.height=Dr(_t.height*gn,Qt),Et.style.width="".concat(Dr(_t.width,an),"px"),Et.style.height="".concat(Dr(_t.height,an),"px"),Et.hidden=!0;var Vt=Et.getContext("2d",{alpha:!1}),sn=Ct||$t!==1?[gn,0,0,gn,0,0]:null;return tt.current=Ie.render({canvasContext:Vt,transform:sn,viewport:_t}),tt.current.promise.then(function(){Et.hidden=!1,Et.setAttribute("data-testid","core__canvas-layer-".concat(Be)),We.forEach(function(tn){tn.onCanvasLayerRender&&tn.onCanvasLayerRender({ele:Et,pageIndex:Be,rotation:it,scale:Je,status:A.LayerRenderStatus.DidRender})}),nt()},function(){nt()}),function(){Et&&(Et.width=0,Et.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Fe,"px"),width:"".concat(De,"px")}},B.createElement("canvas",{ref:pe}))},Ja=function(U){var pe=U.height,Fe=U.page,Ie=U.rotation,Be=U.scale,We=U.width,it=B.useRef();return ie(function(){var Je=it.current,De=Fe.getViewport({rotation:Ie,scale:Be});Fe.getOperatorList().then(function(nt){(function(){var tt=it.current;tt&&(tt.innerHTML="")})(),new J.SVGGraphics(Fe.commonObjs,Fe.objs).getSVG(nt,De).then(function(tt){tt.style.height="".concat(pe,"px"),tt.style.width="".concat(We,"px"),Je.appendChild(tt)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:it})},Qa=function(U){var pe=U.containerRef,Fe=U.page,Ie=U.pageIndex,Be=U.plugins,We=U.rotation,it=U.scale,Je=U.onRenderTextCompleted,De=B.useRef(),nt=function(){var tt=pe.current;tt&&([].slice.call(tt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(yt){return tt.removeChild(yt)}),[].slice.call(tt.querySelectorAll('br[role="presentation"]')).forEach(function(yt){return tt.removeChild(yt)}))};return ie(function(){var tt=De.current;tt&&tt.cancel();var yt=pe.current;if(yt){yt.removeAttribute("data-testid");var Et=Fe.getViewport({rotation:We,scale:it});return Be.forEach(function(_t){_t.onTextLayerRender&&_t.onTextLayerRender({ele:yt,pageIndex:Ie,scale:it,status:A.LayerRenderStatus.PreRender})}),Fe.getTextContent().then(function(_t){nt(),De.current=J.renderTextLayer({container:yt,textContent:_t,textContentSource:_t,viewport:Et}),De.current.promise.then(function(){yt.setAttribute("data-testid","core__text-layer-".concat(Ie)),[].slice.call(yt.children).forEach(function($t){$t.classList.contains("rpv-core__text-layer-text--not")||$t.classList.add("rpv-core__text-layer-text")}),Be.forEach(function($t){$t.onTextLayerRender&&$t.onTextLayerRender({ele:yt,pageIndex:Ie,scale:it,status:A.LayerRenderStatus.DidRender})}),Je()},function(){yt.removeAttribute("data-testid"),Je()})}),function(){var _t;nt(),(_t=De.current)===null||_t===void 0||_t.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:pe})},eo=function(U){var pe=U.doc,Fe=U.measureRef,Ie=U.outlines,Be=U.pageIndex,We=U.pageRotation,it=U.pageSize,Je=U.plugins,De=U.renderPage,nt=U.renderQueueKey,tt=U.rotation,yt=U.scale,Et=U.shouldRender,_t=U.viewMode,$t=U.onExecuteNamedAction,kt=U.onJumpFromLinkAnnotation,Ct=U.onJumpToDest,gn=U.onRenderCompleted,Yt=U.onRotatePage,Qt=$e(),an=B.useState(null),Vt=an[0],sn=an[1],tn=B.useState(!1),xn=tn[0],Sn=tn[1],wn=B.useState(!1),An=wn[0],kn=wn[1],Vn=B.useRef(),Dn=B.useRef(),Wn=Math.abs(tt+We)%180==0,jn=it.pageWidth*yt,zn=it.pageHeight*yt,Hn=Wn?jn:zn,Bn=Wn?zn:jn,Zn=(it.rotation+tt+We)%360,or=B.useRef(0),rr=De||function(Xn){return B.createElement(B.Fragment,null,Xn.canvasLayer.children,Xn.textLayer.children,Xn.annotationLayer.children)};return B.useEffect(function(){sn(null),Sn(!1),kn(!1)},[We,tt,yt]),B.useEffect(function(){Et&&Qt.current&&!Vt&&Ft(pe,Be).then(function(Xn){Qt.current&&(or.current=nt,sn(Xn))})},[Et,Vt]),B.useEffect(function(){xn&&An&&(nt!==or.current?(sn(null),Sn(!1),kn(!1)):gn(Be))},[xn,An]),B.createElement("div",{className:te({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":_t===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":_t===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":_t===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Be),ref:Fe,style:{height:"".concat(Bn,"px"),width:"".concat(Hn,"px")}},Vt?B.createElement(B.Fragment,null,rr({annotationLayer:{attrs:{},children:B.createElement(Ya,{doc:pe,outlines:Ie,page:Vt,pageIndex:Be,plugins:Je,rotation:Zn,scale:yt,onExecuteNamedAction:$t,onJumpFromLinkAnnotation:kt,onJumpToDest:Ct})},canvasLayer:{attrs:{},children:B.createElement(Za,{canvasLayerRef:Vn,height:Bn,page:Vt,pageIndex:Be,plugins:Je,rotation:Zn,scale:yt,width:Hn,onRenderCanvasCompleted:function(){Qt.current&&Sn(!0)}})},canvasLayerRendered:xn,doc:pe,height:Bn,pageIndex:Be,rotation:Zn,scale:yt,svgLayer:{attrs:{},children:B.createElement(Ja,{height:Bn,page:Vt,rotation:Zn,scale:yt,width:Hn})},textLayer:{attrs:{},children:B.createElement(Qa,{containerRef:Dn,page:Vt,pageIndex:Be,plugins:Je,rotation:Zn,scale:yt,onRenderTextCompleted:function(){Qt.current&&kn(!0)}})},textLayerRendered:An,width:Hn,markRendered:gn,onRotatePage:function(Xn){return Yt(Be,Xn)}}),Je.map(function(Xn,Jn){return Xn.renderPageLayer?B.createElement(B.Fragment,{key:Jn},Xn.renderPageLayer({canvasLayerRef:Vn,canvasLayerRendered:xn,doc:pe,height:Bn,pageIndex:Be,rotation:Zn,scale:yt,textLayerRef:Dn,textLayerRendered:An,width:Hn})):B.createElement(B.Fragment,{key:Jn})})):B.createElement(be,{testId:"core__page-layer-loading-".concat(Be)}))},to=function(U,pe){var Fe=pe.rect;return U.height!==Fe.height||U.width!==Fe.width?Fe:U};(function(U){U.Horizontal="Horizontal",U.Vertical="Vertical",U.Both="Both"})(Dt||(Dt={}));var no=function(U){return 1-Math.pow(1-U,4)},Or=1e-4,Yi={left:0,top:0},Zi={capture:!1,passive:!0},ro=function(U){var pe=U.elementRef,Fe=U.enableSmoothScroll,Ie=U.isRtl,Be=U.scrollDirection,We=U.onSmoothScroll,it=B.useState(Yi),Je=it[0],De=it[1],nt=B.useState(pe.current),tt=nt[0],yt=nt[1],Et=Ie?-1:1,_t=B.useRef(Be);_t.current=Be;var $t=B.useRef(Yi),kt=B.useRef(!0),Ct=B.useCallback(function(){kt.current=!0,Fe&&De($t.current),We(!1)},[]),gn=B.useCallback(function(){if(tt){switch(_t.current){case Dt.Horizontal:$t.current={left:Et*tt.scrollLeft,top:0};break;case Dt.Both:$t.current={left:Et*tt.scrollLeft,top:tt.scrollTop};break;case Dt.Vertical:default:$t.current={left:0,top:tt.scrollTop}}Fe&&!kt.current||De($t.current)}},[tt]);ie(function(){yt(pe.current)}),ie(function(){if(tt)return tt.addEventListener("scroll",gn,Zi),function(){tt.removeEventListener("scroll",gn,Zi)}},[tt]);var Yt=B.useCallback(function(Qt,an){var Vt=pe.current;if(!Vt)return Promise.resolve();var sn={left:0,top:0};switch(_t.current){case Dt.Horizontal:sn.left=Et*Qt.left;break;case Dt.Both:sn.left=Et*Qt.left,sn.top=Qt.top;break;case Dt.Vertical:default:sn.top=Qt.top}return an?(kt.current=!1,We(!0),new Promise(function(tn,xn){(function(Sn,wn,An,kn,Vn,Dn){Vn===void 0&&(Vn=function(Jn){return Jn}),Dn===void 0&&(Dn=function(){});var Wn=0,jn=0,zn=!1;switch(wn){case Dt.Horizontal:jn=Sn.scrollLeft,Wn=0;case Dt.Both:jn=Sn.scrollLeft,Wn=Sn.scrollTop;break;case Dt.Vertical:default:jn=0,Wn=Sn.scrollTop}var Hn=function(){zn||(zn=!0,Sn.scrollLeft=An.left,Sn.scrollTop=An.top,Dn())};if(Math.abs(Wn-An.top)<=Or&&wn===Dt.Vertical)Hn();else if(Math.abs(jn-An.left)<=Or&&wn===Dt.Horizontal)Hn();else{var Bn,Zn=-1,or=jn-An.left,rr=Wn-An.top,Xn=function(Jn){Zn===-1&&(Zn=Jn);var sr=Jn-Zn,nn=Math.min(sr/kn,1),en=Vn(nn),Wt={left:jn-or*en,top:Wn-rr*en};switch(wn){case Dt.Horizontal:Sn.scrollLeft=Wt.left;break;case Dt.Both:Sn.scrollLeft=Wt.left,Sn.scrollTop=Wt.top;break;case Dt.Vertical:default:Sn.scrollTop=Wt.top}Math.abs(Wt.top-An.top)<=Or&&Math.abs(Wt.left-An.left)<=Or&&!zn&&(window.cancelAnimationFrame(Bn),Hn()),sr<kn?Bn=window.requestAnimationFrame(Xn):window.cancelAnimationFrame(Bn)};Bn=window.requestAnimationFrame(Xn)}})(Vt,_t.current,sn,400,no,function(){Ct(),tn()})})):new Promise(function(tn,xn){switch(_t.current){case Dt.Horizontal:Vt.scrollLeft=sn.left;break;case Dt.Both:Vt.scrollLeft=sn.left,Vt.scrollTop=sn.top;break;case Dt.Vertical:default:Vt.scrollTop=sn.top}tn()})},[pe]);return{scrollOffset:Je,scrollTo:Yt}},Ar=function(U,pe,Fe){return Math.max(U,Math.min(Fe,pe))},io=function(U,pe){if(pe!==A.ViewMode.DualPageWithCover)return 0;if(!function(Be){var We=Be.length;if(We===1)return!1;for(var it=1;it<We;it++)if(Be[it].height!==Be[0].height||Be[it].width!==Be[0].width)return!0;return!1}(U))return 2*U[0].width;var Fe=Ue(U.slice(1),2).map(function(Be){return Be.length===2?Be[0].width+Be[1].width:Be[0].width}),Ie=[U[0].width].concat(Fe);return Math.max.apply(Math,Ie)},ao={left:0,top:0},oo={left:0,top:0},ri={left:0,top:0},so={left:0,top:0},co={height:0,width:0},Ji={left:0,top:0},Qi="data-virtual-index",lo=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],uo=function(U){var pe=U.enableSmoothScroll,Fe=U.isRtl,Ie=U.numberOfItems,Be=U.parentRef,We=U.setRenderRange,it=U.sizes,Je=U.scrollMode,De=U.viewMode,nt=B.useState(!1),tt=nt[0],yt=nt[1],Et=B.useCallback(function(nn){return yt(nn)},[]),_t=B.useRef(Je);_t.current=Je;var $t=B.useRef(De);$t.current=De;var kt=Je===A.ScrollMode.Wrapped||De===A.ViewMode.DualPageWithCover||De===A.ViewMode.DualPage?Dt.Both:Je===A.ScrollMode.Horizontal?Dt.Horizontal:Dt.Vertical,Ct=ro({elementRef:Be,enableSmoothScroll:pe,isRtl:Fe,scrollDirection:kt,onSmoothScroll:Et}),gn=Ct.scrollOffset,Yt=Ct.scrollTo,Qt=function(nn){var en=nn.elementRef,Wt=B.useState(en.current),Xt=Wt[0],Ut=Wt[1],ln=B.useRef(!1),dn=B.useReducer(to,{height:0,width:0}),Kt=dn[0],jt=dn[1];return ie(function(){en.current!==Xt&&Ut(en.current)}),ie(function(){if(Xt&&!ln.current){ln.current=!0;var pn=Xt.getBoundingClientRect(),vn=pn.height,Ln=pn.width;jt({rect:{height:vn,width:Ln}})}},[Xt]),B.useEffect(function(){if(Xt){var pn=new ResizeObserver(function(vn,Ln){vn.forEach(function(Tn){if(Tn.target===Xt){var Kn=Tn.contentRect,Qn=Kn.height,mn=Kn.width;jt({rect:{height:Qn,width:mn}})}})});return pn.observe(Xt),function(){pn.unobserve(Xt)}}},[Xt]),Kt}({elementRef:Be}),an=B.useRef({scrollOffset:Ji,measurements:[]});an.current.scrollOffset=gn;var Vt=B.useMemo(function(){return Array(Ie).fill(-1)},[]),sn=B.useState(Vt),tn=sn[0],xn=sn[1],Sn=B.useMemo(function(){var nn=new IntersectionObserver(function(en){en.forEach(function(Wt){var Xt=Wt.isIntersecting?Wt.intersectionRatio:-1,Ut=Wt.target.getAttribute(Qi);if(Ut){var ln=parseInt(Ut,10);0<=ln&&ln<Ie&&xn(function(dn){return dn[ln]=Xt,function(Kt,jt,pn){for(var vn,Ln=0,Tn=jt.length;Ln<Tn;Ln++)!vn&&Ln in jt||(vn||(vn=Array.prototype.slice.call(jt,0,Ln)),vn[Ln]=jt[Ln]);return Kt.concat(vn||Array.prototype.slice.call(jt))}([],dn)})}})},{threshold:lo});return nn},[]),wn=B.useMemo(function(){return Je===A.ScrollMode.Page&&De===A.ViewMode.SinglePage?function(nn,en,Wt){for(var Xt=[],Ut=0;Ut<nn;Ut++){var ln={height:Math.max(en.height,Wt[Ut].height),width:Math.max(en.width,Wt[Ut].width)},dn=Ut===0?so:Xt[Ut-1].end,Kt={left:dn.left+ln.width,top:dn.top+ln.height};Xt[Ut]={index:Ut,start:dn,size:ln,end:Kt,visibility:-1}}return Xt}(Ie,Qt,it):De===A.ViewMode.DualPageWithCover?function(nn,en,Wt,Xt){for(var Ut=[],ln=0,dn=0,Kt=ri,jt=0;jt<nn;jt++){var pn=jt===0?{height:Xt===A.ScrollMode.Page?Math.max(en.height,Wt[jt].height):Wt[jt].height,width:Xt===A.ScrollMode.Page?Math.max(en.width,Wt[jt].width):Wt[jt].width}:{height:Xt===A.ScrollMode.Page?Math.max(en.height,Wt[jt].height):Wt[jt].height,width:Math.max(en.width/2,Wt[jt].width)};Xt===A.ScrollMode.Page?Kt=jt===0?ri:{left:jt%2==0?pn.width:0,top:Math.floor((jt-1)/2)*pn.height+Ut[0].end.top}:jt===0?(Kt=ri,ln=Wt[0].height,dn=0):jt%2==1?(Kt={left:0,top:ln+=dn},dn=jt===nn-1?Wt[jt].height:Math.max(Wt[jt].height,Wt[jt+1].height)):Kt={left:Ut[jt-1].end.left,top:ln};var vn={left:Kt.left+pn.width,top:Kt.top+pn.height};Ut[jt]={index:jt,start:Kt,size:pn,end:vn,visibility:-1}}return Ut}(Ie,Qt,it,Je):De===A.ViewMode.DualPage?function(nn,en,Wt,Xt){for(var Ut=[],ln=0,dn=0,Kt=oo,jt=0;jt<nn;jt++){var pn={height:Xt===A.ScrollMode.Page?Math.max(en.height,Wt[jt].height):Wt[jt].height,width:Math.max(en.width/2,Wt[jt].width)};Xt===A.ScrollMode.Page?Kt={left:jt%2==0?0:pn.width,top:Math.floor(jt/2)*pn.height}:jt%2==0?(Kt={left:0,top:ln+=dn},dn=jt===nn-1?Wt[jt].height:Math.max(Wt[jt].height,Wt[jt+1].height)):Kt={left:Ut[jt-1].end.left,top:ln};var vn={left:Kt.left+pn.width,top:Kt.top+pn.height};Ut[jt]={index:jt,start:Kt,size:pn,end:vn,visibility:-1}}return Ut}(Ie,Qt,it,Je):function(nn,en,Wt,Xt){for(var Ut=[],ln=0,dn={left:0,top:0},Kt=0,jt=ao,pn=0;pn<nn;pn++){var vn=Wt[pn];if(pn===0)ln=vn.width,dn={left:0,top:0},Kt=vn.height;else switch(Xt){case A.ScrollMode.Wrapped:(ln+=vn.width)<en.width?(jt={left:Ut[pn-1].end.left,top:dn.top},Kt=Math.max(Kt,vn.height)):(ln=vn.width,dn={left:(jt={left:dn.left,top:dn.top+Kt}).left,top:jt.top},Kt=vn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:jt=Ut[pn-1].end}var Ln={left:jt.left+vn.width,top:jt.top+vn.height};Ut[pn]={index:pn,start:jt,size:vn,end:Ln,visibility:-1}}return Ut}(Ie,Qt,it,Je)},[Je,it,De,Qt]),An=wn[Ie-1]?{height:wn[Ie-1].end.top,width:wn[Ie-1].end.left}:co;an.current.measurements=wn;var kn=B.useMemo(function(){var nn=function(pn,vn,Ln,Tn){var Kn=0;switch(pn){case Dt.Horizontal:Kn=Tn.left;break;case Dt.Vertical:default:Kn=Tn.top}var Qn=vn.length-1,mn=function($n,lr,br,jr){for(;$n<=lr;){var pr=($n+lr)/2|0,Cr=jr(pr);if(Cr<br)$n=pr+1;else{if(!(Cr>br))return pr;lr=pr-1}}return $n>0?$n-1:0}(0,Qn,Kn,function($n){switch(pn){case Dt.Horizontal:return vn[$n].start.left;case Dt.Both:case Dt.Vertical:default:return vn[$n].start.top}});if(pn===Dt.Both)for(var Yn=vn[mn].start.top;mn-1>=0&&vn[mn-1].start.top===Yn&&vn[mn-1].start.left>=Tn.left;)mn--;for(var In=mn;In<=Qn;){var On={top:vn[In].start.top-Tn.top,left:vn[In].start.left-Tn.left},Gn={height:Ln.height-On.top,width:Ln.width-On.left};if(pn===Dt.Horizontal&&Gn.width<0||pn===Dt.Vertical&&Gn.height<0||pn===Dt.Both&&(Gn.width<0||Gn.height<0))break;In++}return{start:mn,end:In}}(kt,wn,Qt,gn),en=nn.start,Wt=nn.end,Xt=tn.slice(Ar(0,Ie,en),Ar(0,Ie,Wt)),Ut=en+Xt.reduce(function(pn,vn,Ln,Tn){return vn>Tn[pn]?Ln:pn},0),ln=Ut=Ar(0,Ie-1,Ut),dn=We({endPage:Wt,numPages:Ie,startPage:en}),Kt=dn.startPage,jt=dn.endPage;switch(Kt=Math.max(Kt,0),jt=Math.min(jt,Ie-1),De){case A.ViewMode.DualPageWithCover:Ut>0&&(ln=Ut%2==1?Ut:Ut-1),Kt=Kt===0?0:Kt%2==1?Kt:Kt-1,Ie-(jt=jt%2==1?jt-1:jt)<=2&&(jt=Ie-1);break;case A.ViewMode.DualPage:ln=Ut%2==0?Ut:Ut-1,Kt=Kt%2==0?Kt:Kt-1,jt=jt%2==1?jt:jt-1;break;case A.ViewMode.SinglePage:default:ln=Ut}return{startPage:Kt,endPage:jt,maxVisbilityIndex:ln}},[wn,Qt,gn,De,tn]),Vn=kn.startPage,Dn=kn.endPage,Wn=kn.maxVisbilityIndex,jn=B.useMemo(function(){for(var nn=[],en=function(Xt){var Ut=wn[Xt],ln=W(W({},Ut),{visibility:tn[Xt]!==void 0?tn[Xt]:-1,measureRef:function(dn){dn&&(dn.setAttribute(Qi,"".concat(Xt)),Sn.observe(dn))}});nn.push(ln)},Wt=Vn;Wt<=Dn;Wt++)en(Wt);return nn},[Vn,Dn,tn,wn]),zn=B.useCallback(function(nn,en){var Wt=an.current.measurements[Ar(0,Ie-1,nn)],Xt=_t.current===A.ScrollMode.Page?Ji:en;return Wt?Yt({left:Xt.left+Wt.start.left,top:Xt.top+Wt.start.top},pe):Promise.resolve()},[Yt,pe]),Hn=B.useCallback(function(nn,en){var Wt=an.current.measurements,Xt=Wt[nn].start,Ut=Wt.find(function(dn){return dn.start.top-Xt.top>1e-12});if(!Ut)return Promise.resolve();var ln=Ut.index;switch($t.current){case A.ViewMode.DualPage:ln=ln%2==0?ln:ln+1;break;case A.ViewMode.DualPageWithCover:ln=ln%2==1?ln:ln+1}return zn(ln,en)},[]),Bn=B.useCallback(function(nn,en){for(var Wt=an.current.measurements,Xt=Wt[nn].start,Ut=nn,ln=!1,dn=Ie-1;dn>=0;dn--)if(Xt.top-Wt[dn].start.top>1e-12){ln=!0,Ut=Wt[dn].index;break}if(!ln)return Promise.resolve();switch($t.current){case A.ViewMode.DualPage:Ut=Ut%2==0?Ut:Ut-1;break;case A.ViewMode.DualPageWithCover:Ut=Ut%2==0?Ut-1:Ut}return Ut===nn&&(Ut=nn-1),zn(Ut,en)},[]),Zn=B.useCallback(function(nn,en){if($t.current===A.ViewMode.DualPageWithCover||$t.current===A.ViewMode.DualPage)return Hn(nn,en);switch(_t.current){case A.ScrollMode.Wrapped:return Hn(nn,en);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return zn(nn+1,en)}},[]),or=B.useCallback(function(nn,en){if($t.current===A.ViewMode.DualPageWithCover||$t.current===A.ViewMode.DualPage)return Bn(nn,en);switch(_t.current){case A.ScrollMode.Wrapped:return Bn(nn,en);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return zn(nn-1,en)}},[]),rr=B.useCallback(function(){return function(nn,en){switch(en){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(nn.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(nn.height,"px"),width:"100%"}}}(An,_t.current)},[An]),Xn=B.useCallback(function(nn){return function(en,Wt,Xt){return Xt!==A.ScrollMode.Page?{}:{height:"".concat(Wt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(en.start.top,"px)")}}(nn,Qt,_t.current)},[Qt]),Jn=B.useCallback(function(nn){return function(en,Wt,Xt,Ut,ln){var dn,Kt,jt,pn,vn,Ln,Tn,Kn=Wt?"right":"left",Qn=Wt?-1:1,mn=Xt.length,Yn=en.start.left*Qn,In=en.size,On=In.height,Gn=In.width;if(Ut===A.ViewMode.DualPageWithCover){var $n=ln===A.ScrollMode.Page?0:en.start.top;return en.index===0||mn%2==0&&en.index===mn-1?((dn={height:"".concat(On,"px"),minWidth:"".concat(io(Xt,Ut),"px"),width:"100%"})[Kn]=0,dn.position="absolute",dn.top=0,dn.transform="translate(".concat(Yn,"px, ").concat($n,"px)"),dn):((Kt={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Kn]=0,Kt.position="absolute",Kt.top=0,Kt.transform="translate(".concat(Yn,"px, ").concat($n,"px)"),Kt)}if(Ut===A.ViewMode.DualPage)return(jt={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Kn]=0,jt.position="absolute",jt.top=0,jt.transform="translate(".concat(Yn,"px, ").concat(ln===A.ScrollMode.Page?0:en.start.top,"px)"),jt;switch(ln){case A.ScrollMode.Horizontal:return(pn={height:"100%",width:"".concat(Gn,"px")})[Kn]=0,pn.position="absolute",pn.top=0,pn.transform="translateX(".concat(Yn,"px)"),pn;case A.ScrollMode.Page:return(vn={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Kn]=0,vn.position="absolute",vn.top=0,vn;case A.ScrollMode.Wrapped:return(Ln={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Kn]=0,Ln.position="absolute",Ln.top=0,Ln.transform="translate(".concat(Yn,"px, ").concat(en.start.top,"px)"),Ln;case A.ScrollMode.Vertical:default:return(Tn={height:"".concat(On,"px"),width:"100%"})[Kn]=0,Tn.position="absolute",Tn.top=0,Tn.transform="translateY(".concat(en.start.top,"px)"),Tn}}(nn,Fe,it,$t.current,_t.current)},[Fe,it]),sr=B.useCallback(function(nn,en){var Wt=an.current,Xt=Wt.measurements,Ut=Wt.scrollOffset,ln=Xt[Ar(0,Ie-1,en)];if(ln){var dn=_t.current===A.ScrollMode.Page?{left:ln.start.left,top:ln.start.top}:{left:Ut.left*nn,top:Ut.top*nn};return Yt(dn,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){Sn.disconnect()}},[]),{boundingClientRect:Qt,isSmoothScrolling:tt,startPage:Vn,endPage:Dn,maxVisbilityIndex:Wn,virtualItems:jn,getContainerStyles:rr,getItemContainerStyles:Xn,getItemStyles:Jn,scrollToItem:zn,scrollToNextItem:Zn,scrollToPreviousItem:or,zoom:sr}},ii=function(U,pe,Fe,Ie,Be,We){var it=Fe;switch(!0){case(Be===A.ViewMode.DualPageWithCover&&We>=3):case(Be===A.ViewMode.DualPage&&We>=3):it=2*Fe;break;default:it=Fe}switch(Ie){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((U.clientWidth-17)/it,(U.clientHeight-16)/pe);case A.SpecialZoomLevel.PageWidth:return(U.clientWidth-17)/it}},ho=function(U){var pe,Fe,Ie=U.getCurrentPage,Be=(pe=50,Fe=B.useRef([]),B.useEffect(function(){return function(){Fe.current=[]}},[]),{push:function(nt){var tt=Fe.current;tt.length+1>pe&&tt.shift(),tt.push(nt),Fe.current=tt},map:function(nt){return Fe.current.map(function(tt){return nt(tt)})},pop:function(){var nt=Fe.current;if(nt.length===0)return null;var tt=nt.pop();return Fe.current=nt,tt}}),We=function(nt){var tt=B.useRef([]);return B.useEffect(function(){return function(){tt.current=[]}},[]),{dequeue:function(){var yt=tt.current;if(yt.length===0)return null;var Et=yt.shift();return tt.current=yt,Et||null},enqueue:function(yt){var Et=tt.current;Et.length+1>nt&&Et.pop(),tt.current=[yt].concat(Et)},map:function(yt){return tt.current.map(function(Et){return yt(Et)})}}}(50),it=function(){var nt=We.dequeue();return nt&&Be.push(nt),nt&&nt.pageIndex===Ie()?it():nt},Je=function(){var nt=Be.pop();return nt&&We.enqueue(nt),nt&&nt.pageIndex===Ie()?Je():nt},De=B.useCallback(function(nt){Be.push(nt)},[]);return{getNextDestination:it,getPreviousDestination:Je,markVisitedDestination:De}},ea=function(U){var pe=[];return U.map(function(Fe){pe=pe.concat(Fe).concat(function(Ie){var Be=[];return Ie.items&&Ie.items.length>0&&(Be=Be.concat(ea(Ie.items))),Be}(Fe))}),pe},ta={capture:!1,passive:!0},fo={height:0,width:0},ai={height:0,width:0},po=function(U){var pe=U.getCurrentPage,Fe=U.getCurrentScrollMode,Ie=U.jumpToPage,Be=U.targetRef,We=B.useState(A.FullScreenMode.Normal),it=We[0],Je=We[1],De=function(){var tn=B.useState(fo),xn=tn[0],Sn=tn[1],wn=Oe(function(){Sn({height:window.innerHeight,width:window.innerWidth})},100);return ie(function(){return window.addEventListener("resize",wn,ta),function(){window.removeEventListener("resize",wn,ta)}},[]),xn}(),nt=B.useState(ai),tt=nt[0],yt=nt[1],Et=B.useRef(ai),_t=B.useRef(pe()),$t=B.useRef(ai),kt=B.useState(Be.current),Ct=kt[0],gn=kt[1],Yt=B.useRef();ie(function(){Be.current!==Ct&&gn(Be.current)},[]),ie(function(){if(Ct){var tn=new ResizeObserver(function(xn){xn.forEach(function(Sn){var wn=Sn.target.getBoundingClientRect(),An=wn.height,kn=wn.width;yt({height:An,width:kn})})});return tn.observe(Ct),function(){tn.unobserve(Ct),tn.disconnect()}}},[Ct]);var Qt=B.useCallback(function(tn){var xn=Ce();return xn&&xn!==tn?(Je(A.FullScreenMode.Normal),ve(xn)):Promise.resolve()},[]),an=B.useCallback(function(tn){tn&&Q()&&(gn(tn),Qt(tn).then(function(){Yt.current=tn,Je(A.FullScreenMode.Entering),function(xn){se&&xn[ye.RequestFullScreen]()}(tn)}))},[]),Vt=B.useCallback(function(){Ce()&&(Je(A.FullScreenMode.Exitting),ve(document))},[]),sn=B.useCallback(function(){Ct&&Ce()!==Ct&&Je(A.FullScreenMode.Exitting)},[Ct]);return B.useEffect(function(){switch(it){case A.FullScreenMode.Entering:Yt.current&&(Yt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),_t.current=pe(),Et.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Fe()===A.ScrollMode.Page?Ie(_t.current).then(function(){Je(A.FullScreenMode.EnteredCompletely)}):Je(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Yt.current&&(Yt.current.style.backgroundColor="",Yt.current=null),_t.current=pe();break;case A.FullScreenMode.Exited:Je(A.FullScreenMode.Normal),Fe()===A.ScrollMode.Page&&Ie(_t.current)}},[it]),B.useEffect(function(){if(it!==A.FullScreenMode.Normal)return it===A.FullScreenMode.Entering&&De.height===tt.height&&De.width===tt.width&&De.height>0&&De.width>0&&($t.current.height===0||De.height==$t.current.height)?($t.current={height:window.innerHeight,width:window.innerWidth},void Je(A.FullScreenMode.Entered)):void(it===A.FullScreenMode.Exitting&&Et.current.height===De.height&&Et.current.width===De.width&&De.height>0&&De.width>0&&Je(A.FullScreenMode.Exited))},[it,De,tt]),B.useEffect(function(){var tn;return tn=sn,se&&document.addEventListener(ye.FullScreenChange,tn),function(){(function(xn){se&&document.removeEventListener(ye.FullScreenChange,xn)})(sn)}},[Ct]),{enterFullScreenMode:an,exitFullScreenMode:Vt,fullScreenMode:it}},mo={buildPageStyles:function(){return{}},transformSize:function(U){return U.size}},vr={left:0,top:0},go=function(U){var pe=U.currentFile,Fe=U.defaultScale,Ie=U.doc,Be=U.enableSmoothScroll,We=U.initialPage,it=U.initialRotation,Je=U.initialScale,De=U.pageLayout,nt=U.pageSizes,tt=U.plugins,yt=U.renderPage,Et=U.scrollMode,_t=U.setRenderRange,$t=U.viewMode,kt=U.viewerState,Ct=U.onDocumentLoad,gn=U.onOpenFile,Yt=U.onPageChange,Qt=U.onRotate,an=U.onRotatePage,Vt=U.onZoom,sn=Ie.numPages,tn=Ie.loadingTask.docId,xn=B.useContext(Ve).l10n,Sn=B.useContext(le),wn=Sn.direction===A.TextDirection.RightToLeft,An=B.useRef(),kn=B.useRef(),Vn=B.useState(We),Dn=Vn[0],Wn=Vn[1],jn=B.useRef(null),zn=ho({getCurrentPage:function(){return mn.current.pageIndex}}),Hn=B.useState(it),Bn=Hn[0],Zn=Hn[1],or=je(Bn),rr=B.useState(!1),Xn=rr[0],Jn=rr[1],sr=B.useState(new Map),nn=sr[0],en=sr[1],Wt=B.useState(Et),Xt=Wt[0],Ut=Wt[1],ln=je(Xt),dn=B.useState($t),Kt=dn[0],jt=dn[1],pn=je(Kt),vn=function(At){var hn=$e(),_n=B.useState([]),Mn=_n[0],Cn=_n[1];return B.useEffect(function(){At.getOutline().then(function(En){if(hn.current&&En!==null){var qn=ea(En);Cn(qn)}})},[]),Mn}(Ie),Ln=B.useState(Je),Tn=Ln[0],Kn=Ln[1],Qn=je(Tn),mn=B.useRef(kt),Yn=B.useRef(typeof Fe=="string"?Fe:null),In=B.useRef(-1),On=B.useRef(-1),Gn=B.useRef(We),$n=po({getCurrentPage:function(){return mn.current.pageIndex},getCurrentScrollMode:function(){return mn.current.scrollMode},jumpToPage:function(At){return dr(At)},targetRef:kn}),lr=B.useState(-1),br=lr[0],jr=lr[1],pr=B.useState(0),Cr=pr[0],So=pr[1],er=xe({doc:Ie});B.useEffect(function(){return function(){xt.clear(),Zt.clear()}},[tn]);var aa=B.useMemo(function(){return Object.assign({},mo,De)},[]),xo=B.useMemo(function(){return Array(sn).fill(0).map(function(At,hn){var _n=[nt[hn].pageHeight,nt[hn].pageWidth],Mn=Math.abs(Bn)%180==0?{height:_n[0],width:_n[1]}:{height:_n[1],width:_n[0]},Cn={height:Mn.height*Tn,width:Mn.width*Tn};return aa.transformSize({numPages:sn,pageIndex:hn,size:Cn})})},[Bn,Tn]),Rn=uo({enableSmoothScroll:Be,isRtl:wn,numberOfItems:sn,parentRef:kn,scrollMode:Xt,setRenderRange:_t,sizes:xo,viewMode:Kt}),wo=Oe(function(){!Yn.current||mn.current.fullScreenMode!==A.FullScreenMode.Normal||We>0&&Gn.current===We||mr(Yn.current)},200);(function(At){var hn=At.targetRef,_n=At.onResize;ie(function(){var Mn=new ResizeObserver(function(En){En.forEach(function(qn){_n(qn.target)})}),Cn=hn.current;if(Cn)return Mn.observe(Cn),function(){Mn.unobserve(Cn)}},[])})({targetRef:kn,onResize:wo});var ur=function(At){var hn=At;tt.forEach(function(_n){_n.onViewerStateChange&&(hn=_n.onViewerStateChange(hn))}),mn.current=hn},Ao=function(){return kn.current},Co=function(){return mn.current},Po=B.useCallback(function(At){zn.markVisitedDestination(At)},[]),ci=B.useCallback(function(At){var hn=At.pageIndex,_n=At.bottomOffset,Mn=At.leftOffset,Cn=At.scaleTo,En=kn.current,qn=mn.current;return En&&qn?new Promise(function(hr,pi){Ft(Ie,hn).then(function(Br){var fr=Br.getViewport({scale:1}),zr=0,fa=(typeof _n=="function"?_n(fr.width,fr.height):_n)||0,Hr=(typeof Mn=="function"?Mn(fr.width,fr.height):Mn)||0,_r=qn.scale;switch(Cn){case A.SpecialZoomLevel.PageFit:zr=0,Hr=0,mr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:_r=ii(En,nt[hn].pageHeight,nt[hn].pageWidth,A.SpecialZoomLevel.PageWidth,$t,sn),zr=(fr.height-fa)*_r,Hr*=_r,mr(_r);break;default:zr=(fr.height-fa)*_r,Hr*=_r}switch(qn.scrollMode){case A.ScrollMode.Horizontal:Rn.scrollToItem(hn,{left:Hr,top:0}).then(function(){hr()});break;case A.ScrollMode.Vertical:default:Rn.scrollToItem(hn,{left:0,top:zr}).then(function(){hr()})}})}):Promise.resolve()},[]),oa=B.useCallback(function(At){return zn.markVisitedDestination(At),ci(At)},[]),ko=B.useCallback(function(){var At=zn.getNextDestination();return At?ci(At):Promise.resolve()},[]),Mo=B.useCallback(function(){var At=zn.getPreviousDestination();return At?ci(At):Promise.resolve()},[]),$o=B.useCallback(function(){return Rn.scrollToNextItem(mn.current.pageIndex,vr)},[]),dr=B.useCallback(function(At){return 0<=At&&At<sn?Rn.scrollToItem(At,vr):Promise.resolve()},[]),To=B.useCallback(function(){return Rn.scrollToPreviousItem(mn.current.pageIndex,vr)},[]),sa=B.useCallback(function(At){var hn,_n;(hn=At.name,_n=hn.split(/\./).pop(),_n?_n.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Mn){var Cn=new FileReader;Cn.readAsArrayBuffer(At),Cn.onload=function(){var En=new Uint8Array(Cn.result);Mn(En)}}).then(function(Mn){gn(At.name,Mn)})},[gn]),ca=B.useCallback(function(At){var hn=At===A.RotateDirection.Backward?-90:90,_n=mn.current.rotation,Mn=_n===360||_n===-360?hn:_n+hn;er.markNotRendered(),Zn(Mn),ur(W(W({},mn.current),{rotation:Mn})),Qt({direction:At,doc:Ie,rotation:Mn})},[]),li=B.useCallback(function(At,hn){var _n=hn===A.RotateDirection.Backward?-90:90,Mn=mn.current.pagesRotation,Cn=(Mn.has(At)?Mn.get(At):it)+_n,En=Mn.set(At,Cn);en(En),Jn(function(qn){return!qn}),ur(W(W({},mn.current),{pagesRotation:En,rotatedPage:At})),an({direction:hn,doc:Ie,pageIndex:At,rotation:Cn}),er.markRendering(At),jr(At)},[]),la=B.useCallback(function(At){ur(W(W({},mn.current),{scrollMode:At})),Ut(At)},[]),ua=B.useCallback(function(At){ur(W(W({},mn.current),{viewMode:At})),jt(At)},[]),mr=B.useCallback(function(At){var hn=kn.current,_n=mn.current.pageIndex;if(!(_n<0||_n>=sn)){var Mn=nt[_n].pageHeight,Cn=nt[_n].pageWidth,En=hn?typeof At=="string"?ii(hn,Mn,Cn,At,mn.current.viewMode,sn):At:1;Yn.current=typeof At=="string"?At:null,En!==mn.current.scale&&(So(function(qn){return qn+1}),er.markNotRendered(),Kn(En),Vt({doc:Ie,scale:En}),ur(W(W({},mn.current),{scale:En})))}},[]),Ro=B.useCallback(function(At){$n.enterFullScreenMode(At)},[]),Fo=B.useCallback(function(){$n.exitFullScreenMode()},[]);B.useEffect(function(){ur(W(W({},mn.current),{fullScreenMode:$n.fullScreenMode}))},[$n.fullScreenMode]),B.useEffect(function(){var At={enterFullScreenMode:Ro,exitFullScreenMode:Fo,getPagesContainer:Ao,getViewerState:Co,jumpToDestination:oa,jumpToNextDestination:ko,jumpToPreviousDestination:Mo,jumpToNextPage:$o,jumpToPreviousPage:To,jumpToPage:dr,openFile:sa,rotate:ca,rotatePage:li,setViewerState:ur,switchScrollMode:la,switchViewMode:ua,zoom:mr};return tt.forEach(function(hn){hn.install&&hn.install(At)}),function(){tt.forEach(function(hn){hn.uninstall&&hn.uninstall(At)})}},[tn]),B.useEffect(function(){Ct({doc:Ie,file:pe}),tt.forEach(function(At){At.onDocumentLoad&&At.onDocumentLoad({doc:Ie,file:pe})})},[tn]);var ui,di,hi,da=Rn.boundingClientRect;ui=function(){We&&dr(We)},di=da.height>0&&da.width>0,hi=B.useRef(!1),ie(function(){di&&!hi.current&&(hi.current=!0,ui())},[ui,di]),ie(function(){var At=mn.current.pageIndex;At>-1&&ln!==Xt&&Rn.scrollToItem(At,vr).then(function(){$n.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Be||er.markNotRendered(),In.current=-1)})},[Xt]),ie(function(){var At=mn.current.pageIndex;At>-1&&or!==Bn&&Rn.scrollToItem(At,vr)},[Bn]),ie(function(){Qn!=0&&Qn!=mn.current.scale&&Rn.zoom(mn.current.scale/Qn,mn.current.pageIndex).then(function(){$n.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(On.current=-1)})},[Tn]),ie(function(){if(pn!==mn.current.viewMode){var At=Rn.startPage,hn=Rn.endPage,_n=Rn.virtualItems;er.markNotRendered(),er.setRange(At,hn);for(var Mn=function(En){var qn=_n.find(function(hr){return hr.index===En});qn&&er.setVisibility(En,qn.visibility)},Cn=At;Cn<=hn;Cn++)Mn(Cn);fi()}},[Kt]),ie(function(){var At=mn.current.pageIndex;At>-1&&pn!==Kt&&Rn.scrollToItem(At,vr)},[Kt]),ie(function(){var At=mn.current.pageIndex;At>0&&At===We&&Gn.current===We&&Yn.current&&(Gn.current=-1,mr(Yn.current))},[Dn]),B.useEffect(function(){Rn.isSmoothScrolling||jn.current!==null&&jn.current===Dn||(jn.current=Dn,Yt({currentPage:Dn,doc:Ie}))},[Dn,Rn.isSmoothScrolling]),B.useEffect(function(){$n.fullScreenMode===A.FullScreenMode.Entering&&mn.current.scrollMode===A.ScrollMode.Page&&(In.current=mn.current.pageIndex),$n.fullScreenMode===A.FullScreenMode.EnteredCompletely&&mn.current.scrollMode===A.ScrollMode.Page&&Be&&(In.current=-1),$n.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Yn.current&&(On.current=mn.current.pageIndex,mr(Yn.current))},[$n.fullScreenMode]),B.useEffect(function(){if($n.fullScreenMode!==A.FullScreenMode.Entering&&$n.fullScreenMode!==A.FullScreenMode.Exitting&&!Rn.isSmoothScrolling){var At=Rn.startPage,hn=Rn.endPage,_n=Rn.maxVisbilityIndex,Mn=Rn.virtualItems,Cn=_n,En=$n.fullScreenMode===A.FullScreenMode.Entered||$n.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(En&&Cn!==In.current&&In.current>-1||En&&Cn!==On.current&&On.current>-1)){Wn(Cn),ur(W(W({},mn.current),{pageIndex:Cn})),er.setRange(At,hn);for(var qn=function(pi){var Br=Mn.find(function(fr){return fr.index===pi});Br&&er.setVisibility(pi,Br.visibility)},hr=At;hr<=hn;hr++)qn(hr);fi()}}},[Rn.startPage,Rn.endPage,Rn.isSmoothScrolling,Rn.maxVisbilityIndex,$n.fullScreenMode,Xn,Bn,Tn]);var Lo=B.useCallback(function(At){er.markRendered(At),fi()},[Cr]),fi=function(){var At=er.getHighestPriorityPage();At>-1&&er.isInRange(At)&&(er.markRendering(At),jr(At))},Io=function(At){var hn=Dn-1,_n=Dn+1;switch(At){case"FirstPage":dr(0);break;case"LastPage":dr(sn-1);break;case"NextPage":_n<sn&&dr(_n);break;case"PrevPage":hn>=0&&dr(hn)}},Do=B.useCallback(function(){var At=Rn.virtualItems,hn=[];switch(Kt){case A.ViewMode.DualPage:hn=Ue(At,2);break;case A.ViewMode.DualPageWithCover:At.length&&(hn=At[0].index===0?[[At[0]]].concat(Ue(At.slice(1),2)):Ue(At,2));break;case A.ViewMode.SinglePage:default:hn=Ue(At,1)}var _n=xn&&xn.core?xn.core.pageLabel:"Page {{pageIndex}}",Mn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:An,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:te({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Xt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":wn,"rpv-core__inner-pages--single":Xt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Xt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Xt===A.ScrollMode.Wrapped}),ref:kn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(Dn),style:Object.assign({"--scale-factor":Tn},Rn.getContainerStyles())},hn.map(function(Cn){return B.createElement("div",{className:te({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Xt===A.ScrollMode.Page}),style:Rn.getItemContainerStyles(Cn[0]),key:"".concat(Cn[0].index,"-").concat(Kt)},Cn.map(function(En){var qn=Kt===A.ViewMode.DualPageWithCover&&(En.index===0||sn%2==0&&En.index===sn-1);return B.createElement("div",{"aria-label":_n.replace("{{pageIndex}}","".concat(En.index+1)),className:te({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Kt===A.ViewMode.DualPage&&En.index%2==0,"rpv-core__inner-page--dual-odd":Kt===A.ViewMode.DualPage&&En.index%2==1,"rpv-core__inner-page--dual-cover":qn,"rpv-core__inner-page--dual-cover-even":Kt===A.ViewMode.DualPageWithCover&&!qn&&En.index%2==0,"rpv-core__inner-page--dual-cover-odd":Kt===A.ViewMode.DualPageWithCover&&!qn&&En.index%2==1,"rpv-core__inner-page--single":Kt===A.ViewMode.SinglePage&&Xt===A.ScrollMode.Page}),role:"region",key:"".concat(En.index,"-").concat(Kt),style:Object.assign({},Rn.getItemStyles(En),aa.buildPageStyles({numPages:sn,pageIndex:En.index,scrollMode:Xt,viewMode:Kt}))},B.createElement(eo,{doc:Ie,measureRef:En.measureRef,outlines:vn,pageIndex:En.index,pageRotation:nn.has(En.index)?nn.get(En.index):0,pageSize:nt[En.index],plugins:tt,renderPage:yt,renderQueueKey:Cr,rotation:Bn,scale:Tn,shouldRender:br===En.index,viewMode:Kt,onExecuteNamedAction:Io,onJumpFromLinkAnnotation:Po,onJumpToDest:oa,onRenderCompleted:Lo,onRotatePage:li}))}))}))}};return tt.forEach(function(Cn){Cn.renderViewer&&(Mn=Cn.renderViewer({containerRef:An,doc:Ie,pagesContainerRef:kn,pagesRotation:nn,pageSizes:nt,rotation:Bn,slot:Mn,themeContext:Sn,jumpToPage:dr,openFile:sa,rotate:ca,rotatePage:li,switchScrollMode:la,switchViewMode:ua,zoom:mr}))}),Mn},[tt,Rn]),ha=B.useCallback(function(At){return B.createElement("div",W({},At.attrs,{style:At.attrs&&At.attrs.style?At.attrs.style:{}}),At.children,At.subSlot&&ha(At.subSlot))},[]);return ha(Do())},na=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],vo=function(U){var pe=U.defaultScale,Fe=U.doc,Ie=U.render,Be=U.scrollMode,We=U.viewMode,it=B.useRef(),Je=B.useState({pageSizes:[],scale:0}),De=Je[0],nt=Je[1];return B.useLayoutEffect(function(){var tt=Array(Fe.numPages).fill(0).map(function(yt,Et){return new Promise(function(_t,$t){Ft(Fe,Et).then(function(kt){var Ct=kt.getViewport({scale:1});_t({pageHeight:Ct.height,pageWidth:Ct.width,rotation:Ct.rotation})})})});Promise.all(tt).then(function(yt){var Et=it.current;if(Et&&yt.length!==0){var _t=yt[0].pageWidth,$t=yt[0].pageHeight,kt=Et.parentElement,Ct=(kt.clientWidth-45)/_t,gn=(kt.clientHeight-45)/$t,Yt=Ct;switch(Be){case A.ScrollMode.Horizontal:Yt=Math.min(Ct,gn);break;case A.ScrollMode.Vertical:default:Yt=Ct}var Qt,an,Vt=pe?typeof pe=="string"?ii(kt,$t,_t,pe,We,Fe.numPages):pe:(Qt=Yt,(an=na.findIndex(function(sn){return sn>=Qt}))===-1||an===0?Qt:na[an-1]);nt({pageSizes:yt,scale:Vt})}})},[Fe.loadingTask.docId]),De.pageSizes.length===0||De.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:it},B.createElement(be,null)):Ie(De.pageSizes,De.scale)},Nr=function(){},oi=function(U){function pe(Fe,Ie){var Be=U.call(this)||this;return Be.verifyPassword=Fe,Be.passwordStatus=Ie,Be}return de(pe,U),pe}(Nr),bo=function(U){var pe=U.passwordStatus,Fe=U.renderProtectedView,Ie=U.verifyPassword,Be=U.onDocumentAskPassword,We=B.useContext(Ve).l10n,it=B.useState(""),Je=it[0],De=it[1],nt=B.useContext(le).direction===A.TextDirection.RightToLeft,tt=function(){return Ie(Je)};return B.useEffect(function(){Be&&Be({verifyPassword:Ie})},[]),Fe?Fe({passwordStatus:pe,verifyPassword:Ie}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:te({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":nt})},B.createElement("div",{className:"rpv-core__asking-password-message"},pe===A.PasswordStatus.RequiredPassword&&We.core.askingPassword.requirePasswordToOpen,pe===A.PasswordStatus.WrongPassword&&We.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:te({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!nt,"rpv-core__asking-password-input--rtl":nt})},B.createElement(he,{testId:"core__asking-password-input",type:"password",value:Je,onChange:De,onKeyDown:function(yt){yt.key==="Enter"&&tt()}})),B.createElement(ae,{onClick:tt},We.core.askingPassword.submit))))},ra=function(U){function pe(Fe){var Ie=U.call(this)||this;return Ie.doc=Fe,Ie}return de(pe,U),pe}(Nr),ia=function(U){function pe(Fe){var Ie=U.call(this)||this;return Ie.error=Fe,Ie}return de(pe,U),pe}(Nr),si=function(U){function pe(Fe){var Ie=U.call(this)||this;return Ie.percentages=Fe,Ie}return de(pe,U),pe}(Nr),_o=function(U){var pe=U.characterMap,Fe=U.file,Ie=U.httpHeaders,Be=U.render,We=U.renderError,it=U.renderLoader,Je=U.renderProtectedView,De=U.transformGetDocumentParams,nt=U.withCredentials,tt=U.onDocumentAskPassword,yt=B.useContext(le).direction===A.TextDirection.RightToLeft,Et=B.useState(new si(0)),_t=Et[0],$t=Et[1],kt=B.useRef(""),Ct=$e();return B.useEffect(function(){kt.current="",$t(new si(0));var gn=new J.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Yt=Object.assign({httpHeaders:Ie,withCredentials:nt,worker:gn},typeof Fe=="string"?{url:Fe}:{data:Fe},pe?{cMapUrl:pe.url,cMapPacked:pe.isCompressed}:{}),Qt=De?De(Yt):Yt,an=J.getDocument(Qt);return an.onPassword=function(Vt,sn){switch(sn){case J.PasswordResponses.NEED_PASSWORD:Ct.current&&$t(new oi(Vt,A.PasswordStatus.RequiredPassword));break;case J.PasswordResponses.INCORRECT_PASSWORD:Ct.current&&$t(new oi(Vt,A.PasswordStatus.WrongPassword))}},an.onProgress=function(Vt){var sn=Vt.total>0?Math.min(100,100*Vt.loaded/Vt.total):100;Ct.current&&kt.current===""&&$t(new si(sn))},an.promise.then(function(Vt){kt.current=Vt.loadingTask.docId,Ct.current&&$t(new ra(Vt))},function(Vt){return Ct.current&&!gn.destroyed&&$t(new ia({message:Vt.message||"Cannot load document",name:Vt.name}))}),function(){an.destroy(),gn.destroy()}},[Fe]),_t instanceof oi?B.createElement(bo,{passwordStatus:_t.passwordStatus,renderProtectedView:Je,verifyPassword:_t.verifyPassword,onDocumentAskPassword:tt}):_t instanceof ra?Be(_t.doc):_t instanceof ia?We?We(_t.error):B.createElement("div",{className:te({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":yt})},B.createElement("div",{className:"rpv-core__doc-error-text"},_t.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:te({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":yt})},it?it(_t.percentages):B.createElement(be,null))},Eo=function(U,pe){var Fe=B.useMemo(function(){return U==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":U},[]),Ie=B.useState(Fe),Be=Ie[0],We=Ie[1],it=je(Be);return B.useEffect(function(){if(U==="auto"){var Je=window.matchMedia("(prefers-color-scheme: dark)"),De=function(nt){We(nt.matches?"dark":"light")};return Je.addEventListener("change",De),function(){return Je.removeEventListener("change",De)}}},[]),B.useEffect(function(){Be!==it&&pe&&pe(Be)},[Be]),B.useEffect(function(){U!==Be&&We(U)},[U]),{currentTheme:Be,setCurrentTheme:We}},yo=function(U){return{startPage:U.startPage-3,endPage:U.endPage+3}};A.Button=function(U){var pe=U.children,Fe=U.testId,Ie=U.onClick,Be=B.useContext(le).direction===A.TextDirection.RightToLeft,We=Fe?{"data-testid":Fe}:{};return B.createElement("button",W({className:te({"rpv-core__button":!0,"rpv-core__button--rtl":Be}),type:"button",onClick:Ie},We),pe)},A.Icon=q,A.LazyRender=function(U){var pe=U.attrs,Fe=U.children,Ie=U.testId,Be=B.useState(!1),We=Be[0],it=Be[1],Je=Ie?W(W({},pe),{"data-testid":Ie}):pe,De=ee({once:!0,onVisibilityChanged:function(nt){nt.isVisible&&it(!0)}});return B.createElement("div",W({ref:De},Je),We&&Fe)},A.LocalizationContext=Ve,A.Menu=function(U){var pe=U.children,Fe=B.useRef(),Ie=B.useRef([]),Be=B.useContext(le).direction===A.TextDirection.RightToLeft,We=function(Je){if(Fe.current)switch(Je.key){case"Tab":Je.preventDefault();break;case"ArrowDown":Je.preventDefault(),it(function(De,nt){return nt+1});break;case"ArrowUp":Je.preventDefault(),it(function(De,nt){return nt-1});break;case"End":Je.preventDefault(),it(function(De,nt){return De.length-1});break;case"Home":Je.preventDefault(),it(function(De,nt){return 0})}},it=function(Je){if(Fe.current){var De=Ie.current,nt=De.findIndex(function(yt){return yt.getAttribute("tabindex")==="0"}),tt=Math.min(De.length-1,Math.max(0,Je(De,nt)));nt>=0&&nt<=De.length-1&&De[nt].setAttribute("tabindex","-1"),De[tt].setAttribute("tabindex","0"),De[tt].focus()}};return ie(function(){var Je=Fe.current;if(Je){var De=function(nt){var tt=[];return nt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(yt){if(yt instanceof HTMLElement){var Et=yt.parentElement;(Et===nt||window.getComputedStyle(Et).display!=="none")&&tt.push(yt)}}),tt}(Je);Ie.current=De}},[]),ie(function(){return document.addEventListener("keydown",We),function(){document.removeEventListener("keydown",We)}},[]),B.createElement("div",{ref:Fe,"aria-orientation":"vertical",className:te({"rpv-core__menu":!0,"rpv-core__menu--rtl":Be}),role:"menu",tabIndex:0},pe)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(U){var pe=U.checked,Fe=pe!==void 0&&pe,Ie=U.children,Be=U.icon,We=Be===void 0?null:Be,it=U.isDisabled,Je=it!==void 0&&it,De=U.testId,nt=U.onClick,tt=B.useContext(le).direction===A.TextDirection.RightToLeft,yt=De?{"data-testid":De}:{};return B.createElement("button",W({className:te({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Je,"rpv-core__menu-item--ltr":!tt,"rpv-core__menu-item--rtl":tt}),role:"menuitem",tabIndex:-1,type:"button",onClick:nt},yt),B.createElement("div",{className:te({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!tt,"rpv-core__menu-item-icon--rtl":tt})},We),B.createElement("div",{className:te({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!tt,"rpv-core__menu-item-label--rtl":tt})},Ie),B.createElement("div",{className:te({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!tt,"rpv-core__menu-item-check--rtl":tt})},Fe&&B.createElement(ne,null)))},A.MinimalButton=function(U){var pe=U.ariaLabel,Fe=pe===void 0?"":pe,Ie=U.ariaKeyShortcuts,Be=Ie===void 0?"":Ie,We=U.children,it=U.isDisabled,Je=it!==void 0&&it,De=U.isSelected,nt=De!==void 0&&De,tt=U.testId,yt=U.onClick,Et=B.useContext(le).direction===A.TextDirection.RightToLeft,_t=tt?{"data-testid":tt}:{};return B.createElement("button",W({"aria-label":Fe},Be&&{"aria-keyshortcuts":Be},Je&&{"aria-disabled":!0},{className:te({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Je,"rpv-core__minimal-button--rtl":Et,"rpv-core__minimal-button--selected":nt}),type:"button",onClick:yt},_t),We)},A.Modal=function(U){var pe=U.ariaControlsSuffix,Fe=U.closeOnClickOutside,Ie=U.closeOnEscape,Be=U.content,We=U.isOpened,it=We!==void 0&&We,Je=U.target,De=pe||"".concat(G());return B.createElement(et,{target:Je?function(nt,tt){return B.createElement("div",{"aria-expanded":tt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(De)},Je(nt,tt))}:null,content:function(nt){return B.createElement(Ae,null,B.createElement(Pe,{ariaControlsSuffix:De,closeOnClickOutside:Fe,closeOnEscape:Ie,onToggle:nt},Be(nt)))},isOpened:it})},A.Popover=function(U){var pe=U.ariaHasPopup,Fe=pe===void 0?"dialog":pe,Ie=U.ariaControlsSuffix,Be=U.closeOnClickOutside,We=U.closeOnEscape,it=U.content,Je=U.lockScroll,De=Je===void 0||Je,nt=U.offset,tt=U.position,yt=U.target,Et=Ne(!1),_t=Et.opened,$t=Et.toggle,kt=B.useRef(),Ct=B.useMemo(function(){return Ie||"".concat(G())},[]);return B.createElement("div",{ref:kt,"aria-expanded":_t?"true":"false","aria-haspopup":Fe,"aria-controls":"rpv-core__popver-body-".concat(Ct)},yt($t,_t),_t&&B.createElement(B.Fragment,null,De&&B.createElement(rt,{closeOnEscape:We,onClose:$t}),B.createElement(Ye,{ariaControlsSuffix:Ct,closeOnClickOutside:Be,offset:nt,position:tt,targetRef:kt,onClose:$t},it($t))))},A.PrimaryButton=ae,A.ProgressBar=function(U){var pe=U.progress,Fe=B.useContext(le).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:te({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Fe})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(pe,"%")}},pe,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=be,A.Splitter=function(U){var pe=U.constrain,Fe=B.useContext(le).direction===A.TextDirection.RightToLeft,Ie=B.useRef(),Be=B.useRef(),We=B.useRef(),it=B.useRef(0),Je=B.useRef(0),De=B.useRef(0),nt=B.useRef(0),tt={capture:!0},yt=function(_t){var $t=Ie.current,kt=Be.current,Ct=We.current;if($t&&kt&&Ct){var gn=nt.current,Yt=_t.clientX-it.current,Qt=De.current+(Fe?-Yt:Yt),an=$t.parentElement.getBoundingClientRect().width,Vt=100*Qt/an;if($t.classList.add("rpv-core__splitter--resizing"),pe){var sn=an-Qt-gn;if(!pe({firstHalfPercentage:Vt,firstHalfSize:Qt,secondHalfPercentage:100*sn/an,secondHalfSize:sn}))return}kt.style.width="".concat(Vt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),kt.classList.add("rpv-core__splitter-sibling--resizing"),Ct.classList.add("rpv-core__splitter-sibling--resizing")}},Et=function(_t){var $t=Ie.current,kt=Be.current,Ct=We.current;$t&&kt&&Ct&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),$t.classList.remove("rpv-core__splitter--resizing"),kt.classList.remove("rpv-core__splitter-sibling--resizing"),Ct.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",yt,tt),document.removeEventListener("mouseup",Et,tt))};return B.useEffect(function(){var _t=Ie.current;_t&&(nt.current=_t.getBoundingClientRect().width,Be.current=_t.previousElementSibling,We.current=_t.nextElementSibling)},[]),B.createElement("div",{ref:Ie,className:"rpv-core__splitter",onMouseDown:function(_t){var $t=Be.current;$t&&(it.current=_t.clientX,Je.current=_t.clientY,De.current=$t.getBoundingClientRect().width,document.addEventListener("mousemove",yt,tt),document.addEventListener("mouseup",Et,tt))}})},A.TextBox=he,A.ThemeContext=le,A.Tooltip=function(U){var pe=U.ariaControlsSuffix,Fe=U.content,Ie=U.offset,Be=U.position,We=U.target,it=Ne(!1),Je=it.opened,De=it.toggle,nt=B.useRef(),tt=B.useRef(),yt=B.useMemo(function(){return pe||"".concat(G())},[]);ge(function(){nt.current&&document.activeElement&&nt.current.contains(document.activeElement)&&_t()});var Et=function(){De(A.ToggleStatus.Open)},_t=function(){De(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:nt,"aria-describedby":"rpv-core__tooltip-body-".concat(yt),onBlur:function($t){$t.relatedTarget instanceof HTMLElement&&$t.currentTarget.parentElement&&$t.currentTarget.parentElement.contains($t.relatedTarget)?tt.current&&(tt.current.style.display="none"):_t()},onFocus:Et,onMouseEnter:Et,onMouseLeave:_t},We),Je&&B.createElement(mt,{ariaControlsSuffix:yt,contentRef:tt,offset:Ie,position:Be,targetRef:nt},Fe()))},A.Viewer=function(U){var pe=U.characterMap,Fe=U.defaultScale,Ie=U.enableSmoothScroll,Be=Ie===void 0||Ie,We=U.fileUrl,it=U.httpHeaders,Je=it===void 0?{}:it,De=U.initialPage,nt=De===void 0?0:De,tt=U.pageLayout,yt=U.initialRotation,Et=yt===void 0?0:yt,_t=U.localization,$t=U.plugins,kt=$t===void 0?[]:$t,Ct=U.renderError,gn=U.renderLoader,Yt=U.renderPage,Qt=U.renderProtectedView,an=U.scrollMode,Vt=an===void 0?A.ScrollMode.Vertical:an,sn=U.setRenderRange,tn=sn===void 0?yo:sn,xn=U.transformGetDocumentParams,Sn=U.theme,wn=Sn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Sn,An=U.viewMode,kn=An===void 0?A.ViewMode.SinglePage:An,Vn=U.withCredentials,Dn=Vn!==void 0&&Vn,Wn=U.onDocumentAskPassword,jn=U.onDocumentLoad,zn=jn===void 0?function(){}:jn,Hn=U.onPageChange,Bn=Hn===void 0?function(){}:Hn,Zn=U.onRotate,or=Zn===void 0?function(){}:Zn,rr=U.onRotatePage,Xn=rr===void 0?function(){}:rr,Jn=U.onSwitchTheme,sr=Jn===void 0?function(){}:Jn,nn=U.onZoom,en=nn===void 0?function(){}:nn,Wt=B.useState({data:We,name:typeof We=="string"?We:"",shouldLoad:!1}),Xt=Wt[0],Ut=Wt[1],ln=function(In,On){Ut({data:On,name:In,shouldLoad:!0})},dn=B.useState(!1),Kt=dn[0],jt=dn[1],pn=je(Xt);B.useEffect(function(){var In,On,Gn,$n;In=pn.data,$n=typeof(On=We),(Gn=typeof In)=="string"&&$n==="string"&&In===On||Gn==="object"&&$n==="object"&&In.length===On.length&&In.every(function(lr,br){return lr===On[br]})||Ut({data:We,name:typeof We=="string"?We:"",shouldLoad:Kt})},[We,Kt]);var vn=ee({onVisibilityChanged:function(In){jt(In.isVisible),In.isVisible&&Ut(function(On){return Object.assign({},On,{shouldLoad:!0})})}}),Ln=typeof wn=="string"?{direction:A.TextDirection.LeftToRight,theme:wn}:wn,Tn=B.useState(_t||Te),Kn=Tn[0],Qn=Tn[1],mn={l10n:Kn,setL10n:Qn},Yn=Object.assign({},{direction:Ln.direction},Eo(Ln.theme||"light",sr));return B.useEffect(function(){_t&&Qn(_t)},[_t]),B.createElement(Ve.Provider,{value:mn},B.createElement(le.Provider,{value:Yn},B.createElement("div",{ref:vn,className:"rpv-core__viewer rpv-core__viewer--".concat(Yn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Xt.shouldLoad&&B.createElement(_o,{characterMap:pe,file:Xt.data,httpHeaders:Je,render:function(In){return B.createElement(vo,{defaultScale:Fe,doc:In,render:function(On,Gn){return B.createElement(go,{currentFile:{data:Xt.data,name:Xt.name},defaultScale:Fe,doc:In,enableSmoothScroll:Be,initialPage:nt,initialRotation:Et,initialScale:Gn,pageLayout:tt,pageSizes:On,plugins:kt,renderPage:Yt,scrollMode:Vt,setRenderRange:tn,viewMode:kn,viewerState:{file:Xt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:On[0].pageHeight,pageWidth:On[0].pageWidth,pagesRotation:new Map,rotation:Et,scale:Gn,scrollMode:Vt,viewMode:kn},onDocumentLoad:zn,onOpenFile:ln,onPageChange:Bn,onRotate:or,onRotatePage:Xn,onZoom:en})},scrollMode:Vt,viewMode:kn})},renderError:Ct,renderLoader:gn,renderProtectedView:Qt,transformGetDocumentParams:xn,withCredentials:Dn,onDocumentAskPassword:Wn}))))},A.Worker=function(U){var pe=U.children,Fe=U.workerUrl;return J.GlobalWorkerOptions.workerSrc=Fe,B.createElement(B.Fragment,null,pe)},A.chunk=Ue,A.classNames=te,A.createStore=function(U){var pe=U||{},Fe={},Ie=function(We,it){var Je;pe=W(W({},pe),((Je={})[We]=it,Je)),(Fe[We]||[]).forEach(function(De){return De(pe[We])})},Be=function(We){return pe[We]};return{subscribe:function(We,it){Fe[We]=(Fe[We]||[]).concat(it)},unsubscribe:function(We,it){Fe[We]=(Fe[We]||[]).filter(function(Je){return Je!==it})},update:function(We,it){Ie(We,it)},updateCurrentValue:function(We,it){var Je=Be(We);Je!==void 0&&Ie(We,it(Je))},get:function(We){return Be(We)}}},A.getDestination=Ht,A.getPage=Ft,A.isFullScreenEnabled=Q,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=Oe,A.useIntersectionObserver=ee,A.useIsMounted=$e,A.useIsomorphicLayoutEffect=ie,A.usePrevious=je,A.useRenderQueue=xe})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),R=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),J=R&&R.attachment?R.attachment.clickToDownload:"Click to download",fe=function(de){var ue=H.current,W=[].slice.call(ue.getElementsByClassName("rpv-attachment__item"));if(W.length!==0){W.forEach(function(te){return te.setAttribute("tabindex","-1")});var _e=document.activeElement,le=W[Math.min(W.length-1,Math.max(0,de(W,_e)))];le.setAttribute("tabindex","0"),le.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var de=H.current;if(de){var ue=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(B.current=ue,ue.length>0){var W=ue[0];W.focus(),W.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(de){switch(de.key){case"ArrowDown":de.preventDefault(),fe(function(ue,W){return ue.indexOf(W)+1});break;case"ArrowUp":de.preventDefault(),fe(function(ue,W){return ue.indexOf(W)-1});break;case"End":de.preventDefault(),fe(function(ue,W){return ue.length-1});break;case"Home":de.preventDefault(),fe(function(ue,W){return 0})}}},$.map(function(de){return n$e.createElement("button",{className:"rpv-attachment__item",key:de.fileName,tabIndex:-1,title:J,type:"button",onClick:function(){return ue=de.fileName,W=de.data,_e=typeof W=="string"?"":URL.createObjectURL(new Blob([W],{type:""})),(le=document.createElement("a")).style.display="none",le.href=_e||ue,le.setAttribute("download",function(te){var ie=te.split("/").pop();return ie?ie.split("#")[0].split("?")[0]:te}(ue)),document.body.appendChild(le),le.click(),document.body.removeChild(le),void(_e&&URL.revokeObjectURL(_e));var ue,W,_e,le}},de.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),J=B[0],fe=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(de){var ue=de?Object.keys(de).map(function(W){return{data:de[W].content,fileName:de[W].filename}}):[];fe({files:ue,isLoaded:!0})})},[$]),J.isLoaded?J.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":R})},O):n$e.createElement(a$e,{files:J.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),R=H[0],O=H[1],B=function(J){O(J)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),R?n$e.createElement(r$e,{doc:R}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var $=A.bookmark,H=A.depth,R=A.doc,O=A.index,B=A.isBookmarkExpanded,J=A.numberOfSiblings,fe=A.pathFromRoot,de=A.renderBookmarkItem,ue=A.store,W=fe?"".concat(fe,".").concat(O):"".concat(O),_e=o$d.useMemo(function(){return function(se){var ye=se.count,Q=se.items;if(ye>=0)return!1;var ve=Q.length;if(ve===0)return!1;for(var Ce=Q.concat([]);Ce.length>0;){var Oe=Ce.shift(),$e=Oe.items;Oe.count&&$e&&Oe.count>0&&$e.length>0&&(ve+=$e.length,Ce=Ce.concat($e))}return Math.abs(ye)===ve}($)},[$]),le=ue.get("bookmarkExpandedMap"),te=B?B({bookmark:$,doc:R,depth:H,index:O}):le.has(W)?le.get(W):!_e,ie=o$d.useState(te),ee=ie[0],q=ie[1],ne=$.items&&$.items.length>0,ae=function(){var se=!ee;ue.updateCurrentValue("bookmarkExpandedMap",function(ye){return ye.set(W,se)}),q(se)},be=function(){var se=$.dest,ye=ue.get("jumpToDestination");e$d.getDestination(R,se).then(function(Q){ye&&ye(n$d({label:$.title},Q))})},he=function(){ne&&$.dest&&be()},Y=function(){!ne&&$.dest&&be()},ce=function(se,ye){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:se},ye)},re=function(se,ye){return ne?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:ae},ee?se:ye):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},oe=function(se){return $.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:se},$.title)};return o$d.createElement("li",{"aria-expanded":ee?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":J,role:"treeitem",tabIndex:-1},de?de({bookmark:$,depth:H,hasSubItems:ne,index:O,isExpanded:ee,path:W,defaultRenderItem:ce,defaultRenderTitle:oe,defaultRenderToggle:re,onClickItem:Y,onClickTitle:he,onToggleSubItems:ae}):ce(Y,o$d.createElement(o$d.Fragment,null,re(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),oe(he))),ne&&ee&&o$d.createElement(m$9,{bookmarks:$.items,depth:H+1,doc:R,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:W,renderBookmarkItem:de,store:ue}))},m$9=function(A){var $=A.bookmarks,H=A.depth,R=H===void 0?0:H,O=A.doc,B=A.isBookmarkExpanded,J=A.isRoot,fe=A.pathFromRoot,de=A.renderBookmarkItem,ue=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:J?"tree":"group",tabIndex:-1},$.map(function(W,_e){return o$d.createElement(c$d,{bookmark:W,depth:R,doc:O,index:_e,isBookmarkExpanded:B,key:_e,numberOfSiblings:$.length,pathFromRoot:fe,renderBookmarkItem:de,store:ue})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var $=A.bookmarks,H=A.doc,R=A.isBookmarkExpanded,O=A.renderBookmarkItem,B=A.store,J=o$d.useRef(),fe=function(_e){var le=J.current;if(le&&_e.target instanceof HTMLElement&&le.contains(_e.target))switch(_e.key){case"ArrowDown":_e.preventDefault(),ue(function(te,ie){return te.indexOf(ie)+1});break;case"ArrowLeft":_e.preventDefault(),W(r$d.Collapse);break;case"ArrowRight":_e.preventDefault(),W(r$d.Expand);break;case"ArrowUp":_e.preventDefault,ue(function(te,ie){return te.indexOf(ie)-1});break;case"End":_e.preventDefault(),ue(function(te,ie){return te.length-1});break;case" ":case"Enter":case"Space":_e.preventDefault(),de();break;case"Home":_e.preventDefault(),ue(function(te,ie){return 0})}},de=function(){var _e=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");_e&&_e.click()},ue=function(_e){var le=J.current,te=[].slice.call(le.getElementsByClassName("rpv-bookmark__item"));if(te.length!==0){var ie=document.activeElement,ee=te[Math.min(te.length-1,Math.max(0,_e(te,ie)))];ie.setAttribute("tabindex","-1"),ee.setAttribute("tabindex","0"),ee.focus()}},W=function(_e){var le=J.current;if([].slice.call(le.getElementsByClassName("rpv-bookmark__item")).length!==0){var te=document.activeElement.closest(".rpv-bookmark__item"),ie=_e===r$d.Collapse?"true":"false";if(te&&te.parentElement.getAttribute("aria-expanded")===ie){var ee=te.querySelector(".rpv-bookmark__toggle");ee&&ee.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",fe),function(){document.removeEventListener("keydown",fe)}},[]),o$d.useEffect(function(){var _e=J.current;if(_e){var le=[].slice.call(_e.getElementsByClassName("rpv-bookmark__item"));le.length>0&&(le[0].focus(),le[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:J},o$d.createElement(m$9,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:R,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:B}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,R=A.renderBookmarkItem,O=A.store,B=o$d.useContext(e$d.LocalizationContext).l10n,J=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,fe=o$d.useState({isLoaded:!1,items:[]}),de=fe[0],ue=fe[1];return o$d.useEffect(function(){ue({isLoaded:!1,items:[]}),$.getOutline().then(function(W){ue({isLoaded:!0,items:W||[]})})},[$]),de.isLoaded?de.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":J})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":J})},o$d.createElement(l$d,{bookmarks:de.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:R,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,R=A.store,O=o$d.useState(R.get("doc")),B=O[0],J=O[1],fe=function(de){J(de)};return o$d.useEffect(function(){return R.subscribe("doc",fe),function(){R.unsubscribe("doc",fe)}},[]),B?o$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:R}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return o$d.createElement(u$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var $=libExports$h;function H(ee){var q=Object.create(null);return ee&&Object.keys(ee).forEach(function(ne){if(ne!=="default"){var ae=Object.getOwnPropertyDescriptor(ee,ne);Object.defineProperty(q,ne,ae.get?ae:{enumerable:!0,get:function(){return ee[ne]}})}}),q.default=ee,Object.freeze(q)}var R,O=H(reactExports);A.ThumbnailDirection=void 0,(R=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",R.Vertical="Vertical";var B=function(){return B=Object.assign||function(ee){for(var q,ne=1,ae=arguments.length;ne<ae;ne++)for(var be in q=arguments[ne])Object.prototype.hasOwnProperty.call(q,be)&&(ee[be]=q[be]);return ee},B.apply(this,arguments)},J=function(ee){var q=ee.doc,ne=ee.getPageIndex,ae=ee.renderSpinner,be=ee.store,he=ee.width,Y=q.numPages,ce=ne?ne({numPages:Y}):0,re=Math.max(0,Math.min(ce,Y-1)),oe=be.get("pagesRotation")||new Map,se=oe.has(re)?oe.get(re):0,ye=O.useState(""),Q=ye[0],ve=ye[1],Ce=$.useIsMounted(),Oe=O.useRef(),$e=O.useState(be.get("rotation")||0),je=$e[0],Le=$e[1],Xe=O.useState(se),xe=Xe[0],Te=Xe[1],Ve=O.useState(!1),Ee=Ve[0],G=Ve[1],K=function(Ae){var ke=Ae.has(re)?Ae.get(re):0;Te(ke)},ge=function(Ae){Le(Ae)},Pe=$.useIntersectionObserver({onVisibilityChanged:function(Ae){G(Ae.isVisible)}});return O.useEffect(function(){if(Ee){var Ae=Pe.current;Ae&&(ve(""),$.getPage(q,re).then(function(ke){var Ne=ke.getViewport({scale:1}),et=(Ne.rotation+je+xe)%360,st=Math.abs(je+xe)%180==0,ct=st?Ne.width:Ne.height,dt=st?Ne.height:Ne.width,ht=document.createElement("canvas"),gt=ht.getContext("2d",{alpha:!1}),qe=Ae.clientWidth,Ke=Ae.clientHeight,me=he?he/ct:Math.min(qe/ct,Ke/dt),Se=me*ct,ze=me*dt;ht.height=ze,ht.width=Se,ht.style.opacity="0";var Ye=ke.getViewport({rotation:et,scale:me});Oe.current=ke.render({canvasContext:gt,viewport:Ye}),Oe.current.promise.then(function(){Ce.current&&ve(ht.toDataURL()),ht.width=0,ht.height=0},function(){})}))}},[xe,Ee]),O.useEffect(function(){return be.subscribe("pagesRotation",K),be.subscribe("rotation",ge),function(){be.unsubscribe("pagesRotation",K),be.unsubscribe("rotation",ge)}},[]),O.useEffect(function(){return function(){var Ae;(Ae=Oe.current)===null||Ae===void 0||Ae.cancel()}},[]),O.createElement("div",{ref:Pe,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Q?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Q}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},ae?ae():O.createElement($.Spinner,null)))},fe=function(ee){var q=ee.getPageIndex,ne=ee.renderSpinner,ae=ee.store,be=ee.width,he=O.useState(ae.get("doc")),Y=he[0],ce=he[1],re=function(oe){ce(oe)};return O.useEffect(function(){return ae.subscribe("doc",re),function(){ae.unsubscribe("doc",re)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},Y?O.createElement(J,{doc:Y,getPageIndex:q,renderSpinner:ne,store:ae,width:be}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},ne?ne():O.createElement($.Spinner,null)))},de=function(){return O.createElement($.Spinner,null)},ue=O.createContext({renderSpinner:de}),W=function(ee){var q=ee.children,ne=ee.doc,ae=$.useIsMounted(),be=O.useState({loading:!0,labels:[]}),he=be[0],Y=be[1];return O.useEffect(function(){ne.getPageLabels().then(function(ce){ae.current&&Y({loading:!1,labels:ce||[]})})},[ne.loadingTask.docId]),he.loading?O.createElement(O.Fragment,null):q(he.labels)},_e=function(ee){var q=ee.page,ne=ee.pageHeight,ae=ee.pageIndex,be=ee.pageWidth,he=ee.rotation,Y=ee.thumbnailHeight,ce=ee.thumbnailWidth,re=ee.onRenderCompleted,oe=O.useContext($.LocalizationContext).l10n,se=O.useRef(),ye=O.useState(""),Q=ye[0],ve=ye[1],Ce=oe&&oe.thumbnail?oe.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var Oe=se.current;Oe&&Oe.cancel();var $e=document.createElement("canvas"),je=$e.getContext("2d",{alpha:!1}),Le=ce,Xe=Le/(be/ne),xe=Le/be;$e.height=Xe,$e.width=Le,$e.style.height="".concat(Xe,"px"),$e.style.width="".concat(Le,"px");var Te=q.getViewport({rotation:he,scale:xe});return se.current=q.render({canvasContext:je,viewport:Te}),se.current.promise.then(function(){ve($e.toDataURL()),re(ae)},function(){re(ae)}),function(){var Ve;(Ve=se.current)===null||Ve===void 0||Ve.cancel()}},[he]),Q?O.createElement("img",{"aria-label":Ce.replace("{{pageIndex}}","".concat(ae+1)),src:Q,height:"".concat(Y,"px"),width:"".concat(ce,"px")}):O.useContext(ue).renderSpinner()},le=function(ee){var q=ee.doc,ne=ee.pageHeight,ae=ee.pageIndex,be=ee.pageRotation,he=ee.pageWidth,Y=ee.rotation,ce=ee.shouldRender,re=ee.thumbnailWidth,oe=ee.onRenderCompleted,se=ee.onVisibilityChanged,ye=$.useIsMounted(),Q=O.useState({height:ne,page:null,viewportRotation:0,width:he}),ve=Q[0],Ce=Q[1],Oe=ve.page,$e=ve.height,je=ve.width,Le=je/$e,Xe=Math.abs(Y+be)%180==0,xe=Xe?re:re/Le,Te=Xe?re/Le:re;O.useEffect(function(){ce&&$.getPage(q,ae).then(function(G){var K=G.getViewport({scale:1});ye.current&&Ce({height:K.height,page:G,viewportRotation:K.rotation,width:K.width})})},[ce]);var Ve=(ve.viewportRotation+Y+be)%360,Ee=$.useIntersectionObserver({onVisibilityChanged:function(G){se(ae,G)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(ae),ref:Ee,style:{height:"".concat(Te,"px"),width:"".concat(xe,"px")}},Oe?O.createElement(_e,{page:Oe,pageHeight:Xe?$e:je,pageIndex:ae,pageWidth:Xe?je:$e,rotation:Ve,thumbnailHeight:Te,thumbnailWidth:xe,onRenderCompleted:oe}):O.useContext(ue).renderSpinner())},te=function(ee){var q=ee.currentPage,ne=ee.doc,ae=ee.labels,be=ee.pagesRotation,he=ee.pageHeight,Y=ee.pageWidth,ce=ee.renderCurrentPageLabel,re=ee.renderThumbnailItem,oe=ee.rotatedPage,se=ee.rotation,ye=ee.thumbnailDirection,Q=ee.thumbnailWidth,ve=ee.viewMode,Ce=ee.onJumpToPage,Oe=ee.onRotatePage,$e=ne.numPages,je=ne.loadingTask.docId,Le=O.useRef(null),Xe=O.useRef([]),xe=O.useState(q),Te=xe[0],Ve=xe[1],Ee=O.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,G=O.useState(-1),K=G[0],ge=G[1],Pe=$.useIsMounted(),Ae=$.usePrevious(ve),ke=O.useRef(!1),Ne=$.useRenderQueue({doc:ne}),et=O.useMemo(function(){return Array($e).fill(0).map(function(me,Se){return Se})},[je]),st=O.useMemo(function(){switch(ve){case $.ViewMode.DualPage:return $.chunk(et,2);case $.ViewMode.DualPageWithCover:return[[et[0]]].concat($.chunk(et.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(et,1)}},[je,ve]),ct=function(){if(Le.current){var me=Xe.current,Se=Te+1;Se<me.length&&(Te>=0&&me[Te].setAttribute("tabindex","-1"),Ve(Se))}},dt=function(){if(Le.current){var me=Xe.current,Se=Te-1;Se>=0&&(Te>=0&&me[Te].setAttribute("tabindex","-1"),Ve(Se))}},ht=function(){Te>=0&&Te<$e&&Ce(Te)};$.useIsomorphicLayoutEffect(function(){var me=Le.current;me&&(Xe.current=Array.from(me.querySelectorAll(".rpv-thumbnail__item")))},[ve]),O.useEffect(function(){var me=Xe.current;if(!(me.length===0||Te<0||Te>me.length)){var Se=me[Te];Se.setAttribute("tabindex","0"),Se.focus()}},[Te]),$.useIsomorphicLayoutEffect(function(){var me=Le.current,Se=Xe.current;if(!(!me||Se.length===0||q<0||q>Se.length)){var ze=Se[q].closest(".rpv-thumbnail__items");ze&&(ye===A.ThumbnailDirection.Vertical?function(Ye,rt){var mt=Ye.getBoundingClientRect().top-rt.getBoundingClientRect().top,ft=Ye.clientHeight,Ue=rt.clientHeight;mt<0?rt.scrollTop+=mt:mt+ft<=Ue||(rt.scrollTop+=mt+ft-Ue)}(ze,me):function(Ye,rt){var mt=Ye.getBoundingClientRect().left-rt.getBoundingClientRect().left,ft=Ye.clientWidth,Ue=rt.clientWidth;mt<0?rt.scrollLeft+=mt:mt+ft<=Ue||(rt.scrollLeft+=mt+ft-Ue)}(ze,me))}},[q,ye]);var gt=O.useCallback(function(me){Pe.current&&(Ne.markRendered(me),ke.current=!1,Ke())},[je]),qe=O.useCallback(function(me,Se){Se.isVisible?Ne.setVisibility(me,Se.ratio):Ne.setOutOfRange(me),Ke()},[je]),Ke=O.useCallback(function(){if(!ke.current){var me=Ne.getHighestPriorityPage();me>-1&&(Ne.markRendering(me),ke.current=!0,ge(me))}},[je]);return O.useEffect(function(){oe>=0&&(Ne.markRendering(oe),ke.current=!0,ge(oe))},[je,oe]),$.useIsomorphicLayoutEffect(function(){Ae!==ve&&(Ne.markNotRendered(),Ke())},[ve]),O.createElement("div",{ref:Le,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":ye===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Ee,"rpv-thumbnail__list--vertical":ye===A.ThumbnailDirection.Vertical}),onKeyDown:function(me){switch(me.key){case"ArrowDown":ct();break;case"ArrowUp":dt();break;case"Enter":ht()}}},st.map(function(me,Se){var ze=!1;switch(ve){case $.ViewMode.DualPage:ze=q===2*Se||q===2*Se+1;break;case $.ViewMode.DualPageWithCover:ze=q===0&&Se===0||Se>0&&q===2*Se-1||Se>0&&q===2*Se;break;case $.ViewMode.SinglePage:default:ze=q===Se}return O.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ve===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ve===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ve===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":ze}),key:"".concat(Se,"___").concat(ve)},me.map(function(Ye){return function(rt){var mt=ve===$.ViewMode.DualPageWithCover&&(rt===0||$e%2==0&&rt===$e-1),ft="".concat(ne.loadingTask.docId,"___").concat(rt),Ue=ae.length===$e?ae[rt]:"".concat(rt+1),wt=ce?ce({currentPage:q,pageIndex:rt,numPages:$e,pageLabel:Ue}):Ue,xt=be.has(rt)?be.get(rt):0,Zt=O.createElement(le,{doc:ne,pageHeight:he,pageIndex:rt,pageRotation:xt,pageWidth:Y,rotation:se,shouldRender:K===rt,thumbnailWidth:Q,onRenderCompleted:gt,onVisibilityChanged:qe});return re?re({currentPage:q,key:ft,numPages:$e,pageIndex:rt,renderPageLabel:O.createElement(O.Fragment,null,wt),renderPageThumbnail:Zt,onJumpToPage:function(){return Ce(rt)},onRotatePage:function(Gt){return Oe(rt,Gt)}}):O.createElement("div",{key:ft},O.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ve===$.ViewMode.DualPage&&rt%2==0,"rpv-thumbnail__item--dual-odd":ve===$.ViewMode.DualPage&&rt%2==1,"rpv-thumbnail__item--dual-cover":mt,"rpv-thumbnail__item--dual-cover-even":ve===$.ViewMode.DualPageWithCover&&!mt&&rt%2==0,"rpv-thumbnail__item--dual-cover-odd":ve===$.ViewMode.DualPageWithCover&&!mt&&rt%2==1,"rpv-thumbnail__item--single":ve===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":q===rt}),role:"button",tabIndex:q===rt?0:-1,onClick:function(){return Ce(rt)}},Zt),O.createElement("div",{"data-testid":"thumbnail__label-".concat(rt),className:"rpv-thumbnail__label"},wt))}(Ye)}))}))},ie=function(ee){var q=ee.renderCurrentPageLabel,ne=ee.renderThumbnailItem,ae=ee.store,be=ee.thumbnailDirection,he=ee.thumbnailWidth,Y=O.useState(ae.get("doc")),ce=Y[0],re=Y[1],oe=O.useState(ae.get("currentPage")||0),se=oe[0],ye=oe[1],Q=O.useState(ae.get("pageHeight")||0),ve=Q[0],Ce=Q[1],Oe=O.useState(ae.get("pageWidth")||0),$e=Oe[0],je=Oe[1],Le=O.useState(ae.get("rotation")||0),Xe=Le[0],xe=Le[1],Te=O.useState(ae.get("pagesRotation")||new Map),Ve=Te[0],Ee=Te[1],G=O.useState(ae.get("rotatedPage")||-1),K=G[0],ge=G[1],Pe=O.useState(ae.get("viewMode")),Ae=Pe[0],ke=Pe[1],Ne=function(Se){ye(Se)},et=function(Se){re(Se)},st=function(Se){Ce(Se)},ct=function(Se){je(Se)},dt=function(Se){xe(Se)},ht=function(Se){Ee(Se)},gt=function(Se){ge(Se)},qe=function(Se){ke(Se)},Ke=function(Se){var ze=ae.get("jumpToPage");ze&&ze(Se)},me=function(Se,ze){ae.get("rotatePage")(Se,ze)};return O.useEffect(function(){return ae.subscribe("doc",et),ae.subscribe("pageHeight",st),ae.subscribe("pageWidth",ct),ae.subscribe("rotatedPage",gt),ae.subscribe("rotation",dt),ae.subscribe("pagesRotation",ht),ae.subscribe("viewMode",qe),function(){ae.unsubscribe("doc",et),ae.unsubscribe("pageHeight",st),ae.unsubscribe("pageWidth",ct),ae.unsubscribe("rotatedPage",gt),ae.unsubscribe("rotation",dt),ae.unsubscribe("pagesRotation",ht),ae.unsubscribe("viewMode",qe)}},[]),$.useIsomorphicLayoutEffect(function(){return ae.subscribe("currentPage",Ne),function(){ae.unsubscribe("currentPage",Ne)}},[]),ce?O.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(W,{doc:ce},function(Se){return O.createElement(te,{currentPage:se,doc:ce,labels:Se,pagesRotation:Ve,pageHeight:ve,pageWidth:$e,renderCurrentPageLabel:q,renderThumbnailItem:ne,rotatedPage:K,rotation:Xe,thumbnailDirection:be,thumbnailWidth:he,viewMode:Ae,onJumpToPage:Ke,onRotatePage:me})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(ue).renderSpinner())};A.thumbnailPlugin=function(ee){var q=O.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),ne=O.useState(""),ae=ne[0],be=ne[1];return{install:function(he){q.update("jumpToPage",he.jumpToPage),q.update("rotatePage",he.rotatePage)},onDocumentLoad:function(he){be(he.doc.loadingTask.docId),q.update("doc",he.doc)},onViewerStateChange:function(he){return q.update("currentPage",he.pageIndex),q.update("pagesRotation",he.pagesRotation),q.update("pageHeight",he.pageHeight),q.update("pageWidth",he.pageWidth),q.update("rotation",he.rotation),q.update("rotatedPage",he.rotatedPage),q.update("viewMode",he.viewMode),he},Cover:function(he){return O.createElement(fe,B({},he,{renderSpinner:ee==null?void 0:ee.renderSpinner,store:q}))},Thumbnails:O.useCallback(function(he){return O.createElement(ue.Provider,{value:{renderSpinner:(ee==null?void 0:ee.renderSpinner)||de}},O.createElement(ie,{renderCurrentPageLabel:ee==null?void 0:ee.renderCurrentPageLabel,renderThumbnailItem:he==null?void 0:he.renderThumbnailItem,store:q,thumbnailDirection:(he==null?void 0:he.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(ee==null?void 0:ee.thumbnailWidth)||100}))},[ae])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var $=libExports$h;function H(ie){var ee=Object.create(null);return ie&&Object.keys(ie).forEach(function(q){if(q!=="default"){var ne=Object.getOwnPropertyDescriptor(ie,q);Object.defineProperty(ee,q,ne.get?ne:{enumerable:!0,get:function(){return ie[q]}})}}),ee.default=ie,Object.freeze(ee)}var R,O=H(reactExports),B=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},J=function(){return J=Object.assign||function(ie){for(var ee,q=1,ne=arguments.length;q<ne;q++)for(var ae in ee=arguments[q])Object.prototype.hasOwnProperty.call(ee,ae)&&(ie[ae]=ee[ae]);return ie},J.apply(this,arguments)};A.SelectionMode=void 0,(R=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",R.Text="Text";var fe=function(){return O.createElement($.Icon,{size:16},O.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},de=function(ie){var ee=ie.children,q=ie.mode,ne=ie.onClick,ae=O.useContext($.LocalizationContext).l10n,be="",he=O.createElement(fe,null);switch(q){case A.SelectionMode.Hand:be=ae&&ae.selectionMode?ae.selectionMode.handTool:"Hand tool",he=O.createElement(B,null);break;case A.SelectionMode.Text:default:be=ae&&ae.selectionMode?ae.selectionMode.textSelectionTool:"Text selection tool",he=O.createElement(fe,null)}return ee({icon:he,label:be,onClick:ne})},ue={left:0,top:8},W=function(ie){var ee=ie.isSelected,q=ie.mode,ne=ie.onClick,ae="";switch(q){case A.SelectionMode.Hand:ae="selection-mode__hand-button";break;case A.SelectionMode.Text:default:ae="selection-mode__text-button"}return O.createElement(de,{mode:q,onClick:ne},function(be){return O.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:O.createElement($.MinimalButton,{ariaLabel:be.label,isSelected:ee,testId:ae,onClick:be.onClick},be.icon),content:function(){return be.label},offset:ue})})},_e=function(ie){var ee=ie.children,q=ie.mode,ne=ie.store,ae=q===ne.get("selectionMode");return(ee||function(be){return O.createElement(W,{isSelected:ae,mode:be.mode,onClick:be.onClick})})({isSelected:ae,mode:q,onClick:function(){return ne.update("selectionMode",q)}})},le=function(ie){var ee=ie.isSelected,q=ie.mode,ne=ie.onClick,ae="";switch(q){case A.SelectionMode.Hand:ae="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:ae="selection-mode__text-menu"}return O.createElement(de,{mode:q,onClick:ne},function(be){return O.createElement($.MenuItem,{checked:ee,icon:be.icon,testId:ae,onClick:be.onClick},be.label)})},te=function(ie){var ee=ie.store,q=O.useRef(null),ne=O.useState(A.SelectionMode.Text),ae=ne[0],be=ne[1],he=O.useRef({top:0,left:0,x:0,y:0}),Y=function(ye){var Q=q.current;Q&&(Q.scrollTop=he.current.top-(ye.clientY-he.current.y),Q.scrollLeft=he.current.left-(ye.clientX-he.current.x))},ce=function(){var ye=q.current;ye&&(ye.classList.add("rpv-selection-mode__grab"),ye.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",ce))},re=function(ye){var Q=q.current;Q&&ae!==A.SelectionMode.Text&&(Q.classList.remove("rpv-selection-mode__grab"),Q.classList.add("rpv-selection-mode__grabbing"),ye.preventDefault(),ye.stopPropagation(),he.current={left:Q.scrollLeft,top:Q.scrollTop,x:ye.clientX,y:ye.clientY},document.addEventListener("mousemove",Y),document.addEventListener("mouseup",ce))},oe=function(ye){q.current=ye()},se=function(ye){be(ye)};return O.useEffect(function(){var ye=q.current;if(ye)return ae===A.SelectionMode.Hand?ye.classList.add("rpv-selection-mode__grab"):ye.classList.remove("rpv-selection-mode__grab"),ye.addEventListener("mousedown",re),function(){ye.removeEventListener("mousedown",re)}},[ae]),O.useEffect(function(){return ee.subscribe("getPagesContainer",oe),ee.subscribe("selectionMode",se),function(){ee.unsubscribe("getPagesContainer",oe),ee.unsubscribe("selectionMode",se)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=fe,A.selectionModePlugin=function(ie){var ee=O.useMemo(function(){return $.createStore()},[]),q=function(ne){return O.createElement(_e,J({},ne,{store:ee}))};return{install:function(ne){ee.update("selectionMode",ie&&ie.selectionMode?ie.selectionMode:A.SelectionMode.Text),ee.update("getPagesContainer",ne.getPagesContainer)},renderViewer:function(ne){var ae=ne.slot;return ae.subSlot&&ae.subSlot.children&&(ae.subSlot.children=O.createElement(O.Fragment,null,O.createElement(te,{store:ee}),ae.subSlot.children)),ae},SwitchSelectionMode:q,SwitchSelectionModeButton:function(ne){return O.createElement(q,{mode:ne.mode},function(ae){return O.createElement(W,{isSelected:ae.isSelected,mode:ae.mode,onClick:function(){ae.onClick()}})})},SwitchSelectionModeMenuItem:function(ne){return O.createElement(q,{mode:ne.mode},function(ae){return O.createElement(le,{isSelected:ae.isSelected,mode:ae.mode,onClick:function(){ae.onClick(),ne.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$c.useContext(e$c.LocalizationContext).l10n,O=R&&R.fullScreen?R.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:R,testId:"full-screen__exit-button-with-tooltip",onClick:$},n$c.createElement(r$c,null)),content:function(){return R},offset:i$c})},f$9=function(A,$){var H=n$c.useState($.get("fullScreenMode")),R=H[0],O=H[1],B=n$c.useCallback(function(J){O(J)},[]);return n$c.useEffect(function(){return $.subscribe("fullScreenMode",B),function(){$.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var J=$.get("getPagesContainer");if(J){var fe=A(J());$.get("enterFullScreenMode")(fe)}},exitFullScreen:function(){$.get("exitFullScreenMode")()},isFullScreen:R===e$c.FullScreenMode.Entering||R===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.getFullScreenTarget,O=A.store,B=f$9(R,O),J=B.enterFullScreen,fe=B.exitFullScreen,de=B.isFullScreen;return($||function(ue){return de?n$c.createElement(a$c,{onClick:ue.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:ue.onClick})})({onClick:de?fe:J})},S$4=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:$},R)},d$9=function(A){var $=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,R=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!R,"rpv-full-screen__exit-button--rtl":R})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:$},n$c.createElement(r$c,null)))},m$8=function(A){var $=A.children,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R),B=O.enterFullScreen,J=O.exitFullScreen,fe=O.isFullScreen;return fe&&($||function(de){return n$c.createElement(d$9,{onClick:de.onClick})})({onClick:fe?J:B})},E$5=function(A){var $=A.store,H=A.onEnterFullScreen,R=A.onExitFullScreen,O=n$c.useState($.get("fullScreenMode")),B=O[0],J=O[1],fe=n$c.useCallback(function(de){J(de)},[]);return n$c.useEffect(function(){switch(B){case e$c.FullScreenMode.EnteredCompletely:H($.get("zoom"));break;case e$c.FullScreenMode.Exited:R($.get("zoom"))}},[B]),n$c.useEffect(function(){return $.subscribe("fullScreenMode",fe),function(){$.unsubscribe("fullScreenMode",fe)}},[]),(B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var $=A.containerRef,H=A.getFullScreenTarget,R=A.store,O=f$9(H,R).enterFullScreen,B=function(J){if(!J.shiftKey&&!J.altKey&&(e$c.isMac()?J.metaKey&&J.ctrlKey&&J.key==="f":J.key==="F11")){var fe=$.current;fe&&document.activeElement&&fe.contains(document.activeElement)&&(J.preventDefault(),O())}};return n$c.useEffect(function(){if($.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[$.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(J){return J},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),R=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(J){return n$c.createElement(s$8,c$c({},J,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:R}))},B=function(){return n$c.createElement(m$8,{getFullScreenTarget:$,store:R},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(J){R.update("enterFullScreenMode",J.enterFullScreenMode),R.update("exitFullScreenMode",J.exitFullScreenMode),R.update("getPagesContainer",J.getPagesContainer),R.update("zoom",J.zoom)},onViewerStateChange:function(J){return R.update("fullScreenMode",J.fullScreenMode),J},renderViewer:function(J){var fe=J.slot;return fe.subSlot&&(fe.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:J.containerRef,getFullScreenTarget:$,store:R}),n$c.createElement(E$5,{store:R,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(B,null),fe.subSlot.children)),fe},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(J){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},J))})},EnterFullScreenMenuItem:function(J){return n$c.createElement(O,null,function(fe){return n$c.createElement(S$4,{onClick:function(){fe.onClick(),J.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:R,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return R},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var R=URL.createObjectURL(new Blob([A],{type:H}));c$b(R,$),R&&URL.revokeObjectURL(R)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(R){return btoa(Array(R.length).fill("").map(function(O,B){return String.fromCharCode(R[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,R=A.store,O=n$b.useState(R.get("file")),B=O[0],J=O[1],fe=n$b.useState(R.get("doc")),de=fe[0],ue=fe[1],W=function(le){ue(le)},_e=function(le){J(le)};return n$b.useEffect(function(){return R.subscribe("doc",W),R.subscribe("file",_e),function(){R.subscribe("doc",W),R.unsubscribe("file",_e)}},[]),($||function(le){return n$b.createElement(a$b,{onClick:le.onClick})})({onClick:function(){de&&B&&u$b(de,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,R=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},R)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(B=O.name,(J=B.split("/").pop())?J.split("#")[0].split("?")[0]:B):"document.pdf";var B,J},R=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(O){$.update("doc",O.doc),$.update("file",O.file)},Download:R,DownloadButton:function(){return n$b.createElement(R,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement(R,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var O=$.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},R=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",R),function(){A.unsubscribe("triggerOpenFile",R)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",J=i$a(H),fe=J.inputRef,de=J.openFile,ue=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:fe,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:R}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ue,ariaLabel:B,testId:"open__button",onClick:de},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:R,onClick:O.onClick})})({onClick:function(O){var B=O.target.files;if(B&&B.length){var J=R.get("openFile");J&&J(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,O=R&&R.open?R.open.openFile:"Open file",B=i$a($),J=B.inputRef,fe=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:fe},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:J,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),R=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var B=O.slot,J={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),B.children)};return o$a(o$a({},B),J)},Open:R,OpenButton:function(){return n$a.createElement(R,null)},OpenMenuItem:function(){return n$a.createElement(R,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],R=$[1],O=function(B){R(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,R=n$9.useState("1"),O=R[0],B=R[1],J=i$9($).currentPage,fe=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(J+1))},[J]);var de=function(W){var _e=$.get("jumpToPage");_e&&_e(W)},ue=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ue,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:B,onKeyDown:function(W){switch(W.key){case"ArrowUp":(te=J-1)>=0&&(B("".concat(te+1)),de(te));break;case"ArrowDown":(le=J+1)<fe&&(B("".concat(le+1)),de(le));break;case"Enter":_e=parseInt(O,10),O===""||_e<1||_e>fe?B("".concat(J+1)):de(_e-1)}var _e,le,te}}))},l$9=function(A){var $=A.children,H=A.doc,R=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),B=O[0],J=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(fe){R.current&&J({loading:!1,labels:fe||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,R=function(fe){var de=n$9.useState(fe.get("doc")),ue=de[0],W=de[1],_e=function(le){W(le)};return n$9.useEffect(function(){return fe.subscribe("doc",_e),function(){fe.unsubscribe("doc",_e)}},[]),ue}(H),O=i$9(H).currentPage,B=u$9(H).numberOfPages,J=$||function(fe){return n$9.createElement(n$9.Fragment,null,fe.currentPage+1)};return R?n$9.createElement(l$9,{doc:R},function(fe){var de=fe.length===B&&B>0?fe[O]:"";return J({currentPage:O,numberOfPages:B,pageLabel:de})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(m$7,{isDisabled:R.isDisabled,onClick:R.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var R=H.get("jumpToPage");R&&R(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var $=A.children,H=A.store,R=i$9(H).currentPage,O=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:R+1>=O,onClick:function(){var B=H.get("jumpToPage");B&&B(O-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var $=A.children,H=A.store;return($||function(R){return n$9.createElement(D,{onClick:R.onClick,isDisabled:R.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var R=H.get("jumpToNextPage");R&&R()}})},T=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var $=A.isDisabled,H=A.onClick,R=n$9.useContext(e$9.LocalizationContext).l10n,O=R&&R.pageNavigation?R.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var $=A.children,H=A.store,R=u$9(H).numberOfPages;return $?$({numberOfPages:R}):n$9.createElement(n$9.Fragment,null,R)},y$1=function(A){var $=A.containerRef,H=A.numPages,R=A.store,O=i$9(R).currentPage,B=n$9.useRef(O);B.current=O;var J=n$9.useRef(!1),fe=function(){J.current=!0},de=function(){J.current=!1},ue=function(W){var _e=$.current,le=J.current||document.activeElement&&_e.contains(document.activeElement);if(_e&&le){var te,ie,ee=W.altKey&&W.key==="ArrowDown"||!W.shiftKey&&!W.altKey&&W.key==="PageDown",q=W.altKey&&W.key==="ArrowUp"||!W.shiftKey&&!W.altKey&&W.key==="PageUp";if(ee)return W.preventDefault(),te=R.get("jumpToPage"),ie=B.current+1,void(te&&ie<H&&te(ie));if(q)return W.preventDefault(),void function(){var ne=R.get("jumpToPage"),ae=B.current-1;ne&&ae>=0&&ne(ae)}();if(e$9.isMac()?W.metaKey&&!W.ctrlKey:W.altKey)switch(W.key){case"ArrowLeft":W.preventDefault(),function(){var ne=R.get("jumpToPreviousDestination");ne&&ne()}();break;case"ArrowRight":W.preventDefault(),function(){var ne=R.get("jumpToNextDestination");ne&&ne()}()}}};return n$9.useEffect(function(){var W=$.current;if(W)return document.addEventListener("keydown",ue),W.addEventListener("mouseenter",fe),W.addEventListener("mouseleave",de),function(){document.removeEventListener("keydown",ue),W.removeEventListener("mouseenter",fe),W.removeEventListener("mouseleave",de)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),R=function(fe){return n$9.createElement(p$6,o$9({},fe,{store:H}))},O=function(fe){return n$9.createElement(b$4,o$9({},fe,{store:H}))},B=function(fe){return n$9.createElement(k$3,o$9({},fe,{store:H}))},J=function(fe){return n$9.createElement(j,o$9({},fe,{store:H}))};return{install:function(fe){H.update("jumpToDestination",fe.jumpToDestination),H.update("jumpToNextDestination",fe.jumpToNextDestination),H.update("jumpToNextPage",fe.jumpToNextPage),H.update("jumpToPage",fe.jumpToPage),H.update("jumpToPreviousDestination",fe.jumpToPreviousDestination),H.update("jumpToPreviousPage",fe.jumpToPreviousPage)},renderViewer:function(fe){var de=fe.slot;if(!$.enableShortcuts)return de;var ue={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:fe.containerRef,numPages:fe.doc.numPages,store:H}),de.children)};return o$9(o$9({},de),ue)},onDocumentLoad:function(fe){H.update("doc",fe.doc),H.update("numberOfPages",fe.doc.numPages)},onViewerStateChange:function(fe){return H.update("currentPage",fe.pageIndex),fe},jumpToNextPage:function(){var fe=H.get("jumpToNextPage");fe&&fe()},jumpToPage:function(fe){var de=H.get("jumpToPage");de&&de(fe)},jumpToPreviousPage:function(){var fe=H.get("jumpToPreviousPage");fe&&fe()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(fe){return n$9.createElement(s$7,o$9({},fe,{store:H}))},GoToFirstPage:R,GoToFirstPageButton:function(){return n$9.createElement(R,null,function(fe){return n$9.createElement(m$7,o$9({},fe))})},GoToFirstPageMenuItem:function(fe){return n$9.createElement(R,null,function(de){return n$9.createElement(v$5,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),fe.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(fe){return n$9.createElement(P$2,o$9({},fe))})},GoToLastPageMenuItem:function(fe){return n$9.createElement(O,null,function(de){return n$9.createElement(E$4,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),fe.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(fe){return n$9.createElement(D,o$9({},fe))})},GoToNextPageMenuItem:function(fe){return n$9.createElement(B,null,function(de){return n$9.createElement(T,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),fe.onClick()}})})},GoToPreviousPage:J,GoToPreviousPageButton:function(){return n$9.createElement(J,null,function(fe){return n$9.createElement(N,o$9({},fe))})},GoToPreviousPageMenuItem:function(fe){return n$9.createElement(J,null,function(de){return n$9.createElement(I$2,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),fe.onClick()}})})},NumberOfPages:function(fe){return n$9.createElement(h$5,o$9({},fe,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,R=a$8.useContext(e$8.LocalizationContext).l10n,O=R&&R.print?R.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,R=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){R.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,R=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),B=O[0],J=O[1];return a$8.useEffect(function(){$.getPermissions().then(function(fe){fe===null||fe.includes(4)||fe.includes(2048)?H.update("printStatus",o$8.Preparing):J(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(fe){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},R&&R.print?R.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){fe(),H.update("printStatus",o$8.Cancelled)}},R&&R.print?R.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,R=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,J=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:J})),a$8.createElement(e$8.Button,{onClick:R},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,R=A.pageHeight,O=A.pageIndex,B=A.pageWidth,J=A.rotation,fe=A.onLoad,de=e$8.useIsMounted(),ue=a$8.useRef(),W=a$8.useState(""),_e=W[0],le=W[1],te=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var ie=ue.current;ie&&ie.cancel();var ee=150/72;$.height=Math.floor(R*ee),$.width=Math.floor(B*ee);var q=$.getContext("2d");q.save(),q.fillStyle="rgb(255, 255, 255)",q.fillRect(0,0,$.width,$.height),q.restore();var ne=H.getViewport({rotation:J,scale:1});ue.current=H.render({canvasContext:q,intent:"print",transform:[ee,0,0,ee,0,0],viewport:ne}),ue.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(ae){de.current&&le(URL.createObjectURL(ae)),te&&fe()}):(de.current&&le($.toDataURL()),te&&fe())},function(){})},[]),_e&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:_e,onLoad:function(){te||fe()}}))},f$6=function(A){var $=A.canvas,H=A.doc,R=A.pageIndex,O=A.pageRotation,B=A.pageSize,J=A.rotation,fe=A.shouldRender,de=A.onLoad,ue=e$8.useIsMounted(),W=a$8.useState(null),_e=W[0],le=W[1],te=Math.abs(J+O)%180==0;a$8.useEffect(function(){fe&&e$8.getPage(H,R).then(function(ee){ue.current&&le(ee)})},[fe]);var ie=(B.rotation+J+O)%360;return _e&&a$8.createElement(d$6,{canvas:$,page:_e,pageHeight:te?B.pageHeight:B.pageWidth,pageIndex:R,pageWidth:te?B.pageWidth:B.pageHeight,rotation:ie,onLoad:de})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,R=A.pagesRotation,O=A.pageSizes,B=A.printPages,J=A.printStatus,fe=A.rotation,de=A.onCancel,ue=A.onLoad,W=a$8.useMemo(function(){return document.createElement("canvas")},[]),_e=a$8.useMemo(function(){var ie=document.querySelector(".rpv-print__zone");if(ie)return ie;var ee=document.createElement("div");return ee.classList.add("rpv-print__zone"),ee.setAttribute("data-testid","print__zone"),document.body.appendChild(ee),ee},[]);a$8.useEffect(function(){J===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var ie=function(){if(J===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var ee=document.querySelectorAll(".rpv-print__zone");ee&&ee.forEach(function(q){q.parentElement.removeChild(q)}),W.height=0,W.width=0,document.removeEventListener("mousemove",ie),de()}};return document.addEventListener("mousemove",ie),function(){return document.removeEventListener("mousemove",ie)}},[J]);var le=O[0].pageHeight,te=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(ie,ee){return a$8.createElement(f$6,{key:ie,canvas:W,doc:$,pageIndex:ie,pageRotation:R.has(ie)?R.get(ie):0,pageSize:O[ie],rotation:fe,shouldRender:ee===H,onLoad:ue})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(te,"pt ").concat(le,"pt }")}})),_e)},v$4=function(A){var $=A.doc,H=A.pagesRotation,R=A.pageSizes,O=A.renderProgressBar,B=A.rotation,J=A.setPages,fe=A.store,de=a$8.useState(o$8.Inactive),ue=de[0],W=de[1],_e=a$8.useState(0),le=_e[0],te=_e[1],ie=a$8.useMemo(function(){var ae=$.numPages;return J($).filter(function(be){return be>=0&&be<ae})},[$,J]),ee=ie.length,q=function(){te(0),W(o$8.Inactive)},ne=function(ae){return W(ae)};return a$8.useEffect(function(){return fe.subscribe("printStatus",ne),function(){fe.unsubscribe("printStatus",ne)}},[]),a$8.createElement(a$8.Fragment,null,ue===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:fe}),ue===o$8.Preparing&&(O?O(le,ee,q):a$8.createElement(m$6,{numLoadedPages:le,numPages:ee,onCancel:q})),(ue===o$8.Preparing||ue===o$8.Ready)&&le<=ee&&a$8.createElement(g$4,{doc:$,numLoadedPages:le,pagesRotation:H,pageSizes:R,printPages:ie,printStatus:ue,rotation:B,onCancel:q,onLoad:function(){var ae=le+1;ae<=ee&&(te(ae),ae===ee&&W(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,R=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},R)},E$3=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,R=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var B,J,fe=O.split("-").map(function(de){return parseInt(de,10)}).filter(function(de){return Number.isInteger(de)});fe.length===1?R.push(fe[0]-1):fe.length===2&&R.push.apply(R,(B=fe[0]-1,J=fe[1]-1,Array(J-B+1).fill(0).map(function(de,ue){return B+ue})))}),(H=R,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(B,J){return J})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),R=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var B=O.slot,J={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),J)},Print:R,PrintButton:function(){return a$8.createElement(R,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement(R,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),O.onClick()}})})},setPages:function(O){$.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,R=r$7.useState(),O=R[0],B=R[1];return r$7.useEffect(function(){$.getMetadata().then(function(J){return Promise.resolve(J)}).then(function(J){return $.getDownloadInfo().then(function(fe){return Promise.resolve({fileName:J.contentDispositionFilename||"",info:J.info,length:fe.length})})}).then(function(J){B(J)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,R=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":R})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,R){var O=parseInt(A,10);return O>=$&&O<=H?O:R},p$4=function(A){var $=A.doc,H=A.fileName,R=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,B=function(J){var fe=function(de){var ue=l$7.exec(de);if(!ue)return null;var W=parseInt(ue[1],10),_e=c$7(ue[2],1,12,1)-1,le=c$7(ue[3],1,31,1),te=c$7(ue[4],0,23,0),ie=c$7(ue[5],0,59,0),ee=c$7(ue[6],0,59,0),q=ue[7]||"Z",ne=c$7(ue[8],0,23,0),ae=c$7(ue[9],0,59,0);switch(q){case"-":te+=ne,ie+=ae;break;case"+":te-=ne,ie-=ae}return new Date(Date.UTC(W,_e,le,te,ie,ee))}(J);return fe?"".concat(fe.toLocaleDateString(),", ").concat(fe.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(J){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:J.fileName||(ue=H,W=ue.split("/").pop(),W?W.split("#")[0].split("?")[0]:ue)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(fe=J.length,de=Math.floor(Math.log(fe)/Math.log(1024)),"".concat((fe/Math.pow(1024,de)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][de]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:J.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:J.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:J.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:J.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:J.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:B(J.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:B(J.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:J.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:J.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat($.numPages)})));var fe,de,ue,W}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:R},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:R,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return R},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,R=function(J){var fe=r$7.useState(J.get("doc")),de=fe[0],ue=fe[1],W=function(_e){ue(_e)};return r$7.useEffect(function(){return J.subscribe("doc",W),function(){J.unsubscribe("doc",W)}},[]),{currentDoc:de}}(H).currentDoc,O=H.get("fileName")||"",B=$||function(J){return r$7.createElement(u$7,o$7({},J))};return R?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(J){return B({onClick:J})},content:function(J){return r$7.createElement(p$4,{doc:R,fileName:O,onToggle:J})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,R=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},R)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(R){return r$7.createElement(f$5,o$7({},R))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",J=$===t$6.RotateDirection.Backward?O:B,fe=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:J,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},fe),content:function(){return J},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,R=A.store;return($||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=R.get("rotate");O&&O(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,R=r$6.useContext(t$6.LocalizationContext).l10n,O=R&&R.rotate?R.rotate.rotateBackward:"Rotate counterclockwise",B=R&&R.rotate?R.rotate.rotateForward:"Rotate clockwise",J=$===t$6.RotateDirection.Backward?O:B,fe=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:fe,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},J)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(R,O){var B=H.get("rotatePage");B&&B(R,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(R){return r$6.createElement(l$6,{direction:R.direction,onClick:function(){R.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",J=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",J=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",J=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",J=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",J=t$5.createElement(d$4,null)}return $({icon:J,label:B,onClick:R})},m$4={left:0,top:8},M$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:R,onClick:O},function(J){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:J.label,isDisabled:$,isSelected:H,testId:B,onClick:J.onClick},J.icon),content:function(){return J.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],R=$[1],O=function(B){R(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode===H,J=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return($||function(fe){return t$5.createElement(M$2,{isDisabled:J,isSelected:B,mode:fe.mode,onClick:fe.onClick})})({isDisabled:J,isSelected:B,mode:H,onClick:function(){a$5(R,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:R,onClick:O},function(J){return t$5.createElement(e$5.MenuItem,{checked:H,icon:J.icon,isDisabled:$,testId:B,onClick:J.onClick},J.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,R=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",J=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",J=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",J=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",J=t$5.createElement(r$5,null)}return $({icon:J,label:B,onClick:R})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:R,onClick:O},function(J){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:J.label,isDisabled:$,isSelected:H,testId:B,onClick:J.onClick},J.icon),content:function(){return J.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,R=A.store,O=w$1(R).viewMode,B=f$4(R).scrollMode,J=O===H,fe=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(de){return t$5.createElement(v$3,{isDisabled:fe,isSelected:J,mode:de.mode,onClick:de.onClick})})({isDisabled:fe,isSelected:J,mode:H,onClick:function(){h$3(R,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,R=A.mode,O=A.onClick,B="";switch(R){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:R,onClick:O},function(J){return t$5.createElement(e$5.MenuItem,{checked:H,icon:J.icon,isDisabled:$,testId:B,onClick:J.onClick},J.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(R){return t$5.createElement(S$3,i$5({},R,{store:A}))},H=function(R){return t$5.createElement(k$2,i$5({},R,{store:A}))};return{install:function(R){A.update("switchScrollMode",R.switchScrollMode),A.update("switchViewMode",R.switchViewMode)},onViewerStateChange:function(R){return A.update("scrollMode",R.scrollMode),A.update("viewMode",R.viewMode),R},switchScrollMode:function(R){a$5(A,R)},switchViewMode:function(R){h$3(A,R)},SwitchScrollMode:$,SwitchScrollModeButton:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function(R){return t$5.createElement($,{mode:R.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function(R){return t$5.createElement(H,{mode:R.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,R=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=O.current;R&&B&&R({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(R,O){l$4(R);var B=O.parentNode;B&&B.insertBefore(R,O),l$4(O)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,R=A.renderHighlights,O=A.store,B=A.onHighlightKeyword,J=r$4.useRef(),fe=r$4.useCallback(function(Oe){return r$4.createElement(r$4.Fragment,null,Oe.highlightAreas.map(function($e,je){return r$4.createElement(s$3,{index:je,key:je,area:$e,onHighlightKeyword:B})}))},[]),de=R||fe,ue=r$4.useState(O.get("matchPosition")),W=ue[0],_e=ue[1],le=r$4.useState(O.get("keyword")||[u$4]),te=le[0],ie=le[1],ee=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),q=ee[0],ne=ee[1],ae=r$4.useRef(null),be=r$4.useRef([]),he=r$4.useState([]),Y=he[0],ce=he[1],re=function(){return!0},oe=r$4.useCallback(function(){return O.get("targetPageFilter")||re},[O.get("targetPageFilter")]),se=function(Oe){var $e=be.current;if($e.length===0)return[];var je=[],Le=[].slice.call(Oe.querySelectorAll(".rpv-core__text-layer-text")),Xe=$e.map(function(xe){return xe.char}).join("");return te.forEach(function(xe){var Te=xe.keyword;if(Te.trim()){for(var Ve,Ee=xe.regExp.flags.indexOf("g")===-1?new RegExp(xe.regExp,"".concat(xe.regExp.flags,"g")):xe.regExp,G=[];(Ve=Ee.exec(Xe))!==null;)G.push({keyword:Ee,startIndex:Ve.index,endIndex:Ee.lastIndex});G.map(function(K){return{keyword:K.keyword,indexes:$e.slice(K.startIndex,K.endIndex)}}).forEach(function(K){var ge=K.indexes.reduce(function(Pe,Ae){return Pe[Ae.spanIndex]=(Pe[Ae.spanIndex]||[]).concat([Ae]),Pe},{});Object.values(ge).forEach(function(Pe){if(Pe.length!==1||Pe[0].char.trim()!==""){var Ae=xe.wholeWords?Pe.slice(1,-1):Pe,ke=function(Ne,et,st,ct,dt){var ht=document.createRange(),gt=ct.firstChild;if(!gt||gt.nodeType!==Node.TEXT_NODE)return null;var qe=gt.textContent.length,Ke=dt[0].charIndexInSpan,me=dt.length===1?Ke:dt[dt.length-1].charIndexInSpan;if(Ke>qe||me+1>qe)return null;ht.setStart(gt,Ke),ht.setEnd(gt,me+1);var Se=document.createElement("span");ht.surroundContents(Se);var ze=Se.getBoundingClientRect(),Ye=st.getBoundingClientRect(),rt=Ye.height,mt=Ye.width,ft=100*(ze.left-Ye.left)/mt,Ue=100*(ze.top-Ye.top)/rt,wt=100*ze.height/rt,xt=100*ze.width/mt;return h$2(Se),{keyword:et,keywordStr:Ne,numPages:$,pageIndex:H,left:ft,top:Ue,height:wt,width:xt,pageHeight:rt,pageWidth:mt}}(Te,K.keyword,Oe,Le[Ae[0].spanIndex],Ae);ke&&je.push(ke)}})})}}),je.sort(d$3)},ye=function(Oe){Oe&&Oe.length>0&&ie(Oe)},Q=function(Oe){return _e(Oe)},ve=function(Oe){if(Oe.has(H)){var $e=Oe.get(H);$e&&ne({ele:$e.ele,pageIndex:H,scale:$e.scale,status:$e.status})}},Ce=function(){return te.length===0||te.length===1&&te[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Ce()&&q.status===e$4.LayerRenderStatus.DidRender&&!be.current.length){var Oe=q.ele,$e=[].slice.call(Oe.querySelectorAll(".rpv-core__text-layer-text")).map(function(je){return je.textContent}).reduce(function(je,Le,Xe){return je.concat(Le.split("").map(function(xe,Te){return{char:xe,charIndexInSpan:Te,spanIndex:Xe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);be.current=$e}},[te,q.status]),r$4.useEffect(function(){if(!Ce()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&oe()({pageIndex:H,numPages:$})){var Oe=q.ele,$e=se(Oe);ce($e)}},[te,W,q.status,be.current]),r$4.useEffect(function(){Ce()&&q.ele&&q.status===e$4.LayerRenderStatus.DidRender&&ce([])},[te,q.status]),r$4.useEffect(function(){if(Y.length!==0){var Oe=J.current;if(W.pageIndex===H&&Oe&&q.status===e$4.LayerRenderStatus.DidRender){var $e=Oe.querySelector('.rpv-search__highlight[data-index="'.concat(W.matchIndex,'"]'));if($e){var je=function(Te,Ve){for(var Ee=Te.offsetTop,G=Te.offsetLeft,K=Te.parentElement;K&&K!==Ve;)Ee+=K.offsetTop,G+=K.offsetLeft,K=K.parentElement;return{left:G,top:Ee}}($e,Oe),Le=je.left,Xe=je.top,xe=O.get("jumpToDestination");xe&&(xe({pageIndex:H,bottomOffset:(Oe.getBoundingClientRect().height-Xe)/q.scale,leftOffset:Le/q.scale,scaleTo:q.scale}),ae.current&&ae.current.classList.remove("rpv-search__highlight--current"),ae.current=$e,$e.classList.add("rpv-search__highlight--current"))}}}},[Y,W]),r$4.useEffect(function(){return O.subscribe("keyword",ye),O.subscribe("matchPosition",Q),O.subscribe("renderStatus",ve),function(){O.unsubscribe("keyword",ye),O.unsubscribe("matchPosition",Q),O.unsubscribe("renderStatus",ve)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:J},de({getCssProperties:i$4,highlightAreas:Y}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,R=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),R),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),R=r$4.useMemo(function(){if(H&&H.length===1){var Q=g$2(H[0]);return{matchCase:Q.regExp.flags.indexOf("i")===-1,wholeWords:Q.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(Q){var ve=r$4.useRef(Q.get("doc")),Ce=function(Oe){ve.current=Oe};return r$4.useEffect(function(){return Q.subscribe("doc",Ce),function(){Q.unsubscribe("doc",Ce)}},[]),ve}(A),B=r$4.useState(H),J=B[0],fe=B[1],de=r$4.useState([]),ue=de[0],W=de[1],_e=r$4.useState(0),le=_e[0],te=_e[1],ie=r$4.useState(R.matchCase),ee=ie[0],q=ie[1],ne=r$4.useRef([]),ae=r$4.useState(R.wholeWords),be=ae[0],he=ae[1],Y=function(){return!0},ce=r$4.useCallback(function(){return A.get("targetPageFilter")||Y},[A.get("targetPageFilter")]),re=function(Q){var ve=ue.length;if(J.length===0||ve===0)return null;var Ce=Q===ve+1?1:Math.max(1,Math.min(ve,Q));return te(Ce),se(ue[Ce-1])},oe=function(Q){return fe(Q===""?[]:[Q])},se=function(Q){var ve=A.get("jumpToPage");return ve&&ve(Q.pageIndex),A.update("matchPosition",{matchIndex:Q.matchIndex,pageIndex:Q.pageIndex}),Q},ye=function(Q,ve,Ce){var Oe=O.current;if(!Oe)return Promise.resolve([]);var $e=Oe.numPages,je=Q.map(function(Le){return g$2(Le,ve,Ce)});return A.update("keyword",je),te(0),W([]),new Promise(function(Le,Xe){var xe=ne.current.length===0?function(){var Te=O.current;if(!Te)return Promise.resolve([]);var Ve=Array(Te.numPages).fill(0).map(function(Ee,G){return e$4.getPage(Te,G).then(function(K){return K.getTextContent()}).then(function(K){var ge=K.items.map(function(Pe){return Pe.str||""}).join("");return Promise.resolve({pageContent:ge,pageIndex:G})})});return Promise.all(Ve).then(function(Ee){return Ee.sort(function(G,K){return G.pageIndex-K.pageIndex}),Promise.resolve(Ee.map(function(G){return G.pageContent}))})}().then(function(Te){return ne.current=Te,Promise.resolve(Te)}):Promise.resolve(ne.current);xe.then(function(Te){var Ve=[];Te.forEach(function(Ee,G){ce()({pageIndex:G,numPages:$e})&&je.forEach(function(K){for(var ge,Pe=0;(ge=K.regExp.exec(Ee))!==null;)Ve.push({keyword:K.regExp,matchIndex:Pe,pageIndex:G,pageText:Ee,startIndex:ge.index,endIndex:K.regExp.lastIndex}),Pe++})}),W(Ve),Ve.length>0&&(te(1),se(Ve[0])),Le(Ve)})})};return r$4.useEffect(function(){ne.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),oe(""),te(0),W([]),q(!1),he(!1)},changeMatchCase:function(Q){q(Q),J.length>0&&ye(J,Q,be)},changeWholeWords:function(Q){he(Q),J.length>0&&ye(J,ee,Q)},currentMatch:le,jumpToMatch:re,jumpToNextMatch:function(){return re(le+1)},jumpToPreviousMatch:function(){return re(le-1)},keywords:J,matchCase:ee,numberOfMatches:ue.length,wholeWords:be,search:function(){return ye(J,ee,be)},searchFor:ye,setKeywords:fe,keyword:J.length===0?"":($=J[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:oe,setTargetPages:function(Q){A.update("targetPageFilter",Q)}}},v$2=function(A){var $=A.children,H=A.store,R=m$3(H),O=r$4.useState(!1),B=O[0],J=O[1],fe=function(de){return J(!0)};return r$4.useEffect(function(){return H.subscribe("doc",fe),function(){H.unsubscribe("doc",fe)}},[]),$(c$4(c$4({},R),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,R=r$4.useRef(!1),O=function(){R.current=!0},B=function(){R.current=!1},J=function(fe){var de=$.current;de&&(fe.shiftKey||fe.altKey||fe.key!=="f"||(e$4.isMac()?fe.metaKey&&!fe.ctrlKey:fe.ctrlKey)&&(R.current||document.activeElement&&de.contains(document.activeElement))&&(fe.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var fe=$.current;if(fe)return document.addEventListener("keydown",J),fe.addEventListener("mouseenter",O),fe.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",J),fe.removeEventListener("mouseenter",O),fe.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,R=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),J=B[0],fe=B[1],de=r$4.useState(!1),ue=de[0],W=de[1],_e=O===e$4.TextDirection.RightToLeft,le=m$3($),te=le.clearKeyword,ie=le.changeMatchCase,ee=le.changeWholeWords,q=le.currentMatch,ne=le.jumpToNextMatch,ae=le.jumpToPreviousMatch,be=le.keyword,he=le.matchCase,Y=le.numberOfMatches,ce=le.wholeWords,re=le.search,oe=le.setKeyword,se=function(Oe){fe(!0),re().then(function($e){fe(!1),W(!0),Oe&&Oe()})};r$4.useEffect(function(){var Oe=$.get("initialKeyword");Oe&&Oe.length===1&&be&&se(function(){$.update("initialKeyword",[])})},[]);var ye=R&&R.search?R.search.enterToSearch:"Enter to search",Q=R&&R.search?R.search.previousMatch:"Previous match",ve=R&&R.search?R.search.nextMatch:"Next match",Ce=R&&R.search?R.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:ye,autoFocus:!0,placeholder:ye,type:"text",value:be,onChange:function(Oe){W(!1),oe(Oe)},onKeyDown:function(Oe){Oe.key==="Enter"&&be&&(ue?ne():se())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!_e,"rpv-search__popover-counter--rtl":_e})},J&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!J&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},q,"/",Y))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:he,type:"checkbox",onChange:function(Oe){W(!1),ie(Oe.target.checked)}})," ",R&&R.search?R.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:ce,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Oe){W(!1),ee(Oe.target.checked)}})," ",R&&R.search?R.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:_e?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Q,isDisabled:q<=1,onClick:ae},r$4.createElement(o$4,null)),content:function(){return Q},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ve,isDisabled:q>Y-1,onClick:ne},r$4.createElement(n$4,null)),content:function(){return ve},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!_e,"rpv-search__popover-footer-button--rtl":_e})},r$4.createElement(e$4.Button,{onClick:function(){H(),te()}},Ce))))},w=function(A){var $=A.children,H=A.onClick,R=r$4.useContext(e$4.LocalizationContext).l10n,O=R&&R.search?R.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,R=A.onClick,O=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(J){J&&R()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:R},function(J){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:J.label,testId:"search__popover-button",onClick:R},J.icon),content:function(){return J.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(J){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:R},J))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(J){return B({onClick:J})},content:function(J){return r$4.createElement(E$2,{store:R,onToggle:J})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),R=m$3(H),O=R.clearKeyword,B=R.jumpToMatch,J=R.jumpToNextMatch,fe=R.jumpToPreviousMatch,de=R.searchFor,ue=R.setKeywords,W=R.setTargetPages,_e=function(le){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},le,{store:H}))};return{install:function(le){var te=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],ie=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",te),H.update("jumpToDestination",le.jumpToDestination),H.update("jumpToPage",le.jumpToPage),H.update("keyword",ie)},renderPageLayer:function(le){return r$4.createElement(f$3,{key:le.pageIndex,numPages:le.doc.numPages,pageIndex:le.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(le){var te=le.slot;return te.subSlot&&(te.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:le.containerRef,store:H}),te.subSlot.children)),te},uninstall:function(le){var te=H.get("renderStatus");te&&te.clear()},onDocumentLoad:function(le){H.update("doc",le.doc)},onTextLayerRender:function(le){var te=H.get("renderStatus");te&&(te=te.set(le.pageIndex,le),H.update("renderStatus",te))},Search:function(le){return r$4.createElement(v$2,c$4({},le,{store:H}))},ShowSearchPopover:_e,ShowSearchPopoverButton:function(){return r$4.createElement(_e,null,function(le){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},le))})},clearHighlights:function(){O()},highlight:function(le){var te=Array.isArray(le)?le:[le];return ue(te),de(te)},jumpToMatch:B,jumpToNextMatch:J,jumpToPreviousMatch:fe,setTargetPages:W}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(R){return n$3.createElement(i$3,{onClick:R.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),R=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=R&&R.theme?O?R.theme.switchLightTheme:R.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],R=$[1],O=function(B){R(B)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(R){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*R.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var $=A.pagesContainerRef,H=A.store,R=e$2.useDebounceCallback(function(B){var J=H.get("zoom");J&&J(B)},40),O=function(B){if(B.ctrlKey){B.preventDefault();var J=B.target.getBoundingClientRect(),fe=1-B.deltaY/100,de=B.clientX-J.left,ue=B.clientY-J.top,W=H.get("scale"),_e=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(de,ue).scale(fe).translate(-de,-ue).scale(W);R(_e.a)}};return e$2.useIsomorphicLayoutEffect(function(){var B=$.current;if(B)return B.addEventListener("wheel",O,l$2),function(){B.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function($){return $>A})||A},v$1=function(A){var $=m$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:m$2[$-1]},p$1=function(A){var $=A.containerRef,H=A.store,R=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var J=H.get("zoom");if(J){var fe=H.get("scale")||1,de=1;switch(O.key){case"-":de=v$1(fe);break;case"=":de=f$2(fe);break;case"0":de=1;break;default:de=fe}de!==fe&&(O.preventDefault(),J(de))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}},[$.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var $=A.levels,H=$===void 0?z:$,R=A.scale,O=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,J=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,fe=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(de){return n$2.createElement(e$2.MinimalButton,{ariaLabel:fe,testId:"zoom__popover-target",onClick:function(){de()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!J,"rpv-zoom__popover-target-scale--rtl":J})},Math.round(100*R),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(de){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ue){var W=ue;return n$2.createElement(e$2.MenuItem,{key:W,onClick:function(){de(),O(W)}},function(_e){switch(_e){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(W))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(ue){return n$2.createElement(e$2.MenuItem,{key:ue,onClick:function(){de(),O(ue)}},"".concat(Math.round(100*ue),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var $=A.children,H=A.levels,R=A.store;return($||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2(R).scale,onZoom:function(O){var B=R.get("zoom");B&&B(O)}})},C={left:0,top:8},h$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||h$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(f$2(O))}})},k=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},R)},S$1={left:0,top:8},M$1=function(A){var $=A.enableShortcuts,H=A.onClick,R=n$2.useContext(e$2.LocalizationContext).l10n,O=R&&R.zoom?R.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var $=A.children,H=A.enableShortcuts,R=A.store,O=a$2(R).scale;return($||M$1)({enableShortcuts:H,onClick:function(){var B=R.get("zoom");B&&B(v$1(O))}})},Z=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,R=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},R)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),R=function(J){return n$2.createElement(b$1,c$2({enableShortcuts:$.enableShortcuts},J,{store:H}))},O=function(J){return n$2.createElement(I$1,c$2({enableShortcuts:$.enableShortcuts},J,{store:H}))},B=function(J){return n$2.createElement(g$1,c$2({},J,{store:H}))};return{renderViewer:function(J){var fe=J.slot;if(!$.enableShortcuts)return fe;var de={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:J.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:J.pagesContainerRef,store:H}),fe.children)};return c$2(c$2({},fe),de)},install:function(J){H.update("zoom",J.zoom)},onViewerStateChange:function(J){return H.update("scale",J.scale),J},zoomTo:function(J){var fe=H.get("zoom");fe&&fe(J)},CurrentScale:function(J){return n$2.createElement(u$2,c$2({},J,{store:H}))},ZoomIn:R,ZoomInButton:function(){return n$2.createElement(R,null,function(J){return n$2.createElement(h$1,c$2({},J))})},ZoomInMenuItem:function(J){return n$2.createElement(R,null,function(fe){return n$2.createElement(k,{onClick:function(){fe.onClick(),J.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(J){return n$2.createElement(M$1,c$2({},J))})},ZoomOutMenuItem:function(J){return n$2.createElement(O,null,function(fe){return n$2.createElement(Z,{onClick:function(){fe.onClick(),J.onClick()}})})},Zoom:B,ZoomPopover:function(J){return n$2.createElement(B,null,function(fe){return n$2.createElement(d$2,c$2({levels:J==null?void 0:J.levels},fe))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,J=$.GoToFirstPageMenuItem,fe=$.GoToLastPageMenuItem,de=$.GoToNextPageMenuItem,ue=$.GoToPreviousPageMenuItem,W=$.OpenMenuItem,_e=$.PrintMenuItem,le=$.RotateBackwardMenuItem,te=$.RotateForwardMenuItem,ie=$.ShowPropertiesMenuItem,ee=$.SwitchScrollModeMenuItem,q=$.SwitchSelectionModeMenuItem,ne=$.SwitchViewModeMenuItem,ae=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:R,target:function(be,he){var Y=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:R,target:_.createElement(e$1.MinimalButton,{ariaLabel:Y,isSelected:he,testId:"toolbar__more-actions-popover-target",onClick:be},_.createElement(E,null)),content:function(){return Y},offset:g})},content:function(be){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ae,{onClick:be})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:be})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(W,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(_e,{onClick:be})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:be})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(J,{onClick:be}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ue,{onClick:be})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:be})),_.createElement(fe,{onClick:be}),_.createElement(e$1.MenuDivider,null),_.createElement(te,{onClick:be}),_.createElement(le,{onClick:be}),_.createElement(e$1.MenuDivider,null),_.createElement(q,{mode:t$1.SelectionMode.Text,onClick:be}),_.createElement(q,{mode:t$1.SelectionMode.Hand,onClick:be}),_.createElement(e$1.MenuDivider,null),_.createElement(ee,{mode:e$1.ScrollMode.Page,onClick:be}),_.createElement(ee,{mode:e$1.ScrollMode.Vertical,onClick:be}),_.createElement(ee,{mode:e$1.ScrollMode.Horizontal,onClick:be}),_.createElement(ee,{mode:e$1.ScrollMode.Wrapped,onClick:be}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.SinglePage,onClick:be})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPage,onClick:be})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPageWithCover,onClick:be})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(ie,{onClick:be}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),R=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,B=H.Download,J=H.EnterFullScreen,fe=H.GoToNextPage,de=H.GoToPreviousPage,ue=H.NumberOfPages,W=H.Open,_e=H.Print,le=H.ShowSearchPopover,te=H.SwitchTheme,ie=H.Zoom,ee=H.ZoomIn,q=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":R}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(le,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(de,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ue,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(q,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ie,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(W,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(_e,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),R=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),J=c$1.propertiesPlugin(),fe=m$1.rotatePlugin(),de=u$1.scrollModePlugin(),ue=s$1.searchPlugin(A?A.searchPlugin:{}),W=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),_e=d$1.themePlugin(),le=p.zoomPlugin(A?A.zoomPlugin:{}),te=[$,H,R,O,B,J,fe,de,ue,W,_e,le],ie=_.useCallback(function(ee){var q=$.EnterFullScreen,ne=$.EnterFullScreenMenuItem,ae=H.Download,be=H.DownloadMenuItem,he=R.Open,Y=R.OpenMenuItem,ce=O.CurrentPageInput,re=O.CurrentPageLabel,oe=O.GoToFirstPage,se=O.GoToFirstPageMenuItem,ye=O.GoToLastPage,Q=O.GoToLastPageMenuItem,ve=O.GoToNextPage,Ce=O.GoToNextPageMenuItem,Oe=O.GoToPreviousPage,$e=O.GoToPreviousPageMenuItem,je=O.NumberOfPages,Le=B.Print,Xe=B.PrintMenuItem,xe=J.ShowProperties,Te=J.ShowPropertiesMenuItem,Ve=fe.Rotate,Ee=fe.RotateBackwardMenuItem,G=fe.RotateForwardMenuItem,K=de.SwitchScrollMode,ge=de.SwitchScrollModeMenuItem,Pe=de.SwitchViewMode,Ae=de.SwitchViewModeMenuItem,ke=ue.Search,Ne=ue.ShowSearchPopover,et=W.SwitchSelectionMode,st=W.SwitchSelectionModeMenuItem,ct=_e.SwitchTheme,dt=_e.SwitchThemeMenuItem,ht=le.CurrentScale,gt=le.Zoom,qe=le.ZoomIn,Ke=le.ZoomInMenuItem,me=le.ZoomOut,Se=le.ZoomOutMenuItem;return _.createElement(I,M({},ee,{slot:{CurrentPageInput:ce,CurrentPageLabel:re,CurrentScale:ht,Download:ae,DownloadMenuItem:be,EnterFullScreen:q,EnterFullScreenMenuItem:ne,GoToFirstPage:oe,GoToFirstPageMenuItem:se,GoToLastPage:ye,GoToLastPageMenuItem:Q,GoToNextPage:ve,GoToNextPageMenuItem:Ce,GoToPreviousPage:Oe,GoToPreviousPageMenuItem:$e,NumberOfPages:je,Open:he,OpenMenuItem:Y,Print:Le,PrintMenuItem:Xe,Rotate:Ve,RotateBackwardMenuItem:Ee,RotateForwardMenuItem:G,Search:ke,ShowProperties:xe,ShowPropertiesMenuItem:Te,ShowSearchPopover:Ne,SwitchScrollMode:K,SwitchScrollModeMenuItem:ge,SwitchSelectionMode:et,SwitchSelectionModeMenuItem:st,SwitchViewMode:Pe,SwitchViewModeMenuItem:Ae,SwitchTheme:ct,SwitchThemeMenuItem:dt,Zoom:gt,ZoomIn:qe,ZoomInMenuItem:Ke,ZoomOut:me,ZoomOutMenuItem:Se}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:R,pageNavigationPluginInstance:O,printPluginInstance:B,propertiesPluginInstance:J,rotatePluginInstance:fe,scrollModePluginInstance:de,searchPluginInstance:ue,selectionModePluginInstance:W,themePluginInstance:_e,zoomPluginInstance:le,install:function(ee){te.forEach(function(q){q.install&&q.install(ee)})},renderPageLayer:function(ee){return _.createElement(_.Fragment,null,te.map(function(q,ne){return q.renderPageLayer?_.createElement(_.Fragment,{key:ne},q.renderPageLayer(ee)):_.createElement(_.Fragment,{key:ne})}))},renderViewer:function(ee){var q=ee.slot;return te.forEach(function(ne){ne.renderViewer&&(q=ne.renderViewer(M(M({},ee),{slot:q})))}),q},uninstall:function(ee){te.forEach(function(q){q.uninstall&&q.uninstall(ee)})},onDocumentLoad:function(ee){te.forEach(function(q){q.onDocumentLoad&&q.onDocumentLoad(ee)})},onAnnotationLayerRender:function(ee){te.forEach(function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(ee)})},onTextLayerRender:function(ee){te.forEach(function(q){q.onTextLayerRender&&q.onTextLayerRender(ee)})},onViewerStateChange:function(ee){var q=ee;return te.forEach(function(ne){ne.onViewerStateChange&&(q=ne.onViewerStateChange(q))}),q},renderDefaultToolbar:h,Toolbar:ie}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var R=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,R.get?R:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,R=arguments.length;H<R;H++)for(var O in $=arguments[H])Object.prototype.hasOwnProperty.call($,O)&&(A[O]=$[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,R=A.store,O=A.thumbnailTabContent,B=A.tabs,J=u.useRef(),fe=u.useContext(e.LocalizationContext).l10n,de=u.useState(R.get("isCurrentTabOpened")||!1),ue=de[0],W=de[1],_e=u.useState(Math.max(R.get("currentTab")||0,0)),le=_e[0],te=_e[1],ie=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,ee=[{content:O,icon:u.createElement(d,null),title:fe&&fe.defaultLayout?fe.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:fe&&fe.defaultLayout?fe.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:fe&&fe.defaultLayout?fe.defaultLayout.attachment:"Attachment"}],q=B?B(ee):ee,ne=function(be){be>=0&&be<=q.length-1&&(R.update("isCurrentTabOpened",!0),te(be))},ae=function(be){W(be)};return u.useEffect(function(){return R.subscribe("currentTab",ne),R.subscribe("isCurrentTabOpened",ae),function(){R.unsubscribe("currentTab",ne),R.unsubscribe("isCurrentTabOpened",ae)}},[]),q.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ue,"rpv-default-layout__sidebar--ltr":!ie,"rpv-default-layout__sidebar--rtl":ie}),ref:J},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},q.map(function(be,he){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":le===he,key:he,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(he),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(he),position:ie?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:be.title,isSelected:le===he,onClick:function(){return function(Y){if(le===Y){R.update("isCurrentTabOpened",!R.get("isCurrentTabOpened"));var ce=J.current;ce&&ce.style.width&&ce.style.removeProperty("width")}else R.update("currentTab",Y)}(he)}},be.icon),content:function(){return be.title},offset:ie?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(le),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ue,"rpv-default-layout__sidebar-content--ltr":!ie,"rpv-default-layout__sidebar-content--rtl":ie}),role:"tabpanel",tabIndex:-1},q[le].content))),ue&&u.createElement(e.Splitter,{constrain:function(be){return be.firstHalfPercentage>=20&&be.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),R=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),J=H.Attachments,fe=R.Bookmarks,de=O.Thumbnails,ue=B.Toolbar,W=A?A.sidebarTabs:function(le){return le},_e=[H,R,O,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:R,thumbnailPluginInstance:O,toolbarPluginInstance:B,activateTab:function(le){$.update("currentTab",le)},toggleTab:function(le){var te=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),te!==le&&$.update("currentTab",le)},install:function(le){_e.forEach(function(te){te.install&&te.install(le)})},renderPageLayer:function(le){return u.createElement(u.Fragment,null,_e.map(function(te,ie){return te.renderPageLayer?u.createElement(u.Fragment,{key:ie},te.renderPageLayer(le)):u.createElement(u.Fragment,{key:ie},u.createElement(u.Fragment,null))}))},renderViewer:function(le){var te=le.slot;_e.forEach(function(ee){ee.renderViewer&&(te=ee.renderViewer(i(i({},le),{slot:te})))});var ie=te.subSlot&&te.subSlot.attrs?{className:te.subSlot.attrs.className,"data-testid":te.subSlot.attrs["data-testid"],ref:te.subSlot.attrs.ref,style:te.subSlot.attrs.style}:{};return te.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":le.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(J,null),bookmarkTabContent:u.createElement(fe,null),store:$,thumbnailTabContent:u.createElement(de,null),tabs:W}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(ue):u.createElement(ue,null)),u.createElement("div",i({},ie),te.subSlot.children))),te.children),te.subSlot.attrs={},te.subSlot.children=u.createElement(u.Fragment,null),te},uninstall:function(le){_e.forEach(function(te){te.uninstall&&te.uninstall(le)})},onDocumentLoad:function(le){_e.forEach(function(te){te.onDocumentLoad&&te.onDocumentLoad(le)}),A&&A.setInitialTab&&A.setInitialTab(le.doc).then(function(te){$.update("currentTab",te),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(le){_e.forEach(function(te){te.onAnnotationLayerRender&&te.onAnnotationLayerRender(le)})},onTextLayerRender:function(le){_e.forEach(function(te){te.onTextLayerRender&&te.onTextLayerRender(le)})},onViewerStateChange:function(le){var te=le;return _e.forEach(function(ie){ie.onViewerStateChange&&(te=ie.onViewerStateChange(te))}),te}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(R){if(R)switch(R){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const MOBILE_BREAKPOINT=768;function useIsMobile(){const[A,$]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const H=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),R=()=>{$(window.innerWidth<MOBILE_BREAKPOINT)};return H.addEventListener("change",R),$(window.innerWidth<MOBILE_BREAKPOINT),()=>H.removeEventListener("change",R)},[]),!!A}const WhatsAppIcon=({className:A})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",className:A,fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),LinkedInIcon=({className:A})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",className:A,fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});function PDFViewerModal({article:A,open:$,onOpenChange:H}){const[R,O]=reactExports.useState(!0),[B,J]=reactExports.useState(!1),[fe,de]=reactExports.useState(!1),[ue,W]=reactExports.useState(0),_e=useIsMobile(),le=libExports.defaultLayoutPlugin({sidebarTabs:()=>[],toolbarPlugin:{fullScreenPlugin:{onEnterFullScreen:()=>{},onExitFullScreen:()=>{}}}}),te=reactExports.useCallback(Y=>{const ce=_e?2:5;return{startPage:Math.max(0,Y.startPage-ce),endPage:Y.endPage+ce}},[_e]);if(reactExports.useEffect(()=>{$&&(O(!0),J(!1))},[$,A]),reactExports.useEffect(()=>{const Y=ce=>{ce.key==="Escape"&&$&&H(!1)};return $&&(document.addEventListener("keydown",Y),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Y),document.body.style.overflow=""}},[$,H]),!A)return null;const ie=A.externalUrl;`${A.title}${A.journal}${A.year}`;const ee=()=>{if(A.pdfUrl){const Y=document.createElement("a");Y.href=A.pdfUrl,Y.download=`${A.id}.pdf`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)}},q=()=>{window.open(A.externalUrl,"_blank","noopener,noreferrer")},ne=()=>{const Y=`https://wa.me/?text=${encodeURIComponent(`📚 *${A.title}*

${A.description}

📖 ${A.journal} • ${A.year}

🔗 ${ie}`)}`;window.open(Y,"_blank","noopener,noreferrer")},ae=()=>{const Y=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(ie)}`;window.open(Y,"_blank","noopener,noreferrer")},be=()=>{const Y=encodeURIComponent(`📚 Artigo: ${A.title}`),ce=encodeURIComponent(`Olá!

Gostaria de compartilhar este artigo acadêmico:

📖 ${A.title}

${A.description}

📰 Publicado em: ${A.journal} (${A.year})
📂 Categoria: ${A.category}

🔗 Acesse o artigo completo:
${ie}

---
Mariana Lima - Advocacia
Direito Ambiental, Empresarial, Tributário e Civil`);window.open(`mailto:?subject=${Y}&body=${ce}`,"_self")},he=async()=>{try{await navigator.clipboard.writeText(ie),de(!0),toast({title:"Link copiado!",description:"O link do artigo foi copiado para a área de transferência."}),setTimeout(()=>de(!1),2e3)}catch{toast({title:"Erro ao copiar",description:"Não foi possível copiar o link. Tente novamente.",variant:"destructive"})}};return jsxRuntimeExports.jsx(AnimatePresence,{children:$&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm",onClick:()=>H(!1)}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:cn("fixed inset-2 sm:inset-4 lg:inset-6 z-50","flex flex-col","bg-background rounded-xl sm:rounded-2xl overflow-hidden","border border-border shadow-2xl shadow-black/50"),children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0 bg-card border-b border-border",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-gradient-to-r from-accent/60 via-accent to-accent/60"}),jsxRuntimeExports.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 sm:px-2.5 py-1 rounded-full text-xs font-semibold bg-accent/15 text-accent border border-accent/30",children:[jsxRuntimeExports.jsx(Award,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:A.type||"Artigo Científico"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Artigo"})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 sm:px-2.5 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),A.year]}),jsxRuntimeExports.jsxs("div",{className:"hidden xs:inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-muted/50 text-muted-foreground",children:[jsxRuntimeExports.jsx(FileText,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:A.journal})]})]}),jsxRuntimeExports.jsx("h2",{className:"font-heading text-sm sm:text-base lg:text-lg font-semibold text-foreground line-clamp-2",children:A.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[jsxRuntimeExports.jsx(Share2,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-56",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:ne,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(WhatsAppIcon,{className:"h-4 w-4 text-[#25D366]"}),jsxRuntimeExports.jsx("span",{children:"WhatsApp"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:ae,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(LinkedInIcon,{className:"h-4 w-4 text-[#0A66C2]"}),jsxRuntimeExports.jsx("span",{children:"LinkedIn"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:be,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{children:"Email"})]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:he,className:"gap-3 cursor-pointer",children:[fe?jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(Link2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{children:fe?"Copiado!":"Copiar link"})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:ee,className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[jsxRuntimeExports.jsx(Download,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Baixar"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:q,className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3 hidden sm:flex",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Ver original"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>H(!1),className:cn("p-1.5 sm:p-2 rounded-lg","bg-muted/50 hover:bg-muted","text-muted-foreground hover:text-foreground","transition-colors duration-200"),children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative bg-muted/30 overflow-hidden pdf-viewer-container",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:R&&!B&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10 flex items-center justify-center bg-muted/50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 text-accent animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:_e?"Carregando PDF (otimizado para mobile)...":"Carregando PDF..."}),_e&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70 text-center px-4",children:"Páginas carregam progressivamente conforme você rola"})]})})}),B&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/30",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-6 max-w-md",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-heading text-lg font-semibold text-foreground mb-2",children:"Não foi possível carregar o PDF"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"O documento pode estar temporariamente indisponível. Tente baixar o arquivo ou acessar o original."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:ee,className:"gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Baixar PDF"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:q,className:"gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Ver original"]})]})]})}),A.pdfUrl&&!B&&jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A.pdfUrl,plugins:[le],defaultScale:libExports$h.SpecialZoomLevel.PageWidth,setRenderRange:te,onDocumentLoad:Y=>{O(!1),W(100),console.log(`PDF loaded: ${Y.doc.numPages} pages`)},renderError:()=>(J(!0),O(!1),jsxRuntimeExports.jsx("div",{})),theme:{theme:"auto"}})})})]})]})]})})}const Conteudos=()=>{const{publications:A,seo:$}=siteContent,[H,R]=reactExports.useState(null),[O,B]=reactExports.useState(!1),{data:J}=usePosts({pageSize:3,published:!0}),fe=(J==null?void 0:J.posts)??[],de=W=>{W.pdfUrl?(R(W),B(!0)):window.open(W.externalUrl,"_blank","noopener,noreferrer")},ue={"@context":"https://schema.org","@type":"CollectionPage","@id":"https://marianalima.adv.br/conteudos",name:A.title,description:A.description,url:"https://marianalima.adv.br/conteudos",mainEntity:{"@type":"ItemList",itemListElement:A.articles.map((W,_e)=>({"@type":"ScholarlyArticle",position:_e+1,name:W.title,description:W.description,author:{"@type":"Person",name:"Mariana Lima","@id":"https://marianalima.adv.br/#attorney"},publisher:{"@type":"Organization",name:W.journal},datePublished:W.year,genre:W.category}))}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SEOHead,{title:$.publications.title,description:$.publications.description,canonical:"/conteudos",structuredData:ue,breadcrumbs:[{name:"Home",path:"/"},{name:"Conteúdos",path:"/conteudos"}]}),jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(PageHeaderCompact,{title:"Conteúdos Jurídicos",subtitle:"Artigos científicos publicados em revistas especializadas e análises sobre temas do Direito",breadcrumbs:[{label:"Conteúdos"}]}),jsxRuntimeExports.jsxs("section",{className:"pt-8 pb-16 lg:pt-12 lg:pb-24 bg-background relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[800px] bg-accent/3 rounded-full blur-3xl pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"section-container relative z-10",children:jsxRuntimeExports.jsx(RevealContainer,{staggerDelay:.12,className:"grid md:grid-cols-2 gap-6 lg:gap-8 max-w-5xl mx-auto",children:A.articles.map(W=>jsxRuntimeExports.jsx(RevealItem,{children:jsxRuntimeExports.jsx(motion.button,{onClick:()=>de(W),whileHover:{y:-6},whileTap:{scale:.99},transition:{type:"spring",stiffness:400,damping:25},className:"block w-full text-left group cursor-pointer",children:jsxRuntimeExports.jsxs("article",{className:cn("relative h-full rounded-2xl overflow-hidden","bg-card","border border-border/60 dark:border-accent/10","shadow-lg shadow-black/5 dark:shadow-black/30","group-hover:border-accent/40 group-hover:shadow-xl","transition-all duration-400"),children:[jsxRuntimeExports.jsx("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-accent/60 to-transparent"}),jsxRuntimeExports.jsxs("div",{className:"p-5 sm:p-6 lg:p-8 relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] font-semibold bg-accent/10 text-accent border border-accent/20",children:[jsxRuntimeExports.jsx(Award,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),W.type||"Artigo Científico"]}),W.year&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-[11px] font-medium bg-muted/80 text-muted-foreground",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),W.year]})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-1.5 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-md text-[10px] sm:text-[11px] font-medium mb-3 sm:mb-4 bg-muted/50 text-foreground/70 dark:bg-foreground/5 dark:text-foreground/70",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),W.category]}),jsxRuntimeExports.jsx("h3",{className:"font-heading text-base sm:text-lg lg:text-xl font-semibold text-foreground dark:text-foreground mb-2 sm:mb-3 leading-snug group-hover:text-accent transition-colors duration-300",children:W.title}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground dark:text-foreground/70 leading-relaxed mb-4 sm:mb-6 line-clamp-2 sm:line-clamp-3",children:W.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-3 sm:pt-4 border-t border-border/40 dark:border-foreground/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full bg-muted/60 dark:bg-foreground/10 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(BookOpen,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-muted-foreground"})}),jsxRuntimeExports.jsx("span",{className:"text-[10px] sm:text-xs font-medium text-muted-foreground dark:text-foreground/60 truncate",children:W.journal})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsxs("span",{className:cn("inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full","text-[10px] sm:text-xs font-semibold","bg-accent text-accent-foreground","shadow-sm shadow-accent/20","group-hover:shadow-md group-hover:shadow-accent/30","group-hover:scale-105","transition-all duration-300"),children:["Ler artigo",jsxRuntimeExports.jsx(ArrowRight,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 group-hover:translate-x-0.5 transition-transform"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/5 via-transparent to-accent/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-2xl"})]})})},W.id))})})]}),fe.length>0&&jsxRuntimeExports.jsx("section",{className:"py-14 lg:py-20 bg-muted/30",children:jsxRuntimeExports.jsxs("div",{className:"section-container",children:[jsxRuntimeExports.jsxs(Reveal,{className:"text-center mb-10",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 text-accent text-sm font-medium tracking-wider uppercase mb-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Blog"]}),jsxRuntimeExports.jsx("h2",{className:"font-heading text-2xl lg:text-3xl font-medium text-foreground mb-2",children:"Artigos Recentes"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Análises e reflexões sobre temas do Direito"})]}),jsxRuntimeExports.jsx(RevealContainer,{staggerDelay:.1,className:"grid md:grid-cols-3 gap-5 lg:gap-6 mb-8",children:fe.map(W=>jsxRuntimeExports.jsx(RevealItem,{children:jsxRuntimeExports.jsxs(motion.div,{whileHover:{y:-4},className:"group bg-card rounded-xl border border-border hover:border-accent/30 overflow-hidden transition-all duration-300 h-full flex flex-col",children:[W.cover_image_url&&jsxRuntimeExports.jsx("div",{className:"relative aspect-[16/10] overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:W.cover_image_url,alt:W.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),jsxRuntimeExports.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground mb-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("time",{dateTime:W.published_at||W.created_at,children:format(new Date(W.published_at||W.created_at),"d 'de' MMM, yyyy",{locale:ptBR})})]}),jsxRuntimeExports.jsx("h3",{className:"font-heading text-base font-medium text-foreground mb-2 line-clamp-2 group-hover:text-accent transition-colors",children:W.title}),W.excerpt&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-4 flex-1",children:W.excerpt}),jsxRuntimeExports.jsxs(Link,{to:`/blog/${W.slug}`,className:"inline-flex items-center text-sm text-accent hover:text-accent/80 transition-colors group/link mt-auto",children:["Ler artigo",jsxRuntimeExports.jsx(ArrowRight,{className:"h-3.5 w-3.5 ml-1 group-hover/link:translate-x-0.5 transition-transform"})]})]})]})},W.id))}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(Button,{asChild:!0,variant:"elegantOutline",size:"lg",children:jsxRuntimeExports.jsxs(Link,{to:"/blog",className:"group",children:["Ver todos os artigos do blog",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})}),jsxRuntimeExports.jsxs("section",{className:"py-12 sm:py-16 lg:py-24 bg-muted/30 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-accent/5 via-transparent to-transparent"}),jsxRuntimeExports.jsx("div",{className:"section-container relative z-10",children:jsxRuntimeExports.jsx(Reveal,{direction:"up",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto text-center px-4",children:[jsxRuntimeExports.jsx("h2",{className:"font-heading text-xl sm:text-2xl lg:text-4xl font-semibold text-foreground mb-3 sm:mb-4",children:"Dúvidas sobre algum tema?"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-lg text-muted-foreground mb-6 sm:mb-8",children:"Se você tem questões relacionadas aos temas abordados, ficarei feliz em conversar."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[jsxRuntimeExports.jsx(Button,{variant:"elegant",size:"lg",asChild:!0,className:"shadow-lg shadow-accent/20",children:jsxRuntimeExports.jsxs(Link,{to:"/contato",className:"group",children:["Entre em contato",jsxRuntimeExports.jsx(ArrowRight,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})}),jsxRuntimeExports.jsx(Button,{variant:"elegantOutline",size:"lg",asChild:!0,children:jsxRuntimeExports.jsx(Link,{to:"/sobre",children:"Conheça minha trajetória"})})]})]})})})]}),jsxRuntimeExports.jsx(PDFViewerModal,{article:H,open:O,onOpenChange:B})]})})]})};export{Conteudos as default};
