import{j as e,e as u,r as v,m as y,L as k,X as L}from"./index-C0jHX-Go.js";import{S,L as B}from"./SEOHead-DBLtWs5C.js";import{P as T}from"./PageHeaderCompact-BIisjSAy.js";import{W as $}from"./WhatsAppIcon-Cc3Sif4L.js";import{B as p}from"./button-CqicSW_x.js";import{C as D}from"./calendar-BY1_qHGt.js";import{C as E}from"./clock-CPd6fV10.js";import{A as z}from"./arrow-right-DfnArYK4.js";import{L as A,N as I}from"./NewsletterForm-CvAczJPN.js";import{C as M}from"./check-CSU2lhlC.js";import{L as _}from"./link-CSjsBFl0.js";import{u as P}from"./usePosts-C_YZ_NzI.js";import{u as F}from"./useCategories-CVXedXTh.js";import{S as N}from"./skeleton-BLHoEvlv.js";import{I as H}from"./input-DcP3086W.js";import{S as R}from"./search-D49BzI9D.js";import{F as U}from"./file-text-DQIZItkJ.js";import"./sun-Ca04RkEX.js";import"./chevron-right-DzNOgnRG.js";import"./scale-DtbGqc56.js";import"./mail-CKoGTF4i.js";import"./map-pin-DMzNXTx4.js";import"./house-BRpHg4xD.js";import"./useNewsletter-B6bH-MRt.js";import"./useQuery-BoVNrBts.js";import"./useMutation-CYTm8Y7o.js";import"./circle-check-big-BDWvqFtz.js";import"./loader-circle-D3r06r9R.js";import"./types-3c7sL9OC.js";function C({categories:t,tags:o,size:n="sm",className:c}){if(!(t&&t.length>0||o&&o.length>0))return null;const m={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return e.jsxs("div",{className:u("flex flex-wrap gap-1.5",c),children:[t==null?void 0:t.map(i=>e.jsx("span",{className:u("blog-card__badge rounded-full font-medium transition-colors",m[n]),style:{"--cat-color":i.color},children:i.name},i.id)),o==null?void 0:o.map(i=>e.jsxs("span",{className:u("rounded-full bg-muted text-muted-foreground",m[n]),children:["#",i]},i))]})}function Z(t){return t?new Date(t).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""}function O(t){if(!t)return 0;const o=t.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(o/200))}function W({post:t,index:o=0}){const[n,c]=v.useState(!1),[l,m]=v.useState(!1),i=O(t.content_html),x=`https://marianalima.adv.br/blog/${t.slug}`,d=encodeURIComponent(x),g=encodeURIComponent(t.title),s={whatsapp:`https://wa.me/?text=${g}%20${d}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${d}`,x:`https://twitter.com/intent/tweet?url=${d}&text=${g}`,threads:`https://www.threads.net/intent/post?text=${g}%20${d}`},j=async r=>{r.preventDefault(),r.stopPropagation();try{await navigator.clipboard.writeText(x),c(!0),setTimeout(()=>c(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},h=(r,f)=>{r.preventDefault(),r.stopPropagation(),window.open(f,"_blank","noopener,noreferrer")};return e.jsx(y.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"group relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:e.jsx(k,{to:`/blog/${t.slug}`,className:"block",children:e.jsxs("div",{className:u("relative overflow-hidden rounded-lg border border-border/50","bg-card/50 backdrop-blur-sm","transition-all duration-300","hover:border-primary/30 hover:shadow-lg hover:shadow-primary/5","hover:-translate-y-1"),children:[t.cover_image_url&&e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-6",children:[t.categories&&t.categories.length>0&&e.jsx(C,{categories:t.categories,size:"sm",className:"mb-3"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),Z(t.published_at)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4"}),i," min de leitura"]})]}),e.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground mb-2 transition-colors line-clamp-2 group-hover:text-primary dark:group-hover:text-accent",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:t.excerpt}),t.tags&&t.tags.length>0&&e.jsx(C,{tags:t.tags,size:"sm",className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-primary font-medium text-sm",children:["Ler mais",e.jsx(z,{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1"})]}),e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:l?1:0},className:u("flex items-center gap-1","md:opacity-0 md:group-hover:opacity-100 transition-opacity","opacity-100"),onClick:r=>r.preventDefault(),children:[e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-[#25D366] hover:bg-[#25D366]/10",onClick:r=>h(r,s.whatsapp),"aria-label":"Compartilhar no WhatsApp",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-[#0077B5] hover:bg-[#0077B5]/10",onClick:r=>h(r,s.linkedin),"aria-label":"Compartilhar no LinkedIn",children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-foreground hover:bg-foreground/10",onClick:r=>h(r,s.x),"aria-label":"Compartilhar no X",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 fill-current",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-black hover:bg-black/10 dark:text-white dark:hover:bg-white/10",onClick:r=>h(r,s.threads),"aria-label":"Compartilhar no Threads",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 fill-current","aria-hidden":"true",children:e.jsx("path",{d:"M11.86 24h-.02c-3.2-.02-5.78-1.07-7.47-3.03C2.9 19.16 2.03 16.62 2 13.5V10.7C2.03 7.56 2.9 5.01 4.37 3.2 6.06 1.24 8.64.2 11.84.18h.02c3.25.02 5.86 1.08 7.56 3.07 1.5 1.76 2.33 4.33 2.36 7.43v2.63c-.03 3.1-.86 5.63-2.36 7.35-1.7 1.97-4.31 3.02-7.56 3.02Zm-.02-22.02c-2.63.02-4.67.82-6.05 2.41-1.2 1.42-1.93 3.57-1.95 6.28v2.78c.02 2.7.74 4.87 1.95 6.27 1.38 1.6 3.42 2.4 6.05 2.42h.02c2.68-.02 4.74-.82 6.12-2.42 1.22-1.4 1.93-3.56 1.95-6.27v-2.65c-.02-2.75-.73-4.92-1.95-6.34-1.38-1.6-3.44-2.4-6.12-2.42ZM11.9 7.33c-2.24 0-3.93 1.2-3.93 3.33 0 2.08 1.52 3.35 3.87 3.35 1.35 0 2.54-.36 3.34-1.01-.2 1.43-1.34 2.25-3.35 2.25-.95 0-1.77-.23-2.54-.62l-.63 1.45c.88.45 2.02.74 3.28.74 3.28 0 5.16-1.7 5.16-4.68 0-2.9-1.8-4.8-5.2-4.8Zm-.06 1.62c1.96 0 2.93 1 3.2 2.48-.71.7-1.79 1.07-3.05 1.07-1.41 0-2.3-.71-2.3-1.86 0-1.17.93-1.7 2.15-1.7Z"})})}),e.jsx(p,{variant:"ghost",size:"icon",className:u("h-8 w-8 rounded-full",n?"text-green-500 bg-green-500/10":"text-muted-foreground hover:bg-muted"),onClick:j,"aria-label":"Copiar link",children:n?e.jsx(M,{className:"w-4 h-4"}):e.jsx(_,{className:"w-4 h-4"})})]})]})]})]})})})}const Ne=()=>{const[t,o]=v.useState(""),[n,c]=v.useState(""),[l,m]=v.useState(null),i=a=>{o(a);const b=setTimeout(()=>{c(a)},300);return()=>clearTimeout(b)},w=a=>{m(a===l?null:a)},x=()=>{m(null),o(""),c("")},{data:d,isLoading:g}=F(),{data:s,isLoading:j,isError:h}=P({published:!0,page:1,pageSize:20,search:n,categorySlug:l||void 0}),r=l||n,f={"@context":"https://schema.org","@type":"CollectionPage",name:"Blog | Mariana Lima Advocacia",description:"Artigos e publicações sobre Direito Ambiental, Empresarial, Tributário e Civil.",url:"https://marianalima.adv.br/blog",mainEntity:{"@type":"ItemList",numberOfItems:(s==null?void 0:s.total)||0,itemListElement:(s==null?void 0:s.posts.map((a,b)=>({"@type":"ListItem",position:b+1,url:`https://marianalima.adv.br/blog/${a.slug}`,name:a.title})))||[]}};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Blog",description:"Artigos e publicações sobre Direito Ambiental, Empresarial, Tributário e Civil. Conteúdo jurídico de qualidade por Mariana Lima.",canonical:"/blog",structuredData:f,breadcrumbs:[{name:"Home",path:"/"},{name:"Blog",path:"/blog"}]}),e.jsxs(B,{children:[e.jsx(T,{title:"Blog",subtitle:"Posts e análises sobre Direito Ambiental, Empresarial, Tributário e Civil",breadcrumbs:[{label:"Blog"}]}),e.jsx("section",{className:"py-6 sm:py-8 md:py-12",children:e.jsxs("div",{className:"section-container",children:[e.jsxs("div",{className:"mb-6 sm:mb-8 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(H,{type:"text",placeholder:"Buscar artigos...",value:t,onChange:a=>i(a.target.value),className:"pl-10 h-10 sm:h-11 rounded-full border-border/50 bg-muted/30 focus:bg-background text-sm"}),t&&e.jsx("button",{onClick:()=>{o(""),c("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e.jsx(L,{className:"h-4 w-4"})})]}),!g&&d&&d.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:[e.jsx("button",{onClick:()=>w(null),className:u("px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200",l?"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground":"bg-accent text-primary shadow-sm"),children:"Todos"}),d.map(a=>e.jsx("button",{onClick:()=>w(a.slug),className:u("px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-all duration-200",l===a.slug?"bg-accent text-primary shadow-sm":"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground"),children:a.name},a.id))]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[e.jsx("span",{children:j?"Buscando...":`${(s==null?void 0:s.total)||0} resultado${(s==null?void 0:s.total)!==1?"s":""}`}),e.jsx("button",{onClick:x,className:"text-accent hover:underline",children:"Limpar filtros"})]})]}),j?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(a=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(N,{className:"aspect-video w-full rounded-xl"}),e.jsx(N,{className:"h-4 w-1/3"}),e.jsx(N,{className:"h-6 w-full"}),e.jsx(N,{className:"h-16 w-full"})]},a))}):h?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:"Erro ao carregar posts. Tente novamente mais tarde."})}):(s==null?void 0:s.posts.length)===0?e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[e.jsx(U,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:r?"Nenhum post encontrado":"Nenhum post publicado ainda"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t?`Não encontramos posts para "${t}".`:l?"Nenhum post nessa categoria.":"Em breve teremos conteúdo aqui."}),r&&e.jsx(p,{variant:"elegantOutline",onClick:x,children:"Limpar filtros"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s==null?void 0:s.posts.map((a,b)=>e.jsx(W,{post:a,index:b},a.id))}),e.jsx("div",{className:"mt-16 pt-12 border-t border-border/30",children:e.jsx("div",{className:"max-w-xl mx-auto text-center",children:e.jsx(I,{})})})]})})]})]})};export{Ne as default};
