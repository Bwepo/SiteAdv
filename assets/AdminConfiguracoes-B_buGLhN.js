import{c as L,j as e,r as t,e as g,X as te,U as oe,m as ie,h as f,V as X,s as ce}from"./index-3SmNR_5D.js";import{C,a as w,c as S,b as A,d as E}from"./card-CyraGnM4.js";import{B as m}from"./button-C-4U1qo-.js";import{P as ne,a as de,b as me}from"./popover-DYF3Eopl.js";import{I as b}from"./input-DAIpfZxm.js";import{L as V}from"./label-Cxr144HT.js";import{T as he,a as xe,b as I,c as R,E as J}from"./tabs-Dzp5a0xD.js";import{u as ue}from"./useCrmFieldOptions-AILuef9k.js";import{P as pe,B as y}from"./badge-DeMCveQZ.js";import{S as ge}from"./separator-CGsKMQ4U.js";import{A as je,a as fe,b as be,c as Ne,d as ve,e as ye,f as Ce,g as we}from"./alert-dialog-C0BPCx8y.js";import{S as K,a as Q,c as W,d as Y}from"./select-BBbxWgMg.js";import{S as M}from"./skeleton-CTEMgpNz.js";import{C as F}from"./check-BhIg0WAY.js";import{P as Se}from"./pencil-COp1KlYw.js";import{T as ke}from"./trash-2-BReo_YBl.js";import{S as Pe}from"./settings-HV2l0MPJ.js";import{L as ee}from"./lock-VceZmu8J.js";import{E as Z}from"./eye-off-DSH2I8vA.js";import"./index-7chh-MCo.js";import"./index-9RHCdZLj.js";import"./index-DLA5YwSv.js";import"./useQuery-D6gOOSGq.js";import"./useMutation-rbrEdLC2.js";import"./index-BDk6tIaJ.js";import"./index-BdMcA1Q9.js";import"./chevron-up-BAzcf2FP.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=L("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=L("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=L("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=L("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),j=[{label:"Vermelho",value:"bg-red-100 text-red-800"},{label:"Amarelo",value:"bg-yellow-100 text-yellow-800"},{label:"Verde",value:"bg-green-100 text-green-800"},{label:"Azul",value:"bg-blue-100 text-blue-800"},{label:"Roxo",value:"bg-purple-100 text-purple-800"},{label:"Cinza",value:"bg-gray-100 text-gray-800"},{label:"Slate",value:"bg-slate-100 text-slate-800"},{label:"Laranja",value:"bg-orange-100 text-orange-800"},{label:"Rosa",value:"bg-pink-100 text-pink-800"},{label:"Teal",value:"bg-teal-100 text-teal-800"}],Le=[{fieldName:"tarefa_status",title:"Status da Tarefa",description:"OpÃ§Ãµes de status para tarefas do CRM."},{fieldName:"tarefa_prioridade",title:"Prioridade da Tarefa",description:"NÃ­veis de prioridade para tarefas."},{fieldName:"agenda_tipo",title:"Tipo de Evento",description:"Tipos de compromissos na agenda."},{fieldName:"agenda_status",title:"Status do Evento",description:"Status dos compromissos da agenda."},{fieldName:"subtarefa_status",title:"Status da Subtarefa",description:"Status das subtarefas."}];function Te({fieldName:o,title:n,description:h,options:d,onAdd:u,onUpdate:x,onDelete:l}){var U;const[s,r]=t.useState(!1),[i,N]=t.useState(""),[c,v]=t.useState(""),[k,G]=t.useState(j[5].value),[T,_]=t.useState(null),[z,q]=t.useState(""),[P,B]=t.useState(""),[O,D]=t.useState(null),ae=()=>{!i.trim()||!c.trim()||(u({field_name:o,value:i.trim().toLowerCase().replace(/\s+/g,"_"),label:c.trim(),color:k}),N(""),v(""),G(j[5].value),r(!1))},re=a=>{_(a.id),q(a.label),B(a.color)},le=()=>{!T||!z.trim()||(x({id:T,label:z.trim(),color:P}),_(null))};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground",children:n}),e.jsx("p",{className:"text-xs text-muted-foreground",children:h})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-1",children:[e.jsx(pe,{className:"h-3.5 w-3.5"})," Adicionar"]})]}),e.jsx("div",{className:"space-y-1.5",children:d.map(a=>{var H;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-border/50 bg-muted/30 group",children:[e.jsx(Ae,{className:"h-3.5 w-3.5 text-muted-foreground/50 shrink-0"}),T===a.id?e.jsxs(e.Fragment,{children:[e.jsx(b,{value:z,onChange:p=>q(p.target.value),className:"h-7 text-sm flex-1",autoFocus:!0}),e.jsxs(K,{value:P,onValueChange:B,children:[e.jsx(Q,{className:"h-7 w-28",children:e.jsx(y,{className:g("text-[10px]",P),children:((H=j.find(p=>p.value===P))==null?void 0:H.label)??"Cor"})}),e.jsx(W,{children:j.map(p=>e.jsx(Y,{value:p.value,children:e.jsx(y,{className:g("text-[10px]",p.value),children:p.label})},p.value))})]}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:le,children:e.jsx(F,{className:"h-3.5 w-3.5 text-primary"})}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>_(null),children:e.jsx(te,{className:"h-3.5 w-3.5"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:g("text-[10px]",a.color),children:a.label}),e.jsx("span",{className:"text-[10px] text-muted-foreground font-mono",children:a.value}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>re(a),children:e.jsx(Se,{className:"h-3 w-3"})}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:()=>D(a.id),children:e.jsx(ke,{className:"h-3 w-3"})})]})]})]},a.id)})}),s&&e.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/50 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(b,{value:c,onChange:a=>{v(a.target.value),(!i||i===c.trim().toLowerCase().replace(/\s+/g,"_"))&&N(a.target.value.trim().toLowerCase().replace(/\s+/g,"_"))},placeholder:"Nome (ex: Ultra)",className:"h-8 text-sm",autoFocus:!0}),e.jsx(b,{value:i,onChange:a=>N(a.target.value),placeholder:"Valor (ex: ultra)",className:"h-8 text-sm font-mono"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{value:k,onValueChange:G,children:[e.jsx(Q,{className:"h-8 w-36",children:e.jsx(y,{className:g("text-[10px]",k),children:((U=j.find(a=>a.value===k))==null?void 0:U.label)??"Cor"})}),e.jsx(W,{children:j.map(a=>e.jsx(Y,{value:a.value,children:e.jsx(y,{className:g("text-[10px]",a.value),children:a.label})},a.value))})]}),e.jsx("div",{className:"flex-1"}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Cancelar"}),e.jsx(m,{size:"sm",onClick:ae,disabled:!c.trim()||!i.trim(),children:"Adicionar"})]})]}),e.jsx(je,{open:!!O,onOpenChange:a=>!a&&D(null),children:e.jsxs(fe,{children:[e.jsxs(be,{children:[e.jsx(Ne,{children:"Remover opÃ§Ã£o?"}),e.jsx(ve,{children:"Registros existentes com este valor nÃ£o serÃ£o afetados, mas a opÃ§Ã£o nÃ£o aparecerÃ¡ mais nos seletores."})]}),e.jsxs(ye,{children:[e.jsx(Ce,{children:"Cancelar"}),e.jsx(we,{onClick:()=>{O&&l(O),D(null)},children:"Remover"})]})]})})]})}function _e(){const{allOptions:o,isLoading:n,getOptions:h,addOption:d,updateOption:u,deleteOption:x}=ue();return n?e.jsxs(C,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsxs(w,{className:"pb-4",children:[e.jsx(M,{className:"h-5 w-48"}),e.jsx(M,{className:"h-4 w-72"})]}),e.jsx(S,{className:"space-y-4",children:[1,2,3].map(l=>e.jsx(M,{className:"h-20 w-full"},l))})]}):e.jsxs(C,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsxs(w,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),e.jsx(A,{className:"text-base",children:"Campos do CRM"})]}),e.jsx(E,{children:"Gerencie as opÃ§Ãµes de status, prioridade e tipo de evento."})]}),e.jsx(S,{className:"space-y-6",children:Le.map((l,s)=>e.jsxs("div",{children:[s>0&&e.jsx(ge,{className:"mb-6"}),e.jsx(Te,{fieldName:l.fieldName,title:l.title,description:l.description,options:h(l.fieldName),onAdd:r=>d.mutate(r),onUpdate:r=>u.mutate(r),onDelete:r=>x.mutate(r)})]},l.fieldName))})]})}function ze(){const[o,n]=t.useState(""),[h,d]=t.useState(""),[u,x]=t.useState(!1),[l,s]=t.useState(!1),[r,i]=t.useState(!1),N=async c=>{if(c.preventDefault(),o.length<6){f.error("A nova senha deve ter no mÃ­nimo 6 caracteres.");return}if(o!==h){f.error("As senhas nÃ£o coincidem.");return}x(!0);try{const{error:v}=await ce.auth.updateUser({password:o});v?f.error(v.message):(f.success("Senha alterada com sucesso!"),n(""),d(""))}catch{f.error("Erro ao alterar a senha.")}finally{x(!1)}};return e.jsxs(C,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsxs(w,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-primary"}),e.jsx(A,{className:"text-base",children:"Alterar Senha"})]}),e.jsx(E,{children:"Atualize sua senha de acesso."})]}),e.jsx(S,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4 max-w-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:"Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{type:l?"text":"password",value:o,onChange:c=>n(c.target.value),placeholder:"MÃ­nimo 6 caracteres",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>s(!l),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(J,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{type:r?"text":"password",value:h,onChange:c=>d(c.target.value),placeholder:"Repita a nova senha",required:!0,minLength:6}),e.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(J,{className:"h-4 w-4"})})]})]}),e.jsx(m,{type:"submit",disabled:u,className:"gold-gradient text-primary-foreground hover:opacity-90",children:u?"Alterando...":"Alterar Senha"})]})})]})}const is=()=>{const{prefs:o,updatePref:n}=oe(),[h,d]=t.useState(""),[u,x]=t.useState(!1);t.useEffect(()=>{d(o.panel_name||"Painel Admin")},[o.panel_name]);const l=[{id:"forest",name:"Forest",desc:"Verde & Dourado",colors:["hsl(165 14% 9%)","hsl(40 58% 54%)","hsl(162 11% 13%)","hsl(160 7% 20%)"]},{id:"ocean",name:"Ocean",desc:"Azul & Teal",colors:["hsl(220 18% 10%)","hsl(210 65% 60%)","hsl(218 16% 14%)","hsl(185 55% 48%)"]},{id:"slate",name:"Slate",desc:"Cinza & Indigo",colors:["hsl(240 10% 10%)","hsl(250 45% 65%)","hsl(240 8% 14%)","hsl(240 6% 22%)"]},{id:"midnight",name:"Midnight",desc:"Navy & ElÃ©trico",colors:["hsl(228 25% 7%)","hsl(217 90% 61%)","hsl(226 22% 11%)","hsl(225 15% 18%)"]},{id:"copper",name:"Copper",desc:"Bronze & Rose Gold",colors:["hsl(20 18% 8%)","hsl(25 65% 58%)","hsl(18 15% 12%)","hsl(15 55% 52%)"]},{id:"arctic",name:"Arctic",desc:"Gelo & Ciano",colors:["hsl(200 25% 97%)","hsl(195 80% 42%)","hsl(200 20% 94%)","hsl(200 12% 88%)"]}];return e.jsxs(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6 pb-20 md:pb-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold text-foreground font-serif",children:"ConfiguraÃ§Ãµes"})]}),e.jsxs(he,{defaultValue:"geral",className:"space-y-6",children:[e.jsxs(xe,{className:"bg-muted/40 border border-border",children:[e.jsxs(I,{value:"geral",className:"gap-1.5 data-[state=active]:bg-background",children:[e.jsx($,{className:"h-4 w-4"}),"Geral"]}),e.jsxs(I,{value:"senha",className:"gap-1.5 data-[state=active]:bg-background",children:[e.jsx(ee,{className:"h-4 w-4"}),"Senha"]}),e.jsxs(I,{value:"campos",className:"gap-1.5 data-[state=active]:bg-background",children:[e.jsx(se,{className:"h-4 w-4"}),"Campos CRM"]})]}),e.jsxs(R,{value:"geral",className:"space-y-6",children:[e.jsxs(C,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsxs(w,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-primary"}),e.jsx(A,{className:"text-base",children:"Painel"})]}),e.jsx(E,{children:"Personalize o nome exibido no menu lateral."})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3 max-w-md",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{children:"Nome do Painel"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:h,onChange:s=>d(s.target.value),placeholder:"Painel Admin",maxLength:30,className:"flex-1"}),e.jsxs(ne,{open:u,onOpenChange:x,children:[e.jsx(de,{asChild:!0,children:e.jsx(m,{variant:"outline",size:"icon",className:"shrink-0 h-10 w-10",type:"button",children:e.jsx("span",{className:"text-lg",children:"ðŸ˜Š"})})}),e.jsx(me,{className:"w-64 p-2",align:"end",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:["ðŸ“Š","ðŸ“ˆ","ðŸ“‹","ðŸ“","ðŸ—‚ï¸","ðŸ’¼","ðŸ¢","ðŸš€","âš¡","ðŸ”¥","ðŸ’¡","ðŸŽ¯","âœ…","â­","ðŸ†","ðŸ’Ž","ðŸ“Œ","ðŸ””","ðŸ“…","ðŸ—“ï¸","ðŸ‘¥","ðŸ¤","ðŸ’¬","ðŸ“§","ðŸ› ï¸","âš™ï¸","ðŸ”§","ðŸ”‘","ðŸŒ¿","ðŸŒŠ","ðŸª¨","ðŸŽ¨","â¤ï¸","ðŸ’™","ðŸ’š","ðŸ’›","ðŸ§ ","ðŸŽ‰","âœ¨","ðŸŒŸ"].map(s=>e.jsx("button",{type:"button",className:"h-8 w-8 flex items-center justify-center rounded hover:bg-muted text-lg transition-colors",onClick:()=>{d(r=>r+s),x(!1)},children:s},s))})})]})]})]}),e.jsx(m,{onClick:()=>{n("panel_name",h),f.success("Nome do painel atualizado!")},className:"gold-gradient text-primary-foreground hover:opacity-90",children:"Salvar"})]})})]}),e.jsxs(C,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsxs(w,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-primary"}),e.jsx(A,{className:"text-base",children:"Tema de Cores"})]}),e.jsx(E,{children:"Escolha o estilo visual do painel."})]}),e.jsxs(S,{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Com modo claro/escuro"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.filter(s=>!X.includes(s.id)).map(s=>e.jsxs("button",{onClick:()=>n("color_theme",s.id),className:g("relative rounded-xl border-2 p-3 text-left transition-all",o.color_theme===s.id?"border-accent shadow-card-hover":"border-border/50 hover:border-border"),children:[o.color_theme===s.id&&e.jsx("div",{className:"absolute top-2 right-2 h-5 w-5 rounded-full gold-gradient flex items-center justify-center",children:e.jsx(F,{className:"h-3 w-3 text-primary-foreground"})}),e.jsx("div",{className:"flex gap-1.5 mb-2",children:s.colors.map((r,i)=>e.jsx("div",{className:"h-6 w-6 rounded-full border border-border/30",style:{background:r}},i))}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:s.desc})]},s.id))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-6 mb-3",children:"Temas fixos (aparÃªncia Ãºnica)"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.filter(s=>X.includes(s.id)).map(s=>e.jsxs("button",{onClick:()=>n("color_theme",s.id),className:g("relative rounded-xl border-2 p-3 text-left transition-all",o.color_theme===s.id?"border-accent shadow-card-hover":"border-border/50 hover:border-border"),children:[o.color_theme===s.id&&e.jsx("div",{className:"absolute top-2 right-2 h-5 w-5 rounded-full gold-gradient flex items-center justify-center",children:e.jsx(F,{className:"h-3 w-3 text-primary-foreground"})}),e.jsx("div",{className:"flex gap-1.5 mb-2",children:s.colors.map((r,i)=>e.jsx("div",{className:"h-6 w-6 rounded-full border border-border/30",style:{background:r}},i))}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.name}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:s.desc})]},s.id))})]})]})]}),e.jsx(R,{value:"senha",children:e.jsx(ze,{})}),e.jsx(R,{value:"campos",children:e.jsx(_e,{})})]})]})};export{is as default};
