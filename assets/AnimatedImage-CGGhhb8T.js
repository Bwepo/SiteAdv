import{r as s,j as e,e as r}from"./index-Ajtc2pdY.js";import{u as h}from"./SEOHead-ColeLdxn.js";function I({src:i,alt:a,className:d,containerClassName:c,priority:n=!1}){const[l,u]=s.useState(!1),[f,m]=s.useState(!1),t=s.useRef(null),v=h();s.useEffect(()=>{const o=new IntersectionObserver(([x])=>{x.isIntersecting&&(m(!0),o.disconnect())},{rootMargin:"100px",threshold:.1});return t.current&&o.observe(t.current),()=>o.disconnect()},[]);const g=()=>{u(!0)};return v?e.jsx("div",{className:r("overflow-hidden",c),children:e.jsx("img",{src:i,alt:a,className:d,loading:n?"eager":"lazy"})}):e.jsxs("div",{className:r("overflow-hidden relative",c),children:[e.jsx("img",{ref:t,src:f||n?i:void 0,alt:a,className:r(d,"w-full h-full object-cover"),loading:n?"eager":"lazy",onLoad:g}),!l&&e.jsx("div",{className:"absolute inset-0 bg-muted/30 animate-pulse pointer-events-none"})]})}export{I as A};
