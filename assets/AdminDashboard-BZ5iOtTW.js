import{j as e,L as r,e as p}from"./index-3fzxkbmQ.js";import{A as B,M as u,a as j,P as g}from"./AdminLayout-CUXZGy3b.js";import{b as L}from"./usePosts-C4t8KT0Y.js";import{e as T}from"./usePostInteractions-DJkfMgdW.js";import{a as V}from"./usePostViews-Bxtje71M.js";import{a as M,b as P}from"./useNewsletter-DxsbTzLA.js";import{B as o}from"./button-DhmnxVvw.js";import{C as l,c as i,a as N,b as f}from"./card--HPbEWdf.js";import{S as R}from"./skeleton-CC8hQ6EX.js";import{B as b}from"./badge-B_k-FE9H.js";import{F as v}from"./file-text-CBck0IzK.js";import{C as E}from"./circle-alert-9eXdszfJ.js";import{M as S}from"./menu-03qSMZUL.js";import{C as q}from"./chart-column-D2Ei8iwu.js";import{E as F}from"./external-link-CvEjHaR2.js";import{A as w}from"./arrow-right-CLzYC7PP.js";import{S as H}from"./square-pen-BrgVgudL.js";import"./dialog-CzZLLcdH.js";import"./index-BzfQ33ZD.js";import"./heart-DAAcsUBX.js";import"./sparkles-2Bo0YYFi.js";import"./house-BietYmKE.js";import"./calendar-BdHeQeDL.js";import"./users-vk1_1Rq7.js";import"./useMutation-B0x-giGJ.js";function y(a){return a?new Date(a).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}const he=()=>{const{data:a,isLoading:C}=L(),{data:t}=T(),{data:_}=V(),{data:n}=M(),{data:x}=P(),A=(a==null?void 0:a.filter(s=>s.published).length)||0,k=(a==null?void 0:a.filter(s=>!s.published).length)||0,c=(t==null?void 0:t.filter(s=>!s.reviewed_at).length)||0,D=(t==null?void 0:t.length)||0,z=(x==null?void 0:x.length)||0,d=a==null?void 0:a.slice().sort((s,h)=>new Date(h.updated_at||h.created_at).getTime()-new Date(s.updated_at||s.created_at).getTime()).slice(0,5),m=t==null?void 0:t.filter(s=>!s.reviewed_at).slice(0,5);return e.jsxs(B,{title:"Dashboard",children:[e.jsxs("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 mb-8",children:[e.jsx(l,{children:e.jsx(i,{className:"pt-5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-primary/10",children:e.jsx(v,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold leading-none",children:(a==null?void 0:a.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Posts"}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[A," pub. â€¢ ",k," rasc."]})]})]})})}),e.jsx(r,{to:"/admin/comments",children:e.jsx(l,{className:p("h-full transition-all cursor-pointer hover:bg-muted/50",c>0&&"ring-2 ring-orange-500/50 hover:ring-orange-500/70"),children:e.jsx(i,{className:"pt-5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-orange-500/10",children:e.jsx(u,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold leading-none",children:D}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ComentÃ¡rios"}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[c," pendentes"]})]}),c>0&&e.jsx(E,{className:"w-4 h-4 text-orange-500 animate-pulse shrink-0"})]})})})}),e.jsx(r,{to:"/admin/newsletter",children:e.jsx(l,{className:"h-full hover:bg-muted/50 transition-colors cursor-pointer",children:e.jsx(i,{className:"pt-5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-blue-500/10",children:e.jsx(S,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold leading-none",children:(n==null?void 0:n.active)??0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Inscritos"}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:["+",(n==null?void 0:n.newThisWeek)??0," na semana"]})]})]})})})}),e.jsx(r,{to:"/admin/newsletter/campaigns",children:e.jsx(l,{className:"h-full hover:bg-muted/50 transition-colors cursor-pointer",children:e.jsx(i,{className:"pt-5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-purple-500/10",children:e.jsx(j,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold leading-none",children:z}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Campanhas"})]})]})})})}),e.jsx(l,{children:e.jsx(i,{className:"pt-5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-lg bg-emerald-500/10",children:e.jsx(q,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold leading-none",children:_??0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"VisualizaÃ§Ãµes"})]})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[e.jsx(r,{to:"/admin/posts/new",children:e.jsxs(o,{size:"sm",children:[e.jsx(g,{className:"w-4 h-4 mr-1.5"}),"Novo Post"]})}),e.jsx(r,{to:"/admin/newsletter/campaigns",children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(j,{className:"w-4 h-4 mr-1.5"}),"Campanhas"]})}),e.jsx("a",{href:"/blog",target:"_blank",rel:"noopener noreferrer",children:e.jsxs(o,{variant:"outline",size:"sm",children:[e.jsx(F,{className:"w-4 h-4 mr-1.5"}),"Ver Blog"]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(l,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(f,{className:"text-base",children:"Posts recentes"}),e.jsxs(r,{to:"/admin/posts",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Ver todos ",e.jsx(w,{className:"w-3 h-3"})]})]}),e.jsx(i,{children:C?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx(R,{className:"h-12 w-full"},s))}):(d==null?void 0:d.length)===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(v,{className:"w-10 h-10 text-muted-foreground/40 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum post criado ainda."}),e.jsx(r,{to:"/admin/posts/new",children:e.jsxs(o,{size:"sm",className:"mt-3",children:[e.jsx(g,{className:"w-4 h-4 mr-1.5"}),"Criar primeiro post"]})})]}):e.jsx("div",{className:"space-y-1",children:d==null?void 0:d.map(s=>e.jsxs("div",{className:"flex items-center justify-between gap-3 p-2.5 rounded-lg hover:bg-muted/50 transition-colors group",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:y(s.updated_at||s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(b,{variant:s.published?"default":"secondary",className:p("text-[10px] px-1.5 py-0",s.published&&"bg-green-500/10 text-green-600 border-green-500/30"),children:s.published?"Pub.":"Rasc."}),e.jsx(r,{to:`/admin/posts/${s.id}/edit`,children:e.jsx(o,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(H,{className:"w-3.5 h-3.5"})})})]})]},s.id))})})]}),e.jsxs(l,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsxs(f,{className:"text-base flex items-center gap-2",children:["ComentÃ¡rios pendentes",c>0&&e.jsx(b,{variant:"secondary",className:"bg-yellow-500/20 text-yellow-600 text-[10px] px-1.5",children:c})]}),e.jsxs(r,{to:"/admin/comments",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["Ver todos ",e.jsx(w,{className:"w-3 h-3"})]})]}),e.jsx(i,{children:m&&m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"w-10 h-10 text-muted-foreground/40 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum comentÃ¡rio pendente ðŸŽ‰"})]}):e.jsx("div",{className:"space-y-2",children:m==null?void 0:m.map(s=>e.jsxs("div",{className:"p-3 rounded-lg border border-border hover:bg-muted/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.author_name}),e.jsx("span",{className:"text-[11px] text-muted-foreground",children:y(s.created_at)})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.content})]},s.id))})})]})]})]})};export{he as default};
