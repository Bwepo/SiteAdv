import{a4 as _,r as X,j as ie,e as Ae,a8 as Nt}from"./index-DYRYbjUF.js";import{L as Tt}from"./label-C1my3fiN.js";var ge=e=>e.type==="checkbox",ne=e=>e instanceof Date,P=e=>e==null;const dt=e=>typeof e=="object";var L=e=>!P(e)&&!Array.isArray(e)&&dt(e)&&!ne(e),ft=e=>L(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Ut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,r)=>e.has(Ut(r)),pt=e=>{const r=e.constructor&&e.constructor.prototype;return L(r)&&r.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ne&&(e instanceof Blob||i))&&(t||L(e)))if(r=t?[]:{},!t&&!pt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=I(e[n]));else return e;return r}var we=e=>/^\w*$/.test(e),M=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!L(e))return t;const i=(we(r)?[r]:Ue(r)).reduce((n,o)=>P(n)?n:n[o],e);return M(i)||i===e?M(e[r])?t:e[r]:i},q=e=>typeof e=="boolean",D=(e,r,t)=>{let i=-1;const n=we(r)?[r]:Ue(r),o=n.length,u=o-1;for(;++i<o;){const d=n[i];let V=t;if(i!==u){const A=e[d];V=L(A)||Array.isArray(A)?A:isNaN(+n[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=V,e=e[d]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pe=_.createContext(null);pe.displayName="HookFormContext";const De=()=>_.useContext(pe),Pt=e=>{const{children:r,...t}=e;return _.createElement(pe.Provider,{value:t},r)};var yt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==z.all&&(r._proxyFormState[u]=!i||z.all),t&&(t[u]=!0),e[u]}});return n};const Pe=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Bt(e){const r=De(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[u,d]=_.useState(t._formState),V=_.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:n,formState:V.current,exact:o,callback:A=>{!i&&d({...t._formState,...A})}}),[n,i,o]),_.useEffect(()=>{V.current.isValid&&t._setValid(!0)},[t]),_.useMemo(()=>yt(u,t,V.current,!1),[u,t])}var Q=e=>typeof e=="string",mt=(e,r,t,i,n)=>Q(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t),Ie=e=>P(e)||!dt(e);function ee(e,r,t=new WeakSet){if(Ie(e)||Ie(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const u=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const d=r[o];if(ne(u)&&ne(d)||L(u)&&L(d)||Array.isArray(u)&&Array.isArray(d)?!ee(u,d,t):u!==d)return!1}}return!0}function Wt(e){const r=De(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:u,compute:d}=e||{},V=_.useRef(n),A=_.useRef(d),v=_.useRef(void 0);A.current=d;const x=_.useMemo(()=>t._getWatch(i,V.current),[t,i]),[b,$]=_.useState(A.current?A.current(x):x);return Pe(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:j=>{if(!o){const k=mt(i,t._names,j.values||t._formValues,!1,V.current);if(A.current){const T=A.current(k);ee(T,v.current)||($(T),v.current=T)}else $(k)}}}),[t,o,i,u]),_.useEffect(()=>t._removeUnmounted()),b}function jt(e){const r=De(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o,defaultValue:u}=e,d=ct(n._names.array,t),V=_.useMemo(()=>y(n._formValues,t,y(n._defaultValues,t,u)),[n,t,u]),A=Wt({control:n,name:t,defaultValue:V,exact:!0}),v=Bt({control:n,name:t,exact:!0}),x=_.useRef(e),b=_.useRef(n.register(t,{...e.rules,value:A,...q(e.disabled)?{disabled:e.disabled}:{}}));x.current=e;const $=_.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),j=_.useCallback(h=>b.current.onChange({target:{value:ft(h),name:t},type:_e.CHANGE}),[t]),k=_.useCallback(()=>b.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),T=_.useCallback(h=>{const U=y(n._fields,t);U&&h&&(U._f.ref={focus:()=>h.focus&&h.focus(),select:()=>h.select&&h.select(),setCustomValidity:N=>h.setCustomValidity(N),reportValidity:()=>h.reportValidity()})},[n._fields,t]),oe=_.useMemo(()=>({name:t,value:A,...q(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:j,onBlur:k,ref:T}),[t,i,v.disabled,j,k,T,A]);return _.useEffect(()=>{const h=n._options.shouldUnregister||o;n.register(t,{...x.current.rules,...q(x.current.disabled)?{disabled:x.current.disabled}:{}});const U=(N,C)=>{const te=y(n._fields,N);te&&te._f&&(te._f.mount=C)};if(U(t,!0),h){const N=I(y(n._options.defaultValues,t));D(n._defaultValues,t,N),M(y(n._formValues,t))&&D(n._formValues,t,N)}return!d&&n.register(t),()=>{(d?h&&!n._state.action:h)?n.unregister(t):U(t,!1)}},[t,n,d,o]),_.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),_.useMemo(()=>({field:oe,formState:v,fieldState:$}),[oe,v,$])}const qt=e=>e.render(jt(e));var gt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Xe=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},W=e=>L(e)&&!Object.keys(e).length,Be=e=>e.type==="file",G=e=>typeof e=="function",Fe=e=>{if(!Ne)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ht=e=>e.type==="select-multiple",We=e=>e.type==="radio",Ht=e=>We(e)||ge(e),Oe=e=>Fe(e)&&e.isConnected;function $t(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=M(e)?i++:e[r[i++]];return e}function Kt(e){for(const r in e)if(e.hasOwnProperty(r)&&!M(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:we(r)?[r]:Ue(r),i=t.length===1?e:$t(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(L(i)&&W(i)||Array.isArray(i)&&Kt(i))&&O(e,t.slice(0,-1)),e}var vt=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(L(e)||t)for(const i in e)Array.isArray(e[i])||L(e[i])&&!vt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function bt(e,r,t){const i=Array.isArray(e);if(L(e)||i)for(const n in e)Array.isArray(e[n])||L(e[n])&&!vt(e[n])?M(r)||Ie(t[n])?t[n]=Array.isArray(e[n])?Ve(e[n],[]):{...Ve(e[n])}:bt(e[n],P(r)?{}:r[n],t[n]):t[n]=!ee(e[n],r[n]);return t}var fe=(e,r)=>bt(e,r,Ve(r));const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!M(e[0].attributes.value)?M(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze},Ft=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>M(e)?e:r?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):i?i(e):e;const tt={isValid:!1,value:null};var Vt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,tt):tt;function rt(e){const r=e.ref;return Be(r)?r.files:We(r)?Vt(e.refs).value:ht(r)?[...r.selectedOptions].map(({value:t})=>t):ge(r)?_t(e.refs).value:Ft(M(r.value)?e.ref.value:r.value,e)}var zt=(e,r,t,i)=>{const n={};for(const o of e){const u=y(r,o);u&&D(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},xe=e=>e instanceof RegExp,ce=e=>M(e)?e:xe(e)?e.source:L(e)?xe(e.value)?e.value.source:e.value:e,st=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const it="AsyncFunction";var Gt=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===it||L(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===it)),Yt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),at=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(me(d,r))break}else if(L(d)&&me(d,r))break}}};function nt(e,r,t){const i=y(e,t);if(i||we(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=y(r,o),d=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};n.pop()}return{name:t}}var Jt=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return W(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!i||z.all))},Qt=(e,r,t)=>!e||!r||e===r||ye(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Xt=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,Zt=(e,r)=>!Te(y(e,r)).length&&O(e,r),er=(e,r,t)=>{const i=ye(y(e,t));return D(i,"root",r[t]),D(e,t,i),e},be=e=>Q(e);function ot(e,r,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||q(e)&&!e)return{type:t,message:be(e)?e:"",ref:r}}var ue=e=>L(e)&&!xe(e)?e:{value:e,message:""},lt=async(e,r,t,i,n,o)=>{const{ref:u,refs:d,required:V,maxLength:A,minLength:v,min:x,max:b,pattern:$,validate:j,name:k,valueAsNumber:T,mount:oe}=e._f,h=y(t,k);if(!oe||r.has(k))return{};const U=d?d[0]:u,N=F=>{n&&U.reportValidity&&(U.setCustomValidity(q(F)?"":F||""),U.reportValidity())},C={},te=We(u),re=ge(u),Se=te||re,K=(T||Be(u))&&M(u.value)&&M(h)||Fe(u)&&u.value===""||h===""||Array.isArray(h)&&!h.length,ae=gt.bind(null,k,i,C),Y=(F,E,R,p=Z.maxLength,B=Z.minLength)=>{const J=F?E:R;C[k]={type:F?p:B,message:J,ref:u,...ae(F?p:B,J)}};if(o?!Array.isArray(h)||!h.length:V&&(!Se&&(K||P(h))||q(h)&&!h||re&&!_t(d).isValid||te&&!Vt(d).isValid)){const{value:F,message:E}=be(V)?{value:!!V,message:V}:ue(V);if(F&&(C[k]={type:Z.required,message:E,ref:U,...ae(Z.required,E)},!i))return N(E),C}if(!K&&(!P(x)||!P(b))){let F,E;const R=ue(b),p=ue(x);if(!P(h)&&!isNaN(h)){const B=u.valueAsNumber||h&&+h;P(R.value)||(F=B>R.value),P(p.value)||(E=B<p.value)}else{const B=u.valueAsDate||new Date(h),J=he=>new Date(new Date().toDateString()+" "+he),de=u.type=="time",le=u.type=="week";Q(R.value)&&h&&(F=de?J(h)>J(R.value):le?h>R.value:B>new Date(R.value)),Q(p.value)&&h&&(E=de?J(h)<J(p.value):le?h<p.value:B<new Date(p.value))}if((F||E)&&(Y(!!F,R.message,p.message,Z.max,Z.min),!i))return N(C[k].message),C}if((A||v)&&!K&&(Q(h)||o&&Array.isArray(h))){const F=ue(A),E=ue(v),R=!P(F.value)&&h.length>+F.value,p=!P(E.value)&&h.length<+E.value;if((R||p)&&(Y(R,F.message,E.message),!i))return N(C[k].message),C}if($&&!K&&Q(h)){const{value:F,message:E}=ue($);if(xe(F)&&!h.match(F)&&(C[k]={type:Z.pattern,message:E,ref:u,...ae(Z.pattern,E)},!i))return N(E),C}if(j){if(G(j)){const F=await j(h,t),E=ot(F,U);if(E&&(C[k]={...E,...ae(Z.validate,E.message)},!i))return N(E.message),C}else if(L(j)){let F={};for(const E in j){if(!W(F)&&!i)break;const R=ot(await j[E](h,t),U,E);R&&(F={...R,...ae(E,R.message)},N(R.message),i&&(C[k]=F))}if(!W(F)&&(C[k]={ref:U,...F},!i))return C}}return N(!0),C};const tr={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function rr(e={}){let r={...tr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:G(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=L(r.defaultValues)||L(r.values)?I(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:I(n),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},V,A=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...v};const b={array:Xe(),state:Xe()},$=r.criteriaMode===z.all,j=s=>a=>{clearTimeout(A),A=setTimeout(s,a)},k=async s=>{if(!r.disabled&&(v.isValid||x.isValid||s)){const a=r.resolver?W((await re()).errors):await K(i,!0);a!==t.isValid&&b.state.next({isValid:a})}},T=(s,a)=>{!r.disabled&&(v.isValidating||v.validatingFields||x.isValidating||x.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?D(t.validatingFields,l,a):O(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!W(t.validatingFields)}))},oe=(s,a=[],l,m,c=!0,f=!0)=>{if(m&&l&&!r.disabled){if(u.action=!0,f&&Array.isArray(y(i,s))){const g=l(y(i,s),m.argA,m.argB);c&&D(i,s,g)}if(f&&Array.isArray(y(t.errors,s))){const g=l(y(t.errors,s),m.argA,m.argB);c&&D(t.errors,s,g),Zt(t.errors,s)}if((v.touchedFields||x.touchedFields)&&f&&Array.isArray(y(t.touchedFields,s))){const g=l(y(t.touchedFields,s),m.argA,m.argB);c&&D(t.touchedFields,s,g)}(v.dirtyFields||x.dirtyFields)&&(t.dirtyFields=fe(n,o)),b.state.next({name:s,isDirty:Y(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else D(o,s,a)},h=(s,a)=>{D(t.errors,s,a),b.state.next({errors:t.errors})},U=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},N=(s,a,l,m)=>{const c=y(i,s);if(c){const f=y(o,s,M(l)?y(n,s):l);M(f)||m&&m.defaultChecked||a?D(o,s,a?f:rt(c._f)):R(s,f),u.mount&&k()}},C=(s,a,l,m,c)=>{let f=!1,g=!1;const w={name:s};if(!r.disabled){if(!l||m){(v.isDirty||x.isDirty)&&(g=t.isDirty,t.isDirty=w.isDirty=Y(),f=g!==w.isDirty);const S=ee(y(n,s),a);g=!!y(t.dirtyFields,s),S?O(t.dirtyFields,s):D(t.dirtyFields,s,!0),w.dirtyFields=t.dirtyFields,f=f||(v.dirtyFields||x.dirtyFields)&&g!==!S}if(l){const S=y(t.touchedFields,s);S||(D(t.touchedFields,s,l),w.touchedFields=t.touchedFields,f=f||(v.touchedFields||x.touchedFields)&&S!==l)}f&&c&&b.state.next(w)}return f?w:{}},te=(s,a,l,m)=>{const c=y(t.errors,s),f=(v.isValid||x.isValid)&&q(a)&&t.isValid!==a;if(r.delayError&&l?(V=j(()=>h(s,l)),V(r.delayError)):(clearTimeout(A),V=null,l?D(t.errors,s,l):O(t.errors,s)),(l?!ee(c,l):c)||!W(m)||f){const g={...m,...f&&q(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},b.state.next(g)}},re=async s=>{T(s,!0);const a=await r.resolver(o,r.context,zt(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return T(s),a},Se=async s=>{const{errors:a}=await re(s);if(s)for(const l of s){const m=y(a,l);m?D(t.errors,l,m):O(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const m in s){const c=s[m];if(c){const{_f:f,...g}=c;if(f){const w=d.array.has(f.name),S=c._f&&Gt(c._f);S&&v.validatingFields&&T([m],!0);const H=await lt(c,d.disabled,o,$,r.shouldUseNativeValidation&&!a,w);if(S&&v.validatingFields&&T([m]),H[f.name]&&(l.valid=!1,a))break;!a&&(y(H,f.name)?w?er(t.errors,H,f.name):D(t.errors,f.name,H[f.name]):O(t.errors,f.name))}!W(g)&&await K(g,a,l)}}return l.valid},ae=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Oe(l)):!Oe(a._f.ref))&&ke(s)}d.unMount=new Set},Y=(s,a)=>!r.disabled&&(s&&a&&D(o,s,a),!ee(he(),n)),F=(s,a,l)=>mt(s,d,{...u.mount?o:M(a)?n:Q(s)?{[s]:a}:a},l,a),E=s=>Te(y(u.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),R=(s,a,l={})=>{const m=y(i,s);let c=a;if(m){const f=m._f;f&&(!f.disabled&&D(o,s,Ft(a,f)),c=Fe(f.ref)&&P(a)?"":a,ht(f.ref)?[...f.ref.options].forEach(g=>g.selected=c.includes(g.value)):f.refs?ge(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(c)?g.checked=!!c.find(w=>w===g.value):g.checked=c===g.value||!!c)}):f.refs.forEach(g=>g.checked=g.value===c):Be(f.ref)?f.ref.value="":(f.ref.value=c,f.ref.type||b.state.next({name:s,values:I(o)})))}(l.shouldDirty||l.shouldTouch)&&C(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(s)},p=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const c=a[m],f=s+"."+m,g=y(i,f);(d.array.has(s)||L(c)||g&&!g._f)&&!ne(c)?p(f,c,l):R(f,c,l)}},B=(s,a,l={})=>{const m=y(i,s),c=d.array.has(s),f=I(a);D(o,s,f),c?(b.array.next({name:s,values:I(o)}),(v.isDirty||v.dirtyFields||x.isDirty||x.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:fe(n,o),isDirty:Y(s,f)})):m&&!m._f&&!P(f)?p(s,f,l):R(s,f,l),at(s,d)&&b.state.next({...t,name:s}),b.state.next({name:u.mount?s:void 0,values:I(o)})},J=async s=>{u.mount=!0;const a=s.target;let l=a.name,m=!0;const c=y(i,l),f=S=>{m=Number.isNaN(S)||ne(S)&&isNaN(S.getTime())||ee(S,y(o,l,S))},g=st(r.mode),w=st(r.reValidateMode);if(c){let S,H;const ve=a.type?rt(c._f):ft(s),se=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Lt=!Yt(c._f)&&!r.resolver&&!y(t.errors,l)&&!c._f.deps||Xt(se,y(t.touchedFields,l),t.isSubmitted,w,g),Me=at(l,d,se);D(o,l,ve),se?(c._f.onBlur&&c._f.onBlur(s),V&&V(0)):c._f.onChange&&c._f.onChange(s);const Le=C(l,ve,se),Ot=!W(Le)||Me;if(!se&&b.state.next({name:l,type:s.type,values:I(o)}),Lt)return(v.isValid||x.isValid)&&(r.mode==="onBlur"?se&&k():se||k()),Ot&&b.state.next({name:l,...Me?{}:Le});if(!se&&Me&&b.state.next({...t}),r.resolver){const{errors:Je}=await re([l]);if(f(ve),m){const It=nt(t.errors,i,l),Qe=nt(Je,i,It.name||l);S=Qe.error,l=Qe.name,H=W(Je)}}else T([l],!0),S=(await lt(c,d.disabled,o,$,r.shouldUseNativeValidation))[l],T([l]),f(ve),m&&(S?H=!1:(v.isValid||x.isValid)&&(H=await K(i,!0)));m&&(c._f.deps&&le(c._f.deps),te(l,H,S,Le))}},de=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},le=async(s,a={})=>{let l,m;const c=ye(s);if(r.resolver){const f=await Se(M(s)?s:c);l=W(f),m=s?!c.some(g=>y(f,g)):l}else s?(m=(await Promise.all(c.map(async f=>{const g=y(i,f);return await K(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&k()):m=l=await K(i);return b.state.next({...!Q(s)||(v.isValid||x.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!m&&me(i,de,s?c:d.mount),m},he=s=>{const a={...u.mount?o:n};return M(s)?a:Q(s)?y(a,s):s.map(l=>y(a,l))},je=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Dt=s=>{s&&ye(s).forEach(a=>O(t.errors,a)),b.state.next({errors:s?t.errors:{}})},qe=(s,a,l)=>{const m=(y(i,s,{_f:{}})._f||{}).ref,c=y(t.errors,s)||{},{ref:f,message:g,type:w,...S}=c;D(t.errors,s,{...S,...a,ref:m}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},Et=(s,a)=>G(s)?b.state.subscribe({next:l=>"values"in l&&s(F(void 0,a),l)}):F(s,a,!0),He=s=>b.state.subscribe({next:a=>{Qt(s.name,a.name,s.exact)&&Jt(a,s.formState||v,Mt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a,defaultValues:n})}}).unsubscribe,St=s=>(u.mount=!0,x={...x,...s.formState},He({...s,formState:x})),ke=(s,a={})=>{for(const l of s?ye(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(O(i,l),O(o,l)),!a.keepError&&O(t.errors,l),!a.keepDirty&&O(t.dirtyFields,l),!a.keepTouched&&O(t.touchedFields,l),!a.keepIsValidating&&O(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&O(n,l);b.state.next({values:I(o)}),b.state.next({...t,...a.keepDirty?{isDirty:Y()}:{}}),!a.keepIsValid&&k()},$e=({disabled:s,name:a})=>{(q(s)&&u.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Ce=(s,a={})=>{let l=y(i,s);const m=q(a.disabled)||q(r.disabled);return D(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?$e({disabled:q(a.disabled)?a.disabled:r.disabled,name:s}):N(s,!0,a.value),{...m?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:s,onChange:J,onBlur:J,ref:c=>{if(c){Ce(s,a),l=y(i,s);const f=M(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Ht(f),w=l._f.refs||[];if(g?w.find(S=>S===f):f===l._f.ref)return;D(i,s,{_f:{...l._f,...g?{refs:[...w.filter(Oe),f,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),N(s,!1,void 0,f)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(ct(d.array,s)&&u.action)&&d.unMount.add(s)}}},Re=()=>r.shouldFocusError&&me(i,de,d.mount),kt=s=>{q(s)&&(b.state.next({disabled:s}),me(i,(a,l)=>{const m=y(i,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(c=>{c.disabled=m._f.disabled||s}))},0,!1))},Ke=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=I(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:g}=await re();t.errors=f,c=I(g)}else await K(i);if(d.disabled.size)for(const f of d.disabled)O(c,f);if(O(t.errors,"root"),W(t.errors)){b.state.next({errors:{}});try{await s(c,l)}catch(f){m=f}}else a&&await a({...t.errors},l),Re(),setTimeout(Re);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Ct=(s,a={})=>{y(i,s)&&(M(a.defaultValue)?B(s,I(y(n,s))):(B(s,a.defaultValue),D(n,s,I(a.defaultValue))),a.keepTouched||O(t.touchedFields,s),a.keepDirty||(O(t.dirtyFields,s),t.isDirty=a.defaultValue?Y(s,I(y(n,s))):Y()),a.keepError||(O(t.errors,s),v.isValid&&k()),b.state.next({...t}))},ze=(s,a={})=>{const l=s?I(s):n,m=I(l),c=W(s),f=c?n:m;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const g=new Set([...d.mount,...Object.keys(fe(n,o))]);for(const w of Array.from(g))y(t.dirtyFields,w)?D(f,w,y(o,w)):B(w,y(f,w))}else{if(Ne&&M(s))for(const g of d.mount){const w=y(i,g);if(w&&w._f){const S=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(Fe(S)){const H=S.closest("form");if(H){H.reset();break}}}}if(a.keepFieldsRef)for(const g of d.mount)B(g,y(f,g));else i={}}o=r.shouldUnregister?a.keepDefaultValues?I(n):{}:I(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&o?fe(n,o):t.dirtyFields:a.keepDefaultValues&&s?fe(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(s,a)=>ze(G(s)?s(o):s,a),Rt=(s,a={})=>{const l=y(i,s),m=l&&l._f;if(m){const c=m.refs?m.refs[0]:m.ref;c.focus&&(c.focus(),a.shouldSelect&&G(c.select)&&c.select())}},Mt=s=>{t={...t,...s}},Ye={control:{register:Ce,unregister:ke,getFieldState:je,handleSubmit:Ke,setError:qe,_subscribe:He,_runSchema:re,_focusError:Re,_getWatch:F,_getDirty:Y,_setValid:k,_setFieldArray:oe,_setDisabledField:$e,_setErrors:U,_getFieldArray:E,_reset:ze,_resetDefaultValues:()=>G(r.defaultValues)&&r.defaultValues().then(s=>{Ge(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:kt,_subjects:b,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:St,trigger:le,register:Ce,handleSubmit:Ke,watch:Et,setValue:B,getValues:he,reset:Ge,resetField:Ct,clearErrors:Dt,unregister:ke,setError:qe,setFocus:Rt,getFieldState:je};return{...Ye,formControl:Ye}}function mr(e={}){const r=_.useRef(void 0),t=_.useRef(void 0),[i,n]=_.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!G(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=rr(e);r.current={...d,formState:i}}const o=r.current.control;return o._options=e,Pe(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),_.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),_.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),_.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),_.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),_.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),_.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),_.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=yt(i,o),r.current}const ut=(e,r,t)=>{if(e&&"reportValidity"in e){const i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},xt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ut(i.ref,t,e):i.refs&&i.refs.forEach(n=>ut(n,t,e))}},sr=(e,r)=>{r.shouldUseNativeValidation&&xt(e,r);const t={};for(const i in e){const n=y(r.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(ir(r.names||Object.keys(e),i)){const u=Object.assign({},y(t,i));D(u,"root",o),D(t,i,u)}else D(t,i,o)}return t},ir=(e,r)=>e.some(t=>t.startsWith(r+"."));var ar=function(e,r){for(var t={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];t[u]={message:d.message,type:d.code}}else t[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(x){return e.push(x)})}),r){var V=t[u].types,A=V&&V[i.code];t[u]=gt(u,r,t,n,A?[].concat(A,i.message):i.message)}e.shift()}return t},gr=function(e,r,t){return t===void 0&&(t={}),function(i,n,o){try{return Promise.resolve(function(u,d){try{var V=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(A){return o.shouldUseNativeValidation&&xt({},o),{errors:{},values:t.raw?i:A}})}catch(A){return d(A)}return V&&V.then?V.then(void 0,d):V}(0,function(u){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(u))return{values:{},errors:sr(ar(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const hr=Pt,At=X.createContext({}),vr=({...e})=>ie.jsx(At.Provider,{value:{name:e.name},children:ie.jsx(qt,{...e})}),Ee=()=>{const e=X.useContext(At),r=X.useContext(wt),{getFieldState:t,formState:i}=De(),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},wt=X.createContext({}),nr=X.forwardRef(({className:e,...r},t)=>{const i=X.useId();return ie.jsx(wt.Provider,{value:{id:i},children:ie.jsx("div",{ref:t,className:Ae("space-y-2",e),...r})})});nr.displayName="FormItem";const or=X.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:n}=Ee();return ie.jsx(Tt,{ref:t,className:Ae(i&&"text-destructive",e),htmlFor:n,...r})});or.displayName="FormLabel";const lr=X.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:n,formMessageId:o}=Ee();return ie.jsx(Nt,{ref:r,id:i,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})});lr.displayName="FormControl";const ur=X.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=Ee();return ie.jsx("p",{ref:t,id:i,className:Ae("text-sm text-muted-foreground",e),...r})});ur.displayName="FormDescription";const dr=X.forwardRef(({className:e,children:r,...t},i)=>{const{error:n,formMessageId:o}=Ee(),u=n?String(n==null?void 0:n.message):r;return u?ie.jsx("p",{ref:i,id:o,className:Ae("text-sm font-medium text-destructive",e),...t,children:u}):null});dr.displayName="FormMessage";export{hr as F,vr as a,nr as b,or as c,lr as d,dr as e,gr as t,mr as u};
