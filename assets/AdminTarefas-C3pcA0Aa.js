const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminCrmDashboard-oX6R_4vh.js","assets/index-CtUswwnO.js","assets/index-BC8JTJEe.css","assets/card-CoLq0NeL.js","assets/badge-DST2aamP.js","assets/button-DloSvteA.js","assets/skeleton-w_UTCHMO.js","assets/select-RiUlXZYQ.js","assets/index-CHJsgN85.js","assets/index-IIYrRKuJ.js","assets/index-BaWC3H6Z.js","assets/chevron-up-BPplhiE1.js","assets/check-DLunLi1G.js","assets/crmTypes-BY_LsKKv.js","assets/useQuery-Bsxnmfi8.js","assets/filter-BRDzDjcO.js","assets/folder-kanban-Cs9q2C2U.js","assets/calendar-Bj_LQSdT.js","assets/list-todo-C3ejyET3.js","assets/clock-B9Fvd3fg.js","assets/triangle-alert-B8LPNy5h.js","assets/circle-check-Bi1Qwqt_.js","assets/arrow-right-CkWEg9tH.js","assets/users-BTuTPkvY.js"])))=>i.map(i=>d[i]);
import{c as Pt,r as c,j as a,e as Y,h as qt,a4 as q,f as Dt,s as Mn,m as pr,a5 as es}from"./index-CtUswwnO.js";import{E as ts,A as ns,m as zr}from"./formatters-CIsNOY5H.js";import{P as rs,T as as}from"./TarefaSheet-1kIQvDIR.js";import{u as ss,F as os,a as rt,b as at,c as st,d as dt,e as ot,t as is}from"./form-DBUhEnuc.js";import{S as ls,b as cs,c as ds,d as us,e as fs,f as hs}from"./sheet-C0ABfAE7.js";import{I as Zt}from"./input-CNduu40b.js";import{B as Fe,b as xr}from"./button-DloSvteA.js";import{S as ae,a as se,b as oe,c as ie,d as P}from"./select-RiUlXZYQ.js";import{P as Qt,a as en,b as tn}from"./popover-CBubgPk-.js";import{g as Yn,S as it,h as nn,a as ms,b as vs,i as $r,j as ft,T as Vr,c as Ct}from"./crmTypes-BY_LsKKv.js";import{S as qn}from"./search-BC295B6y.js";import{C as ps}from"./check-DLunLi1G.js";import{U as xs}from"./user-BlMGK-hr.js";import{T as Gn}from"./trash-2-D0eeq3Fu.js";import{L as Hr}from"./loader-circle-MRhsQlR4.js";import{o as gs,s as ut,e as bs}from"./types-C9wiu8_K.js";import{T as Kr,b as Ur,c as ys,K as ws}from"./CrmSkeletons-y_ZLRAVQ.js";import{C as Tt,c as Et}from"./card-CoLq0NeL.js";import{t as Q,e as mt,s as rn,g as Rt,h as gr,m as js,i as Ns,j as Je,k as Ds,l as Cs,n as Jn,o as Ss,p as ks,f as lt,q as Xr}from"./format-Bo8wDDlG.js";import{C as _s}from"./chevron-left-C5-BpqxS.js";import{C as Ms}from"./chevron-right-BTvq9gRs.js";import{A as qr,a as Gr,b as Jr,c as Zr,d as Qr,e as ea,f as ta,g as na}from"./alert-dialog-Ciy3iMTu.js";import{B as De,P as ra}from"./badge-DST2aamP.js";import{S as St}from"./switch-BQ6sWl1m.js";import{C as vt}from"./calendar-Bj_LQSdT.js";import{U as hn}from"./users-BTuTPkvY.js";import{F as mn}from"./folder-kanban-Cs9q2C2U.js";import{L as aa}from"./list-ClGEkMrt.js";import{P as Ts}from"./pencil-Ej9I__FL.js";import{L as Es}from"./label-3HANkeyn.js";import{S as Tn}from"./skeleton-w_UTCHMO.js";import{U as Rs}from"./TipTapEditor-DuEBvjqJ.js";import{a as sa,C as Os}from"./circle-check-Bi1Qwqt_.js";import{C as Is}from"./clipboard-list-Ckjj0ARF.js";import{F as As}from"./filter-BRDzDjcO.js";import{C as oa,a as Ps}from"./circle-x-Dd0Q0Rgw.js";import{C as Ls}from"./clock-B9Fvd3fg.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Pt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Pt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Pt("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Pt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function Ne(e,t){const n=Q(e);return isNaN(t)?mt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ze(e,t){const n=Q(e);if(isNaN(t))return mt(e,NaN);if(!t)return n;const r=n.getDate(),s=mt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function zn(e,t){const n=t*7;return Ne(e,n)}function Ws(e,t){return ze(e,t*12)}function Ys(e){let t;return e.forEach(function(n){const r=Q(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function zs(e){let t;return e.forEach(n=>{const r=Q(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function _e(e,t){const n=rn(e),r=rn(t);return+n==+r}function Ot(e,t){const n=Q(e),r=Q(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function $s(e,t,n){const r=Rt(e,n),s=Rt(t,n),o=+r-gr(r),i=+s-gr(s);return Math.round((o-i)/js)}function Zn(e){const t=Q(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Me(e){const t=Q(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Qn(e,t){var l,d,u,h;const n=Ns(),r=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Q(e),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function ca(e){return Qn(e,{weekStartsOn:1})}function Vs(e){const t=Q(e),n=t.getFullYear(),r=t.getMonth(),s=mt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function Hs(e){return Math.trunc(+Q(e)/1e3)}function Ks(e){const t=Q(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Us(e,t){return $s(Ks(e),Me(e),t)+1}function $n(e,t){const n=Q(e),r=Q(t);return n.getTime()>r.getTime()}function da(e,t){const n=Q(e),r=Q(t);return+n<+r}function er(e,t){const n=Q(e),r=Q(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xs(e,t){const n=Q(e),r=Q(t);return n.getFullYear()===r.getFullYear()}function En(e,t){return Ne(e,-t)}function Rn(e,t){const n=Q(e),r=n.getFullYear(),s=n.getDate(),o=mt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=Vs(o);return n.setMonth(t,Math.min(s,i)),n}function yr(e,t){const n=Q(e);return isNaN(+n)?mt(e,NaN):(n.setFullYear(t),n)}const qs=gs({title:ut().trim().min(1,"Título obrigatório").max(200),parentTaskId:ut().min(1,"Tarefa-mãe obrigatória"),deadline:ut().optional(),status:bs(["A fazer","Em andamento","Concluído"]),assignee:ut().optional(),notes:ut().max(2e3).optional(),numeroProcesso:ut().max(25).optional()}),Gs=Object.entries(it);function Js({open:e,onOpenChange:t,subtask:n,tasks:r,onSave:s,onDelete:o}){const i=!n,[l,d]=c.useState(!1),[u,h]=c.useState(""),[m,g]=c.useState(!1),p=c.useMemo(()=>{if(!u.trim())return r;const x=u.toLowerCase();return r.filter(y=>y.title.toLowerCase().includes(x))},[r,u]),b=ss({resolver:is(qs),defaultValues:{title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:""}});c.useEffect(()=>{e&&(n?b.reset({title:n.title,parentTaskId:n.parentTaskId,deadline:n.dueDate??"",status:n.status,assignee:n.assignee??"",notes:n.notes??"",numeroProcesso:n.numeroProcesso??""}):b.reset({title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:"",numeroProcesso:""}))},[e,n]);const w=async x=>{d(!0);try{await s(x,i,n==null?void 0:n.id),t(!1)}catch(y){qt.error("Erro ao salvar subtarefa: "+y.message),console.error("Erro ao salvar subtarefa:",y)}finally{d(!1)}};return a.jsx(ls,{open:e,onOpenChange:t,children:a.jsxs(cs,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[a.jsxs(ds,{className:"mb-6",children:[a.jsx(us,{children:i?"Nova Subtarefa":"Editar Subtarefa"}),a.jsx(fs,{children:i?"Preencha os dados e selecione a tarefa-mãe relacionada.":"Altere os campos e salve."})]}),a.jsx(os,{...b,children:a.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-5",children:[a.jsx(rt,{control:b.control,name:"title",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Título *"}),a.jsx(dt,{children:a.jsx(Zt,{placeholder:"Ex: Enviar documento",...x})}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"parentTaskId",render:({field:x})=>{var y;return a.jsxs(at,{className:"flex flex-col",children:[a.jsx(st,{children:"Tarefa-mãe *"}),a.jsxs(Qt,{open:m,onOpenChange:g,children:[a.jsx(en,{asChild:!0,children:a.jsx(dt,{children:a.jsxs(Fe,{variant:"outline",role:"combobox",className:Y("w-full justify-between font-normal",!x.value&&"text-muted-foreground"),children:[a.jsx("span",{className:"truncate",children:x.value?((y=r.find(N=>N.id===x.value))==null?void 0:y.title)??"Tarefa não encontrada":"Selecione a tarefa-mãe..."}),a.jsx(Fs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),a.jsxs(tn,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[a.jsxs("div",{className:"flex items-center border-b px-3",children:[a.jsx(qn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx("input",{className:"flex h-10 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",placeholder:"Buscar tarefa...",value:u,onChange:N=>h(N.target.value)})]}),a.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:p.length===0?a.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Nenhuma tarefa encontrada."}):p.map(N=>a.jsxs("button",{type:"button",className:Y("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",x.value===N.id&&"bg-accent"),onClick:()=>{x.onChange(N.id),g(!1),h("")},children:[a.jsx(ps,{className:Y("mr-2 h-4 w-4",x.value===N.id?"opacity-100":"opacity-0")}),a.jsx("span",{className:"truncate",children:N.title})]},N.id))})]})]}),a.jsx(ot,{})]})}}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(rt,{control:b.control,name:"deadline",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Prazo"}),a.jsx(dt,{children:a.jsx(Zt,{type:"date",...x})}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"status",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Status"}),a.jsxs(ae,{onValueChange:x.onChange,value:x.value,children:[a.jsx(dt,{children:a.jsx(se,{children:a.jsx(oe,{})})}),a.jsx(ie,{children:Gs.map(([y,N])=>a.jsx(P,{value:y,children:N},y))})]}),a.jsx(ot,{})]})})]}),a.jsx(rt,{control:b.control,name:"assignee",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Responsável"}),a.jsxs(ae,{onValueChange:y=>x.onChange(y==="_none_"?"":y),value:x.value||"_none_",children:[a.jsx(dt,{children:a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xs,{className:"w-3.5 h-3.5 text-muted-foreground"}),a.jsx(oe,{placeholder:"Responsável..."})]})})}),a.jsxs(ie,{children:[a.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Yn.map(y=>a.jsx(P,{value:y,children:y},y))]})]}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"numeroProcesso",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Processo Judicial"}),a.jsx(rs,{value:x.value??"",onValueChange:x.onChange}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"notes",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Observações"}),a.jsx(dt,{children:a.jsx(ts,{value:x.value??"",onChange:x.onChange,placeholder:"Observações...",modalTitle:"Editar Observações da Subtarefa"})}),a.jsx(ot,{})]})}),!i&&(n==null?void 0:n.id)&&a.jsx(ns,{folder:`subtarefas/${n.id}`}),a.jsxs(hs,{className:"gap-2 flex-col sm:flex-row",children:[!i&&n&&o&&a.jsxs(Fe,{type:"button",variant:"destructive",className:"sm:mr-auto",onClick:()=>{o(n.id),t(!1)},disabled:l,children:[a.jsx(Gn,{className:"w-4 h-4 mr-2"})," Excluir"]}),a.jsxs(Fe,{type:"submit",disabled:l,className:"flex-1",children:[l&&a.jsx(Hr,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Criar Subtarefa":"Salvar Alterações"]})]})]})})]})})}var I=function(){return I=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},I.apply(this,arguments)};function Zs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ua(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Lt(e){return e.mode==="multiple"}function Ft(e){return e.mode==="range"}function vn(e){return e.mode==="single"}var Qs={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eo(e,t){return lt(e,"LLLL y",t)}function to(e,t){return lt(e,"d",t)}function no(e,t){return lt(e,"LLLL",t)}function ro(e){return"".concat(e)}function ao(e,t){return lt(e,"cccccc",t)}function so(e,t){return lt(e,"yyyy",t)}var oo=Object.freeze({__proto__:null,formatCaption:eo,formatDay:to,formatMonthCaption:no,formatWeekNumber:ro,formatWeekdayName:ao,formatYearCaption:so}),io=function(e,t,n){return lt(e,"do MMMM (EEEE)",n)},lo=function(){return"Month: "},co=function(){return"Go to next month"},uo=function(){return"Go to previous month"},fo=function(e,t){return lt(e,"cccc",t)},ho=function(e){return"Week n. ".concat(e)},mo=function(){return"Year: "},vo=Object.freeze({__proto__:null,labelDay:io,labelMonthDropdown:lo,labelNext:co,labelPrevious:uo,labelWeekNumber:ho,labelWeekday:fo,labelYearDropdown:mo});function po(){var e="buttons",t=Qs,n=Ds,r={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:oo,labels:vo,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function xo(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Me(r):t&&(o=new Date(t,0,1)),s?i=Zn(s):n&&(i=new Date(n,11,31)),{fromDate:o?rn(o):void 0,toDate:i?rn(i):void 0}}var fa=c.createContext(void 0);function go(e){var t,n=e.initialProps,r=po(),s=xo(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(vn(n)||Lt(n)||Ft(n))&&(d=n.onSelect);var u=I(I(I({},r),n),{captionLayout:l,classNames:I(I({},r.classNames),n.classNames),components:I({},n.components),formatters:I(I({},r.formatters),n.formatters),fromDate:o,labels:I(I({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:I(I({},r.modifiers),n.modifiers),modifiersClassNames:I(I({},r.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:I(I({},r.styles),n.styles),toDate:i});return a.jsx(fa.Provider,{value:u,children:e.children})}function K(){var e=c.useContext(fa);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ha(e){var t=K(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function bo(e){return a.jsx("svg",I({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ma(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,u=K(),h=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:bo;return a.jsxs("div",{className:l,style:d,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yo(e){var t,n=K(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,d=n.classNames,u=n.components,h=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(Xs(r,s))for(var g=Me(r),p=r.getMonth();p<=s.getMonth();p++)m.push(Rn(g,p));else for(var g=Me(new Date),p=0;p<=11;p++)m.push(Rn(g,p));var b=function(x){var y=Number(x.target.value),N=Rn(Me(e.displayMonth),y);e.onChange(N)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ma;return a.jsx(w,{name:"months","aria-label":h(),className:d.dropdown_month,style:o.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function wo(e){var t,n=e.displayMonth,r=K(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,d=r.classNames,u=r.components,h=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,g=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),b=o.getFullYear(),w=p;w<=b;w++)g.push(yr(Cs(new Date),w));var x=function(N){var E=yr(Me(n),Number(N.target.value));e.onChange(E)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ma;return a.jsx(y,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:h(n,{locale:i}),children:g.map(function(N){return a.jsx("option",{value:N.getFullYear(),children:h(N,{locale:i})},N.getFullYear())})})}function jo(e,t){var n=c.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function No(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Ot(o,s)<0){var u=-1*(d-1);s=ze(o,u)}return i&&Ot(s,i)<0&&(s=i),Me(s)}function Do(){var e=K(),t=No(e),n=jo(t,e.month),r=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var d=Me(i);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[r,o]}function Co(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Me(e),o=Me(ze(s,r)),i=Ot(o,s),l=[],d=0;d<i;d++){var u=ze(s,d);l.push(u)}return n&&(l=l.reverse()),l}function So(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Me(e);if(!n)return ze(l,i);var d=Ot(n,e);if(!(d<o))return ze(l,i)}}function ko(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Me(e);if(!n)return ze(l,-i);var d=Ot(l,n);if(!(d<=0))return ze(l,-i)}}var va=c.createContext(void 0);function _o(e){var t=K(),n=Do(),r=n[0],s=n[1],o=Co(r,t),i=So(r,t),l=ko(r,t),d=function(m){return o.some(function(g){return er(m,g)})},u=function(m,g){d(m)||(g&&da(m,g)?s(ze(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:d};return a.jsx(va.Provider,{value:h,children:e.children})}function Bt(){var e=c.useContext(va);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function wr(e){var t,n=K(),r=n.classNames,s=n.styles,o=n.components,i=Bt().goToMonth,l=function(h){i(ze(h,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:ha,u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(yo,{onChange:l,displayMonth:e.displayMonth}),a.jsx(wo,{onChange:l,displayMonth:e.displayMonth})]})}function Mo(e){return a.jsx("svg",I({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function To(e){return a.jsx("svg",I({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var an=c.forwardRef(function(e,t){var n=K(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=I(I({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",I({},e,{ref:t,type:"button",className:i,style:l}))});function Eo(e){var t,n,r=K(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,d=r.labels,u=d.labelPrevious,h=d.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var g=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:o}),w=[i.nav_button,i.nav_button_next].join(" "),x=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:To,y=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:Mo;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(an,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:i.nav_icon,style:l.nav_icon}):a.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(an,{name:"next-month","aria-label":b,className:w,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(y,{className:i.nav_icon,style:l.nav_icon}):a.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function jr(e){var t=K().numberOfMonths,n=Bt(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(b){return er(e.displayMonth,b)}),d=l===0,u=l===i.length-1,h=t>1&&(d||!u),m=t>1&&(u||!d),g=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(Eo,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:r,onPreviousClick:g,onNextClick:p})}function Ro(e){var t,n=K(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ha,u;return s?u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(wr,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(wr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(jr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(jr,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function Oo(e){var t=K(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function Io(e,t,n){for(var r=n?Jn(new Date):Rt(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Ne(r,o);s.push(i)}return s}function Ao(){var e=K(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=Io(s,o,i);return a.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(h,m){return a.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Po(){var e,t=K(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Ao;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Lo(e){var t=K(),n=t.locale,r=t.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:n})})}var tr=c.createContext(void 0);function Fo(e){if(!Lt(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(tr.Provider,{value:t,children:e.children})}return a.jsx(Bo,{initialProps:e.initialProps,children:e.children})}function Bo(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,h,m){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,u,h,m);var b=!!(h.selected&&s&&(r==null?void 0:r.length)===s);if(!b){var w=!!(!h.selected&&o&&(r==null?void 0:r.length)===o);if(!w){var x=r?ua([],r):[];if(h.selected){var y=x.findIndex(function(N){return _e(u,N)});x.splice(y,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,h,m)}}},l={disabled:[]};r&&l.disabled.push(function(u){var h=o&&r.length>o-1,m=r.some(function(g){return _e(g,u)});return!!(h&&!m)});var d={selected:r,onDayClick:i,modifiers:l};return a.jsx(tr.Provider,{value:d,children:n})}function nr(){var e=c.useContext(tr);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Wo(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?_e(s,e)&&_e(r,e)?void 0:_e(s,e)?{from:s,to:void 0}:_e(r,e)?void 0:$n(r,e)?{from:e,to:s}:{from:r,to:e}:s?$n(e,s)?{from:s,to:e}:{from:e,to:s}:r?da(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var rr=c.createContext(void 0);function Yo(e){if(!Ft(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(rr.Provider,{value:t,children:e.children})}return a.jsx(zo,{initialProps:e.initialProps,children:e.children})}function zo(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,l=t.min,d=t.max,u=function(p,b,w){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,p,b,w);var N=Wo(p,r);(y=t.onSelect)===null||y===void 0||y.call(t,N,p,b,w)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],_e(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:En(o,l-1),before:Ne(o,l-1)}),o&&i&&h.disabled.push({after:o,before:Ne(o,l-1)}),!o&&i&&h.disabled.push({after:En(i,l-1),before:Ne(i,l-1)})),d){if(o&&!i&&(h.disabled.push({before:Ne(o,-d+1)}),h.disabled.push({after:Ne(o,d-1)})),o&&i){var m=Je(i,o)+1,g=d-m;h.disabled.push({before:En(o,g)}),h.disabled.push({after:Ne(i,g)})}!o&&i&&(h.disabled.push({before:Ne(i,-d+1)}),h.disabled.push({after:Ne(i,d-1)}))}return a.jsx(rr.Provider,{value:{selected:r,onDayClick:u,modifiers:h},children:n})}function ar(){var e=c.useContext(rr);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gt(e){return Array.isArray(e)?ua([],e):e!==void 0?[e]:[]}function $o(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Gt(s)}),t}var $e;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($e||($e={}));var Vo=$e.Selected,Ge=$e.Disabled,Ho=$e.Hidden,Ko=$e.Today,On=$e.RangeEnd,In=$e.RangeMiddle,An=$e.RangeStart,Uo=$e.Outside;function Xo(e,t,n){var r,s=(r={},r[Vo]=Gt(e.selected),r[Ge]=Gt(e.disabled),r[Ho]=Gt(e.hidden),r[Ko]=[e.today],r[On]=[],r[In]=[],r[An]=[],r[Uo]=[],r);return e.fromDate&&s[Ge].push({before:e.fromDate}),e.toDate&&s[Ge].push({after:e.toDate}),Lt(e)?s[Ge]=s[Ge].concat(t.modifiers[Ge]):Ft(e)&&(s[Ge]=s[Ge].concat(n.modifiers[Ge]),s[An]=n.modifiers[An],s[In]=n.modifiers[In],s[On]=n.modifiers[On]),s}var pa=c.createContext(void 0);function qo(e){var t=K(),n=nr(),r=ar(),s=Xo(t,n,r),o=$o(t.modifiers),i=I(I({},s),o);return a.jsx(pa.Provider,{value:i,children:e.children})}function xa(){var e=c.useContext(pa);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Go(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Jo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Zo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Qo(e){return!!(e&&typeof e=="object"&&"before"in e)}function ei(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ti(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=Je(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Je(e,r)>=0&&Je(s,e)>=0;return i}return s?_e(s,e):r?_e(r,e):!1}function ni(e){return Xr(e)}function ri(e){return Array.isArray(e)&&e.every(Xr)}function ai(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(ni(n))return _e(e,n);if(ri(n))return n.includes(e);if(Jo(n))return ti(e,n);if(ei(n))return n.dayOfWeek.includes(e.getDay());if(Go(n)){var r=Je(n.before,e),s=Je(n.after,e),o=r>0,i=s<0,l=$n(n.before,n.after);return l?i&&o:o||i}return Zo(n)?Je(e,n.after)>0:Qo(n)?Je(n.before,e)>0:typeof n=="function"?n(e):!1})}function sr(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return ai(e,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!er(e,n)&&(s.outside=!0),s}function si(e,t){for(var n=Me(e[0]),r=Zn(e[e.length-1]),s,o,i=n;i<=r;){var l=sr(i,t),d=!l.disabled&&!l.hidden;if(!d){i=Ne(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=Ne(i,1)}return o||s}var oi=365;function ga(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,g={day:Ne,week:zn,month:ze,year:Ws,startOfWeek:function(x){return s.ISOWeek?Jn(x):Rt(x,{locale:m,weekStartsOn:d})},endOfWeek:function(x){return s.ISOWeek?ca(x):Qn(x,{locale:m,weekStartsOn:d})}},p=g[n](e,r==="after"?1:-1);r==="before"&&u?p=Ys([u,p]):r==="after"&&h&&(p=zs([h,p]));var b=!0;if(o){var w=sr(p,o);b=!w.disabled&&!w.hidden}return b?p:l.count>oi?l.lastFocused:ga(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:I(I({},l),{count:l.count+1})})}var ba=c.createContext(void 0);function ii(e){var t=Bt(),n=xa(),r=c.useState(),s=r[0],o=r[1],i=c.useState(),l=i[0],d=i[1],u=si(t.displayMonths,n),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){d(s),o(void 0)},g=function(x){o(x)},p=K(),b=function(x,y){if(s){var N=ga(s,{moveBy:x,direction:y,context:p,modifiers:n});_e(s,N)||(t.goToDate(N,s),g(N))}},w={focusedDay:s,focusTarget:h,blur:m,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return a.jsx(ba.Provider,{value:w,children:e.children})}function or(){var e=c.useContext(ba);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function li(e,t){var n=xa(),r=sr(e,n,t);return r}var ir=c.createContext(void 0);function ci(e){if(!vn(e.initialProps)){var t={selected:void 0};return a.jsx(ir.Provider,{value:t,children:e.children})}return a.jsx(di,{initialProps:e.initialProps,children:e.children})}function di(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:r};return a.jsx(ir.Provider,{value:s,children:n})}function ya(){var e=c.useContext(ir);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ui(e,t){var n=K(),r=ya(),s=nr(),o=ar(),i=or(),l=i.focusDayAfter,d=i.focusDayBefore,u=i.focusWeekAfter,h=i.focusWeekBefore,m=i.blur,g=i.focus,p=i.focusMonthBefore,b=i.focusMonthAfter,w=i.focusYearBefore,x=i.focusYearAfter,y=i.focusStartOfWeek,N=i.focusEndOfWeek,E=function(C){var _,U,Te,xe;vn(n)?(_=r.onDayClick)===null||_===void 0||_.call(r,e,t,C):Lt(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,t,C):Ft(n)?(Te=o.onDayClick)===null||Te===void 0||Te.call(o,e,t,C):(xe=n.onDayClick)===null||xe===void 0||xe.call(n,e,t,C)},S=function(C){var _;g(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,C)},O=function(C){var _;m(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,C)},M=function(C){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,C)},R=function(C){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,C)},A=function(C){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,C)},B=function(C){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,C)},V=function(C){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,C)},F=function(C){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,C)},ne=function(C){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,C)},re=function(C){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,C)},le=function(C){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,C)},fe=function(C){var _;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():d();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?d():l();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),u();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),h();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?w():p();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?x():b();break;case"Home":C.preventDefault(),C.stopPropagation(),y();break;case"End":C.preventDefault(),C.stopPropagation(),N();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,C)},Be={onClick:E,onFocus:S,onBlur:O,onKeyDown:fe,onKeyUp:le,onMouseEnter:M,onMouseLeave:R,onPointerEnter:A,onPointerLeave:B,onTouchCancel:V,onTouchEnd:F,onTouchMove:ne,onTouchStart:re};return Be}function fi(){var e=K(),t=ya(),n=nr(),r=ar(),s=vn(e)?t.selected:Lt(e)?n.selected:Ft(e)?r.selected:void 0;return s}function hi(e){return Object.values($e).includes(e)}function mi(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(hi(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function vi(e,t){var n=I({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=I(I({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function pi(e,t,n){var r,s,o,i=K(),l=or(),d=li(e,t),u=ui(e,d),h=fi(),m=!!(i.onDayClick||i.mode!=="default");c.useEffect(function(){var M;d.outside||l.focusedDay&&m&&_e(l.focusedDay,e)&&((M=n.current)===null||M===void 0||M.focus())},[l.focusedDay,e,n,m,d.outside]);var g=mi(i,d).join(" "),p=vi(i,d),b=!!(d.outside&&!i.showOutsideDays||d.hidden),w=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Lo,x=a.jsx(w,{date:e,displayMonth:t,activeModifiers:d}),y={style:p,className:g,children:x,role:"gridcell"},N=l.focusTarget&&_e(l.focusTarget,e)&&!d.outside,E=l.focusedDay&&_e(l.focusedDay,e),S=I(I(I({},y),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=E||N?0:-1,r)),u),O={isButton:m,isHidden:b,activeModifiers:d,selectedDays:h,buttonProps:S,divProps:y};return O}function xi(e){var t=c.useRef(null),n=pi(e.date,e.displayMonth,t);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(an,I({name:"day",ref:t},n.buttonProps)):a.jsx("div",I({},n.divProps))}function gi(e){var t=e.number,n=e.dates,r=K(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var m=d(Number(t),{locale:l}),g=function(p){s(t,n,p)};return a.jsx(an,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:g,children:h})}function bi(e){var t,n,r=K(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:xi,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:gi,h;return i&&(h=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[h,e.dates.map(function(m){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:m})},Hs(m))})]})}function Nr(e,t,n){for(var r=n!=null&&n.ISOWeek?ca(t):Qn(t,n),s=n!=null&&n.ISOWeek?Jn(e):Rt(e,n),o=Je(r,s),i=[],l=0;l<=o;l++)i.push(Ne(s,l));var d=i.reduce(function(u,h){var m=n!=null&&n.ISOWeek?Ss(h):ks(h,n),g=u.find(function(p){return p.weekNumber===m});return g?(g.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return d}function yi(e,t){var n=Nr(Me(e),Zn(e),t);if(t!=null&&t.useFixedWeeks){var r=Us(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=zn(o,6-r),l=Nr(zn(o,1),i,t);n.push.apply(n,l)}}return n}function wi(e){var t,n,r,s=K(),o=s.locale,i=s.classNames,l=s.styles,d=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,g=s.firstWeekContainsDate,p=s.ISOWeek,b=yi(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:g}),w=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Po,x=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:bi,y=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:Oo;return a.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(w,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:b.map(function(N){return a.jsx(x,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function ji(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ni=ji()?c.useLayoutEffect:c.useEffect,Pn=!1,Di=0;function Dr(){return"react-day-picker-".concat(++Di)}function Ci(e){var t,n=e??(Pn?Dr():null),r=c.useState(n),s=r[0],o=r[1];return Ni(function(){s===null&&o(Dr())},[]),c.useEffect(function(){Pn===!1&&(Pn=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Si(e){var t,n,r=K(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,d=Bt().displayMonths,u=Ci(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],g=i.month,p=e.displayIndex===0,b=e.displayIndex===d.length-1,w=!p&&!b;s==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(m.push(o.caption_start),g=I(I({},g),i.caption_start)),b&&(m.push(o.caption_end),g=I(I({},g),i.caption_end)),w&&(m.push(o.caption_between),g=I(I({},g),i.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Ro;return a.jsxs("div",{className:m.join(" "),style:g,children:[a.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(wi,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function ki(e){var t=K(),n=t.classNames,r=t.styles;return a.jsx("div",{className:n.months,style:r.months,children:e.children})}function _i(e){var t,n,r=e.initialProps,s=K(),o=or(),i=Bt(),l=c.useState(!1),d=l[0],u=l[1];c.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=I(I({},s.styles.root),s.style),g=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,w){var x;return I(I({},b),(x={},x[w]=r[w],x))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:ki;return a.jsx("div",I({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:a.jsx(p,{children:i.displayMonths.map(function(b,w){return a.jsx(Si,{displayIndex:w,displayMonth:b},w)})})}))}function Mi(e){var t=e.children,n=Zs(e,["children"]);return a.jsx(go,{initialProps:n,children:a.jsx(_o,{children:a.jsx(ci,{initialProps:n,children:a.jsx(Fo,{initialProps:n,children:a.jsx(Yo,{initialProps:n,children:a.jsx(qo,{children:a.jsx(ii,{children:t})})})})})})})}function Ti(e){return a.jsx(Mi,I({},e,{children:a.jsx(_i,{initialProps:e})}))}function lr({className:e,classNames:t,showOutsideDays:n=!0,...r}){return a.jsx(Ti,{showOutsideDays:n,className:Y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Y(xr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Y(xr({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(_s,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Ms,{className:"h-4 w-4"})},...r})}lr.displayName="Calendar";function Ei(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const pn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pt(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function cr(e){return"nodeType"in e}function Ce(e){var t,n;return e?pt(e)?e:cr(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function dr(e){const{Document:t}=Ce(e);return e instanceof t}function Wt(e){return pt(e)?!1:e instanceof Ce(e).HTMLElement}function wa(e){return e instanceof Ce(e).SVGElement}function xt(e){return e?pt(e)?e.document:cr(e)?dr(e)?e:Wt(e)||wa(e)?e.ownerDocument:document:document:document}const Ve=pn?c.useLayoutEffect:c.useEffect;function xn(e){const t=c.useRef(e);return Ve(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Ri(){const e=c.useRef(null),t=c.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function It(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return Ve(()=>{n.current!==e&&(n.current=e)},t),n}function Yt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function sn(e){const t=xn(e),n=c.useRef(null),r=c.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function on(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Ln={};function zt(e,t){return c.useMemo(()=>{if(t)return t;const n=Ln[e]==null?0:Ln[e]+1;return Ln[e]=n,e+"-"+n},[e,t])}function ja(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[d,u]of l){const h=o[d];h!=null&&(o[d]=h+e*u)}return o},{...t})}}const ht=ja(1),ln=ja(-1);function Oi(e){return"clientX"in e&&"clientY"in e}function gn(e){if(!e)return!1;const{KeyboardEvent:t}=Ce(e.target);return t&&e instanceof t}function Ii(e){if(!e)return!1;const{TouchEvent:t}=Ce(e.target);return t&&e instanceof t}function cn(e){if(Ii(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Oi(e)?{x:e.clientX,y:e.clientY}:null}const Ze=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ze.Translate.toString(e),Ze.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Cr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ai(e){return e.matches(Cr)?e:e.querySelector(Cr)}const Pi={display:"none"};function Li(e){let{id:t,value:n}=e;return q.createElement("div",{id:t,style:Pi},n)}function Fi(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return q.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Bi(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Na=c.createContext(null);function Wi(e){const t=c.useContext(Na);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Yi(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:s,event:o}=r;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,o)})},[e]),t]}const zi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$i={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Vi(e){let{announcements:t=$i,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=zi}=e;const{announce:o,announcement:i}=Bi(),l=zt("DndLiveRegion"),[d,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Wi(c.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:p}=m;t.onDragMove&&o(t.onDragMove({active:g,over:p}))},onDragOver(m){let{active:g,over:p}=m;o(t.onDragOver({active:g,over:p}))},onDragEnd(m){let{active:g,over:p}=m;o(t.onDragEnd({active:g,over:p}))},onDragCancel(m){let{active:g,over:p}=m;o(t.onDragCancel({active:g,over:p}))}}),[o,t])),!d)return null;const h=q.createElement(q.Fragment,null,q.createElement(Li,{id:r,value:s.draggable}),q.createElement(Fi,{id:l,announcement:i}));return n?Dt.createPortal(h,n):h}var ue;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ue||(ue={}));function dn(){}function Da(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ca(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const He=Object.freeze({x:0,y:0});function Hi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ki(e,t){const n=cn(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Ui(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Xi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Sr(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function qi(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const Sa=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Sr(t),o=[];for(const i of r){const{id:l}=i,d=n.get(l);if(d){const u=Sr(d),h=s.reduce((g,p,b)=>g+Hi(u[b],p),0),m=Number((h/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:m}})}}return o.sort(Ui)};function Gi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,l=o-n;if(r<s&&n<o){const d=t.width*t.height,u=e.width*e.height,h=i*l,m=h/(d+u-h);return Number(m.toFixed(4))}return 0}const Ji=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:i}=o,l=n.get(i);if(l){const d=Gi(l,t);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(Xi)};function Zi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ka(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:He}function Qi(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const el=Qi(1);function _a(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function tl(e,t,n){const r=_a(t);if(!r)return e;const{scaleX:s,scaleY:o,x:i,y:l}=r,d=e.left-i-(1-s)*parseFloat(n),u=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:h,height:m,top:u,right:d+h,bottom:u+m,left:d}}const nl={ignoreTransform:!1};function gt(e,t){t===void 0&&(t=nl);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=Ce(e).getComputedStyle(e);u&&(n=tl(n,u,h))}const{top:r,left:s,width:o,height:i,bottom:l,right:d}=n;return{top:r,left:s,width:o,height:i,bottom:l,right:d}}function kr(e){return gt(e,{ignoreTransform:!0})}function rl(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function al(e,t){return t===void 0&&(t=Ce(e).getComputedStyle(e)),t.position==="fixed"}function sl(e,t){t===void 0&&(t=Ce(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function ur(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(dr(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Wt(s)||wa(s)||n.includes(s))return n;const o=Ce(e).getComputedStyle(s);return s!==e&&sl(s,o)&&n.push(s),al(s,o)?n:r(s.parentNode)}return e?r(e):n}function Ma(e){const[t]=ur(e,1);return t??null}function Fn(e){return!pn||!e?null:pt(e)?e:cr(e)?dr(e)||e===xt(e).scrollingElement?window:Wt(e)?e:null:null}function Ta(e){return pt(e)?e.scrollX:e.scrollLeft}function Ea(e){return pt(e)?e.scrollY:e.scrollTop}function Vn(e){return{x:Ta(e),y:Ea(e)}}var ve;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ve||(ve={}));function Ra(e){return!pn||!e?!1:e===document.scrollingElement}function Oa(e){const t={x:0,y:0},n=Ra(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const ol={x:.2,y:.2};function il(e,t,n,r,s){let{top:o,left:i,right:l,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=ol);const{isTop:u,isBottom:h,isLeft:m,isRight:g}=Oa(e),p={x:0,y:0},b={x:0,y:0},w={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+w.height?(p.y=ve.Backward,b.y=r*Math.abs((t.top+w.height-o)/w.height)):!h&&d>=t.bottom-w.height&&(p.y=ve.Forward,b.y=r*Math.abs((t.bottom-w.height-d)/w.height)),!g&&l>=t.right-w.width?(p.x=ve.Forward,b.x=r*Math.abs((t.right-w.width-l)/w.width)):!m&&i<=t.left+w.width&&(p.x=ve.Backward,b.x=r*Math.abs((t.left+w.width-i)/w.width)),{direction:p,speed:b}}function ll(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ia(e){return e.reduce((t,n)=>ht(t,Vn(n)),He)}function cl(e){return e.reduce((t,n)=>t+Ta(n),0)}function dl(e){return e.reduce((t,n)=>t+Ea(n),0)}function Aa(e,t){if(t===void 0&&(t=gt),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);Ma(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ul=[["x",["left","right"],cl],["y",["top","bottom"],dl]];class fr{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ur(n),s=Ia(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of ul)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=l(r),h=s[o]-u;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function fl(e){const{EventTarget:t}=Ce(e);return e instanceof t?e:xt(e)}function Bn(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Le;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Le||(Le={}));function _r(e){e.preventDefault()}function hl(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));const Pa={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter,$.Tab]},ml=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class La{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new kt(xt(n)),this.windowListeners=new kt(Ce(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Le.Resize,this.handleCancel),this.windowListeners.add(Le.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Le.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Aa(r),n(He)}handleKeyDown(t){if(gn(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=Pa,coordinateGetter:i=ml,scrollBehavior:l="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:He;this.referenceCoordinates||(this.referenceCoordinates=h);const m=i(t,{active:n,context:r.current,currentCoordinates:h});if(m){const g=ln(m,h),p={x:0,y:0},{scrollableAncestors:b}=r.current;for(const w of b){const x=t.code,{isTop:y,isRight:N,isLeft:E,isBottom:S,maxScroll:O,minScroll:M}=Oa(w),R=ll(w),A={x:Math.min(x===$.Right?R.right-R.width/2:R.right,Math.max(x===$.Right?R.left:R.left+R.width/2,m.x)),y:Math.min(x===$.Down?R.bottom-R.height/2:R.bottom,Math.max(x===$.Down?R.top:R.top+R.height/2,m.y))},B=x===$.Right&&!N||x===$.Left&&!E,V=x===$.Down&&!S||x===$.Up&&!y;if(B&&A.x!==m.x){const F=w.scrollLeft+g.x,ne=x===$.Right&&F<=O.x||x===$.Left&&F>=M.x;if(ne&&!g.y){w.scrollTo({left:F,behavior:l});return}ne?p.x=w.scrollLeft-F:p.x=x===$.Right?w.scrollLeft-O.x:w.scrollLeft-M.x,p.x&&w.scrollBy({left:-p.x,behavior:l});break}else if(V&&A.y!==m.y){const F=w.scrollTop+g.y,ne=x===$.Down&&F<=O.y||x===$.Up&&F>=M.y;if(ne&&!g.x){w.scrollTo({top:F,behavior:l});return}ne?p.y=w.scrollTop-F:p.y=x===$.Down?w.scrollTop-O.y:w.scrollTop-M.y,p.y&&w.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,ht(ln(m,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}La.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pa,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Mr(e){return!!(e&&"distance"in e)}function Tr(e){return!!(e&&"delay"in e)}class hr{constructor(t,n,r){var s;r===void 0&&(r=fl(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=xt(i),this.documentListeners=new kt(this.document),this.listeners=new kt(r),this.windowListeners=new kt(Ce(i)),this.initialCoordinates=(s=cn(o))!=null?s:He,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Le.Resize,this.handleCancel),this.windowListeners.add(Le.DragStart,_r),this.windowListeners.add(Le.VisibilityChange,this.handleCancel),this.windowListeners.add(Le.ContextMenu,_r),this.documentListeners.add(Le.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Tr(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Mr(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Le.Click,hl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Le.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!s)return;const d=(n=cn(t))!=null?n:He,u=ln(s,d);if(!r&&l){if(Mr(l)){if(l.tolerance!=null&&Bn(u,l.tolerance))return this.handleCancel();if(Bn(u,l.distance))return this.handleStart()}if(Tr(l)&&Bn(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const vl={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bn extends hr{constructor(t){const{event:n}=t,r=xt(n.target);super(t,vl,r)}}bn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const pl={move:{name:"mousemove"},end:{name:"mouseup"}};var Hn;(function(e){e[e.RightClick=2]="RightClick"})(Hn||(Hn={}));class xl extends hr{constructor(t){super(t,pl,xt(t.event.target))}}xl.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Hn.RightClick?!1:(r==null||r({event:n}),!0)}}];const Wn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class gl extends hr{constructor(t){super(t,Wn)}static setup(){return window.addEventListener(Wn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Wn.move.name,t)};function t(){}}}gl.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var _t;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_t||(_t={}));var un;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(un||(un={}));function bl(e){let{acceleration:t,activator:n=_t.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:l=un.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:h,delta:m,threshold:g}=e;const p=wl({delta:m,disabled:!o}),[b,w]=Ri(),x=c.useRef({x:0,y:0}),y=c.useRef({x:0,y:0}),N=c.useMemo(()=>{switch(n){case _t.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case _t.DraggableRect:return s}},[n,s,d]),E=c.useRef(null),S=c.useCallback(()=>{const M=E.current;if(!M)return;const R=x.current.x*y.current.x,A=x.current.y*y.current.y;M.scrollBy(R,A)},[]),O=c.useMemo(()=>l===un.TreeOrder?[...u].reverse():u,[l,u]);c.useEffect(()=>{if(!o||!u.length||!N){w();return}for(const M of O){if((r==null?void 0:r(M))===!1)continue;const R=u.indexOf(M),A=h[R];if(!A)continue;const{direction:B,speed:V}=il(M,A,N,t,g);for(const F of["x","y"])p[F][B[F]]||(V[F]=0,B[F]=0);if(V.x>0||V.y>0){w(),E.current=M,b(S,i),x.current=V,y.current=B;return}}x.current={x:0,y:0},y.current={x:0,y:0},w()},[t,S,r,w,o,i,JSON.stringify(N),JSON.stringify(p),b,u,O,h,JSON.stringify(g)])}const yl={x:{[ve.Backward]:!1,[ve.Forward]:!1},y:{[ve.Backward]:!1,[ve.Forward]:!1}};function wl(e){let{delta:t,disabled:n}=e;const r=on(t);return Yt(s=>{if(n||!r||!s)return yl;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ve.Backward]:s.x[ve.Backward]||o.x===-1,[ve.Forward]:s.x[ve.Forward]||o.x===1},y:{[ve.Backward]:s.y[ve.Backward]||o.y===-1,[ve.Forward]:s.y[ve.Forward]||o.y===1}}},[n,t,r])}function jl(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Yt(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function Nl(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var At;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(At||(At={}));var Kn;(function(e){e.Optimized="optimized"})(Kn||(Kn={}));const Er=new Map;function Dl(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,i]=c.useState(null),{frequency:l,measure:d,strategy:u}=s,h=c.useRef(e),m=x(),g=It(m),p=c.useCallback(function(y){y===void 0&&(y=[]),!g.current&&i(N=>N===null?y:N.concat(y.filter(E=>!N.includes(E))))},[g]),b=c.useRef(null),w=Yt(y=>{if(m&&!n)return Er;if(!y||y===Er||h.current!==e||o!=null){const N=new Map;for(let E of e){if(!E)continue;if(o&&o.length>0&&!o.includes(E.id)&&E.rect.current){N.set(E.id,E.rect.current);continue}const S=E.node.current,O=S?new fr(d(S),S):null;E.rect.current=O,O&&N.set(E.id,O)}return N}return y},[e,o,n,m,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{m||p()},[n,m]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},l))},[l,m,p,...r]),{droppableRects:w,measureDroppableContainers:p,measuringScheduled:o!=null};function x(){switch(u){case At.Always:return!1;case At.BeforeDragging:return n;default:return!n}}}function mr(e,t){return Yt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Cl(e,t){return mr(e,t)}function Sl(e){let{callback:t,disabled:n}=e;const r=xn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yn(e){let{callback:t,disabled:n}=e;const r=xn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function kl(e){return new fr(gt(e),e)}function Rr(e,t,n){t===void 0&&(t=kl);const[r,s]=c.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=Sl({callback(d){if(e)for(const u of d){const{type:h,target:m}=u;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),l=yn({callback:o});return Ve(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function _l(e){const t=mr(e);return ka(e,t)}const Or=[];function Ml(e){const t=c.useRef(e),n=Yt(r=>e?r&&r!==Or&&e&&t.current&&e.parentNode===t.current.parentNode?r:ur(e):Or,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function Tl(e){const[t,n]=c.useState(null),r=c.useRef(e),s=c.useCallback(o=>{const i=Fn(o.target);i&&n(l=>l?(l.set(i,Vn(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=r.current;if(e!==o){i(o);const l=e.map(d=>{const u=Fn(d);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Vn(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(d=>{const u=Fn(d);u==null||u.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>ht(o,i),He):Ia(e):He,[e,t])}function Ir(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==He;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ln(e,n.current):He}function El(e){c.useEffect(()=>{if(!pn)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Rl(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function Fa(e){return c.useMemo(()=>e?rl(e):null,[e])}const Ar=[];function Ol(e,t){t===void 0&&(t=gt);const[n]=e,r=Fa(n?Ce(n):null),[s,o]=c.useState(Ar);function i(){o(()=>e.length?e.map(d=>Ra(d)?r:new fr(t(d),d)):Ar)}const l=yn({callback:i});return Ve(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),s}function Ba(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Wt(t)?t:e}function Il(e){let{measure:t}=e;const[n,r]=c.useState(null),s=c.useCallback(u=>{for(const{target:h}of u)if(Wt(h)){r(m=>{const g=t(h);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=yn({callback:s}),i=c.useCallback(u=>{const h=Ba(u);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[l,d]=sn(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Al=[{sensor:bn,options:{}},{sensor:La,options:{}}],Pl={current:{}},Jt={draggable:{measure:kr},droppable:{measure:kr,strategy:At.WhileDragging,frequency:Kn.Optimized},dragOverlay:{measure:gt}};class Mt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Ll={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jt,measureDroppableContainers:dn,windowRect:null,measuringScheduled:!1},Wa={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dn,draggableNodes:new Map,over:null,measureDroppableContainers:dn},$t=c.createContext(Wa),Ya=c.createContext(Ll);function Fl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mt}}}function Bl(e,t){switch(t.type){case ue.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ue.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ue.DragEnd:case ue.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ue.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Mt(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case ue.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Mt(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case ue.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Mt(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Wl(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=c.useContext($t),o=on(r),i=on(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!gn(o)||document.activeElement===o.target)return;const l=s.get(i);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[d.current,u.current]){if(!h)continue;const m=Ai(h);if(m){m.focus();break}}})}},[r,t,s,i,o]),null}function za(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function Yl(e){return c.useMemo(()=>({draggable:{...Jt.draggable,...e==null?void 0:e.draggable},droppable:{...Jt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Jt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function zl(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Ve(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),m=ka(h,r);if(i||(m.x=0),l||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=Ma(u);g&&g.scrollBy({top:m.y,left:m.x})}},[t,i,l,r,n])}const wn=c.createContext({...He,scaleX:1,scaleY:1});var tt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(tt||(tt={}));const $a=c.memo(function(t){var n,r,s,o;let{id:i,accessibility:l,autoScroll:d=!0,children:u,sensors:h=Al,collisionDetection:m=Ji,measuring:g,modifiers:p,...b}=t;const w=c.useReducer(Bl,void 0,Fl),[x,y]=w,[N,E]=Yi(),[S,O]=c.useState(tt.Uninitialized),M=S===tt.Initialized,{draggable:{active:R,nodes:A,translate:B},droppable:{containers:V}}=x,F=R!=null?A.get(R):null,ne=c.useRef({initial:null,translated:null}),re=c.useMemo(()=>{var te;return R!=null?{id:R,data:(te=F==null?void 0:F.data)!=null?te:Pl,rect:ne}:null},[R,F]),le=c.useRef(null),[fe,Be]=c.useState(null),[C,_]=c.useState(null),U=It(b,Object.values(b)),Te=zt("DndDescribedBy",i),xe=c.useMemo(()=>V.getEnabled(),[V]),z=Yl(g),{droppableRects:pe,measureDroppableContainers:ee,measuringScheduled:Ee}=Dl(xe,{dragging:M,dependencies:[B.x,B.y],config:z.droppable}),he=jl(A,R),Ke=c.useMemo(()=>C?cn(C):null,[C]),Oe=kn(),we=Cl(he,z.draggable.measure);zl({activeNode:R!=null?A.get(R):null,config:Oe.layoutShiftCompensation,initialRect:we,measure:z.draggable.measure});const W=Rr(he,z.draggable.measure,we),Ie=Rr(he?he.parentElement:null),Se=c.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:pe,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Re=V.getNodeFor((n=Se.current.over)==null?void 0:n.id),ke=Il({measure:z.dragOverlay.measure}),ge=(r=ke.nodeRef.current)!=null?r:he,Ae=M?(s=ke.rect)!=null?s:W:null,We=!!(ke.nodeRef.current&&ke.rect),Ue=_l(We?null:W),v=Fa(ge?Ce(ge):null),k=Ml(M?Re??he:null),T=Ol(k),ce=za(p,{transform:{x:B.x-Ue.x,y:B.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:C,active:re,activeNodeRect:W,containerNodeRect:Ie,draggingNodeRect:Ae,over:Se.current.over,overlayNodeRect:ke.rect,scrollableAncestors:k,scrollableAncestorRects:T,windowRect:v}),me=Ke?ht(Ke,B):null,X=Tl(k),be=Ir(X),Ye=Ir(X,[W]),Pe=ht(ce,be),Qe=Ae?el(Ae,ce):null,nt=re&&Qe?m({active:re,collisionRect:Qe,droppableRects:pe,droppableContainers:xe,pointerCoordinates:me}):null,ct=qi(nt,"id"),[Xe,Vt]=c.useState(null),jn=We?ce:ht(ce,Ye),Nn=Zi(jn,(o=Xe==null?void 0:Xe.rect)!=null?o:null,W),bt=c.useRef(null),Ht=c.useCallback((te,je)=>{let{sensor:f,options:j}=je;if(le.current==null)return;const D=A.get(le.current);if(!D)return;const L=te.nativeEvent,H=new f({active:le.current,activeNode:D,event:L,options:j,context:Se,onAbort(G){if(!A.get(G))return;const{onDragAbort:de}=U.current,Z={id:G};de==null||de(Z),N({type:"onDragAbort",event:Z})},onPending(G,J,de,Z){if(!A.get(G))return;const{onDragPending:wt}=U.current,et={id:G,constraint:J,initialCoordinates:de,offset:Z};wt==null||wt(et),N({type:"onDragPending",event:et})},onStart(G){const J=le.current;if(J==null)return;const de=A.get(J);if(!de)return;const{onDragStart:Z}=U.current,qe={activatorEvent:L,active:{id:J,data:de.data,rect:ne}};Dt.unstable_batchedUpdates(()=>{Z==null||Z(qe),O(tt.Initializing),y({type:ue.DragStart,initialCoordinates:G,active:J}),N({type:"onDragStart",event:qe}),Be(bt.current),_(L)})},onMove(G){y({type:ue.DragMove,coordinates:G})},onEnd:ye(ue.DragEnd),onCancel:ye(ue.DragCancel)});bt.current=H;function ye(G){return async function(){const{active:de,collisions:Z,over:qe,scrollAdjustedTranslate:wt}=Se.current;let et=null;if(de&&wt){const{cancelDrop:jt}=U.current;et={activatorEvent:L,active:de,collisions:Z,delta:wt,over:qe},G===ue.DragEnd&&typeof jt=="function"&&await Promise.resolve(jt(et))&&(G=ue.DragCancel)}le.current=null,Dt.unstable_batchedUpdates(()=>{y({type:G}),O(tt.Uninitialized),Vt(null),Be(null),_(null),bt.current=null;const jt=G===ue.DragEnd?"onDragEnd":"onDragCancel";if(et){const _n=U.current[jt];_n==null||_n(et),N({type:jt,event:et})}})}}},[A]),Dn=c.useCallback((te,je)=>(f,j)=>{const D=f.nativeEvent,L=A.get(j);if(le.current!==null||!L||D.dndKit||D.defaultPrevented)return;const H={active:L};te(f,je.options,H)===!0&&(D.dndKit={capturedBy:je.sensor},le.current=j,Ht(f,je))},[A,Ht]),yt=Nl(h,Dn);El(h),Ve(()=>{W&&S===tt.Initializing&&O(tt.Initialized)},[W,S]),c.useEffect(()=>{const{onDragMove:te}=U.current,{active:je,activatorEvent:f,collisions:j,over:D}=Se.current;if(!je||!f)return;const L={active:je,activatorEvent:f,collisions:j,delta:{x:Pe.x,y:Pe.y},over:D};Dt.unstable_batchedUpdates(()=>{te==null||te(L),N({type:"onDragMove",event:L})})},[Pe.x,Pe.y]),c.useEffect(()=>{const{active:te,activatorEvent:je,collisions:f,droppableContainers:j,scrollAdjustedTranslate:D}=Se.current;if(!te||le.current==null||!je||!D)return;const{onDragOver:L}=U.current,H=j.get(ct),ye=H&&H.rect.current?{id:H.id,rect:H.rect.current,data:H.data,disabled:H.disabled}:null,G={active:te,activatorEvent:je,collisions:f,delta:{x:D.x,y:D.y},over:ye};Dt.unstable_batchedUpdates(()=>{Vt(ye),L==null||L(G),N({type:"onDragOver",event:G})})},[ct]),Ve(()=>{Se.current={activatorEvent:C,active:re,activeNode:he,collisionRect:Qe,collisions:nt,droppableRects:pe,draggableNodes:A,draggingNode:ge,draggingNodeRect:Ae,droppableContainers:V,over:Xe,scrollableAncestors:k,scrollAdjustedTranslate:Pe},ne.current={initial:Ae,translated:Qe}},[re,he,nt,Qe,A,ge,Ae,pe,V,Xe,k,Pe]),bl({...Oe,delta:B,draggingRect:Qe,pointerCoordinates:me,scrollableAncestors:k,scrollableAncestorRects:T});const Cn=c.useMemo(()=>({active:re,activeNode:he,activeNodeRect:W,activatorEvent:C,collisions:nt,containerNodeRect:Ie,dragOverlay:ke,draggableNodes:A,droppableContainers:V,droppableRects:pe,over:Xe,measureDroppableContainers:ee,scrollableAncestors:k,scrollableAncestorRects:T,measuringConfiguration:z,measuringScheduled:Ee,windowRect:v}),[re,he,W,C,nt,Ie,ke,A,V,pe,Xe,ee,k,T,z,Ee,v]),Sn=c.useMemo(()=>({activatorEvent:C,activators:yt,active:re,activeNodeRect:W,ariaDescribedById:{draggable:Te},dispatch:y,draggableNodes:A,over:Xe,measureDroppableContainers:ee}),[C,yt,re,W,y,Te,A,Xe,ee]);return q.createElement(Na.Provider,{value:E},q.createElement($t.Provider,{value:Sn},q.createElement(Ya.Provider,{value:Cn},q.createElement(wn.Provider,{value:Nn},u)),q.createElement(Wl,{disabled:(l==null?void 0:l.restoreFocus)===!1})),q.createElement(Vi,{...l,hiddenTextDescribedById:Te}));function kn(){const te=(fe==null?void 0:fe.autoScrollEnabled)===!1,je=typeof d=="object"?d.enabled===!1:d===!1,f=M&&!te&&!je;return typeof d=="object"?{...d,enabled:f}:{enabled:f}}}),$l=c.createContext(null),Pr="button",Vl="Draggable";function Hl(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=zt(Vl),{activators:i,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:h,draggableNodes:m,over:g}=c.useContext($t),{role:p=Pr,roleDescription:b="draggable",tabIndex:w=0}=s??{},x=(d==null?void 0:d.id)===t,y=c.useContext(x?wn:$l),[N,E]=sn(),[S,O]=sn(),M=Rl(i,t),R=It(n);Ve(()=>(m.set(t,{id:t,key:o,node:N,activatorNode:S,data:R}),()=>{const B=m.get(t);B&&B.key===o&&m.delete(t)}),[m,t]);const A=c.useMemo(()=>({role:p,tabIndex:w,"aria-disabled":r,"aria-pressed":x&&p===Pr?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,p,w,x,b,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:x,listeners:r?void 0:M,node:N,over:g,setNodeRef:E,setActivatorNodeRef:O,transform:y}}function Va(){return c.useContext(Ya)}const Kl="Droppable",Ul={timeout:25};function vr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=zt(Kl),{active:i,dispatch:l,over:d,measureDroppableContainers:u}=c.useContext($t),h=c.useRef({disabled:n}),m=c.useRef(!1),g=c.useRef(null),p=c.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:x}={...Ul,...s},y=It(w??r),N=c.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),p.current=null},x)},[x]),E=yn({callback:N,disabled:b||!i}),S=c.useCallback((A,B)=>{E&&(B&&(E.unobserve(B),m.current=!1),A&&E.observe(A))},[E]),[O,M]=sn(S),R=It(t);return c.useEffect(()=>{!E||!O.current||(E.disconnect(),m.current=!1,E.observe(O.current))},[O,E]),c.useEffect(()=>(l({type:ue.RegisterDroppable,element:{id:r,key:o,disabled:n,node:O,rect:g,data:R}}),()=>l({type:ue.UnregisterDroppable,key:o,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:ue.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,l]),{active:i,rect:g,isOver:(d==null?void 0:d.id)===r,node:O,over:d,setNodeRef:M}}function Xl(e){let{animation:t,children:n}=e;const[r,s]=c.useState(null),[o,i]=c.useState(null),l=on(n);return!n&&!r&&l&&s(l),Ve(()=>{if(!o)return;const d=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(d==null||u==null){s(null);return}Promise.resolve(t(u,o)).then(()=>{s(null)})},[t,r,o]),q.createElement(q.Fragment,null,n,r?c.cloneElement(r,{ref:i}):null)}const ql={x:0,y:0,scaleX:1,scaleY:1};function Gl(e){let{children:t}=e;return q.createElement($t.Provider,{value:Wa},q.createElement(wn.Provider,{value:ql},t))}const Jl={position:"fixed",touchAction:"none"},Zl=e=>gn(e)?"transform 250ms ease":void 0,Ql=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:i,rect:l,style:d,transform:u,transition:h=Zl}=e;if(!l)return null;const m=s?u:{...u,scaleX:1,scaleY:1},g={...Jl,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ze.Transform.toString(m),transformOrigin:s&&r?Ki(r,l):void 0,transition:typeof h=="function"?h(r):h,...d};return q.createElement(n,{className:i,style:g,ref:t},o)}),ec=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[l,d]of Object.entries(o.active))d!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,d));if(o!=null&&o.dragOverlay)for(const[l,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(l,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[d,u]of Object.entries(s))n.node.style.setProperty(d,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},tc=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ze.Transform.toString(t)},{transform:Ze.Transform.toString(n)}]},nc={duration:250,easing:"ease",keyframes:tc,sideEffects:ec({styles:{active:{opacity:"0"}}})};function rc(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return xn((o,i)=>{if(t===null)return;const l=n.get(o);if(!l)return;const d=l.node.current;if(!d)return;const u=Ba(i);if(!u)return;const{transform:h}=Ce(i).getComputedStyle(i),m=_a(h);if(!m)return;const g=typeof t=="function"?t:ac(t);return Aa(d,s.draggable.measure),g({active:{id:o,data:l.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:m})})}function ac(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...nc,...e};return o=>{let{active:i,dragOverlay:l,transform:d,...u}=o;if(!t)return;const h={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},m={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/l.rect.height:1},g={x:d.x-h.x,y:d.y-h.y,...m},p=s({...u,active:i,dragOverlay:l,transform:{initial:d,final:g}}),[b]=p,w=p[p.length-1];if(JSON.stringify(b)===JSON.stringify(w))return;const x=r==null?void 0:r({active:i,dragOverlay:l,...u}),y=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{y.onfinish=()=>{x==null||x(),N()}})}}let Lr=0;function sc(e){return c.useMemo(()=>{if(e!=null)return Lr++,Lr},[e])}const Ha=q.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:i,wrapperElement:l="div",className:d,zIndex:u=999}=e;const{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggableNodes:b,droppableContainers:w,dragOverlay:x,over:y,measuringConfiguration:N,scrollableAncestors:E,scrollableAncestorRects:S,windowRect:O}=Va(),M=c.useContext(wn),R=sc(m==null?void 0:m.id),A=za(i,{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggingNodeRect:x.rect,over:y,overlayNodeRect:x.rect,scrollableAncestors:E,scrollableAncestorRects:S,transform:M,windowRect:O}),B=mr(g),V=rc({config:r,draggableNodes:b,droppableContainers:w,measuringConfiguration:N}),F=B?x.setRef:void 0;return q.createElement(Gl,null,q.createElement(Xl,{animation:V},m&&R?q.createElement(Ql,{key:R,id:m.id,ref:F,as:l,activatorEvent:h,adjustScale:t,className:d,transition:o,rect:B,style:{zIndex:u,...s},transform:A},n):null))});function Ka(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function oc(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Kt(e){return e!==null&&e>=0}function ic(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lc(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Ua=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=Ka(t,r,n),i=t[s],l=o[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Ut={scaleX:1,scaleY:1},Xa=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:i}=e;const l=(t=o[n])!=null?t:r;if(!l)return null;if(s===n){const u=o[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...Ut}:null}const d=cc(o,s,n);return s>n&&s<=i?{x:0,y:-l.height-d,...Ut}:s<n&&s>=i?{x:0,y:l.height+d,...Ut}:{x:0,y:0,...Ut}};function cc(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const qa="Sortable",Ga=q.createContext({activeIndex:-1,containerId:qa,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ua,disabled:{draggable:!1,droppable:!1}});function Ja(e){let{children:t,id:n,items:r,strategy:s=Ua,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:h}=Va(),m=zt(qa,n),g=l.rect!==null,p=c.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),b=i!=null,w=i?p.indexOf(i.id):-1,x=u?p.indexOf(u.id):-1,y=c.useRef(p),N=!ic(p,y.current),E=x!==-1&&w===-1||N,S=lc(o);Ve(()=>{N&&b&&h(p)},[N,p,b,h]),c.useEffect(()=>{y.current=p},[p]);const O=c.useMemo(()=>({activeIndex:w,containerId:m,disabled:S,disableTransforms:E,items:p,overIndex:x,useDragOverlay:g,sortedRects:oc(p,d),strategy:s}),[w,m,S.draggable,S.droppable,E,p,x,d,g,s]);return q.createElement(Ga.Provider,{value:O},t)}const dc=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Ka(n,r,s).indexOf(t)},uc=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:l,previousContainerId:d,transition:u}=e;return!u||!r||l!==o&&s===i?!1:n?!0:i!==s&&t===d},fc={duration:200,easing:"ease"},Za="transform",hc=Ze.Transition.toString({property:Za,duration:0,easing:"linear"}),mc={roleDescription:"sortable"};function vc(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,i]=c.useState(null),l=c.useRef(n);return Ve(()=>{if(!t&&n!==l.current&&r.current){const d=s.current;if(d){const u=gt(r.current,{ignoreTransform:!0}),h={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,r,s]),c.useEffect(()=>{o&&i(null)},[o]),o}function Qa(e){let{animateLayoutChanges:t=uc,attributes:n,disabled:r,data:s,getNewIndex:o=dc,id:i,strategy:l,resizeObserverConfig:d,transition:u=fc}=e;const{items:h,containerId:m,activeIndex:g,disabled:p,disableTransforms:b,sortedRects:w,overIndex:x,useDragOverlay:y,strategy:N}=c.useContext(Ga),E=pc(r,p),S=h.indexOf(i),O=c.useMemo(()=>({sortable:{containerId:m,index:S,items:h},...s}),[m,s,S,h]),M=c.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:R,node:A,isOver:B,setNodeRef:V}=vr({id:i,data:O,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...d}}),{active:F,activatorEvent:ne,activeNodeRect:re,attributes:le,setNodeRef:fe,listeners:Be,isDragging:C,over:_,setActivatorNodeRef:U,transform:Te}=Hl({id:i,data:O,attributes:{...mc,...n},disabled:E.draggable}),xe=Ei(V,fe),z=!!F,pe=z&&!b&&Kt(g)&&Kt(x),ee=!y&&C,Ee=ee&&pe?Te:null,Ke=pe?Ee??(l??N)({rects:w,activeNodeRect:re,activeIndex:g,overIndex:x,index:S}):null,Oe=Kt(g)&&Kt(x)?o({id:i,items:h,activeIndex:g,overIndex:x}):S,we=F==null?void 0:F.id,W=c.useRef({activeId:we,items:h,newIndex:Oe,containerId:m}),Ie=h!==W.current.items,Se=t({active:F,containerId:m,isDragging:C,isSorting:z,id:i,index:S,items:h,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:u,wasDragging:W.current.activeId!=null}),Re=vc({disabled:!Se,index:S,node:A,rect:R});return c.useEffect(()=>{z&&W.current.newIndex!==Oe&&(W.current.newIndex=Oe),m!==W.current.containerId&&(W.current.containerId=m),h!==W.current.items&&(W.current.items=h)},[z,Oe,m,h]),c.useEffect(()=>{if(we===W.current.activeId)return;if(we!=null&&W.current.activeId==null){W.current.activeId=we;return}const ge=setTimeout(()=>{W.current.activeId=we},50);return()=>clearTimeout(ge)},[we]),{active:F,activeIndex:g,attributes:le,data:O,rect:R,index:S,newIndex:Oe,items:h,isOver:B,isSorting:z,isDragging:C,listeners:Be,node:A,overIndex:x,over:_,setNodeRef:xe,setActivatorNodeRef:U,setDroppableNodeRef:V,setDraggableNodeRef:fe,transform:Re??Ke,transition:ke()};function ke(){if(Re||Ie&&W.current.newIndex===S)return hc;if(!(ee&&!gn(ne)||!u)&&(z||Se))return Ze.Transition.toString({...u,property:Za})}}function pc(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}$.Down,$.Right,$.Up,$.Left;const xc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"title",label:"Título (A → Z)"},{value:"status",label:"Status"}],Fr={"A fazer":0,"Em andamento":1,Concluído:2},Nt=["A fazer","Em andamento","Concluído"],gc={"A fazer":"border-t-red-500/60","Em andamento":"border-t-yellow-500/60",Concluído:"border-t-green-500/60"};function bc(e,t){return[...e].sort((n,r)=>{switch(t){case"deadline":return!n.dueDate&&!r.dueDate?0:n.dueDate?r.dueDate?r.dueDate.localeCompare(n.dueDate):-1:1;case"title":return n.title.localeCompare(r.title,"pt-BR");case"status":return(Fr[n.status]??0)-(Fr[r.status]??0);default:return 0}})}function yc({id:e,children:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,transition:i,isDragging:l}=Qa({id:e}),d={transform:Ze.Transform.toString(o),transition:i};return a.jsx("div",{ref:s,style:d,...n,...r,className:Y("touch-none",l&&"opacity-30"),children:t})}function wc({status:e,isOver:t,items:n,itemIds:r,today:s,onEdit:o,onDelete:i,showRichNotes:l}){const{setNodeRef:d}=vr({id:e});return a.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",gc[e]||"border-t-muted/60",t&&"bg-card/80 ring-2 ring-primary/20"),children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-border shadow-sm bg-background/50 backdrop-blur-md rounded-t-xl",children:[a.jsx(De,{variant:"secondary",className:nn[e],children:it[e]}),a.jsx(De,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50",children:n.length})]}),a.jsxs("div",{ref:d,"data-column-status":e,className:"flex-1 p-3 space-y-3",children:[a.jsx(Ja,{items:r,strategy:Xa,children:n.map(u=>a.jsx(yc,{id:u.id,children:a.jsx(Un,{sub:u,today:s,onEdit:()=>o(u),onDelete:()=>i(u.id),showRichNotes:l})},u.id))}),n.length===0&&a.jsxs("div",{className:"sticky top-[40vh] flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1",children:[a.jsx(De,{variant:"secondary",className:Y("font-medium mb-1",nn[e]),children:it[e]}),a.jsx("span",{children:"Arraste subtarefas para cá"})]})]})]})}const Un=c.memo(function({sub:t,today:n,showStatus:r,onEdit:s,onDelete:o,showRichNotes:i}){const l=t.dueDate&&t.dueDate<n&&t.status!=="Concluído";return a.jsx(Tt,{className:Y("transition-shadow duration-150",l&&"border-destructive/50"),children:a.jsx(Et,{className:"p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[r&&a.jsx(De,{variant:"secondary",className:Y("text-[10px]",nn[t.status]),children:it[t.status]}),l&&a.jsx(De,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),a.jsx("p",{className:Y("font-medium text-sm",t.completed&&"line-through text-muted-foreground"),children:t.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a.jsx("span",{className:"font-medium",children:"Tarefa:"})," ",t.parentTaskTitle]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[t.projectName&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(mn,{className:"w-3 h-3"}),t.projectName]}),t.assignee&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),t.assignee]}),t.dueDate&&a.jsxs("span",{className:Y("flex items-center gap-1",l&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]}),t.notes&&i&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:zr(t.notes)||t.notes}}),t.notes&&!i&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.notes.replace(/<[^>]*>/g,"")})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:s,children:a.jsx(Ts,{className:"w-3.5 h-3.5"})}),a.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:o,children:a.jsx(Gn,{className:"w-3.5 h-3.5"})})]})]})})})});function jc({tasks:e,projects:t,loading:n,onCreateSubtask:r,onUpdateSubtask:s,onDeleteSubtask:o}){const[i,l]=c.useState(!1),[d,u]=c.useState(null),[h,m]=c.useState("kanban"),[g,p]=c.useState(""),[b,w]=c.useState("all"),[x,y]=c.useState("all"),[N,E]=c.useState("all"),[S,O]=c.useState("all"),[M,R]=c.useState("all"),[A,B]=c.useState("deadline"),[V,F]=c.useState(!1),[ne,re]=c.useState(!1),[le,fe]=c.useState(null),[Be,C]=c.useState(null),[_,U]=c.useState(null),Te=Ca(Da(bn,{activationConstraint:{distance:8}})),xe=c.useMemo(()=>{const v={};return t.forEach(k=>{v[k.id]=k.name}),v},[t]),z=c.useMemo(()=>e.flatMap(v=>v.subtasks.map(k=>({...k,parentTaskTitle:v.title,projectId:v.projectId,projectName:v.projectId?xe[v.projectId]:void 0}))),[e,xe]),pe=c.useMemo(()=>{const v=new Date,k=new Date(v.getFullYear(),v.getMonth(),v.getDate()),T=new Date(k);T.setDate(k.getDate()+(7-k.getDay()));const ce=new Date(v.getFullYear(),v.getMonth()+1,0),me=z.filter(X=>{if(g&&!X.title.toLowerCase().includes(g.toLowerCase())||b!=="all"&&X.status!==b||x!=="all"&&X.assignee!==x||N!=="all"&&X.projectId!==N||S!=="all"&&X.parentTaskId!==S)return!1;if(M!=="all"){if(!X.dueDate)return M==="sem_prazo";const be=new Date(X.dueDate+"T23:59:59");switch(M){case"atrasadas":return be<k&&X.status!=="Concluído";case"hoje":return X.dueDate===ee;case"esta_semana":return be>=k&&be<=T;case"este_mes":return be>=k&&be<=ce;case"sem_prazo":return!1}}return!0});return bc(me,A)},[z,g,b,x,N,S,A]),ee=c.useMemo(()=>{const v=new Date;return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},[]);c.useMemo(()=>{const v={"A fazer":0,"Em andamento":0,Concluído:0},k=z.filter(T=>T.dueDate&&T.dueDate<ee&&T.status!=="Concluído").length;return z.forEach(T=>{v[T.status]!==void 0&&v[T.status]++}),{...v,overdue:k,total:z.length}},[z,ee]);const Ee=c.useCallback(()=>{u(null),l(!0)},[]),he=c.useCallback(v=>{u(v),l(!0)},[]),Ke=c.useCallback(async(v,k,T)=>{k?await r(v.parentTaskId,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0}):T&&await s(T,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0})},[r,s]),Oe=c.useCallback(async()=>{le&&(await o(le),fe(null))},[le,o]),we=c.useMemo(()=>{const v={"A fazer":[],"Em andamento":[],Concluído:[]};return pe.forEach(k=>{v[k.status]&&v[k.status].push(k)}),v},[pe]),W=c.useCallback(v=>{C(String(v.active.id))},[]),Ie=c.useCallback(v=>{const{over:k}=v;if(!k){U(null);return}const T=String(k.id),ce=z.find(X=>X.id===T),me=ce?ce.status:Nt.includes(T)?T:null;U(me)},[z]),Se=c.useCallback(async v=>{const{active:k,over:T}=v;if(C(null),U(null),!T)return;const ce=String(k.id),me=String(T.id);if(ce===me)return;const X=z.find(Pe=>Pe.id===ce);if(!X)return;const be=z.find(Pe=>Pe.id===me),Ye=be?be.status:Nt.includes(me)?me:X.status;X.status!==Ye&&await s(ce,{status:Ye})},[z,s]),Re=c.useCallback(()=>{C(null),U(null)},[]),ke=Be?z.find(v=>v.id===Be):null,ge=c.useMemo(()=>Nt.filter(v=>!V||v!=="Concluído"),[V]),Ae=c.useMemo(()=>[{key:"title",label:"Título",width:250,minWidth:150,sticky:!0,sortable:!0,sortFn:(v,k)=>v.title.localeCompare(k.title,"pt-BR"),render:v=>a.jsx("span",{className:"font-medium",children:v.title})},{key:"status",label:"Status",width:130,sortable:!0,sortFn:(v,k)=>v.status.localeCompare(k.status),render:v=>a.jsx(De,{variant:"secondary",className:Y("text-[10px]",nn[v.status]),children:it[v.status]}),inlineEdit:(v,k)=>a.jsxs(ae,{value:v.status,onValueChange:k,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Nt.map(T=>a.jsx(P,{value:T,children:it[T]},T))})]})},{key:"parentTaskTitle",label:"Tarefa-mãe",width:200,sortable:!0,sortFn:(v,k)=>v.parentTaskTitle.localeCompare(k.parentTaskTitle,"pt-BR"),render:v=>a.jsx("span",{className:"text-xs",children:v.parentTaskTitle})},{key:"dueDate",label:"Prazo",width:110,sortable:!0,sortFn:(v,k)=>!v.dueDate&&!k.dueDate?0:v.dueDate?k.dueDate?k.dueDate.localeCompare(v.dueDate):-1:1,render:v=>v.dueDate?a.jsxs("span",{className:Y("text-xs flex items-center gap-1",v.dueDate<ee&&v.status!=="Concluído"&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,k)=>a.jsxs(Qt,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(Fe,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!v.dueDate&&"text-muted-foreground"),children:[a.jsx(vt,{className:"w-3 h-3 mr-1"}),v.dueDate?new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),a.jsx(tn,{className:"w-auto p-0",align:"start",children:a.jsx(lr,{mode:"single",selected:v.dueDate?new Date(v.dueDate+"T12:00:00"):void 0,onSelect:T=>{if(T){const ce=T.getFullYear(),me=String(T.getMonth()+1).padStart(2,"0"),X=String(T.getDate()).padStart(2,"0");k(`${ce}-${me}-${X}`)}else k("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:130,sortable:!0,sortFn:(v,k)=>(v.assignee??"").localeCompare(k.assignee??"","pt-BR"),render:v=>v.assignee?a.jsxs("span",{className:"text-xs flex items-center gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),v.assignee]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,k)=>a.jsxs(ae,{value:v.assignee||"_none_",onValueChange:T=>k(T==="_none_"?"":T),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Yn.map(T=>a.jsx(P,{value:T,children:T},T))]})]})},{key:"project",label:"Projeto",width:130,render:v=>v.projectName?a.jsxs(De,{variant:"outline",className:"text-[10px] gap-1",children:[a.jsx(mn,{className:"w-3 h-3"}),v.projectName]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}],[ee]),We=c.useCallback((v,k,T)=>{k==="status"?s(v,{status:T}):k==="assignee"?s(v,{assignee:T||void 0}):k==="dueDate"&&s(v,{deadline:T||void 0})},[s]),Ue=c.useCallback(v=>{v.forEach(k=>o(k))},[o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[a.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),a.jsx(Zt,{placeholder:"Buscar subtarefa...",value:g,onChange:v=>p(v.target.value),className:"pl-9 w-full text-sm"})]}),a.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[a.jsxs(Fe,{onClick:Ee,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[a.jsx(ra,{className:"mr-1.5 h-4 w-4"})," Nova Subtarefa"]}),a.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[a.jsxs("button",{onClick:()=>m("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(ia,{className:"w-4 h-4"})," Kanban"]}),a.jsxs("button",{onClick:()=>m("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(aa,{className:"w-4 h-4"})," Lista"]}),a.jsxs("button",{onClick:()=>m("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(Kr,{className:"w-4 h-4"})," Tabela"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),a.jsxs(ae,{value:b,onValueChange:w,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos Status"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos Status"}),Nt.map(v=>a.jsx(P,{value:v,children:it[v]},v))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),a.jsxs(ae,{value:M,onValueChange:R,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos"}),a.jsx(P,{value:"atrasadas",children:"Atrasadas"}),a.jsx(P,{value:"hoje",children:"Vence hoje"}),a.jsx(P,{value:"esta_semana",children:"Esta semana"}),a.jsx(P,{value:"este_mes",children:"Este mês"}),a.jsx(P,{value:"sem_prazo",children:"Sem prazo"})]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),a.jsxs(ae,{value:x,onValueChange:y,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos"}),Yn.map(v=>a.jsx(P,{value:v,children:v},v))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Tarefa-mãe"}),a.jsxs(ae,{value:S,onValueChange:O,children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todas"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todas"}),e.map(v=>a.jsx(P,{value:v.id,children:v.title},v.id))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),a.jsxs(ae,{value:A,onValueChange:v=>B(v),children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{})}),a.jsx(ie,{children:xc.map(v=>a.jsx(P,{value:v.value,children:v.label},v.value))})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",a.jsx(St,{checked:V,onCheckedChange:F,className:"scale-75"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Observações formatadas",a.jsx(St,{checked:ne,onCheckedChange:re,className:"scale-75"})]})]})]})]}),a.jsx(Js,{open:i,onOpenChange:l,subtask:d,tasks:e,onSave:Ke,onDelete:v=>fe(v)}),a.jsx(qr,{open:!!le,onOpenChange:v=>!v&&fe(null),children:a.jsxs(Gr,{children:[a.jsxs(Jr,{children:[a.jsx(Zr,{children:"Remover subtarefa?"}),a.jsx(Qr,{children:"Esta ação não pode ser desfeita. A subtarefa será removida permanentemente."})]}),a.jsxs(ea,{children:[a.jsx(ta,{children:"Cancelar"}),a.jsx(na,{onClick:Oe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>a.jsx(Tt,{children:a.jsx(Et,{className:"p-4",children:a.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"})})},v))}):h==="table"?a.jsx(Ur,{data:pe,columns:Ae,onEdit:v=>he(v),onDelete:v=>fe(v),onBulkDelete:Ue,onInlineChange:We,emptyMessage:"Nenhuma subtarefa encontrada."}):h==="list"?a.jsx("div",{className:"space-y-3",children:pe.length===0?a.jsx(Tt,{children:a.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma subtarefa encontrada."})}):pe.map(v=>a.jsx(Un,{sub:v,today:ee,showStatus:!0,onEdit:()=>he(v),onDelete:()=>fe(v.id),showRichNotes:ne},v.id))}):a.jsxs($a,{sensors:Te,collisionDetection:Sa,onDragStart:W,onDragOver:Ie,onDragEnd:Se,onDragCancel:Re,children:[a.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:a.jsx("div",{className:"flex gap-4",style:{minWidth:`${ge.length*300}px`},children:ge.map(v=>{const k=_===v,T=we[v],ce=T.map(me=>me.id);return a.jsx("div",{className:"flex-1 min-w-[260px]",children:a.jsx(wc,{status:v,isOver:k,items:T,itemIds:ce,today:ee,onEdit:he,onDelete:fe,showRichNotes:ne})},v)})})}),a.jsx(Ha,{children:ke&&a.jsx("div",{className:"shadow-xl ring-2 ring-primary/30 rotate-[2deg] scale-105",children:a.jsx(Un,{sub:ke,today:ee,showStatus:!0,onEdit:()=>{},onDelete:()=>{},showRichNotes:ne})})})]})]})}function Nc(e){if(!(e!=null&&e.trim()))return null;const n=e.trim().split(" ")[0].split("/");if(n.length!==3)return null;const[r,s,o]=n,i=r.padStart(2,"0"),l=s.padStart(2,"0");return`${o}-${l}-${i}`}function Dc(e){const t=e.toLowerCase().trim();return t==="concluído"||t==="concluido"?"concluido":t.includes("andamento")||t.includes("trâmite")||t.includes("tramite")?"em_andamento":t==="pendente"?"pendente":t.includes("cancel")?"cancelado":"a_fazer"}function Cc(e){const t=e.toLowerCase().trim();return t==="alta"?"alta":t==="média"||t==="media"?"media":t==="baixa"?"baixa":"media"}function Sc(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").substring(0,50)}function kc(e){const t=[];let n="",r=!1;for(const l of e)l==='"'&&(r=!r),l===`
`&&!r?(t.push(n),n=""):n+=l;n.trim()&&t.push(n);const s=t[0].replace(/^\uFEFF/,""),o=Br(s),i=[];for(let l=1;l<t.length;l++){if(!t[l].trim())continue;const d=Br(t[l]),u={};o.forEach((h,m)=>{u[h]=d[m]||""}),i.push(u)}return i}function Br(e){const t=[];let n="",r=!1;for(let s=0;s<e.length;s++){const o=e[s];r?o==='"'&&e[s+1]==='"'?(n+='"',s++):o==='"'?r=!1:n+=o:o==='"'?r=!0:o===","?(t.push(n.trim()),n=""):n+=o}return t.push(n.trim()),t}function _c(){const[e,t]=c.useState(!1),[n,r]=c.useState(null),s=async o=>{var l;const i=(l=o.target.files)==null?void 0:l[0];if(i){t(!0),r(null);try{const d=await i.text(),u=kc(d),{error:h}=await Mn.from("mladv_crm_subtarefas").delete().neq("id","00000000-0000-0000-0000-000000000000"),{error:m}=await Mn.from("mladv_crm_tarefas").delete().neq("id","00000000-0000-0000-0000-000000000000");if(m){qt.error(`Erro ao limpar tarefas: ${m.message}`),t(!1);return}const g=new Map;for(const y of u){const N=y.Tarefas||"";if(!N.trim())continue;const E=y.Deadline||"",S=Nc(E),O=N.trim(),M=g.get(O);let R=!M;if(M&&S&&M.deadline?R=S>=M.deadline:(M&&S&&!M.deadline||M&&!S&&!M.deadline)&&(R=!0),R){const A=y["Name (from Processo Judicial)"]||y.Bosi||"";g.set(O,{airtable_id:`csv-tarefa-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,titulo:N.trim(),descricao:(y.Observações||"").substring(0,5e3)||null,status:Dc(y.Status||""),prioridade:Cc(y.Prioridade||""),deadline:S,cliente:A||null,responsavel:y.Responsável||"Mariana Lima",projeto_airtable_id:y.Projetos||null,numero_processo:y["Processo Judicial"]||null})}}const p=Array.from(g.values());p.forEach((y,N)=>{y.airtable_id=`csv-tarefa-${N}-${Sc(y.titulo)}`});let b=0,w=0;for(let y=0;y<p.length;y+=30){const N=p.slice(y,y+30),{error:E}=await Mn.from("mladv_crm_tarefas").insert(N);E?(console.error("Insert error batch",y,E),w++):b+=N.length}const x=`✅ CSV: ${u.length} linhas → ${p.length} tarefas únicas inseridas (${u.length-p.length} duplicatas removidas). Erros: ${w}`;r(x),qt.success(`${p.length} tarefas importadas com sucesso!`)}catch(d){qt.error(`Erro: ${d.message}`),r(`❌ Erro: ${d.message}`)}finally{t(!1)}}};return a.jsxs("div",{className:"p-6 border rounded-lg bg-card space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Importar Tarefas do CSV"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione o arquivo CSV de tarefas. Duplicatas serão removidas automaticamente (mantém a versão com deadline mais recente)."}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:s,disabled:e,className:"hidden"}),a.jsx(Fe,{asChild:!0,disabled:e,children:a.jsxs("span",{children:[e?a.jsx(Hr,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Rs,{className:"h-4 w-4 mr-2"}),e?"Importando...":"Selecionar CSV"]})})]})}),n&&a.jsxs("div",{className:"p-3 rounded bg-muted text-sm flex items-start gap-2",children:[a.jsx(sa,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),a.jsx("span",{children:n})]})]})}const Mc=c.lazy(()=>es(()=>import("./AdminCrmDashboard-oX6R_4vh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),Tc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],fn={alta:0,media:1,baixa:2};function Wr(e,t){return[...e].sort((n,r)=>{switch(t){case"deadline":return!n.dueDate&&!r.dueDate?0:n.dueDate?r.dueDate?r.dueDate.localeCompare(n.dueDate):-1:1;case"priority":return(fn[n.priority]??1)-(fn[r.priority]??1);case"title":return n.title.localeCompare(r.title,"pt-BR");case"client":return(n.client??"").localeCompare(r.client??"","pt-BR");default:return 0}})}const Ec={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Yr={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Xt=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],Rc={pendente:"border-t-red-500/60",agendado:"border-t-blue-500/60",em_andamento:"border-t-yellow-500/60",em_tramite:"border-t-orange-500/60",concluida:"border-t-green-500/60",cancelada:"border-t-muted/60"},Oc={pendente:oa,agendado:Ls,em_andamento:br,em_tramite:br,concluida:sa,cancelada:Ps},Ic=[{value:"all",label:"Todos"},{value:"today",label:"Hoje"},{value:"this_week",label:"Esta semana"},{value:"this_month",label:"Este mês"},{value:"overdue",label:"Atrasadas"},{value:"no_deadline",label:"Sem prazo"}],Xn=c.memo(function({task:t,cardFields:n,today:r,isExpanded:s,onToggleExpand:o,onToggleSubtask:i,onEdit:l,onDelete:d,showStatus:u,isDragging:h,isOverlay:m,projectName:g}){const p=t.subtasks.filter(x=>x.completed).length,b=t.subtasks.length,w=t.dueDate&&t.dueDate<r&&t.status!=="concluida"&&t.status!=="cancelada";return a.jsx(Tt,{className:Y("relative group transition-all duration-200 hover:shadow-md cursor-pointer",h?"opacity-40 scale-95":"",m&&"shadow-2xl ring-2 ring-primary/40 rotate-[2deg] scale-105 cursor-grabbing","border-border/50 bg-card"),onClick:()=>l==null?void 0:l(t),children:a.jsxs(Et,{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-1",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[g&&a.jsx("div",{className:"mb-2",children:a.jsxs(De,{variant:"outline",className:"text-[10px] px-1.5 py-0 gap-1 font-normal",children:[a.jsx(mn,{className:"w-3 h-3"}),g]})}),a.jsx("p",{className:"font-medium text-sm mb-1",children:t.title})]}),!m&&a.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>{x.stopPropagation(),d(t.id)},children:a.jsx(Gn,{className:"w-3.5 h-3.5"})})]}),n.description&&t.description&&a.jsx("div",{className:"text-xs text-muted-foreground mb-2 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:zr(t.description)||t.description}}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[n.priority&&a.jsx(De,{variant:"secondary",className:`text-[10px] ${Vr[t.priority]}`,children:Ct[t.priority]}),u&&a.jsx(De,{variant:"secondary",className:`text-[10px] ${$r[t.status]}`,children:ft[t.status]}),n.dueDate&&t.dueDate&&a.jsxs("span",{className:Y("flex items-center gap-1",w&&"text-destructive font-medium"),children:[w?a.jsx(oa,{className:"w-3 h-3"}):a.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}),w&&a.jsx("span",{className:"text-destructive font-medium",children:"Atrasada"}),t.assignee&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),t.assignee]})]}),n.subtasks&&b>0&&!m&&a.jsx("div",{className:"flex justify-end mt-2",children:a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[a.jsx(la,{className:"w-3 h-3"}),p,"/",b]})}),n.tags&&t.tags&&t.tags.length>0&&!m&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(x=>a.jsx(De,{variant:"outline",className:"text-[10px]",children:x},x))})]})})});function Ac(e){const{attributes:t,listeners:n,setNodeRef:r,transform:s,transition:o,isDragging:i}=Qa({id:e.task.id}),l={transform:Ze.Transform.toString(s),transition:o};return a.jsx("div",{ref:r,style:l,...t,...n,children:a.jsx(Xn,{...e,isDragging:i})})}function Pc({status:e,tasks:t,isOver:n,cardFields:r,today:s,expandedTasks:o,onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectMap:h}){const m=c.useMemo(()=>t.map(b=>b.id),[t]),{setNodeRef:g}=vr({id:e}),p=Oc[e];return a.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",Rc[e]||"border-t-muted/60",n&&"bg-card/80 ring-2 ring-primary/20"),children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 px-4",children:[a.jsx(p,{className:Y("w-4 h-4",{"text-red-500":e==="pendente","text-blue-500":e==="agendado","text-yellow-500":e==="em_andamento","text-orange-500":e==="em_tramite","text-green-500":e==="concluida","text-muted-foreground":e==="cancelada"})}),a.jsx("span",{className:"text-sm font-medium",children:ft[e]}),a.jsx(De,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50 tabular-nums",children:t.length})]}),a.jsxs("div",{ref:g,"data-column-status":e,className:"flex-1 p-3 pt-0 space-y-3",children:[a.jsx(Ja,{items:m,strategy:Xa,children:t.map(b=>a.jsx(Ac,{task:b,cardFields:r,today:s,isExpanded:o.has(b.id),onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectName:h.get(b.projectId||"")},b.id))}),t.length===0&&a.jsx("div",{className:"flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1 min-h-[100px]",children:a.jsx("span",{children:"Arraste tarefas para cá"})})]})]})}function Lc({projectId:e,clientNameFilter:t,hideHeader:n,forceTab:r}={}){const{tasks:s,setTasks:o,loading:i,error:l,updateTaskStatus:d,deleteTask:u,createTask:h,updateTask:m,createSubtask:g,updateSubtask:p,deleteSubtask:b}=ms(),{projects:w}=vs(),[x,y]=c.useState(!1),[N,E]=c.useState(null),S=c.useMemo(()=>t?s.filter(f=>{var j;return(j=f.client)==null?void 0:j.toLowerCase().includes(t.toLowerCase())}):s,[s,t]),[O,M]=c.useState("kanban"),[R,A]=c.useState(""),[B,V]=c.useState("all"),[F,ne]=c.useState("all"),[re,le]=c.useState("all"),[fe,Be]=c.useState(e||"all"),[C,_]=c.useState(new Set),[U,Te]=c.useState(Ec),[xe,z]=c.useState(null),[pe,ee]=c.useState(null),[Ee,he]=c.useState("deadline"),[Ke,Oe]=c.useState(!1),[we,W]=c.useState(!1),[Ie,Se]=c.useState("all"),[Re,ke]=c.useState("all"),ge=c.useMemo(()=>{const f=new Date;return`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`},[]),Ae=c.useMemo(()=>[...new Set(S.map(f=>f.assignee).filter(Boolean))],[S]),We=c.useMemo(()=>{const f=e||fe,j=new Date,D=new Date(j);D.setDate(j.getDate()+7);const L=new Date(j.getFullYear(),j.getMonth()+1,0),H=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}-${String(D.getDate()).padStart(2,"0")}`,ye=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`,G=S.filter(J=>{var de;if(R&&!J.title.toLowerCase().includes(R.toLowerCase())||B!=="all"&&J.status!==B||F!=="all"&&J.priority!==F||re!=="all"&&J.client!==re||Re!=="all"&&J.assignee!==Re||f!=="all"&&J.projectId!==f)return!1;if(Ie!=="all"){const Z=(de=J.dueDate)==null?void 0:de.split("T")[0];switch(Ie){case"today":if(Z!==ge)return!1;break;case"this_week":if(!Z||Z<ge||Z>H)return!1;break;case"this_month":if(!Z||Z<ge||Z>ye)return!1;break;case"overdue":if(!Z||Z>=ge||J.status==="concluida"||J.status==="cancelada")return!1;break;case"no_deadline":if(Z)return!1;break}}return!0});return Wr(G,Ee)},[S,R,B,F,re,Re,fe,Ee,Ie,ge]),Ue=ge,v=c.useMemo(()=>xe?S.find(f=>f.id===xe):null,[xe,S]),k=c.useMemo(()=>[...new Set(S.map(f=>f.client).filter(Boolean))],[S]),T=c.useMemo(()=>{const f=new Map;return w.forEach(j=>f.set(j.id,j.name)),f},[w]),ce=c.useMemo(()=>S.reduce((f,j)=>f+j.subtasks.length,0),[S]),me=c.useCallback(f=>{_(j=>{const D=new Set(j);return D.has(f)?D.delete(f):D.add(f),D})},[]),X=c.useCallback((f,j)=>{o(D=>D.map(L=>L.id===f?{...L,subtasks:L.subtasks.map(H=>H.id===j?{...H,completed:!H.completed}:H)}:L))},[o]),[be,Ye]=c.useState(null),Pe=c.useCallback(async()=>{be&&(o(f=>f.filter(j=>j.id!==be)),u(be),Ye(null))},[be,u,o]),Qe=c.useCallback(f=>{Te(j=>({...j,[f]:!j[f]}))},[]),nt=c.useCallback(()=>{E(null),y(!0)},[]),ct=c.useCallback(f=>{E(f),y(!0)},[]),Xe=c.useCallback(async(f,j,D)=>{j?await h({title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso}):D&&await m(D,{title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso})},[h,m]),Vt=Ca(Da(bn,{activationConstraint:{distance:8}}));c.useCallback(f=>{const j=S.find(D=>D.id===f);return j==null?void 0:j.status},[S]);const jn=c.useCallback(f=>{z(f.active.id)},[]),Nn=c.useCallback(f=>{const{over:j}=f;if(!j){ee(null);return}const D=j.id,L=S.find(ye=>ye.id===D),H=L?L.status:Xt.includes(D)?D:null;ee(H)},[S]),bt=c.useCallback(f=>{const{active:j,over:D}=f;if(z(null),ee(null),!D)return;const L=j.id,H=D.id;if(L===H)return;const ye=S.find(de=>de.id===L);if(!ye)return;const G=S.find(de=>de.id===H),J=G?G.status:Xt.includes(H)?H:ye.status;ye.status!==J&&(o(de=>{const Z=de.map(qe=>qe.id===L?{...qe,status:J}:qe);return Wr(Z,Ee)}),d(L,J))},[S,d,Ee]),Ht=c.useCallback(()=>{z(null),ee(null)},[]),Dn=c.useMemo(()=>{const f={};return Xt.forEach(j=>{f[j]=[]}),We.forEach(j=>{f[j.status]&&f[j.status].push(j)}),f},[We]),yt=c.useMemo(()=>Xt.filter(f=>!(Ke&&f==="concluida"||we&&f==="cancelada")),[Ke,we]),Cn=c.useMemo(()=>[{key:"title",label:"Título",width:280,minWidth:150,sticky:!0,sortable:!0,sortFn:(f,j)=>f.title.localeCompare(j.title,"pt-BR"),render:f=>a.jsx("span",{className:"font-medium",children:f.title})},{key:"status",label:"Status",width:140,sortable:!0,sortFn:(f,j)=>f.status.localeCompare(j.status),render:f=>a.jsx(De,{variant:"secondary",className:Y("text-[10px]",$r[f.status]),children:ft[f.status]}),inlineEdit:(f,j)=>a.jsxs(ae,{value:f.status,onValueChange:j,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Object.entries(ft).map(([D,L])=>a.jsx(P,{value:D,children:L},D))})]})},{key:"priority",label:"Prioridade",width:110,sortable:!0,sortFn:(f,j)=>(fn[f.priority]??1)-(fn[j.priority]??1),render:f=>a.jsx(De,{variant:"secondary",className:Y("text-[10px]",Vr[f.priority]),children:Ct[f.priority]}),inlineEdit:(f,j)=>a.jsxs(ae,{value:f.priority,onValueChange:j,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Object.entries(Ct).map(([D,L])=>a.jsx(P,{value:D,children:L},D))})]})},{key:"dueDate",label:"Prazo",width:150,sortable:!0,sortFn:(f,j)=>!f.dueDate&&!j.dueDate?0:f.dueDate?j.dueDate?j.dueDate.localeCompare(f.dueDate):-1:1,render:f=>f.dueDate?a.jsxs("span",{className:Y("text-xs flex items-center gap-1",f.dueDate<Ue&&f.status!=="concluida"&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,j)=>a.jsxs(Qt,{children:[a.jsx(en,{asChild:!0,children:a.jsxs(Fe,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!f.dueDate&&"text-muted-foreground"),children:[a.jsx(vt,{className:"w-3 h-3 mr-1"}),f.dueDate?new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),a.jsx(tn,{className:"w-auto p-0",align:"start",children:a.jsx(lr,{mode:"single",selected:f.dueDate?new Date(f.dueDate+"T12:00:00"):void 0,onSelect:D=>{if(D){const L=D.getFullYear(),H=String(D.getMonth()+1).padStart(2,"0"),ye=String(D.getDate()).padStart(2,"0");j(`${L}-${H}-${ye}`)}else j("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:140,sortable:!0,sortFn:(f,j)=>(f.assignee??"").localeCompare(j.assignee??"","pt-BR"),render:f=>f.assignee?a.jsxs("span",{className:"text-xs flex items-center gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),f.assignee]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,j)=>a.jsxs(ae,{value:f.assignee||"_none_",onValueChange:D=>j(D==="_none_"?"":D),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Ae.map(D=>a.jsx(P,{value:D,children:D},D))]})]})},{key:"client",label:"Cliente",width:140,sortable:!0,sortFn:(f,j)=>(f.client??"").localeCompare(j.client??"","pt-BR"),render:f=>f.client?a.jsx("span",{className:"text-xs",children:f.client}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,j)=>a.jsxs(ae,{value:f.client||"_none_",onValueChange:D=>j(D==="_none_"?"":D),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(P,{value:"_none_",children:"— Sem cliente —"}),k.map(D=>a.jsx(P,{value:D,children:D},D))]})]})},{key:"project",label:"Projeto",width:140,render:f=>{const j=T.get(f.projectId||"");return j?a.jsxs(De,{variant:"outline",className:"text-[10px] gap-1",children:[a.jsx(mn,{className:"w-3 h-3"}),j]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}}],[Ue,Ae,T,k]),Sn=c.useCallback((f,j,D)=>{j==="status"?d(f,D):j==="assignee"?m(f,{responsavel:D||null}):j==="priority"?m(f,{prioridade:D}):j==="client"?m(f,{cliente:D||null}):j==="dueDate"&&m(f,{deadline:D||null})},[d,m]),kn=c.useCallback(f=>{f.forEach(j=>u(j))},[u]),[te,je]=c.useState(r||"overview");return a.jsxs(pr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[!r&&a.jsx("div",{className:"flex items-center gap-1 rounded-2xl border border-border bg-muted/40 p-1 w-fit backdrop-blur-sm mb-5",children:[{id:"overview",label:"Visão Geral",icon:Os},{id:"tarefas",label:"Tarefas",icon:Is,count:We.length},{id:"subtarefas",label:"Subtarefas",icon:la,count:ce}].map(f=>{const j=te===f.id,D=f.icon;return a.jsxs("button",{onClick:()=>je(f.id),className:Y("relative flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200",j?"text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[j&&a.jsx(pr.div,{layoutId:"tarefas-tab-bg",className:"absolute inset-0 rounded-xl gold-gradient shadow-sm",transition:{type:"spring",bounce:.15,duration:.5}}),a.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[a.jsx(D,{className:"h-4 w-4"}),f.label,"count"in f&&a.jsx("span",{className:Y("inline-flex items-center justify-center rounded-full px-2 py-0.5 text-[10px] font-semibold tabular-nums min-w-[22px] transition-colors",j?"bg-primary-foreground/20 text-primary-foreground":"bg-secondary text-muted-foreground"),children:f.count})]})]},f.id)})}),te==="overview"&&a.jsxs(c.Suspense,{fallback:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Tn,{className:"h-10 w-full"}),a.jsx(Tn,{className:"h-40 w-full"}),a.jsx(Tn,{className:"h-40 w-full"})]}),children:[a.jsx(_c,{}),a.jsx(Mc,{})]}),te==="tarefas"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[a.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),a.jsx(Zt,{placeholder:"Buscar tarefas...",value:R,onChange:f=>A(f.target.value),className:"pl-9 w-full text-sm"})]}),a.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[a.jsxs(Fe,{onClick:nt,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[a.jsx(ra,{className:"mr-1.5 h-4 w-4"})," Nova Tarefa"]}),a.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[a.jsxs("button",{onClick:()=>M("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(ia,{className:"w-4 h-4"})," Kanban"]}),a.jsxs("button",{onClick:()=>M("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(aa,{className:"w-4 h-4"})," Lista"]}),a.jsxs("button",{onClick:()=>M("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(Kr,{className:"w-4 h-4"})," Tabela"]})]}),l&&a.jsx("span",{className:"text-xs text-destructive",children:"Erro ao carregar"}),a.jsxs(Qt,{children:[a.jsx(en,{asChild:!0,children:a.jsx(Fe,{variant:"outline",size:"icon",className:"h-9 w-9",children:a.jsx(Bs,{className:"w-4 h-4"})})}),a.jsx(tn,{className:"w-56",align:"end",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Yr).map(f=>a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx(Es,{htmlFor:`field-${f}`,className:"text-sm cursor-pointer",children:Yr[f]}),a.jsx(St,{id:`field-${f}`,checked:U[f],onCheckedChange:()=>Qe(f)})]},f))]})})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[a.jsx(As,{className:"w-4 h-4 text-muted-foreground shrink-0 mb-2"}),a.jsxs("div",{className:"flex items-end gap-2 flex-wrap flex-1",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),a.jsxs(ae,{value:B,onValueChange:V,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos Status"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos Status"}),Object.keys(ft).map(f=>a.jsx(P,{value:f,children:ft[f]},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prioridade"}),a.jsxs(ae,{value:F,onValueChange:ne,children:[a.jsx(se,{className:"w-[110px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todas"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todas"}),Object.keys(Ct).map(f=>a.jsx(P,{value:f,children:Ct[f]},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),a.jsxs(ae,{value:Ie,onValueChange:f=>Se(f),children:[a.jsx(se,{className:"w-[110px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsx(ie,{children:Ic.map(f=>a.jsx(P,{value:f.value,children:f.label},f.value))})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),a.jsxs(ae,{value:Re,onValueChange:ke,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos"}),Ae.map(f=>a.jsx(P,{value:f,children:f},f))]})]})]}),!e&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Projeto"}),a.jsxs(ae,{value:fe,onValueChange:Be,children:[a.jsx(se,{className:"w-[150px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos Projetos"}),w.map(f=>a.jsx(P,{value:f.id,children:f.name},f.id))]})]})]}),k.length>0&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Cliente"}),a.jsxs(ae,{value:re,onValueChange:le,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(P,{value:"all",children:"Todos Clientes"}),k.map(f=>a.jsx(P,{value:f,children:f},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),a.jsxs(ae,{value:Ee,onValueChange:f=>he(f),children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(P,{value:"deadline",children:"Sem ordenação"}),Tc.map(f=>a.jsx(P,{value:f.value,children:f.label},f.value))]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar canceladas",a.jsx(St,{checked:we,onCheckedChange:W,className:"scale-75"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",a.jsx(St,{checked:Ke,onCheckedChange:Oe,className:"scale-75"})]})]})]})]}),a.jsx(as,{open:x,onOpenChange:y,task:N,onSave:Xe,onDelete:f=>Ye(f),onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b}),a.jsx(qr,{open:!!be,onOpenChange:f=>!f&&Ye(null),children:a.jsxs(Gr,{children:[a.jsxs(Jr,{children:[a.jsx(Zr,{children:"Remover tarefa?"}),a.jsx(Qr,{children:"Esta ação não pode ser desfeita. A tarefa será removida permanentemente."})]}),a.jsxs(ea,{children:[a.jsx(ta,{children:"Cancelar"}),a.jsx(na,{onClick:Pe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),i?O==="list"||O==="table"?a.jsx(ys,{}):a.jsx(ws,{}):O==="table"?a.jsx(Ur,{data:We,columns:Cn,onEdit:ct,onDelete:Ye,onBulkDelete:kn,onInlineChange:Sn,emptyMessage:"Nenhuma tarefa encontrada."}):O==="list"?a.jsx("div",{className:"space-y-3",children:We.length===0?a.jsx(Tt,{children:a.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):We.map(f=>a.jsx(Xn,{task:f,cardFields:U,today:Ue,isExpanded:C.has(f.id),onToggleExpand:me,onToggleSubtask:X,onEdit:ct,onDelete:Ye,showStatus:!0,projectName:T.get(f.projectId||"")},f.id))}):a.jsxs($a,{sensors:Vt,collisionDetection:Sa,onDragStart:jn,onDragOver:Nn,onDragEnd:bt,onDragCancel:Ht,children:[a.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:a.jsx("div",{className:"flex gap-4",style:{minWidth:`${yt.length*280}px`},children:yt.map(f=>a.jsx("div",{className:"flex-1 min-w-[260px]",children:a.jsx(Pc,{status:f,tasks:Dn[f],isOver:pe===f&&xe!==null,cardFields:U,today:Ue,expandedTasks:C,onToggleExpand:me,onToggleSubtask:X,onEdit:ct,onDelete:Ye,projectMap:T})},f))})}),a.jsx(Ha,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:v?a.jsx("div",{className:"w-[260px]",children:a.jsx(Xn,{task:v,cardFields:U,today:Ue,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0,projectName:T.get(v.projectId||"")})}):null})]})]}),te==="subtarefas"&&a.jsx(jc,{tasks:e?S.filter(f=>f.projectId===e):S,projects:w,loading:i,onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b})]})}const wd=Object.freeze(Object.defineProperty({__proto__:null,default:Lc},Symbol.toStringTag,{value:"Module"}));export{Lc as A,la as L,wd as a};
