const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminCrmDashboard-CHFsXEuj.js","assets/index-C0jHX-Go.js","assets/index-BC8JTJEe.css","assets/card-DrYr7UJw.js","assets/badge-jC6GPkl2.js","assets/button-CqicSW_x.js","assets/skeleton-BLHoEvlv.js","assets/select-BLG2oOuG.js","assets/index-BzrQmJWj.js","assets/index-Cyq_3Yj_.js","assets/index-qYcO3NcF.js","assets/chevron-up-DDZKSMfy.js","assets/check-CSU2lhlC.js","assets/crmTypes-CBIuhAYF.js","assets/useQuery-BoVNrBts.js","assets/filter-R5F9j-te.js","assets/folder-kanban-DSPq0v01.js","assets/calendar-BY1_qHGt.js","assets/list-todo-8dofLu5M.js","assets/clock-CPd6fV10.js","assets/triangle-alert-CCj-_9eB.js","assets/circle-check-ASeV-L3Z.js","assets/arrow-right-DfnArYK4.js","assets/users-CryrvL7K.js"])))=>i.map(i=>d[i]);
import{c as Wt,r as c,j as r,e as W,h as Qa,a4 as J,f as _t,m as xr,a5 as es}from"./index-C0jHX-Go.js";import{E as ts,A as ns,m as Wr}from"./formatters-C8v7Sukl.js";import{P as rs,T as as}from"./TarefaSheet-zEn9H4kP.js";import{u as Un}from"./useCrmFieldOptions-DzJg_dqV.js";import{u as ss,F as os,a as ft,b as ht,c as mt,d as yt,e as vt,t as is}from"./form-Cnf2LfLn.js";import{S as ls,b as cs,c as ds,d as us,e as fs,f as hs}from"./sheet-1YtfIw2w.js";import{I as en}from"./input-DcP3086W.js";import{B as $e,b as pr}from"./button-CqicSW_x.js";import{S as ae,a as se,b as oe,c as ie,d as F}from"./select-BLG2oOuG.js";import{P as tn,a as nn,b as rn}from"./popover-C-NpNeYM.js";import{S as Xn,g as Fn,h as Yr,a as ms,b as vs,i as zr,j as $r,T as Kr,c as Mt}from"./crmTypes-CBIuhAYF.js";import{S as qn}from"./search-D49BzI9D.js";import{C as xs}from"./check-CSU2lhlC.js";import{U as ps}from"./user-SLu5Wxfu.js";import{T as Gn}from"./trash-2-DYNgp8sB.js";import{L as gs}from"./loader-circle-D3r06r9R.js";import{o as bs,s as xt}from"./types-3c7sL9OC.js";import{T as Hr,b as Vr,c as ys,K as ws}from"./CrmSkeletons-db4k_HPc.js";import{C as At,c as It}from"./card-DrYr7UJw.js";import{t as ee,e as jt,s as an,g as Lt,h as gr,m as js,i as Ns,j as ot,k as Cs,l as Ds,n as Jn,o as Ss,p as ks,f as pt,q as Ur}from"./format-Bo8wDDlG.js";import{C as _s}from"./chevron-left-CSvDpXqP.js";import{C as Ms}from"./chevron-right-DzNOgnRG.js";import{A as Xr,a as qr,b as Gr,c as Jr,d as Zr,e as Qr,f as ea,g as ta}from"./alert-dialog-CLzwt2b3.js";import{B as pe,P as na}from"./badge-jC6GPkl2.js";import{S as Tt}from"./switch-zf_1k-Fo.js";import{C as Nt}from"./calendar-BY1_qHGt.js";import{U as mn}from"./users-CryrvL7K.js";import{F as vn}from"./folder-kanban-DSPq0v01.js";import{L as ra}from"./list-DDsfSYBc.js";import{P as aa}from"./pencil-CUZNelhY.js";import{L as Ts}from"./label-WQ5UpDtx.js";import{S as kn}from"./skeleton-BLHoEvlv.js";import{C as Os,a as Es}from"./circle-check-ASeV-L3Z.js";import{C as Rs}from"./clipboard-list-DZY7M9T2.js";import{F as As}from"./filter-R5F9j-te.js";import{C as sa,a as Is}from"./circle-x-Kup9mZIJ.js";import{C as Ls}from"./clock-CPd6fV10.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Wt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Wt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Wt("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Wt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Wt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function De(e,t){const n=ee(e);return isNaN(t)?jt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ve(e,t){const n=ee(e);if(isNaN(t))return jt(e,NaN);if(!t)return n;const a=n.getDate(),s=jt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Wn(e,t){const n=t*7;return De(e,n)}function Bs(e,t){return Ve(e,t*12)}function Ws(e){let t;return e.forEach(function(n){const a=ee(n);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function Ys(e){let t;return e.forEach(n=>{const a=ee(n);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Ee(e,t){const n=an(e),a=an(t);return+n==+a}function Pt(e,t){const n=ee(e),a=ee(t),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function zs(e,t,n){const a=Lt(e,n),s=Lt(t,n),o=+a-gr(a),i=+s-gr(s);return Math.round((o-i)/js)}function Zn(e){const t=ee(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Re(e){const t=ee(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Qn(e,t){var l,d,f,h;const n=Ns(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,s=ee(e),o=s.getDay(),i=(o<a?-7:0)+6-(o-a);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function la(e){return Qn(e,{weekStartsOn:1})}function $s(e){const t=ee(e),n=t.getFullYear(),a=t.getMonth(),s=jt(e,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Ks(e){return Math.trunc(+ee(e)/1e3)}function Hs(e){const t=ee(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Vs(e,t){return zs(Hs(e),Re(e),t)+1}function Yn(e,t){const n=ee(e),a=ee(t);return n.getTime()>a.getTime()}function ca(e,t){const n=ee(e),a=ee(t);return+n<+a}function er(e,t){const n=ee(e),a=ee(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Us(e,t){const n=ee(e),a=ee(t);return n.getFullYear()===a.getFullYear()}function _n(e,t){return De(e,-t)}function Mn(e,t){const n=ee(e),a=n.getFullYear(),s=n.getDate(),o=jt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const i=$s(o);return n.setMonth(t,Math.min(s,i)),n}function br(e,t){const n=ee(e);return isNaN(+n)?jt(e,NaN):(n.setFullYear(t),n)}const Xs=bs({title:xt().trim().min(1,"Título obrigatório").max(200),parentTaskId:xt().min(1,"Tarefa-mãe obrigatória"),deadline:xt().optional(),status:xt().min(1),assignee:xt().optional(),notes:xt().max(2e3).optional(),numeroProcesso:xt().max(25).optional()});function qs({open:e,onOpenChange:t,subtask:n,tasks:a,onSave:s,onDelete:o}){const i=!n,[l,d]=c.useState(!1),[f,h]=c.useState(""),{getOptions:m}=Un(),x=m("subtarefa_status").map(N=>[N.value,N.label]),p=Object.entries(Xn),y=x.length>0?x:p,[b,g]=c.useState(!1),C=c.useMemo(()=>{if(!f.trim())return a;const N=f.toLowerCase();return a.filter(M=>M.title.toLowerCase().includes(N))},[a,f]),j=ss({resolver:is(Xs),defaultValues:{title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:""}});c.useEffect(()=>{e&&(n?j.reset({title:n.title,parentTaskId:n.parentTaskId,deadline:n.dueDate??"",status:n.status,assignee:n.assignee??"",notes:n.notes??"",numeroProcesso:n.numeroProcesso??""}):j.reset({title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:"",numeroProcesso:""}))},[e,n]);const E=async N=>{d(!0);try{await s(N,i,n==null?void 0:n.id),t(!1)}catch(M){Qa.error("Erro ao salvar subtarefa: "+M.message),console.error("Erro ao salvar subtarefa:",M)}finally{d(!1)}};return r.jsx(ls,{open:e,onOpenChange:t,children:r.jsxs(cs,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[r.jsxs(ds,{className:"mb-6",children:[r.jsx(us,{children:i?"Nova Subtarefa":"Editar Subtarefa"}),r.jsx(fs,{children:i?"Preencha os dados e selecione a tarefa-mãe relacionada.":"Altere os campos e salve."})]}),r.jsx(os,{...j,children:r.jsxs("form",{onSubmit:j.handleSubmit(E),className:"space-y-5",children:[r.jsx(ft,{control:j.control,name:"title",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Título *"}),r.jsx(yt,{children:r.jsx(en,{placeholder:"Ex: Enviar documento",...N})}),r.jsx(vt,{})]})}),r.jsx(ft,{control:j.control,name:"parentTaskId",render:({field:N})=>{var M;return r.jsxs(ht,{className:"flex flex-col",children:[r.jsx(mt,{children:"Tarefa-mãe *"}),r.jsxs(tn,{open:b,onOpenChange:g,children:[r.jsx(nn,{asChild:!0,children:r.jsx(yt,{children:r.jsxs($e,{variant:"outline",role:"combobox",className:W("w-full justify-between font-normal",!N.value&&"text-muted-foreground"),children:[r.jsx("span",{className:"truncate",children:N.value?((M=a.find(O=>O.id===N.value))==null?void 0:M.title)??"Tarefa não encontrada":"Selecione a tarefa-mãe..."}),r.jsx(Ps,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),r.jsxs(rn,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[r.jsxs("div",{className:"flex items-center border-b px-3",children:[r.jsx(qn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx("input",{className:"flex h-10 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",placeholder:"Buscar tarefa...",value:f,onChange:O=>h(O.target.value)})]}),r.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:C.length===0?r.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Nenhuma tarefa encontrada."}):C.map(O=>r.jsxs("button",{type:"button",className:W("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",N.value===O.id&&"bg-accent"),onClick:()=>{N.onChange(O.id),g(!1),h("")},children:[r.jsx(xs,{className:W("mr-2 h-4 w-4",N.value===O.id?"opacity-100":"opacity-0")}),r.jsx("span",{className:"truncate",children:O.title})]},O.id))})]})]}),r.jsx(vt,{})]})}}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(ft,{control:j.control,name:"deadline",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Prazo"}),r.jsx(yt,{children:r.jsx(en,{type:"date",...N})}),r.jsx(vt,{})]})}),r.jsx(ft,{control:j.control,name:"status",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Status"}),r.jsxs(ae,{onValueChange:N.onChange,value:N.value,children:[r.jsx(yt,{children:r.jsx(se,{children:r.jsx(oe,{})})}),r.jsx(ie,{children:y.map(([M,O])=>r.jsx(F,{value:M,children:O},M))})]}),r.jsx(vt,{})]})})]}),r.jsx(ft,{control:j.control,name:"assignee",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Responsável"}),r.jsxs(ae,{onValueChange:M=>N.onChange(M==="_none_"?"":M),value:N.value||"_none_",children:[r.jsx(yt,{children:r.jsx(se,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ps,{className:"w-3.5 h-3.5 text-muted-foreground"}),r.jsx(oe,{placeholder:"Responsável..."})]})})}),r.jsxs(ie,{children:[r.jsx(F,{value:"_none_",children:"— Sem responsável —"}),Fn.map(M=>r.jsx(F,{value:M,children:M},M))]})]}),r.jsx(vt,{})]})}),r.jsx(ft,{control:j.control,name:"numeroProcesso",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Processo Judicial"}),r.jsx(rs,{value:N.value??"",onValueChange:N.onChange}),r.jsx(vt,{})]})}),r.jsx(ft,{control:j.control,name:"notes",render:({field:N})=>r.jsxs(ht,{children:[r.jsx(mt,{children:"Observações"}),r.jsx(yt,{children:r.jsx(ts,{value:N.value??"",onChange:N.onChange,placeholder:"Observações...",modalTitle:"Editar Observações da Subtarefa"})}),r.jsx(vt,{})]})}),!i&&(n==null?void 0:n.id)&&r.jsx(ns,{folder:`subtarefas/${n.id}`}),r.jsxs(hs,{className:"gap-2 flex-col sm:flex-row",children:[!i&&n&&o&&r.jsxs($e,{type:"button",variant:"destructive",className:"sm:mr-auto",onClick:()=>{o(n.id),t(!1)},disabled:l,children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"})," Excluir"]}),r.jsxs($e,{type:"submit",disabled:l,className:"flex-1",children:[l&&r.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Criar Subtarefa":"Salvar Alterações"]})]})]})})]})})}var R=function(){return R=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},R.apply(this,arguments)};function Gs(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function da(e,t,n){for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}function Yt(e){return e.mode==="multiple"}function zt(e){return e.mode==="range"}function xn(e){return e.mode==="single"}var Js={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Zs(e,t){return pt(e,"LLLL y",t)}function Qs(e,t){return pt(e,"d",t)}function eo(e,t){return pt(e,"LLLL",t)}function to(e){return"".concat(e)}function no(e,t){return pt(e,"cccccc",t)}function ro(e,t){return pt(e,"yyyy",t)}var ao=Object.freeze({__proto__:null,formatCaption:Zs,formatDay:Qs,formatMonthCaption:eo,formatWeekNumber:to,formatWeekdayName:no,formatYearCaption:ro}),so=function(e,t,n){return pt(e,"do MMMM (EEEE)",n)},oo=function(){return"Month: "},io=function(){return"Go to next month"},lo=function(){return"Go to previous month"},co=function(e,t){return pt(e,"cccc",t)},uo=function(e){return"Week n. ".concat(e)},fo=function(){return"Year: "},ho=Object.freeze({__proto__:null,labelDay:so,labelMonthDropdown:oo,labelNext:io,labelPrevious:lo,labelWeekNumber:uo,labelWeekday:co,labelYearDropdown:fo});function mo(){var e="buttons",t=Js,n=Cs,a={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:ao,labels:ho,locale:n,modifiersClassNames:a,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function vo(e){var t=e.fromYear,n=e.toYear,a=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return a?o=Re(a):t&&(o=new Date(t,0,1)),s?i=Zn(s):n&&(i=new Date(n,11,31)),{fromDate:o?an(o):void 0,toDate:i?an(i):void 0}}var ua=c.createContext(void 0);function xo(e){var t,n=e.initialProps,a=mo(),s=vo(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(xn(n)||Yt(n)||zt(n))&&(d=n.onSelect);var f=R(R(R({},a),n),{captionLayout:l,classNames:R(R({},a.classNames),n.classNames),components:R({},n.components),formatters:R(R({},a.formatters),n.formatters),fromDate:o,labels:R(R({},a.labels),n.labels),mode:n.mode||a.mode,modifiers:R(R({},a.modifiers),n.modifiers),modifiersClassNames:R(R({},a.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:R(R({},a.styles),n.styles),toDate:i});return r.jsx(ua.Provider,{value:f,children:e.children})}function V(){var e=c.useContext(ua);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fa(e){var t=V(),n=t.locale,a=t.classNames,s=t.styles,o=t.formatters.formatCaption;return r.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function po(e){return r.jsx("svg",R({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ha(e){var t,n,a=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,f=V(),h=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:po;return r.jsxs("div",{className:l,style:d,children:[r.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:a,children:o}),r.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[i,r.jsx(h,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function go(e){var t,n=V(),a=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,d=n.classNames,f=n.components,h=n.labels.labelMonthDropdown;if(!a)return r.jsx(r.Fragment,{});if(!s)return r.jsx(r.Fragment,{});var m=[];if(Us(a,s))for(var x=Re(a),p=a.getMonth();p<=s.getMonth();p++)m.push(Mn(x,p));else for(var x=Re(new Date),p=0;p<=11;p++)m.push(Mn(x,p));var y=function(g){var C=Number(g.target.value),j=Mn(Re(e.displayMonth),C);e.onChange(j)},b=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:ha;return r.jsx(b,{name:"months","aria-label":h(),className:d.dropdown_month,style:o.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(g){return r.jsx("option",{value:g.getMonth(),children:l(g,{locale:i})},g.getMonth())})})}function bo(e){var t,n=e.displayMonth,a=V(),s=a.fromDate,o=a.toDate,i=a.locale,l=a.styles,d=a.classNames,f=a.components,h=a.formatters.formatYearCaption,m=a.labels.labelYearDropdown,x=[];if(!s)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});for(var p=s.getFullYear(),y=o.getFullYear(),b=p;b<=y;b++)x.push(br(Ds(new Date),b));var g=function(j){var E=br(Re(n),Number(j.target.value));e.onChange(E)},C=(t=f==null?void 0:f.Dropdown)!==null&&t!==void 0?t:ha;return r.jsx(C,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:g,value:n.getFullYear(),caption:h(n,{locale:i}),children:x.map(function(j){return r.jsx("option",{value:j.getFullYear(),children:h(j,{locale:i})},j.getFullYear())})})}function yo(e,t){var n=c.useState(e),a=n[0],s=n[1],o=t===void 0?a:t;return[o,s]}function wo(e){var t=e.month,n=e.defaultMonth,a=e.today,s=t||n||a||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Pt(o,s)<0){var f=-1*(d-1);s=Ve(o,f)}return i&&Pt(s,i)<0&&(s=i),Re(s)}function jo(){var e=V(),t=wo(e),n=yo(t,e.month),a=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var d=Re(i);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[a,o]}function No(e,t){for(var n=t.reverseMonths,a=t.numberOfMonths,s=Re(e),o=Re(Ve(s,a)),i=Pt(o,s),l=[],d=0;d<i;d++){var f=Ve(s,d);l.push(f)}return n&&(l=l.reverse()),l}function Co(e,t){if(!t.disableNavigation){var n=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=a?o:1,l=Re(e);if(!n)return Ve(l,i);var d=Pt(n,e);if(!(d<o))return Ve(l,i)}}function Do(e,t){if(!t.disableNavigation){var n=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=a?o:1,l=Re(e);if(!n)return Ve(l,-i);var d=Pt(l,n);if(!(d<=0))return Ve(l,-i)}}var ma=c.createContext(void 0);function So(e){var t=V(),n=jo(),a=n[0],s=n[1],o=No(a,t),i=Co(a,t),l=Do(a,t),d=function(m){return o.some(function(x){return er(m,x)})},f=function(m,x){d(m)||(x&&ca(m,x)?s(Ve(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:a,displayMonths:o,goToMonth:s,goToDate:f,previousMonth:l,nextMonth:i,isDateDisplayed:d};return r.jsx(ma.Provider,{value:h,children:e.children})}function $t(){var e=c.useContext(ma);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function yr(e){var t,n=V(),a=n.classNames,s=n.styles,o=n.components,i=$t().goToMonth,l=function(h){i(Ve(h,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:fa,f=r.jsx(d,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[r.jsx("div",{className:a.vhidden,children:f}),r.jsx(go,{onChange:l,displayMonth:e.displayMonth}),r.jsx(bo,{onChange:l,displayMonth:e.displayMonth})]})}function ko(e){return r.jsx("svg",R({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _o(e){return r.jsx("svg",R({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var sn=c.forwardRef(function(e,t){var n=V(),a=n.classNames,s=n.styles,o=[a.button_reset,a.button];e.className&&o.push(e.className);var i=o.join(" "),l=R(R({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),r.jsx("button",R({},e,{ref:t,type:"button",className:i,style:l}))});function Mo(e){var t,n,a=V(),s=a.dir,o=a.locale,i=a.classNames,l=a.styles,d=a.labels,f=d.labelPrevious,h=d.labelNext,m=a.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var x=f(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),y=h(e.nextMonth,{locale:o}),b=[i.nav_button,i.nav_button_next].join(" "),g=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:_o,C=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:ko;return r.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(sn,{name:"previous-month","aria-label":x,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?r.jsx(g,{className:i.nav_icon,style:l.nav_icon}):r.jsx(C,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(sn,{name:"next-month","aria-label":y,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?r.jsx(C,{className:i.nav_icon,style:l.nav_icon}):r.jsx(g,{className:i.nav_icon,style:l.nav_icon})})]})}function wr(e){var t=V().numberOfMonths,n=$t(),a=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(y){return er(e.displayMonth,y)}),d=l===0,f=l===i.length-1,h=t>1&&(d||!f),m=t>1&&(f||!d),x=function(){a&&o(a)},p=function(){s&&o(s)};return r.jsx(Mo,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:a,onPreviousClick:x,onNextClick:p})}function To(e){var t,n=V(),a=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:fa,f;return s?f=r.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?f=r.jsx(yr,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?f=r.jsxs(r.Fragment,{children:[r.jsx(yr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(wr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=r.jsxs(r.Fragment,{children:[r.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(wr,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:a.caption,style:o.caption,children:f})}function Oo(e){var t=V(),n=t.footer,a=t.styles,s=t.classNames.tfoot;return n?r.jsx("tfoot",{className:s,style:a.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function Eo(e,t,n){for(var a=n?Jn(new Date):Lt(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=De(a,o);s.push(i)}return s}function Ro(){var e=V(),t=e.classNames,n=e.styles,a=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,f=Eo(s,o,i);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[a&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(h,m){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Ao(){var e,t=V(),n=t.classNames,a=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Ro;return r.jsx("thead",{style:a.head,className:n.head,children:r.jsx(o,{})})}function Io(e){var t=V(),n=t.locale,a=t.formatters.formatDay;return r.jsx(r.Fragment,{children:a(e.date,{locale:n})})}var tr=c.createContext(void 0);function Lo(e){if(!Yt(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(tr.Provider,{value:t,children:e.children})}return r.jsx(Po,{initialProps:e.initialProps,children:e.children})}function Po(e){var t=e.initialProps,n=e.children,a=t.selected,s=t.min,o=t.max,i=function(f,h,m){var x,p;(x=t.onDayClick)===null||x===void 0||x.call(t,f,h,m);var y=!!(h.selected&&s&&(a==null?void 0:a.length)===s);if(!y){var b=!!(!h.selected&&o&&(a==null?void 0:a.length)===o);if(!b){var g=a?da([],a):[];if(h.selected){var C=g.findIndex(function(j){return Ee(f,j)});g.splice(C,1)}else g.push(f);(p=t.onSelect)===null||p===void 0||p.call(t,g,f,h,m)}}},l={disabled:[]};a&&l.disabled.push(function(f){var h=o&&a.length>o-1,m=a.some(function(x){return Ee(x,f)});return!!(h&&!m)});var d={selected:a,onDayClick:i,modifiers:l};return r.jsx(tr.Provider,{value:d,children:n})}function nr(){var e=c.useContext(tr);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Fo(e,t){var n=t||{},a=n.from,s=n.to;return a&&s?Ee(s,e)&&Ee(a,e)?void 0:Ee(s,e)?{from:s,to:void 0}:Ee(a,e)?void 0:Yn(a,e)?{from:e,to:s}:{from:a,to:e}:s?Yn(e,s)?{from:s,to:e}:{from:e,to:s}:a?ca(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var rr=c.createContext(void 0);function Bo(e){if(!zt(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(rr.Provider,{value:t,children:e.children})}return r.jsx(Wo,{initialProps:e.initialProps,children:e.children})}function Wo(e){var t=e.initialProps,n=e.children,a=t.selected,s=a||{},o=s.from,i=s.to,l=t.min,d=t.max,f=function(p,y,b){var g,C;(g=t.onDayClick)===null||g===void 0||g.call(t,p,y,b);var j=Fo(p,a);(C=t.onSelect)===null||C===void 0||C.call(t,j,p,y,b)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],Ee(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:_n(o,l-1),before:De(o,l-1)}),o&&i&&h.disabled.push({after:o,before:De(o,l-1)}),!o&&i&&h.disabled.push({after:_n(i,l-1),before:De(i,l-1)})),d){if(o&&!i&&(h.disabled.push({before:De(o,-d+1)}),h.disabled.push({after:De(o,d-1)})),o&&i){var m=ot(i,o)+1,x=d-m;h.disabled.push({before:_n(o,x)}),h.disabled.push({after:De(i,x)})}!o&&i&&(h.disabled.push({before:De(i,-d+1)}),h.disabled.push({after:De(i,d-1)}))}return r.jsx(rr.Provider,{value:{selected:a,onDayClick:f,modifiers:h},children:n})}function ar(){var e=c.useContext(rr);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Zt(e){return Array.isArray(e)?da([],e):e!==void 0?[e]:[]}function Yo(e){var t={};return Object.entries(e).forEach(function(n){var a=n[0],s=n[1];t[a]=Zt(s)}),t}var Ue;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ue||(Ue={}));var zo=Ue.Selected,st=Ue.Disabled,$o=Ue.Hidden,Ko=Ue.Today,Tn=Ue.RangeEnd,On=Ue.RangeMiddle,En=Ue.RangeStart,Ho=Ue.Outside;function Vo(e,t,n){var a,s=(a={},a[zo]=Zt(e.selected),a[st]=Zt(e.disabled),a[$o]=Zt(e.hidden),a[Ko]=[e.today],a[Tn]=[],a[On]=[],a[En]=[],a[Ho]=[],a);return e.fromDate&&s[st].push({before:e.fromDate}),e.toDate&&s[st].push({after:e.toDate}),Yt(e)?s[st]=s[st].concat(t.modifiers[st]):zt(e)&&(s[st]=s[st].concat(n.modifiers[st]),s[En]=n.modifiers[En],s[On]=n.modifiers[On],s[Tn]=n.modifiers[Tn]),s}var va=c.createContext(void 0);function Uo(e){var t=V(),n=nr(),a=ar(),s=Vo(t,n,a),o=Yo(t.modifiers),i=R(R({},s),o);return r.jsx(va.Provider,{value:i,children:e.children})}function xa(){var e=c.useContext(va);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Xo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qo(e){return!!(e&&typeof e=="object"&&"from"in e)}function Go(e){return!!(e&&typeof e=="object"&&"after"in e)}function Jo(e){return!!(e&&typeof e=="object"&&"before"in e)}function Zo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Qo(e,t){var n,a=t.from,s=t.to;if(a&&s){var o=ot(s,a)<0;o&&(n=[s,a],a=n[0],s=n[1]);var i=ot(e,a)>=0&&ot(s,e)>=0;return i}return s?Ee(s,e):a?Ee(a,e):!1}function ei(e){return Ur(e)}function ti(e){return Array.isArray(e)&&e.every(Ur)}function ni(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(ei(n))return Ee(e,n);if(ti(n))return n.includes(e);if(qo(n))return Qo(e,n);if(Zo(n))return n.dayOfWeek.includes(e.getDay());if(Xo(n)){var a=ot(n.before,e),s=ot(n.after,e),o=a>0,i=s<0,l=Yn(n.before,n.after);return l?i&&o:o||i}return Go(n)?ot(e,n.after)>0:Jo(n)?ot(n.before,e)>0:typeof n=="function"?n(e):!1})}function sr(e,t,n){var a=Object.keys(t).reduce(function(o,i){var l=t[i];return ni(e,l)&&o.push(i),o},[]),s={};return a.forEach(function(o){return s[o]=!0}),n&&!er(e,n)&&(s.outside=!0),s}function ri(e,t){for(var n=Re(e[0]),a=Zn(e[e.length-1]),s,o,i=n;i<=a;){var l=sr(i,t),d=!l.disabled&&!l.hidden;if(!d){i=De(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=De(i,1)}return o||s}var ai=365;function pa(e,t){var n=t.moveBy,a=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=s.weekStartsOn,f=s.fromDate,h=s.toDate,m=s.locale,x={day:De,week:Wn,month:Ve,year:Bs,startOfWeek:function(g){return s.ISOWeek?Jn(g):Lt(g,{locale:m,weekStartsOn:d})},endOfWeek:function(g){return s.ISOWeek?la(g):Qn(g,{locale:m,weekStartsOn:d})}},p=x[n](e,a==="after"?1:-1);a==="before"&&f?p=Ws([f,p]):a==="after"&&h&&(p=Ys([h,p]));var y=!0;if(o){var b=sr(p,o);y=!b.disabled&&!b.hidden}return y?p:l.count>ai?l.lastFocused:pa(p,{moveBy:n,direction:a,context:s,modifiers:o,retry:R(R({},l),{count:l.count+1})})}var ga=c.createContext(void 0);function si(e){var t=$t(),n=xa(),a=c.useState(),s=a[0],o=a[1],i=c.useState(),l=i[0],d=i[1],f=ri(t.displayMonths,n),h=s??(l&&t.isDateDisplayed(l))?l:f,m=function(){d(s),o(void 0)},x=function(g){o(g)},p=V(),y=function(g,C){if(s){var j=pa(s,{moveBy:g,direction:C,context:p,modifiers:n});Ee(s,j)||(t.goToDate(j,s),x(j))}},b={focusedDay:s,focusTarget:h,blur:m,focus:x,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return r.jsx(ga.Provider,{value:b,children:e.children})}function or(){var e=c.useContext(ga);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function oi(e,t){var n=xa(),a=sr(e,n,t);return a}var ir=c.createContext(void 0);function ii(e){if(!xn(e.initialProps)){var t={selected:void 0};return r.jsx(ir.Provider,{value:t,children:e.children})}return r.jsx(li,{initialProps:e.initialProps,children:e.children})}function li(e){var t=e.initialProps,n=e.children,a=function(o,i,l){var d,f,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,o,i,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:a};return r.jsx(ir.Provider,{value:s,children:n})}function ba(){var e=c.useContext(ir);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ci(e,t){var n=V(),a=ba(),s=nr(),o=ar(),i=or(),l=i.focusDayAfter,d=i.focusDayBefore,f=i.focusWeekAfter,h=i.focusWeekBefore,m=i.blur,x=i.focus,p=i.focusMonthBefore,y=i.focusMonthAfter,b=i.focusYearBefore,g=i.focusYearAfter,C=i.focusStartOfWeek,j=i.focusEndOfWeek,E=function(D){var _,ne,me,ge;xn(n)?(_=a.onDayClick)===null||_===void 0||_.call(a,e,t,D):Yt(n)?(ne=s.onDayClick)===null||ne===void 0||ne.call(s,e,t,D):zt(n)?(me=o.onDayClick)===null||me===void 0||me.call(o,e,t,D):(ge=n.onDayClick)===null||ge===void 0||ge.call(n,e,t,D)},N=function(D){var _;x(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,D)},M=function(D){var _;m(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,D)},O=function(D){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,D)},L=function(D){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,D)},I=function(D){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,D)},Y=function(D){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,D)},K=function(D){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,D)},B=function(D){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,D)},P=function(D){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,D)},G=function(D){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,D)},Z=function(D){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,D)},ke=function(D){var _;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():d();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?d():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),f();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),h();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?b():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():y();break;case"Home":D.preventDefault(),D.stopPropagation(),C();break;case"End":D.preventDefault(),D.stopPropagation(),j();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,D)},Ie={onClick:E,onFocus:N,onBlur:M,onKeyDown:ke,onKeyUp:Z,onMouseEnter:O,onMouseLeave:L,onPointerEnter:I,onPointerLeave:Y,onTouchCancel:K,onTouchEnd:B,onTouchMove:P,onTouchStart:G};return Ie}function di(){var e=V(),t=ba(),n=nr(),a=ar(),s=xn(e)?t.selected:Yt(e)?n.selected:zt(e)?a.selected:void 0;return s}function ui(e){return Object.values(Ue).includes(e)}function fi(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)n.push(s);else if(ui(a)){var o=e.classNames["day_".concat(a)];o&&n.push(o)}}),n}function hi(e,t){var n=R({},e.styles.day);return Object.keys(t).forEach(function(a){var s;n=R(R({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),n}function mi(e,t,n){var a,s,o,i=V(),l=or(),d=oi(e,t),f=ci(e,d),h=di(),m=!!(i.onDayClick||i.mode!=="default");c.useEffect(function(){var O;d.outside||l.focusedDay&&m&&Ee(l.focusedDay,e)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,e,n,m,d.outside]);var x=fi(i,d).join(" "),p=hi(i,d),y=!!(d.outside&&!i.showOutsideDays||d.hidden),b=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Io,g=r.jsx(b,{date:e,displayMonth:t,activeModifiers:d}),C={style:p,className:x,children:g,role:"gridcell"},j=l.focusTarget&&Ee(l.focusTarget,e)&&!d.outside,E=l.focusedDay&&Ee(l.focusedDay,e),N=R(R(R({},C),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=E||j?0:-1,a)),f),M={isButton:m,isHidden:y,activeModifiers:d,selectedDays:h,buttonProps:N,divProps:C};return M}function vi(e){var t=c.useRef(null),n=mi(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(sn,R({name:"day",ref:t},n.buttonProps)):r.jsx("div",R({},n.divProps))}function xi(e){var t=e.number,n=e.dates,a=V(),s=a.onWeekNumberClick,o=a.styles,i=a.classNames,l=a.locale,d=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,h=f(Number(t),{locale:l});if(!s)return r.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var m=d(Number(t),{locale:l}),x=function(p){s(t,n,p)};return r.jsx(sn,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:x,children:h})}function pi(e){var t,n,a=V(),s=a.styles,o=a.classNames,i=a.showWeekNumber,l=a.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:vi,f=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:xi,h;return i&&(h=r.jsx("td",{className:o.cell,style:s.cell,children:r.jsx(f,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:o.row,style:s.row,children:[h,e.dates.map(function(m){return r.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:r.jsx(d,{displayMonth:e.displayMonth,date:m})},Ks(m))})]})}function jr(e,t,n){for(var a=n!=null&&n.ISOWeek?la(t):Qn(t,n),s=n!=null&&n.ISOWeek?Jn(e):Lt(e,n),o=ot(a,s),i=[],l=0;l<=o;l++)i.push(De(s,l));var d=i.reduce(function(f,h){var m=n!=null&&n.ISOWeek?Ss(h):ks(h,n),x=f.find(function(p){return p.weekNumber===m});return x?(x.dates.push(h),f):(f.push({weekNumber:m,dates:[h]}),f)},[]);return d}function gi(e,t){var n=jr(Re(e),Zn(e),t);if(t!=null&&t.useFixedWeeks){var a=Vs(e,t);if(a<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Wn(o,6-a),l=jr(Wn(o,1),i,t);n.push.apply(n,l)}}return n}function bi(e){var t,n,a,s=V(),o=s.locale,i=s.classNames,l=s.styles,d=s.hideHead,f=s.fixedWeeks,h=s.components,m=s.weekStartsOn,x=s.firstWeekContainsDate,p=s.ISOWeek,y=gi(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:x}),b=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Ao,g=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:pi,C=(a=h==null?void 0:h.Footer)!==null&&a!==void 0?a:Oo;return r.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&r.jsx(b,{}),r.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(j){return r.jsx(g,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),r.jsx(C,{displayMonth:e.displayMonth})]})}function yi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wi=yi()?c.useLayoutEffect:c.useEffect,Rn=!1,ji=0;function Nr(){return"react-day-picker-".concat(++ji)}function Ni(e){var t,n=e??(Rn?Nr():null),a=c.useState(n),s=a[0],o=a[1];return wi(function(){s===null&&o(Nr())},[]),c.useEffect(function(){Rn===!1&&(Rn=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Ci(e){var t,n,a=V(),s=a.dir,o=a.classNames,i=a.styles,l=a.components,d=$t().displayMonths,f=Ni(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),h=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],x=i.month,p=e.displayIndex===0,y=e.displayIndex===d.length-1,b=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(m.push(o.caption_start),x=R(R({},x),i.caption_start)),y&&(m.push(o.caption_end),x=R(R({},x),i.caption_end)),b&&(m.push(o.caption_between),x=R(R({},x),i.caption_between));var g=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:To;return r.jsxs("div",{className:m.join(" "),style:x,children:[r.jsx(g,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(bi,{id:h,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function Di(e){var t=V(),n=t.classNames,a=t.styles;return r.jsx("div",{className:n.months,style:a.months,children:e.children})}function Si(e){var t,n,a=e.initialProps,s=V(),o=or(),i=$t(),l=c.useState(!1),d=l[0],f=l[1];c.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),f(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=R(R({},s.styles.root),s.style),x=Object.keys(a).filter(function(y){return y.startsWith("data-")}).reduce(function(y,b){var g;return R(R({},y),(g={},g[b]=a[b],g))},{}),p=(n=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Di;return r.jsx("div",R({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},x,{children:r.jsx(p,{children:i.displayMonths.map(function(y,b){return r.jsx(Ci,{displayIndex:b,displayMonth:y},b)})})}))}function ki(e){var t=e.children,n=Gs(e,["children"]);return r.jsx(xo,{initialProps:n,children:r.jsx(So,{children:r.jsx(ii,{initialProps:n,children:r.jsx(Lo,{initialProps:n,children:r.jsx(Bo,{initialProps:n,children:r.jsx(Uo,{children:r.jsx(si,{children:t})})})})})})})}function _i(e){return r.jsx(ki,R({},e,{children:r.jsx(Si,{initialProps:e})}))}function lr({className:e,classNames:t,showOutsideDays:n=!0,...a}){return r.jsx(_i,{showOutsideDays:n,className:W("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:W(pr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:W(pr({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>r.jsx(_s,{className:"h-4 w-4"}),IconRight:({...s})=>r.jsx(Ms,{className:"h-4 w-4"})},...a})}lr.displayName="Calendar";function Mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const pn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ct(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function cr(e){return"nodeType"in e}function Se(e){var t,n;return e?Ct(e)?e:cr(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function dr(e){const{Document:t}=Se(e);return e instanceof t}function Kt(e){return Ct(e)?!1:e instanceof Se(e).HTMLElement}function ya(e){return e instanceof Se(e).SVGElement}function Dt(e){return e?Ct(e)?e.document:cr(e)?dr(e)?e:Kt(e)||ya(e)?e.ownerDocument:document:document:document}const Xe=pn?c.useLayoutEffect:c.useEffect;function gn(e){const t=c.useRef(e);return Xe(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function Ti(){const e=c.useRef(null),t=c.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ft(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return Xe(()=>{n.current!==e&&(n.current=e)},t),n}function Ht(e,t){const n=c.useRef();return c.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function on(e){const t=gn(e),n=c.useRef(null),a=c.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function ln(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let An={};function Vt(e,t){return c.useMemo(()=>{if(t)return t;const n=An[e]==null?0:An[e]+1;return An[e]=n,e+"-"+n},[e,t])}function wa(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((o,i)=>{const l=Object.entries(i);for(const[d,f]of l){const h=o[d];h!=null&&(o[d]=h+e*f)}return o},{...t})}}const wt=wa(1),cn=wa(-1);function Oi(e){return"clientX"in e&&"clientY"in e}function bn(e){if(!e)return!1;const{KeyboardEvent:t}=Se(e.target);return t&&e instanceof t}function Ei(e){if(!e)return!1;const{TouchEvent:t}=Se(e.target);return t&&e instanceof t}function dn(e){if(Ei(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Oi(e)?{x:e.clientX,y:e.clientY}:null}const it=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[it.Translate.toString(e),it.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Cr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ri(e){return e.matches(Cr)?e:e.querySelector(Cr)}const Ai={display:"none"};function Ii(e){let{id:t,value:n}=e;return J.createElement("div",{id:t,style:Ai},n)}function Li(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return J.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function Pi(){const[e,t]=c.useState("");return{announce:c.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const ja=c.createContext(null);function Fi(e){const t=c.useContext(ja);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Bi(){const[e]=c.useState(()=>new Set),t=c.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[c.useCallback(a=>{let{type:s,event:o}=a;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,o)})},[e]),t]}const Wi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function zi(e){let{announcements:t=Yi,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=Wi}=e;const{announce:o,announcement:i}=Pi(),l=Vt("DndLiveRegion"),[d,f]=c.useState(!1);if(c.useEffect(()=>{f(!0)},[]),Fi(c.useMemo(()=>({onDragStart(m){let{active:x}=m;o(t.onDragStart({active:x}))},onDragMove(m){let{active:x,over:p}=m;t.onDragMove&&o(t.onDragMove({active:x,over:p}))},onDragOver(m){let{active:x,over:p}=m;o(t.onDragOver({active:x,over:p}))},onDragEnd(m){let{active:x,over:p}=m;o(t.onDragEnd({active:x,over:p}))},onDragCancel(m){let{active:x,over:p}=m;o(t.onDragCancel({active:x,over:p}))}}),[o,t])),!d)return null;const h=J.createElement(J.Fragment,null,J.createElement(Ii,{id:a,value:s.draggable}),J.createElement(Li,{id:l,announcement:i}));return n?_t.createPortal(h,n):h}var le;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(le||(le={}));function un(){}function Na(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ca(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const qe=Object.freeze({x:0,y:0});function $i(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ki(e,t){const n=dn(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Hi(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function Vi(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Dr(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function Ui(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const Da=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=Dr(t),o=[];for(const i of a){const{id:l}=i,d=n.get(l);if(d){const f=Dr(d),h=s.reduce((x,p,y)=>x+$i(f[y],p),0),m=Number((h/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:m}})}}return o.sort(Hi)};function Xi(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-a,l=o-n;if(a<s&&n<o){const d=t.width*t.height,f=e.width*e.height,h=i*l,m=h/(d+f-h);return Number(m.toFixed(4))}return 0}const qi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const o of a){const{id:i}=o,l=n.get(i);if(l){const d=Xi(l,t);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(Vi)};function Gi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Sa(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:qe}function Ji(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Zi=Ji(1);function ka(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Qi(e,t,n){const a=ka(t);if(!a)return e;const{scaleX:s,scaleY:o,x:i,y:l}=a,d=e.left-i-(1-s)*parseFloat(n),f=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:h,height:m,top:f,right:d+h,bottom:f+m,left:d}}const el={ignoreTransform:!1};function St(e,t){t===void 0&&(t=el);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:h}=Se(e).getComputedStyle(e);f&&(n=Qi(n,f,h))}const{top:a,left:s,width:o,height:i,bottom:l,right:d}=n;return{top:a,left:s,width:o,height:i,bottom:l,right:d}}function Sr(e){return St(e,{ignoreTransform:!0})}function tl(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function nl(e,t){return t===void 0&&(t=Se(e).getComputedStyle(e)),t.position==="fixed"}function rl(e,t){t===void 0&&(t=Se(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function ur(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(dr(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Kt(s)||ya(s)||n.includes(s))return n;const o=Se(e).getComputedStyle(s);return s!==e&&rl(s,o)&&n.push(s),nl(s,o)?n:a(s.parentNode)}return e?a(e):n}function _a(e){const[t]=ur(e,1);return t??null}function In(e){return!pn||!e?null:Ct(e)?e:cr(e)?dr(e)||e===Dt(e).scrollingElement?window:Kt(e)?e:null:null}function Ma(e){return Ct(e)?e.scrollX:e.scrollLeft}function Ta(e){return Ct(e)?e.scrollY:e.scrollTop}function zn(e){return{x:Ma(e),y:Ta(e)}}var de;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(de||(de={}));function Oa(e){return!pn||!e?!1:e===document.scrollingElement}function Ea(e){const t={x:0,y:0},n=Oa(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:o,isBottom:i,isRight:l,maxScroll:a,minScroll:t}}const al={x:.2,y:.2};function sl(e,t,n,a,s){let{top:o,left:i,right:l,bottom:d}=n;a===void 0&&(a=10),s===void 0&&(s=al);const{isTop:f,isBottom:h,isLeft:m,isRight:x}=Ea(e),p={x:0,y:0},y={x:0,y:0},b={height:t.height*s.y,width:t.width*s.x};return!f&&o<=t.top+b.height?(p.y=de.Backward,y.y=a*Math.abs((t.top+b.height-o)/b.height)):!h&&d>=t.bottom-b.height&&(p.y=de.Forward,y.y=a*Math.abs((t.bottom-b.height-d)/b.height)),!x&&l>=t.right-b.width?(p.x=de.Forward,y.x=a*Math.abs((t.right-b.width-l)/b.width)):!m&&i<=t.left+b.width&&(p.x=de.Backward,y.x=a*Math.abs((t.left+b.width-i)/b.width)),{direction:p,speed:y}}function ol(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ra(e){return e.reduce((t,n)=>wt(t,zn(n)),qe)}function il(e){return e.reduce((t,n)=>t+Ma(n),0)}function ll(e){return e.reduce((t,n)=>t+Ta(n),0)}function Aa(e,t){if(t===void 0&&(t=St),!e)return;const{top:n,left:a,bottom:s,right:o}=t(e);_a(e)&&(s<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const cl=[["x",["left","right"],il],["y",["top","bottom"],ll]];class fr{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=ur(n),s=Ra(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of cl)for(const d of i)Object.defineProperty(this,d,{get:()=>{const f=l(a),h=s[o]-f;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ot{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function dl(e){const{EventTarget:t}=Se(e);return e instanceof t?e:Dt(e)}function Ln(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var ze;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ze||(ze={}));function kr(e){e.preventDefault()}function ul(e){e.stopPropagation()}var z;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(z||(z={}));const Ia={start:[z.Space,z.Enter],cancel:[z.Esc],end:[z.Space,z.Enter,z.Tab]},fl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case z.Right:return{...n,x:n.x+25};case z.Left:return{...n,x:n.x-25};case z.Down:return{...n,y:n.y+25};case z.Up:return{...n,y:n.y-25}}};class La{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ot(Dt(n)),this.windowListeners=new Ot(Se(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ze.Resize,this.handleCancel),this.windowListeners.add(ze.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ze.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Aa(a),n(qe)}handleKeyDown(t){if(bn(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:o=Ia,coordinateGetter:i=fl,scrollBehavior:l="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:f}=a.current,h=f?{x:f.left,y:f.top}:qe;this.referenceCoordinates||(this.referenceCoordinates=h);const m=i(t,{active:n,context:a.current,currentCoordinates:h});if(m){const x=cn(m,h),p={x:0,y:0},{scrollableAncestors:y}=a.current;for(const b of y){const g=t.code,{isTop:C,isRight:j,isLeft:E,isBottom:N,maxScroll:M,minScroll:O}=Ea(b),L=ol(b),I={x:Math.min(g===z.Right?L.right-L.width/2:L.right,Math.max(g===z.Right?L.left:L.left+L.width/2,m.x)),y:Math.min(g===z.Down?L.bottom-L.height/2:L.bottom,Math.max(g===z.Down?L.top:L.top+L.height/2,m.y))},Y=g===z.Right&&!j||g===z.Left&&!E,K=g===z.Down&&!N||g===z.Up&&!C;if(Y&&I.x!==m.x){const B=b.scrollLeft+x.x,P=g===z.Right&&B<=M.x||g===z.Left&&B>=O.x;if(P&&!x.y){b.scrollTo({left:B,behavior:l});return}P?p.x=b.scrollLeft-B:p.x=g===z.Right?b.scrollLeft-M.x:b.scrollLeft-O.x,p.x&&b.scrollBy({left:-p.x,behavior:l});break}else if(K&&I.y!==m.y){const B=b.scrollTop+x.y,P=g===z.Down&&B<=M.y||g===z.Up&&B>=O.y;if(P&&!x.x){b.scrollTo({top:B,behavior:l});return}P?p.y=b.scrollTop-B:p.y=g===z.Down?b.scrollTop-M.y:b.scrollTop-O.y,p.y&&b.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,wt(cn(m,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}La.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Ia,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(a.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function _r(e){return!!(e&&"distance"in e)}function Mr(e){return!!(e&&"delay"in e)}class hr{constructor(t,n,a){var s;a===void 0&&(a=dl(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=Dt(i),this.documentListeners=new Ot(this.document),this.listeners=new Ot(a),this.windowListeners=new Ot(Se(i)),this.initialCoordinates=(s=dn(o))!=null?s:qe,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ze.Resize,this.handleCancel),this.windowListeners.add(ze.DragStart,kr),this.windowListeners.add(ze.VisibilityChange,this.handleCancel),this.windowListeners.add(ze.ContextMenu,kr),this.documentListeners.add(ze.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Mr(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_r(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ze.Click,ul,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ze.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!s)return;const d=(n=dn(t))!=null?n:qe,f=cn(s,d);if(!a&&l){if(_r(l)){if(l.tolerance!=null&&Ln(f,l.tolerance))return this.handleCancel();if(Ln(f,l.distance))return this.handleStart()}if(Mr(l)&&Ln(f,l.tolerance))return this.handleCancel();this.handlePending(l,f);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===z.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const hl={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yn extends hr{constructor(t){const{event:n}=t,a=Dt(n.target);super(t,hl,a)}}yn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const ml={move:{name:"mousemove"},end:{name:"mouseup"}};var $n;(function(e){e[e.RightClick=2]="RightClick"})($n||($n={}));class vl extends hr{constructor(t){super(t,ml,Dt(t.event.target))}}vl.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===$n.RightClick?!1:(a==null||a({event:n}),!0)}}];const Pn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xl extends hr{constructor(t){super(t,Pn)}static setup(){return window.addEventListener(Pn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pn.move.name,t)};function t(){}}}xl.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var Et;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Et||(Et={}));var fn;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(fn||(fn={}));function pl(e){let{acceleration:t,activator:n=Et.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:i=5,order:l=fn.TreeOrder,pointerCoordinates:d,scrollableAncestors:f,scrollableAncestorRects:h,delta:m,threshold:x}=e;const p=bl({delta:m,disabled:!o}),[y,b]=Ti(),g=c.useRef({x:0,y:0}),C=c.useRef({x:0,y:0}),j=c.useMemo(()=>{switch(n){case Et.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Et.DraggableRect:return s}},[n,s,d]),E=c.useRef(null),N=c.useCallback(()=>{const O=E.current;if(!O)return;const L=g.current.x*C.current.x,I=g.current.y*C.current.y;O.scrollBy(L,I)},[]),M=c.useMemo(()=>l===fn.TreeOrder?[...f].reverse():f,[l,f]);c.useEffect(()=>{if(!o||!f.length||!j){b();return}for(const O of M){if((a==null?void 0:a(O))===!1)continue;const L=f.indexOf(O),I=h[L];if(!I)continue;const{direction:Y,speed:K}=sl(O,I,j,t,x);for(const B of["x","y"])p[B][Y[B]]||(K[B]=0,Y[B]=0);if(K.x>0||K.y>0){b(),E.current=O,y(N,i),g.current=K,C.current=Y;return}}g.current={x:0,y:0},C.current={x:0,y:0},b()},[t,N,a,b,o,i,JSON.stringify(j),JSON.stringify(p),y,f,M,h,JSON.stringify(x)])}const gl={x:{[de.Backward]:!1,[de.Forward]:!1},y:{[de.Backward]:!1,[de.Forward]:!1}};function bl(e){let{delta:t,disabled:n}=e;const a=ln(t);return Ht(s=>{if(n||!a||!s)return gl;const o={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[de.Backward]:s.x[de.Backward]||o.x===-1,[de.Forward]:s.x[de.Forward]||o.x===1},y:{[de.Backward]:s.y[de.Backward]||o.y===-1,[de.Forward]:s.y[de.Forward]||o.y===1}}},[n,t,a])}function yl(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Ht(s=>{var o;return t==null?null:(o=a??s)!=null?o:null},[a,t])}function wl(e,t){return c.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,a)}));return[...n,...o]},[]),[e,t])}var Bt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bt||(Bt={}));var Kn;(function(e){e.Optimized="optimized"})(Kn||(Kn={}));const Tr=new Map;function jl(e,t){let{dragging:n,dependencies:a,config:s}=t;const[o,i]=c.useState(null),{frequency:l,measure:d,strategy:f}=s,h=c.useRef(e),m=g(),x=Ft(m),p=c.useCallback(function(C){C===void 0&&(C=[]),!x.current&&i(j=>j===null?C:j.concat(C.filter(E=>!j.includes(E))))},[x]),y=c.useRef(null),b=Ht(C=>{if(m&&!n)return Tr;if(!C||C===Tr||h.current!==e||o!=null){const j=new Map;for(let E of e){if(!E)continue;if(o&&o.length>0&&!o.includes(E.id)&&E.rect.current){j.set(E.id,E.rect.current);continue}const N=E.node.current,M=N?new fr(d(N),N):null;E.rect.current=M,M&&j.set(E.id,M)}return j}return C},[e,o,n,m,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{m||p()},[n,m]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{m||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},l))},[l,m,p,...a]),{droppableRects:b,measureDroppableContainers:p,measuringScheduled:o!=null};function g(){switch(f){case Bt.Always:return!1;case Bt.BeforeDragging:return n;default:return!n}}}function mr(e,t){return Ht(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Nl(e,t){return mr(e,t)}function Cl(e){let{callback:t,disabled:n}=e;const a=gn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function wn(e){let{callback:t,disabled:n}=e;const a=gn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Dl(e){return new fr(St(e),e)}function Or(e,t,n){t===void 0&&(t=Dl);const[a,s]=c.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=d??n)!=null?f:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=Cl({callback(d){if(e)for(const f of d){const{type:h,target:m}=f;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),l=wn({callback:o});return Xe(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),a}function Sl(e){const t=mr(e);return Sa(e,t)}const Er=[];function kl(e){const t=c.useRef(e),n=Ht(a=>e?a&&a!==Er&&e&&t.current&&e.parentNode===t.current.parentNode?a:ur(e):Er,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function _l(e){const[t,n]=c.useState(null),a=c.useRef(e),s=c.useCallback(o=>{const i=In(o.target);i&&n(l=>l?(l.set(i,zn(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=a.current;if(e!==o){i(o);const l=e.map(d=>{const f=In(d);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,zn(f)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),a.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(d=>{const f=In(d);f==null||f.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>wt(o,i),qe):Ra(e):qe,[e,t])}function Rr(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const a=e!==qe;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?cn(e,n.current):qe}function Ml(e){c.useEffect(()=>{if(!pn)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Tl(e,t){return c.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:o}=a;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function Pa(e){return c.useMemo(()=>e?tl(e):null,[e])}const Ar=[];function Ol(e,t){t===void 0&&(t=St);const[n]=e,a=Pa(n?Se(n):null),[s,o]=c.useState(Ar);function i(){o(()=>e.length?e.map(d=>Oa(d)?a:new fr(t(d),d)):Ar)}const l=wn({callback:i});return Xe(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),s}function Fa(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Kt(t)?t:e}function El(e){let{measure:t}=e;const[n,a]=c.useState(null),s=c.useCallback(f=>{for(const{target:h}of f)if(Kt(h)){a(m=>{const x=t(h);return m?{...m,width:x.width,height:x.height}:x});break}},[t]),o=wn({callback:s}),i=c.useCallback(f=>{const h=Fa(f);o==null||o.disconnect(),h&&(o==null||o.observe(h)),a(h?t(h):null)},[t,o]),[l,d]=on(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Rl=[{sensor:yn,options:{}},{sensor:La,options:{}}],Al={current:{}},Qt={draggable:{measure:Sr},droppable:{measure:Sr,strategy:Bt.WhileDragging,frequency:Kn.Optimized},dragOverlay:{measure:St}};class Rt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const Il={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Rt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:un},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qt,measureDroppableContainers:un,windowRect:null,measuringScheduled:!1},Ba={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:un,draggableNodes:new Map,over:null,measureDroppableContainers:un},Ut=c.createContext(Ba),Wa=c.createContext(Il);function Ll(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Rt}}}function Pl(e,t){switch(t.type){case le.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case le.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case le.DragEnd:case le.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case le.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Rt(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case le.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||a!==o.key)return e;const i=new Rt(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case le.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const o=new Rt(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Fl(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=c.useContext(Ut),o=ln(a),i=ln(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!a&&o&&i!=null){if(!bn(o)||document.activeElement===o.target)return;const l=s.get(i);if(!l)return;const{activatorNode:d,node:f}=l;if(!d.current&&!f.current)return;requestAnimationFrame(()=>{for(const h of[d.current,f.current]){if(!h)continue;const m=Ri(h);if(m){m.focus();break}}})}},[a,t,s,i,o]),null}function Ya(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...a}),n):n}function Bl(e){return c.useMemo(()=>({draggable:{...Qt.draggable,...e==null?void 0:e.draggable},droppable:{...Qt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Qt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Wl(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Xe(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!a)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const h=n(f),m=Sa(h,a);if(i||(m.x=0),l||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const x=_a(f);x&&x.scrollBy({top:m.y,left:m.x})}},[t,i,l,a,n])}const jn=c.createContext({...qe,scaleX:1,scaleY:1});var ut;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ut||(ut={}));const za=c.memo(function(t){var n,a,s,o;let{id:i,accessibility:l,autoScroll:d=!0,children:f,sensors:h=Rl,collisionDetection:m=qi,measuring:x,modifiers:p,...y}=t;const b=c.useReducer(Pl,void 0,Ll),[g,C]=b,[j,E]=Bi(),[N,M]=c.useState(ut.Uninitialized),O=N===ut.Initialized,{draggable:{active:L,nodes:I,translate:Y},droppable:{containers:K}}=g,B=L!=null?I.get(L):null,P=c.useRef({initial:null,translated:null}),G=c.useMemo(()=>{var ce;return L!=null?{id:L,data:(ce=B==null?void 0:B.data)!=null?ce:Al,rect:P}:null},[L,B]),Z=c.useRef(null),[ke,Ie]=c.useState(null),[D,_]=c.useState(null),ne=Ft(y,Object.values(y)),me=Vt("DndDescribedBy",i),ge=c.useMemo(()=>K.getEnabled(),[K]),te=Bl(x),{droppableRects:re,measureDroppableContainers:Le,measuringScheduled:Pe}=jl(ge,{dragging:O,dependencies:[Y.x,Y.y],config:te.droppable}),ve=yl(I,L),_e=c.useMemo(()=>D?dn(D):null,[D]),Fe=Sn(),ue=Nl(ve,te.draggable.measure);Wl({activeNode:L!=null?I.get(L):null,config:Fe.layoutShiftCompensation,initialRect:ue,measure:te.draggable.measure});const A=Or(ve,te.draggable.measure,ue),Ae=Or(ve?ve.parentElement:null),U=c.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:re,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=K.getNodeFor((n=U.current.over)==null?void 0:n.id),be=El({measure:te.dragOverlay.measure}),Te=(a=be.nodeRef.current)!=null?a:ve,Ge=O?(s=be.rect)!=null?s:A:null,Je=!!(be.nodeRef.current&&be.rect),gt=Sl(Je?null:A),Ze=Pa(Te?Se(Te):null),Be=kl(O?Me??ve:null),Ke=Ol(Be),nt=Ya(p,{transform:{x:Y.x-gt.x,y:Y.y-gt.y,scaleX:1,scaleY:1},activatorEvent:D,active:G,activeNodeRect:A,containerNodeRect:Ae,draggingNodeRect:Ge,over:U.current.over,overlayNodeRect:be.rect,scrollableAncestors:Be,scrollableAncestorRects:Ke,windowRect:Ze}),We=_e?wt(_e,Y):null,lt=_l(Be),Qe=Rr(lt),rt=Rr(lt,[A]),v=wt(nt,Qe),k=Ge?Zi(Ge,nt):null,T=G&&k?m({active:G,collisionRect:k,droppableRects:re,droppableContainers:ge,pointerCoordinates:We}):null,fe=Ui(T,"id"),[X,q]=c.useState(null),xe=Je?nt:wt(nt,rt),He=Gi(xe,(o=X==null?void 0:X.rect)!=null?o:null,A),at=c.useRef(null),Xt=c.useCallback((ce,ye)=>{let{sensor:we,options:et}=ye;if(Z.current==null)return;const je=I.get(Z.current);if(!je)return;const Ne=ce.nativeEvent,Ye=new we({active:Z.current,activeNode:je,event:Ne,options:et,context:U,onAbort(Q){if(!I.get(Q))return;const{onDragAbort:u}=ne.current,w={id:Q};u==null||u(w),j({type:"onDragAbort",event:w})},onPending(Q,tt,u,w){if(!I.get(Q))return;const{onDragPending:$}=ne.current,H={id:Q,constraint:tt,initialCoordinates:u,offset:w};$==null||$(H),j({type:"onDragPending",event:H})},onStart(Q){const tt=Z.current;if(tt==null)return;const u=I.get(tt);if(!u)return;const{onDragStart:w}=ne.current,S={activatorEvent:Ne,active:{id:tt,data:u.data,rect:P}};_t.unstable_batchedUpdates(()=>{w==null||w(S),M(ut.Initializing),C({type:le.DragStart,initialCoordinates:Q,active:tt}),j({type:"onDragStart",event:S}),Ie(at.current),_(Ne)})},onMove(Q){C({type:le.DragMove,coordinates:Q})},onEnd:ct(le.DragEnd),onCancel:ct(le.DragCancel)});at.current=Ye;function ct(Q){return async function(){const{active:u,collisions:w,over:S,scrollAdjustedTranslate:$}=U.current;let H=null;if(u&&$){const{cancelDrop:Ce}=ne.current;H={activatorEvent:Ne,active:u,collisions:w,delta:$,over:S},Q===le.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(H))&&(Q=le.DragCancel)}Z.current=null,_t.unstable_batchedUpdates(()=>{C({type:Q}),M(ut.Uninitialized),q(null),Ie(null),_(null),at.current=null;const Ce=Q===le.DragEnd?"onDragEnd":"onDragCancel";if(H){const dt=ne.current[Ce];dt==null||dt(H),j({type:Ce,event:H})}})}}},[I]),Nn=c.useCallback((ce,ye)=>(we,et)=>{const je=we.nativeEvent,Ne=I.get(et);if(Z.current!==null||!Ne||je.dndKit||je.defaultPrevented)return;const Ye={active:Ne};ce(we,ye.options,Ye)===!0&&(je.dndKit={capturedBy:ye.sensor},Z.current=et,Xt(we,ye))},[I,Xt]),bt=wl(h,Nn);Ml(h),Xe(()=>{A&&N===ut.Initializing&&M(ut.Initialized)},[A,N]),c.useEffect(()=>{const{onDragMove:ce}=ne.current,{active:ye,activatorEvent:we,collisions:et,over:je}=U.current;if(!ye||!we)return;const Ne={active:ye,activatorEvent:we,collisions:et,delta:{x:v.x,y:v.y},over:je};_t.unstable_batchedUpdates(()=>{ce==null||ce(Ne),j({type:"onDragMove",event:Ne})})},[v.x,v.y]),c.useEffect(()=>{const{active:ce,activatorEvent:ye,collisions:we,droppableContainers:et,scrollAdjustedTranslate:je}=U.current;if(!ce||Z.current==null||!ye||!je)return;const{onDragOver:Ne}=ne.current,Ye=et.get(fe),ct=Ye&&Ye.rect.current?{id:Ye.id,rect:Ye.rect.current,data:Ye.data,disabled:Ye.disabled}:null,Q={active:ce,activatorEvent:ye,collisions:we,delta:{x:je.x,y:je.y},over:ct};_t.unstable_batchedUpdates(()=>{q(ct),Ne==null||Ne(Q),j({type:"onDragOver",event:Q})})},[fe]),Xe(()=>{U.current={activatorEvent:D,active:G,activeNode:ve,collisionRect:k,collisions:T,droppableRects:re,draggableNodes:I,draggingNode:Te,draggingNodeRect:Ge,droppableContainers:K,over:X,scrollableAncestors:Be,scrollAdjustedTranslate:v},P.current={initial:Ge,translated:k}},[G,ve,T,k,I,Te,Ge,re,K,X,Be,v]),pl({...Fe,delta:Y,draggingRect:k,pointerCoordinates:We,scrollableAncestors:Be,scrollableAncestorRects:Ke});const Cn=c.useMemo(()=>({active:G,activeNode:ve,activeNodeRect:A,activatorEvent:D,collisions:T,containerNodeRect:Ae,dragOverlay:be,draggableNodes:I,droppableContainers:K,droppableRects:re,over:X,measureDroppableContainers:Le,scrollableAncestors:Be,scrollableAncestorRects:Ke,measuringConfiguration:te,measuringScheduled:Pe,windowRect:Ze}),[G,ve,A,D,T,Ae,be,I,K,re,X,Le,Be,Ke,te,Pe,Ze]),Dn=c.useMemo(()=>({activatorEvent:D,activators:bt,active:G,activeNodeRect:A,ariaDescribedById:{draggable:me},dispatch:C,draggableNodes:I,over:X,measureDroppableContainers:Le}),[D,bt,G,A,C,me,I,X,Le]);return J.createElement(ja.Provider,{value:E},J.createElement(Ut.Provider,{value:Dn},J.createElement(Wa.Provider,{value:Cn},J.createElement(jn.Provider,{value:He},f)),J.createElement(Fl,{disabled:(l==null?void 0:l.restoreFocus)===!1})),J.createElement(zi,{...l,hiddenTextDescribedById:me}));function Sn(){const ce=(ke==null?void 0:ke.autoScrollEnabled)===!1,ye=typeof d=="object"?d.enabled===!1:d===!1,we=O&&!ce&&!ye;return typeof d=="object"?{...d,enabled:we}:{enabled:we}}}),Yl=c.createContext(null),Ir="button",zl="Draggable";function $l(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const o=Vt(zl),{activators:i,activatorEvent:l,active:d,activeNodeRect:f,ariaDescribedById:h,draggableNodes:m,over:x}=c.useContext(Ut),{role:p=Ir,roleDescription:y="draggable",tabIndex:b=0}=s??{},g=(d==null?void 0:d.id)===t,C=c.useContext(g?jn:Yl),[j,E]=on(),[N,M]=on(),O=Tl(i,t),L=Ft(n);Xe(()=>(m.set(t,{id:t,key:o,node:j,activatorNode:N,data:L}),()=>{const Y=m.get(t);Y&&Y.key===o&&m.delete(t)}),[m,t]);const I=c.useMemo(()=>({role:p,tabIndex:b,"aria-disabled":a,"aria-pressed":g&&p===Ir?!0:void 0,"aria-roledescription":y,"aria-describedby":h.draggable}),[a,p,b,g,y,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:f,attributes:I,isDragging:g,listeners:a?void 0:O,node:j,over:x,setNodeRef:E,setActivatorNodeRef:M,transform:C}}function $a(){return c.useContext(Wa)}const Kl="Droppable",Hl={timeout:25};function vr(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const o=Vt(Kl),{active:i,dispatch:l,over:d,measureDroppableContainers:f}=c.useContext(Ut),h=c.useRef({disabled:n}),m=c.useRef(!1),x=c.useRef(null),p=c.useRef(null),{disabled:y,updateMeasurementsFor:b,timeout:g}={...Hl,...s},C=Ft(b??a),j=c.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{f(Array.isArray(C.current)?C.current:[C.current]),p.current=null},g)},[g]),E=wn({callback:j,disabled:y||!i}),N=c.useCallback((I,Y)=>{E&&(Y&&(E.unobserve(Y),m.current=!1),I&&E.observe(I))},[E]),[M,O]=on(N),L=Ft(t);return c.useEffect(()=>{!E||!M.current||(E.disconnect(),m.current=!1,E.observe(M.current))},[M,E]),c.useEffect(()=>(l({type:le.RegisterDroppable,element:{id:a,key:o,disabled:n,node:M,rect:x,data:L}}),()=>l({type:le.UnregisterDroppable,key:o,id:a})),[a]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:le.SetDroppableDisabled,id:a,key:o,disabled:n}),h.current.disabled=n)},[a,o,n,l]),{active:i,rect:x,isOver:(d==null?void 0:d.id)===a,node:M,over:d,setNodeRef:O}}function Vl(e){let{animation:t,children:n}=e;const[a,s]=c.useState(null),[o,i]=c.useState(null),l=ln(n);return!n&&!a&&l&&s(l),Xe(()=>{if(!o)return;const d=a==null?void 0:a.key,f=a==null?void 0:a.props.id;if(d==null||f==null){s(null);return}Promise.resolve(t(f,o)).then(()=>{s(null)})},[t,a,o]),J.createElement(J.Fragment,null,n,a?c.cloneElement(a,{ref:i}):null)}const Ul={x:0,y:0,scaleX:1,scaleY:1};function Xl(e){let{children:t}=e;return J.createElement(Ut.Provider,{value:Ba},J.createElement(jn.Provider,{value:Ul},t))}const ql={position:"fixed",touchAction:"none"},Gl=e=>bn(e)?"transform 250ms ease":void 0,Jl=c.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:o,className:i,rect:l,style:d,transform:f,transition:h=Gl}=e;if(!l)return null;const m=s?f:{...f,scaleX:1,scaleY:1},x={...ql,width:l.width,height:l.height,top:l.top,left:l.left,transform:it.Transform.toString(m),transformOrigin:s&&a?Ki(a,l):void 0,transition:typeof h=="function"?h(a):h,...d};return J.createElement(n,{className:i,style:x,ref:t},o)}),Zl=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[l,d]of Object.entries(o.active))d!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,d));if(o!=null&&o.dragOverlay)for(const[l,d]of Object.entries(o.dragOverlay))d!==void 0&&a.node.style.setProperty(l,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&a.node.classList.add(i.dragOverlay),function(){for(const[d,f]of Object.entries(s))n.node.style.setProperty(d,f);i!=null&&i.active&&n.node.classList.remove(i.active)}},Ql=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:it.Transform.toString(t)},{transform:it.Transform.toString(n)}]},ec={duration:250,easing:"ease",keyframes:Ql,sideEffects:Zl({styles:{active:{opacity:"0"}}})};function tc(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return gn((o,i)=>{if(t===null)return;const l=n.get(o);if(!l)return;const d=l.node.current;if(!d)return;const f=Fa(i);if(!f)return;const{transform:h}=Se(i).getComputedStyle(i),m=ka(h);if(!m)return;const x=typeof t=="function"?t:nc(t);return Aa(d,s.draggable.measure),x({active:{id:o,data:l.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(f)},droppableContainers:a,measuringConfiguration:s,transform:m})})}function nc(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...ec,...e};return o=>{let{active:i,dragOverlay:l,transform:d,...f}=o;if(!t)return;const h={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},m={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/l.rect.height:1},x={x:d.x-h.x,y:d.y-h.y,...m},p=s({...f,active:i,dragOverlay:l,transform:{initial:d,final:x}}),[y]=p,b=p[p.length-1];if(JSON.stringify(y)===JSON.stringify(b))return;const g=a==null?void 0:a({active:i,dragOverlay:l,...f}),C=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(j=>{C.onfinish=()=>{g==null||g(),j()}})}}let Lr=0;function rc(e){return c.useMemo(()=>{if(e!=null)return Lr++,Lr},[e])}const Ka=J.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:o,modifiers:i,wrapperElement:l="div",className:d,zIndex:f=999}=e;const{activatorEvent:h,active:m,activeNodeRect:x,containerNodeRect:p,draggableNodes:y,droppableContainers:b,dragOverlay:g,over:C,measuringConfiguration:j,scrollableAncestors:E,scrollableAncestorRects:N,windowRect:M}=$a(),O=c.useContext(jn),L=rc(m==null?void 0:m.id),I=Ya(i,{activatorEvent:h,active:m,activeNodeRect:x,containerNodeRect:p,draggingNodeRect:g.rect,over:C,overlayNodeRect:g.rect,scrollableAncestors:E,scrollableAncestorRects:N,transform:O,windowRect:M}),Y=mr(x),K=tc({config:a,draggableNodes:y,droppableContainers:b,measuringConfiguration:j}),B=Y?g.setRef:void 0;return J.createElement(Xl,null,J.createElement(Vl,{animation:K},m&&L?J.createElement(Jl,{key:L,id:m.id,ref:B,as:l,activatorEvent:h,adjustScale:t,className:d,transition:o,rect:Y,style:{zIndex:f,...s},transform:I},n):null))});function Ha(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function ac(e,t){return e.reduce((n,a,s)=>{const o=t.get(a);return o&&(n[s]=o),n},Array(e.length))}function Gt(e){return e!==null&&e>=0}function sc(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function oc(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Va=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const o=Ha(t,a,n),i=t[s],l=o[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Jt={scaleX:1,scaleY:1},Ua=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:o,overIndex:i}=e;const l=(t=o[n])!=null?t:a;if(!l)return null;if(s===n){const f=o[i];return f?{x:0,y:n<i?f.top+f.height-(l.top+l.height):f.top-l.top,...Jt}:null}const d=ic(o,s,n);return s>n&&s<=i?{x:0,y:-l.height-d,...Jt}:s<n&&s>=i?{x:0,y:l.height+d,...Jt}:{x:0,y:0,...Jt}};function ic(e,t,n){const a=e[t],s=e[t-1],o=e[t+1];return a?n<t?s?a.top-(s.top+s.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const Xa="Sortable",qa=J.createContext({activeIndex:-1,containerId:Xa,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Va,disabled:{draggable:!1,droppable:!1}});function Ga(e){let{children:t,id:n,items:a,strategy:s=Va,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:f,measureDroppableContainers:h}=$a(),m=Vt(Xa,n),x=l.rect!==null,p=c.useMemo(()=>a.map(O=>typeof O=="object"&&"id"in O?O.id:O),[a]),y=i!=null,b=i?p.indexOf(i.id):-1,g=f?p.indexOf(f.id):-1,C=c.useRef(p),j=!sc(p,C.current),E=g!==-1&&b===-1||j,N=oc(o);Xe(()=>{j&&y&&h(p)},[j,p,y,h]),c.useEffect(()=>{C.current=p},[p]);const M=c.useMemo(()=>({activeIndex:b,containerId:m,disabled:N,disableTransforms:E,items:p,overIndex:g,useDragOverlay:x,sortedRects:ac(p,d),strategy:s}),[b,m,N.draggable,N.droppable,E,p,g,d,x,s]);return J.createElement(qa.Provider,{value:M},t)}const lc=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return Ha(n,a,s).indexOf(t)},cc=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:o,newIndex:i,previousItems:l,previousContainerId:d,transition:f}=e;return!f||!a||l!==o&&s===i?!1:n?!0:i!==s&&t===d},dc={duration:200,easing:"ease"},Ja="transform",uc=it.Transition.toString({property:Ja,duration:0,easing:"linear"}),fc={roleDescription:"sortable"};function hc(e){let{disabled:t,index:n,node:a,rect:s}=e;const[o,i]=c.useState(null),l=c.useRef(n);return Xe(()=>{if(!t&&n!==l.current&&a.current){const d=s.current;if(d){const f=St(a.current,{ignoreTransform:!0}),h={x:d.left-f.left,y:d.top-f.top,scaleX:d.width/f.width,scaleY:d.height/f.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,a,s]),c.useEffect(()=>{o&&i(null)},[o]),o}function Za(e){let{animateLayoutChanges:t=cc,attributes:n,disabled:a,data:s,getNewIndex:o=lc,id:i,strategy:l,resizeObserverConfig:d,transition:f=dc}=e;const{items:h,containerId:m,activeIndex:x,disabled:p,disableTransforms:y,sortedRects:b,overIndex:g,useDragOverlay:C,strategy:j}=c.useContext(qa),E=mc(a,p),N=h.indexOf(i),M=c.useMemo(()=>({sortable:{containerId:m,index:N,items:h},...s}),[m,s,N,h]),O=c.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:L,node:I,isOver:Y,setNodeRef:K}=vr({id:i,data:M,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...d}}),{active:B,activatorEvent:P,activeNodeRect:G,attributes:Z,setNodeRef:ke,listeners:Ie,isDragging:D,over:_,setActivatorNodeRef:ne,transform:me}=$l({id:i,data:M,attributes:{...fc,...n},disabled:E.draggable}),ge=Mi(K,ke),te=!!B,re=te&&!y&&Gt(x)&&Gt(g),Le=!C&&D,Pe=Le&&re?me:null,_e=re?Pe??(l??j)({rects:b,activeNodeRect:G,activeIndex:x,overIndex:g,index:N}):null,Fe=Gt(x)&&Gt(g)?o({id:i,items:h,activeIndex:x,overIndex:g}):N,ue=B==null?void 0:B.id,A=c.useRef({activeId:ue,items:h,newIndex:Fe,containerId:m}),Ae=h!==A.current.items,U=t({active:B,containerId:m,isDragging:D,isSorting:te,id:i,index:N,items:h,newIndex:A.current.newIndex,previousItems:A.current.items,previousContainerId:A.current.containerId,transition:f,wasDragging:A.current.activeId!=null}),Me=hc({disabled:!U,index:N,node:I,rect:L});return c.useEffect(()=>{te&&A.current.newIndex!==Fe&&(A.current.newIndex=Fe),m!==A.current.containerId&&(A.current.containerId=m),h!==A.current.items&&(A.current.items=h)},[te,Fe,m,h]),c.useEffect(()=>{if(ue===A.current.activeId)return;if(ue!=null&&A.current.activeId==null){A.current.activeId=ue;return}const Te=setTimeout(()=>{A.current.activeId=ue},50);return()=>clearTimeout(Te)},[ue]),{active:B,activeIndex:x,attributes:Z,data:M,rect:L,index:N,newIndex:Fe,items:h,isOver:Y,isSorting:te,isDragging:D,listeners:Ie,node:I,overIndex:g,over:_,setNodeRef:ge,setActivatorNodeRef:ne,setDroppableNodeRef:K,setDraggableNodeRef:ke,transform:Me??_e,transition:be()};function be(){if(Me||Ae&&A.current.newIndex===N)return uc;if(!(Le&&!bn(P)||!f)&&(te||U))return it.Transition.toString({...f,property:Ja})}}function mc(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}z.Down,z.Right,z.Up,z.Left;const vc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"title",label:"Título (A → Z)"},{value:"status",label:"Status"}],Pr={Pendente:0,Agendado:1,"A fazer":2,"Em andamento":3,Concluído:4},xc=["Pendente","Agendado","A fazer","Em andamento","Concluído"],pc={Pendente:"border-t-red-500/60",Agendado:"border-t-blue-500/60","A fazer":"border-t-orange-500/60","Em andamento":"border-t-yellow-500/60",Concluído:"border-t-green-500/60"};function gc(e,t){return[...e].sort((n,a)=>{switch(t){case"deadline":return!n.dueDate&&!a.dueDate?0:n.dueDate?a.dueDate?a.dueDate.localeCompare(n.dueDate):-1:1;case"title":return n.title.localeCompare(a.title,"pt-BR");case"status":return(Pr[n.status]??0)-(Pr[a.status]??0);default:return 0}})}function bc({id:e,children:t}){const{attributes:n,listeners:a,setNodeRef:s,transform:o,transition:i,isDragging:l}=Za({id:e}),d={transform:it.Transform.toString(o),transition:i};return r.jsx("div",{ref:s,style:d,...n,...a,className:W("touch-none",l&&"opacity-30"),children:t})}function yc({status:e,isOver:t,items:n,itemIds:a,today:s,onEdit:o,onDelete:i,showRichNotes:l,borderColor:d,badgeColor:f,statusLabel:h}){const{setNodeRef:m}=vr({id:e});return r.jsxs("div",{className:W("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",d||"border-t-muted/60",t&&"bg-card/80 ring-2 ring-primary/20"),children:[r.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-border shadow-sm bg-background/50 backdrop-blur-md rounded-t-xl",children:[r.jsx(pe,{variant:"secondary",className:f,children:h}),r.jsx(pe,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50",children:n.length})]}),r.jsxs("div",{ref:m,"data-column-status":e,className:"flex-1 p-3 space-y-3",children:[r.jsx(Ga,{items:a,strategy:Ua,children:n.map(x=>r.jsx(bc,{id:x.id,children:r.jsx(Hn,{sub:x,today:s,onEdit:()=>o(x),onDelete:()=>i(x.id),showRichNotes:l})},x.id))}),n.length===0&&r.jsxs("div",{className:"sticky top-[40vh] flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1",children:[r.jsx(pe,{variant:"secondary",className:W("font-medium mb-1",f),children:h}),r.jsx("span",{children:"Arraste subtarefas para cá"})]})]})]})}const Hn=c.memo(function({sub:t,today:n,showStatus:a,onEdit:s,onDelete:o,showRichNotes:i}){const l=t.dueDate&&t.dueDate<n&&t.status!=="Concluído";return r.jsx(At,{className:W("group transition-shadow duration-150 hover:shadow-md cursor-pointer",l&&"border-destructive/50"),onClick:s,children:r.jsx(It,{className:"p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[a&&r.jsx(pe,{variant:"secondary",className:W("text-[10px]",Yr[t.status]),children:Xn[t.status]}),l&&r.jsx(pe,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),r.jsx("p",{className:W("font-medium text-sm",t.completed&&"line-through text-muted-foreground"),children:t.title}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[r.jsx("span",{className:"font-medium",children:"Tarefa:"})," ",t.parentTaskTitle]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[t.projectName&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(vn,{className:"w-3 h-3"}),t.projectName]}),t.assignee&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),t.assignee]}),t.dueDate&&r.jsxs("span",{className:W("flex items-center gap-1",l&&"text-destructive font-medium"),children:[r.jsx(Nt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]}),t.notes&&i&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Wr(t.notes)||t.notes}}),t.notes&&!i&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.notes.replace(/<[^>]*>/g,"")})]}),r.jsxs("div",{className:"flex gap-0.5 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:d=>{d.stopPropagation(),s()},children:r.jsx(aa,{className:"w-3.5 h-3.5"})}),r.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:d=>{d.stopPropagation(),o()},children:r.jsx(Gn,{className:"w-3.5 h-3.5"})})]})]})})})});function wc({tasks:e,projects:t,loading:n,onCreateSubtask:a,onUpdateSubtask:s,onDeleteSubtask:o}){const{getOrderedValues:i,getLabelsMap:l,getColorsMap:d,getBorderColorsMap:f}=Un(),h=c.useMemo(()=>{const v=i("subtarefa_status");return v.length>0?v:xc},[i]),m=c.useMemo(()=>{const v=l("subtarefa_status");return Object.keys(v).length>0?v:Xn},[l]),x=c.useMemo(()=>{const v=d("subtarefa_status");return Object.keys(v).length>0?v:Yr},[d]),p=c.useMemo(()=>{const v=f("subtarefa_status");return Object.keys(v).length>0?v:pc},[f]),[y,b]=c.useState(!1),[g,C]=c.useState(null),[j,E]=c.useState("kanban"),[N,M]=c.useState(""),[O,L]=c.useState("all"),[I,Y]=c.useState("all"),[K,B]=c.useState("all"),[P,G]=c.useState("all"),[Z,ke]=c.useState("all"),[Ie,D]=c.useState("deadline"),[_,ne]=c.useState(!1),[me,ge]=c.useState(!1),[te,re]=c.useState(null),[Le,Pe]=c.useState(null),[ve,_e]=c.useState(null),Fe=Ca(Na(yn,{activationConstraint:{distance:8}})),ue=c.useMemo(()=>{const v={};return t.forEach(k=>{v[k.id]=k.name}),v},[t]),A=c.useMemo(()=>e.flatMap(v=>v.subtasks.map(k=>({...k,parentTaskTitle:v.title,projectId:v.projectId,projectName:v.projectId?ue[v.projectId]:void 0}))),[e,ue]),Ae=c.useMemo(()=>{const v=new Date,k=new Date(v.getFullYear(),v.getMonth(),v.getDate()),T=new Date(k);T.setDate(k.getDate()+(7-k.getDay()));const fe=new Date(v.getFullYear(),v.getMonth()+1,0),X=A.filter(q=>{if(N&&!q.title.toLowerCase().includes(N.toLowerCase())||O!=="all"&&q.status!==O||I!=="all"&&q.assignee!==I||K!=="all"&&q.projectId!==K||P!=="all"&&q.parentTaskId!==P||_&&q.status==="Concluído")return!1;if(Z!=="all"){if(!q.dueDate)return Z==="sem_prazo";const xe=new Date(q.dueDate+"T23:59:59");switch(Z){case"atrasadas":return xe<k&&q.status!=="Concluído";case"hoje":return q.dueDate===U;case"esta_semana":return xe>=k&&xe<=T;case"este_mes":return xe>=k&&xe<=fe;case"sem_prazo":return!1}}return!0});return gc(X,Ie)},[A,N,O,I,K,P,Ie,_,Z]),U=c.useMemo(()=>{const v=new Date;return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},[]);c.useMemo(()=>{const v={};h.forEach(T=>{v[T]=0});const k=A.filter(T=>T.dueDate&&T.dueDate<U&&T.status!=="Concluído").length;return A.forEach(T=>{v[T.status]!==void 0&&v[T.status]++}),{...v,overdue:k,total:A.length}},[A,U]);const Me=c.useCallback(()=>{C(null),b(!0)},[]),be=c.useCallback(v=>{C(v),b(!0)},[]),Te=c.useCallback(async(v,k,T)=>{k?await a(v.parentTaskId,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0}):T&&await s(T,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0})},[a,s]),Ge=c.useCallback(async()=>{te&&(await o(te),re(null))},[te,o]),Je=c.useMemo(()=>{const v={};return h.forEach(k=>{v[k]=[]}),Ae.forEach(k=>{v[k.status]&&v[k.status].push(k)}),v},[Ae,h]),gt=c.useCallback(v=>{Pe(String(v.active.id))},[]),Ze=c.useCallback(v=>{const{over:k}=v;if(!k){_e(null);return}const T=String(k.id),fe=A.find(q=>q.id===T),X=fe?fe.status:h.includes(T)?T:null;_e(X)},[A,h]),Be=c.useCallback(async v=>{const{active:k,over:T}=v;if(Pe(null),_e(null),!T)return;const fe=String(k.id),X=String(T.id);if(fe===X)return;const q=A.find(at=>at.id===fe);if(!q)return;const xe=A.find(at=>at.id===X),He=xe?xe.status:h.includes(X)?X:q.status;q.status!==He&&await s(fe,{status:He})},[A,s,h]),Ke=c.useCallback(()=>{Pe(null),_e(null)},[]),nt=Le?A.find(v=>v.id===Le):null,We=c.useMemo(()=>h.filter(v=>!_||v!=="Concluído"),[_,h]),lt=c.useMemo(()=>[{key:"title",label:"Título",width:250,minWidth:150,sticky:!0,sortable:!0,sortFn:(v,k)=>v.title.localeCompare(k.title,"pt-BR"),render:v=>r.jsx("span",{className:"font-medium",children:v.title})},{key:"status",label:"Status",width:130,sortable:!0,sortFn:(v,k)=>v.status.localeCompare(k.status),render:v=>r.jsx(pe,{variant:"secondary",className:W("text-[10px]",x[v.status]),children:m[v.status]||v.status}),inlineEdit:(v,k)=>r.jsxs(ae,{value:v.status,onValueChange:k,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:h.map(T=>r.jsx(F,{value:T,children:m[T]||T},T))})]})},{key:"parentTaskTitle",label:"Tarefa-mãe",width:200,sortable:!0,sortFn:(v,k)=>v.parentTaskTitle.localeCompare(k.parentTaskTitle,"pt-BR"),render:v=>r.jsx("span",{className:"text-xs",children:v.parentTaskTitle})},{key:"dueDate",label:"Prazo",width:110,sortable:!0,sortFn:(v,k)=>!v.dueDate&&!k.dueDate?0:v.dueDate?k.dueDate?k.dueDate.localeCompare(v.dueDate):-1:1,render:v=>v.dueDate?r.jsxs("span",{className:W("text-xs flex items-center gap-1",v.dueDate<U&&v.status!=="Concluído"&&"text-destructive font-medium"),children:[r.jsx(Nt,{className:"w-3 h-3"}),new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,k)=>r.jsxs(tn,{children:[r.jsx(nn,{asChild:!0,children:r.jsxs($e,{variant:"outline",className:W("h-7 text-xs w-full justify-start font-normal",!v.dueDate&&"text-muted-foreground"),children:[r.jsx(Nt,{className:"w-3 h-3 mr-1"}),v.dueDate?new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),r.jsx(rn,{className:"w-auto p-0",align:"start",children:r.jsx(lr,{mode:"single",selected:v.dueDate?new Date(v.dueDate+"T12:00:00"):void 0,onSelect:T=>{if(T){const fe=T.getFullYear(),X=String(T.getMonth()+1).padStart(2,"0"),q=String(T.getDate()).padStart(2,"0");k(`${fe}-${X}-${q}`)}else k("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:130,sortable:!0,sortFn:(v,k)=>(v.assignee??"").localeCompare(k.assignee??"","pt-BR"),render:v=>v.assignee?r.jsxs("span",{className:"text-xs flex items-center gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),v.assignee]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,k)=>r.jsxs(ae,{value:v.assignee||"_none_",onValueChange:T=>k(T==="_none_"?"":T),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(F,{value:"_none_",children:"— Sem responsável —"}),Fn.map(T=>r.jsx(F,{value:T,children:T},T))]})]})},{key:"project",label:"Projeto",width:130,render:v=>v.projectName?r.jsxs(pe,{variant:"outline",className:"text-[10px] gap-1",children:[r.jsx(vn,{className:"w-3 h-3"}),v.projectName]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}],[U]),Qe=c.useCallback((v,k,T)=>{k==="status"?s(v,{status:T}):k==="assignee"?s(v,{assignee:T||void 0}):k==="dueDate"&&s(v,{deadline:T||void 0})},[s]),rt=c.useCallback(v=>{v.forEach(k=>o(k))},[o]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[r.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),r.jsx(en,{placeholder:"Buscar subtarefa...",value:N,onChange:v=>M(v.target.value),className:"pl-9 w-full text-sm"})]}),r.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[r.jsxs($e,{onClick:Me,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[r.jsx(na,{className:"mr-1.5 h-4 w-4"})," Nova Subtarefa"]}),r.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[r.jsxs("button",{onClick:()=>E("kanban"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",j==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(oa,{className:"w-4 h-4"})," Kanban"]}),r.jsxs("button",{onClick:()=>E("list"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",j==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(ra,{className:"w-4 h-4"})," Lista"]}),r.jsxs("button",{onClick:()=>E("table"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",j==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(Hr,{className:"w-4 h-4"})," Tabela"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),r.jsxs(ae,{value:O,onValueChange:L,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos Status"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos Status"}),h.map(v=>r.jsx(F,{value:v,children:m[v]||v},v))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),r.jsxs(ae,{value:Z,onValueChange:ke,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos"}),r.jsx(F,{value:"atrasadas",children:"Atrasadas"}),r.jsx(F,{value:"hoje",children:"Vence hoje"}),r.jsx(F,{value:"esta_semana",children:"Esta semana"}),r.jsx(F,{value:"este_mes",children:"Este mês"}),r.jsx(F,{value:"sem_prazo",children:"Sem prazo"})]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),r.jsxs(ae,{value:I,onValueChange:Y,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos"}),Fn.map(v=>r.jsx(F,{value:v,children:v},v))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Tarefa-mãe"}),r.jsxs(ae,{value:P,onValueChange:G,children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todas"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todas"}),e.map(v=>r.jsx(F,{value:v.id,children:v.title},v.id))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),r.jsxs(ae,{value:Ie,onValueChange:v=>D(v),children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{})}),r.jsx(ie,{children:vc.map(v=>r.jsx(F,{value:v.value,children:v.label},v.value))})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",r.jsx(Tt,{checked:_,onCheckedChange:ne,className:"scale-75"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Observações formatadas",r.jsx(Tt,{checked:me,onCheckedChange:ge,className:"scale-75"})]})]})]})]}),r.jsx(qs,{open:y,onOpenChange:b,subtask:g,tasks:e,onSave:Te,onDelete:v=>re(v)}),r.jsx(Xr,{open:!!te,onOpenChange:v=>!v&&re(null),children:r.jsxs(qr,{children:[r.jsxs(Gr,{children:[r.jsx(Jr,{children:"Remover subtarefa?"}),r.jsx(Zr,{children:"Esta ação não pode ser desfeita. A subtarefa será removida permanentemente."})]}),r.jsxs(Qr,{children:[r.jsx(ea,{children:"Cancelar"}),r.jsx(ta,{onClick:Ge,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),n?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>r.jsx(At,{children:r.jsx(It,{className:"p-4",children:r.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"})})},v))}):j==="table"?r.jsx(Vr,{data:Ae,columns:lt,onEdit:v=>be(v),onDelete:v=>re(v),onBulkDelete:rt,onInlineChange:Qe,emptyMessage:"Nenhuma subtarefa encontrada."}):j==="list"?r.jsx("div",{className:"space-y-3",children:Ae.length===0?r.jsx(At,{children:r.jsx(It,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma subtarefa encontrada."})}):Ae.map(v=>r.jsx(Hn,{sub:v,today:U,showStatus:!0,onEdit:()=>be(v),onDelete:()=>re(v.id),showRichNotes:me},v.id))}):r.jsxs(za,{sensors:Fe,collisionDetection:Da,onDragStart:gt,onDragOver:Ze,onDragEnd:Be,onDragCancel:Ke,children:[r.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:r.jsx("div",{className:"flex gap-4",style:{minWidth:`${We.length*300}px`},children:We.map(v=>{const k=ve===v,T=Je[v],fe=T.map(X=>X.id);return r.jsx("div",{className:"flex-1 min-w-[260px]",children:r.jsx(yc,{status:v,isOver:k,items:T,itemIds:fe,today:U,onEdit:be,onDelete:re,showRichNotes:me,borderColor:p[v]||"border-t-muted/60",badgeColor:x[v]||"",statusLabel:m[v]||v})},v)})})}),r.jsx(Ka,{children:nt&&r.jsx("div",{className:"shadow-xl ring-2 ring-primary/30 rotate-[2deg] scale-105",children:r.jsx(Hn,{sub:nt,today:U,showStatus:!0,onEdit:()=>{},onDelete:()=>{},showRichNotes:me})})})]})]})}const jc=c.lazy(()=>es(()=>import("./AdminCrmDashboard-CHFsXEuj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),Nc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],hn={alta:0,media:1,baixa:2};function Fr(e,t){return[...e].sort((n,a)=>{switch(t){case"deadline":return!n.dueDate&&!a.dueDate?0:n.dueDate?a.dueDate?a.dueDate.localeCompare(n.dueDate):-1:1;case"priority":return(hn[n.priority]??1)-(hn[a.priority]??1);case"title":return n.title.localeCompare(a.title,"pt-BR");case"client":return(n.client??"").localeCompare(a.client??"","pt-BR");default:return 0}})}const Cc={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Br={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Dc=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],Sc={pendente:"border-t-red-500/60",agendado:"border-t-blue-500/60",em_andamento:"border-t-yellow-500/60",em_tramite:"border-t-orange-500/60",concluida:"border-t-green-500/60",cancelada:"border-t-muted/60"},kc={pendente:sa,agendado:Ls,em_andamento:Bn,em_tramite:Bn,concluida:Es,cancelada:Is},_c=[{value:"all",label:"Todos"},{value:"today",label:"Hoje"},{value:"this_week",label:"Esta semana"},{value:"this_month",label:"Este mês"},{value:"overdue",label:"Atrasadas"},{value:"no_deadline",label:"Sem prazo"}],Vn=c.memo(function({task:t,cardFields:n,today:a,isExpanded:s,onToggleExpand:o,onToggleSubtask:i,onEdit:l,onDelete:d,showStatus:f,isDragging:h,isOverlay:m,projectName:x}){const p=t.subtasks.filter(g=>g.completed).length,y=t.subtasks.length,b=t.dueDate&&t.dueDate<a&&t.status!=="concluida"&&t.status!=="cancelada";return r.jsx(At,{className:W("relative group transition-all duration-200 hover:shadow-md cursor-pointer",h?"opacity-40 scale-95":"",m&&"shadow-2xl ring-2 ring-primary/40 rotate-[2deg] scale-105 cursor-grabbing","border-border/50 bg-card"),onClick:()=>l==null?void 0:l(t),children:r.jsxs(It,{className:"p-3.5",children:[r.jsxs("div",{className:"flex items-start justify-between gap-1",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[x&&r.jsx("div",{className:"mb-2",children:r.jsxs(pe,{variant:"outline",className:"text-[10px] px-1.5 py-0 gap-1 font-normal",children:[r.jsx(vn,{className:"w-3 h-3"}),x]})}),r.jsx("p",{className:"font-medium text-sm mb-1",children:t.title})]}),!m&&r.jsxs("div",{className:"flex gap-0.5 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:g=>{g.stopPropagation(),l==null||l(t)},children:r.jsx(aa,{className:"w-3.5 h-3.5"})}),r.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:g=>{g.stopPropagation(),d(t.id)},children:r.jsx(Gn,{className:"w-3.5 h-3.5"})})]})]}),n.description&&t.description&&r.jsx("div",{className:"text-xs text-muted-foreground mb-2 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Wr(t.description)||t.description}}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[n.priority&&r.jsx(pe,{variant:"secondary",className:`text-[10px] ${Kr[t.priority]}`,children:Mt[t.priority]}),f&&r.jsx(pe,{variant:"secondary",className:`text-[10px] ${$r[t.status]}`,children:zr[t.status]}),n.dueDate&&t.dueDate&&r.jsxs("span",{className:W("flex items-center gap-1",b&&"text-destructive font-medium"),children:[b?r.jsx(sa,{className:"w-3 h-3"}):r.jsx(Nt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}),b&&r.jsx("span",{className:"text-destructive font-medium",children:"Atrasada"}),t.assignee&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),t.assignee]})]}),n.subtasks&&y>0&&!m&&r.jsx("div",{className:"flex justify-end mt-2",children:r.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[r.jsx(ia,{className:"w-3 h-3"}),p,"/",y]})}),n.tags&&t.tags&&t.tags.length>0&&!m&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(g=>r.jsx(pe,{variant:"outline",className:"text-[10px]",children:g},g))})]})})});function Mc(e){const{attributes:t,listeners:n,setNodeRef:a,transform:s,transition:o,isDragging:i}=Za({id:e.task.id}),l={transform:it.Transform.toString(s),transition:o};return r.jsx("div",{ref:a,style:l,...t,...n,children:r.jsx(Vn,{...e,isDragging:i})})}function Tc({status:e,tasks:t,isOver:n,cardFields:a,today:s,expandedTasks:o,onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:f,projectMap:h,statusLabel:m,borderColor:x,badgeColor:p}){const y=c.useMemo(()=>t.map(C=>C.id),[t]),{setNodeRef:b}=vr({id:e}),g=kc[e]||Bn;return r.jsxs("div",{className:W("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",x||"border-t-muted/60",n&&"bg-card/80 ring-2 ring-primary/20"),children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 px-4",children:[r.jsx(g,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(pe,{variant:"secondary",className:W("text-xs",p),children:m}),r.jsx(pe,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50 tabular-nums",children:t.length})]}),r.jsxs("div",{ref:b,"data-column-status":e,className:"flex-1 p-3 pt-0 space-y-3",children:[r.jsx(Ga,{items:y,strategy:Ua,children:t.map(C=>r.jsx(Mc,{task:C,cardFields:a,today:s,isExpanded:o.has(C.id),onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:f,projectName:h.get(C.projectId||"")},C.id))}),t.length===0&&r.jsx("div",{className:"flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1 min-h-[100px]",children:r.jsx("span",{children:"Arraste tarefas para cá"})})]})]})}function Oc({projectId:e,clientNameFilter:t,hideHeader:n,forceTab:a}={}){const{tasks:s,setTasks:o,loading:i,error:l,updateTaskStatus:d,deleteTask:f,createTask:h,updateTask:m,createSubtask:x,updateSubtask:p,deleteSubtask:y}=ms(),{projects:b}=vs(),{getOrderedValues:g,getLabelsMap:C,getColorsMap:j,getBorderColorsMap:E}=Un(),N=c.useMemo(()=>{const u=g("tarefa_status");return u.length>0?u:Dc},[g]),M=c.useMemo(()=>{const u=C("tarefa_status");return Object.keys(u).length>0?u:zr},[C]),O=c.useMemo(()=>{const u=j("tarefa_status");return Object.keys(u).length>0?u:$r},[j]),L=c.useMemo(()=>{const u=E("tarefa_status");return Object.keys(u).length>0?u:Sc},[E]),[I,Y]=c.useState(!1),[K,B]=c.useState(null),P=c.useMemo(()=>t||e?s.filter(u=>{var $;const w=t&&(($=u.client)==null?void 0:$.toLowerCase().includes(t.toLowerCase())),S=e&&u.projectId===e;return t&&e?w||S:t?w:S}):s,[s,t,e]),[G,Z]=c.useState("kanban"),[ke,Ie]=c.useState(""),[D,_]=c.useState("all"),[ne,me]=c.useState("all"),[ge,te]=c.useState("all"),[re,Le]=c.useState(e||"all"),[Pe,ve]=c.useState(new Set),[_e,Fe]=c.useState(Cc),[ue,A]=c.useState(null),[Ae,U]=c.useState(null),[Me,be]=c.useState("deadline"),[Te,Ge]=c.useState(!1),[Je,gt]=c.useState(!1),[Ze,Be]=c.useState("all"),[Ke,nt]=c.useState("all"),We=c.useMemo(()=>{const u=new Date;return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`},[]),lt=c.useMemo(()=>[...new Set(P.map(u=>u.assignee).filter(Boolean))],[P]),Qe=c.useMemo(()=>{const w=!!(e&&t)?"all":e||re,S=new Date,$=new Date(S);$.setDate(S.getDate()+7);const H=new Date(S.getFullYear(),S.getMonth()+1,0),Ce=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}-${String($.getDate()).padStart(2,"0")}`,dt=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`,kt=P.filter(he=>{var qt;if(ke&&!he.title.toLowerCase().includes(ke.toLowerCase())||D!=="all"&&he.status!==D||ne!=="all"&&he.priority!==ne||ge!=="all"&&he.client!==ge||Ke!=="all"&&he.assignee!==Ke||w!=="all"&&he.projectId!==w||Te&&he.status==="concluida"||Je&&he.status==="cancelada")return!1;if(Ze!=="all"){const Oe=(qt=he.dueDate)==null?void 0:qt.split("T")[0];switch(Ze){case"today":if(Oe!==We)return!1;break;case"this_week":if(!Oe||Oe<We||Oe>Ce)return!1;break;case"this_month":if(!Oe||Oe<We||Oe>dt)return!1;break;case"overdue":if(!Oe||Oe>=We||he.status==="concluida"||he.status==="cancelada")return!1;break;case"no_deadline":if(Oe)return!1;break}}return!0});return Fr(kt,Me)},[P,ke,D,ne,ge,Ke,re,Me,Ze,We,Te,Je]),rt=We,v=c.useMemo(()=>ue?P.find(u=>u.id===ue):null,[ue,P]),k=c.useMemo(()=>[...new Set(P.map(u=>u.client).filter(Boolean))],[P]),T=c.useMemo(()=>{const u=new Map;return b.forEach(w=>u.set(w.id,w.name)),u},[b]),fe=c.useMemo(()=>P.reduce((u,w)=>u+w.subtasks.length,0),[P]),X=c.useCallback(u=>{ve(w=>{const S=new Set(w);return S.has(u)?S.delete(u):S.add(u),S})},[]),q=c.useCallback((u,w)=>{o(S=>S.map($=>$.id===u?{...$,subtasks:$.subtasks.map(H=>H.id===w?{...H,completed:!H.completed}:H)}:$))},[o]),[xe,He]=c.useState(null),at=c.useCallback(async()=>{xe&&(o(u=>u.filter(w=>w.id!==xe)),f(xe),He(null))},[xe,f,o]),Xt=c.useCallback(u=>{Fe(w=>({...w,[u]:!w[u]}))},[]),Nn=c.useCallback(()=>{B(null),Y(!0)},[]),bt=c.useCallback(u=>{B(u),Y(!0)},[]),Cn=c.useCallback(async(u,w,S)=>{w?await h({title:u.title,deadline:u.deadline,priority:u.priority,status:u.status,clientName:u.clientName,projectId:u.projectId,assignee:u.assignee,description:u.description,numeroProcesso:u.numeroProcesso}):S&&await m(S,{title:u.title,deadline:u.deadline,priority:u.priority,status:u.status,clientName:u.clientName,projectId:u.projectId,assignee:u.assignee,description:u.description,numeroProcesso:u.numeroProcesso})},[h,m]),Dn=Ca(Na(yn,{activationConstraint:{distance:8}}));c.useCallback(u=>{const w=P.find(S=>S.id===u);return w==null?void 0:w.status},[P]);const Sn=c.useCallback(u=>{A(u.active.id)},[]),ce=c.useCallback(u=>{const{over:w}=u;if(!w){U(null);return}const S=w.id,$=P.find(Ce=>Ce.id===S),H=$?$.status:N.includes(S)?S:null;U(H)},[P]),ye=c.useCallback(u=>{const{active:w,over:S}=u;if(A(null),U(null),!S)return;const $=w.id,H=S.id;if($===H)return;const Ce=P.find(he=>he.id===$);if(!Ce)return;const dt=P.find(he=>he.id===H),kt=dt?dt.status:N.includes(H)?H:Ce.status;Ce.status!==kt&&(o(he=>{const qt=he.map(Oe=>Oe.id===$?{...Oe,status:kt}:Oe);return Fr(qt,Me)}),d($,kt))},[P,d,Me]),we=c.useCallback(()=>{A(null),U(null)},[]),et=c.useMemo(()=>{const u={};return N.forEach(w=>{u[w]=[]}),Qe.forEach(w=>{u[w.status]&&u[w.status].push(w)}),u},[Qe,N]),je=c.useMemo(()=>N.filter(u=>!(Te&&u==="concluida"||Je&&u==="cancelada")),[Te,Je,N]),Ne=c.useMemo(()=>[{key:"title",label:"Título",width:280,minWidth:150,sticky:!0,sortable:!0,sortFn:(u,w)=>u.title.localeCompare(w.title,"pt-BR"),render:u=>r.jsx("span",{className:"font-medium",children:u.title})},{key:"status",label:"Status",width:140,sortable:!0,sortFn:(u,w)=>u.status.localeCompare(w.status),render:u=>r.jsx(pe,{variant:"secondary",className:W("text-[10px]",O[u.status]),children:M[u.status]||u.status}),inlineEdit:(u,w)=>r.jsxs(ae,{value:u.status,onValueChange:w,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:N.map(S=>r.jsx(F,{value:S,children:M[S]||S},S))})]})},{key:"priority",label:"Prioridade",width:110,sortable:!0,sortFn:(u,w)=>(hn[u.priority]??1)-(hn[w.priority]??1),render:u=>r.jsx(pe,{variant:"secondary",className:W("text-[10px]",Kr[u.priority]),children:Mt[u.priority]}),inlineEdit:(u,w)=>r.jsxs(ae,{value:u.priority,onValueChange:w,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:Object.entries(Mt).map(([S,$])=>r.jsx(F,{value:S,children:$},S))})]})},{key:"dueDate",label:"Prazo",width:150,sortable:!0,sortFn:(u,w)=>!u.dueDate&&!w.dueDate?0:u.dueDate?w.dueDate?w.dueDate.localeCompare(u.dueDate):-1:1,render:u=>u.dueDate?r.jsxs("span",{className:W("text-xs flex items-center gap-1",u.dueDate<rt&&u.status!=="concluida"&&"text-destructive font-medium"),children:[r.jsx(Nt,{className:"w-3 h-3"}),new Date(u.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(u,w)=>r.jsxs(tn,{children:[r.jsx(nn,{asChild:!0,children:r.jsxs($e,{variant:"outline",className:W("h-7 text-xs w-full justify-start font-normal",!u.dueDate&&"text-muted-foreground"),children:[r.jsx(Nt,{className:"w-3 h-3 mr-1"}),u.dueDate?new Date(u.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),r.jsx(rn,{className:"w-auto p-0",align:"start",children:r.jsx(lr,{mode:"single",selected:u.dueDate?new Date(u.dueDate+"T12:00:00"):void 0,onSelect:S=>{if(S){const $=S.getFullYear(),H=String(S.getMonth()+1).padStart(2,"0"),Ce=String(S.getDate()).padStart(2,"0");w(`${$}-${H}-${Ce}`)}else w("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:140,sortable:!0,sortFn:(u,w)=>(u.assignee??"").localeCompare(w.assignee??"","pt-BR"),render:u=>u.assignee?r.jsxs("span",{className:"text-xs flex items-center gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),u.assignee]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(u,w)=>r.jsxs(ae,{value:u.assignee||"_none_",onValueChange:S=>w(S==="_none_"?"":S),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(F,{value:"_none_",children:"— Sem responsável —"}),lt.map(S=>r.jsx(F,{value:S,children:S},S))]})]})},{key:"client",label:"Cliente",width:140,sortable:!0,sortFn:(u,w)=>(u.client??"").localeCompare(w.client??"","pt-BR"),render:u=>u.client?r.jsx("span",{className:"text-xs",children:u.client}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(u,w)=>r.jsxs(ae,{value:u.client||"_none_",onValueChange:S=>w(S==="_none_"?"":S),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(F,{value:"_none_",children:"— Sem cliente —"}),k.map(S=>r.jsx(F,{value:S,children:S},S))]})]})},{key:"project",label:"Projeto",width:140,render:u=>{const w=T.get(u.projectId||"");return w?r.jsxs(pe,{variant:"outline",className:"text-[10px] gap-1",children:[r.jsx(vn,{className:"w-3 h-3"}),w]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}}],[rt,lt,T,k]),Ye=c.useCallback((u,w,S)=>{w==="status"?d(u,S):w==="assignee"?m(u,{responsavel:S||null}):w==="priority"?m(u,{prioridade:S}):w==="client"?m(u,{cliente:S||null}):w==="dueDate"&&m(u,{deadline:S||null})},[d,m]),ct=c.useCallback(u=>{u.forEach(w=>f(w))},[f]),[Q,tt]=c.useState(a||"overview");return r.jsxs(xr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[!a&&r.jsx("div",{className:"flex items-center gap-1 rounded-2xl border border-border bg-muted/40 p-1 w-fit backdrop-blur-sm mb-5",children:[{id:"overview",label:"Visão Geral",icon:Os},{id:"tarefas",label:"Tarefas",icon:Rs,count:Qe.length},{id:"subtarefas",label:"Subtarefas",icon:ia,count:fe}].map(u=>{const w=Q===u.id,S=u.icon;return r.jsxs("button",{onClick:()=>tt(u.id),className:W("relative flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200",w?"text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[w&&r.jsx(xr.div,{layoutId:"tarefas-tab-bg",className:"absolute inset-0 rounded-xl gold-gradient shadow-sm",transition:{type:"spring",bounce:.15,duration:.5}}),r.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[r.jsx(S,{className:"h-4 w-4"}),u.label,"count"in u&&r.jsx("span",{className:W("inline-flex items-center justify-center rounded-full px-2 py-0.5 text-[10px] font-semibold tabular-nums min-w-[22px] transition-colors",w?"bg-primary-foreground/20 text-primary-foreground":"bg-secondary text-muted-foreground"),children:u.count})]})]},u.id)})}),Q==="overview"&&r.jsx(c.Suspense,{fallback:r.jsxs("div",{className:"space-y-4",children:[r.jsx(kn,{className:"h-10 w-full"}),r.jsx(kn,{className:"h-40 w-full"}),r.jsx(kn,{className:"h-40 w-full"})]}),children:r.jsx(jc,{})}),Q==="tarefas"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[r.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),r.jsx(en,{placeholder:"Buscar tarefas...",value:ke,onChange:u=>Ie(u.target.value),className:"pl-9 w-full text-sm"})]}),r.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[r.jsxs($e,{onClick:Nn,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[r.jsx(na,{className:"mr-1.5 h-4 w-4"})," Nova Tarefa"]}),r.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[r.jsxs("button",{onClick:()=>Z("kanban"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",G==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(oa,{className:"w-4 h-4"})," Kanban"]}),r.jsxs("button",{onClick:()=>Z("list"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",G==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(ra,{className:"w-4 h-4"})," Lista"]}),r.jsxs("button",{onClick:()=>Z("table"),className:W("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",G==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(Hr,{className:"w-4 h-4"})," Tabela"]})]}),l&&r.jsx("span",{className:"text-xs text-destructive",children:"Erro ao carregar"}),r.jsxs(tn,{children:[r.jsx(nn,{asChild:!0,children:r.jsx($e,{variant:"outline",size:"icon",className:"h-9 w-9",children:r.jsx(Fs,{className:"w-4 h-4"})})}),r.jsx(rn,{className:"w-56",align:"end",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Br).map(u=>r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx(Ts,{htmlFor:`field-${u}`,className:"text-sm cursor-pointer",children:Br[u]}),r.jsx(Tt,{id:`field-${u}`,checked:_e[u],onCheckedChange:()=>Xt(u)})]},u))]})})]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[r.jsx(As,{className:"w-4 h-4 text-muted-foreground shrink-0 mb-2"}),r.jsxs("div",{className:"flex items-end gap-2 flex-wrap flex-1",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),r.jsxs(ae,{value:D,onValueChange:_,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos Status"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos Status"}),N.map(u=>r.jsx(F,{value:u,children:M[u]||u},u))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prioridade"}),r.jsxs(ae,{value:ne,onValueChange:me,children:[r.jsx(se,{className:"w-[110px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todas"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todas"}),Object.keys(Mt).map(u=>r.jsx(F,{value:u,children:Mt[u]},u))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),r.jsxs(ae,{value:Ze,onValueChange:u=>Be(u),children:[r.jsx(se,{className:"w-[110px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsx(ie,{children:_c.map(u=>r.jsx(F,{value:u.value,children:u.label},u.value))})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),r.jsxs(ae,{value:Ke,onValueChange:nt,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos"}),lt.map(u=>r.jsx(F,{value:u,children:u},u))]})]})]}),!e&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Projeto"}),r.jsxs(ae,{value:re,onValueChange:Le,children:[r.jsx(se,{className:"w-[150px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos Projetos"}),b.map(u=>r.jsx(F,{value:u.id,children:u.name},u.id))]})]})]}),k.length>0&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Cliente"}),r.jsxs(ae,{value:ge,onValueChange:te,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(F,{value:"all",children:"Todos Clientes"}),k.map(u=>r.jsx(F,{value:u,children:u},u))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),r.jsxs(ae,{value:Me,onValueChange:u=>be(u),children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(F,{value:"deadline",children:"Sem ordenação"}),Nc.map(u=>r.jsx(F,{value:u.value,children:u.label},u.value))]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar canceladas",r.jsx(Tt,{checked:Je,onCheckedChange:gt,className:"scale-75"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",r.jsx(Tt,{checked:Te,onCheckedChange:Ge,className:"scale-75"})]})]})]})]}),r.jsx(as,{open:I,onOpenChange:Y,task:K,onSave:Cn,onDelete:u=>He(u),onCreateSubtask:x,onUpdateSubtask:p,onDeleteSubtask:y}),r.jsx(Xr,{open:!!xe,onOpenChange:u=>!u&&He(null),children:r.jsxs(qr,{children:[r.jsxs(Gr,{children:[r.jsx(Jr,{children:"Remover tarefa?"}),r.jsx(Zr,{children:"Esta ação não pode ser desfeita. A tarefa será removida permanentemente."})]}),r.jsxs(Qr,{children:[r.jsx(ea,{children:"Cancelar"}),r.jsx(ta,{onClick:at,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),i?G==="list"||G==="table"?r.jsx(ys,{}):r.jsx(ws,{}):G==="table"?r.jsx(Vr,{data:Qe,columns:Ne,onEdit:bt,onDelete:He,onBulkDelete:ct,onInlineChange:Ye,emptyMessage:"Nenhuma tarefa encontrada."}):G==="list"?r.jsx("div",{className:"space-y-3",children:Qe.length===0?r.jsx(At,{children:r.jsx(It,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):Qe.map(u=>r.jsx(Vn,{task:u,cardFields:_e,today:rt,isExpanded:Pe.has(u.id),onToggleExpand:X,onToggleSubtask:q,onEdit:bt,onDelete:He,showStatus:!0,projectName:T.get(u.projectId||"")},u.id))}):r.jsxs(za,{sensors:Dn,collisionDetection:Da,onDragStart:Sn,onDragOver:ce,onDragEnd:ye,onDragCancel:we,children:[r.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:r.jsx("div",{className:"flex gap-4",style:{minWidth:`${je.length*280}px`},children:je.map(u=>r.jsx("div",{className:"flex-1 min-w-[260px]",children:r.jsx(Tc,{status:u,tasks:et[u]||[],isOver:Ae===u&&ue!==null,cardFields:_e,today:rt,expandedTasks:Pe,onToggleExpand:X,onToggleSubtask:q,onEdit:bt,onDelete:He,projectMap:T,statusLabel:M[u]||u,borderColor:L[u]||"border-t-muted/60",badgeColor:O[u]||""})},u))})}),r.jsx(Ka,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:v?r.jsx("div",{className:"w-[260px]",children:r.jsx(Vn,{task:v,cardFields:_e,today:rt,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0,projectName:T.get(v.projectId||"")})}):null})]})]}),Q==="subtarefas"&&r.jsx(wc,{tasks:e?P.filter(u=>u.projectId===e):P,projects:b,loading:i,onCreateSubtask:x,onUpdateSubtask:p,onDeleteSubtask:y})]})}const vd=Object.freeze(Object.defineProperty({__proto__:null,default:Oc},Symbol.toStringTag,{value:"Module"}));export{Oc as A,ia as L,vd as a};
