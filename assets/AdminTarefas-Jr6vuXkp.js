import{c as Ot,r as c,aj as fr,j as s,e as ke,Y as z,f as ot,ai as hr,ak as gr}from"./index-CyVd641g.js";import{S as pr,b as mr,c as vr,d as xr,g as br,h as yr,P as Cn,A as wr}from"./AdminLayout-C_1ggJRE.js";import{u as Sr,F as Cr,a as Be,b as _e,c as $e,d as Ke,e as Ue,t as jr}from"./form-CM9t7nrl.js";import{I as dt}from"./input-DQ3ejFry.js";import{B as Q}from"./button-rk7-WIIs.js";import{T as jn}from"./textarea-naOlnY2B.js";import{B as Ye}from"./badge-Dn8kmVs9.js";import{S as Dr,U as Dn}from"./separator-D05ZZmTx.js";import{S as he,a as ge,b as we,d as pe,e as Y}from"./select-Bks77Epi.js";import{A as Nr,a as Rr,b as Tr,c as Er,d as Ar,e as Ir,f as Or,g as Mr}from"./alert-dialog-Dw_R2p9c.js";import{d as Nn,e as ut,b as Dt,S as kr,f as Rn,T as Lr,g as Tn}from"./crmTypes-CSTEvmy3.js";import{L as En}from"./loader-circle-DBQmzof0.js";import{C as An}from"./chevron-up-OMK5YrZ8.js";import{C as In}from"./chevron-right-DslLHzko.js";import{C as Pr}from"./circle-check-CUQ-S-T-.js";import{C as zr}from"./circle-Cvv71emA.js";import{C as Fr}from"./clock-Cnx5WHmi.js";import{P as On}from"./pencil-CuvkI6tk.js";import{T as Mn}from"./trash-2-qsc8k2vp.js";import{o as Br,s as at,e as rn}from"./types-C9wiu8_K.js";import{C as kn,c as Ln}from"./card-BQNq_0_6.js";import{S as _r,C as $r}from"./checkbox-m6ugs0fc.js";import{L as Kr}from"./label-Bfa7IZkg.js";import{P as Ur,a as Yr,b as Vr}from"./popover-D-QOvRmo.js";import{S as Xr,T as Hr,K as Wr}from"./CrmSkeletons-MhZwEp9C.js";import{S as qr}from"./search-opm0KeDT.js";import{F as Gr}from"./folder-kanban-v_qO0xbS.js";import{L as Jr}from"./list-2ZDS8VLN.js";import{U as Zr}from"./users-CFElTzpX.js";import{C as Qr}from"./calendar-DXae8ZFy.js";import"./index-ClSiF97N.js";import"./index-BFdsouXQ.js";import"./house-CA1zkytI.js";import"./menu-BuEoc-On.js";import"./file-text-DYw5PSa6.js";import"./index-FSD-bDd-.js";import"./index-WeCRkrpU.js";import"./check-3W5MbFDx.js";import"./skeleton-ChYmwAW3.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ot("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Ot("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Ot("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ot("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ss=Br({title:at().trim().min(1,"Título obrigatório").max(200),deadline:at().optional(),priority:rn(["alta","media","baixa"]),status:rn(["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"]),clientName:at().optional(),assignee:at().optional(),description:at().max(2e3).optional()}),as=Object.entries(ut),os=Object.entries(Dt),is=Object.entries(Rn);function sn({initial:e,onSave:t,onCancel:n,saving:r}){const[a,o]=c.useState(e??{title:"",deadline:"",status:"A fazer",assignee:"",notes:""});return s.jsxs("div",{className:"space-y-3 p-3 bg-muted/50 rounded-lg border border-border",children:[s.jsx(dt,{placeholder:"Título da sub-tarefa *",value:a.title,onChange:i=>o(l=>({...l,title:i.target.value})),autoFocus:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(dt,{type:"date",value:a.deadline,onChange:i=>o(l=>({...l,deadline:i.target.value}))}),s.jsxs(he,{value:a.status,onValueChange:i=>o(l=>({...l,status:i})),children:[s.jsx(ge,{children:s.jsx(we,{})}),s.jsx(pe,{children:is.map(([i,l])=>s.jsx(Y,{value:i,children:l},i))})]})]}),s.jsxs(he,{value:a.assignee||"_none_",onValueChange:i=>o(l=>({...l,assignee:i==="_none_"?"":i})),children:[s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"w-3.5 h-3.5 text-muted-foreground"}),s.jsx(we,{placeholder:"Responsável..."})]})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"_none_",children:"— Sem responsável —"}),Nn.map(i=>s.jsx(Y,{value:i,children:i},i))]})]}),s.jsx(jn,{placeholder:"Observações...",className:"resize-none min-h-[60px]",value:a.notes,onChange:i=>o(l=>({...l,notes:i.target.value}))}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:n,disabled:r,children:"Cancelar"}),s.jsxs(Q,{type:"button",size:"sm",disabled:!a.title.trim()||r,onClick:()=>t(a),children:[r&&s.jsx(En,{className:"w-3.5 h-3.5 mr-1 animate-spin"}),"Salvar"]})]})]})}function ls({sub:e,onEdit:t,onDelete:n,onToggleStatus:r}){const a=e.dueDate&&e.dueDate<new Date().toISOString().split("T")[0]&&e.status!=="Concluído";return s.jsxs("div",{className:"flex items-start gap-2 group p-2 rounded-md hover:bg-muted/50 transition-colors",children:[s.jsx("button",{onClick:r,className:"mt-0.5 shrink-0",children:e.completed?s.jsx(Pr,{className:"w-4 h-4 text-primary"}):s.jsx(zr,{className:"w-4 h-4 text-muted-foreground hover:text-primary transition-colors"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:ke("text-sm",e.completed&&"line-through text-muted-foreground"),children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-0.5",children:[s.jsx(Ye,{variant:"secondary",className:ke("text-[10px]",kr[e.status]),children:Rn[e.status]}),e.assignee&&s.jsxs("span",{className:"text-[10px] flex items-center gap-0.5 text-muted-foreground",children:[s.jsx(Dn,{className:"w-3 h-3"}),e.assignee]}),e.dueDate&&s.jsxs("span",{className:ke("text-[10px] flex items-center gap-0.5",a?"text-destructive font-medium":"text-muted-foreground"),children:[s.jsx(Fr,{className:"w-3 h-3"}),new Date(e.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]}),e.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.notes})]}),s.jsxs("div",{className:"flex gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:[s.jsx(Q,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t,children:s.jsx(On,{className:"w-3 h-3"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive",onClick:n,children:s.jsx(Mn,{className:"w-3 h-3"})})]})]})}function cs({open:e,onOpenChange:t,task:n,onSave:r,onCreateSubtask:a,onUpdateSubtask:o,onDeleteSubtask:i}){const l=!n,[d,u]=c.useState(!1),[h,f]=c.useState(!1),{clients:m}=fr(),[p,j]=c.useState(!0),[b,v]=c.useState(!1),[N,S]=c.useState(null),[y,R]=c.useState(null),w=Sr({resolver:jr(ss),defaultValues:{title:"",deadline:"",priority:"media",status:"pendente",clientName:"",assignee:"",description:""}});c.useEffect(()=>{e&&(v(!1),S(null),n?w.reset({title:n.title,deadline:n.dueDate??"",priority:n.priority,status:n.status,clientName:n.client??"",assignee:n.assignee??"",description:n.description??""}):w.reset({title:"",deadline:"",priority:"media",status:"pendente",clientName:"",assignee:"",description:""}))},[e,n]);const A=async x=>{u(!0);try{await r(x,l,n==null?void 0:n.airtableId),t(!1)}finally{u(!1)}},C=c.useCallback(async x=>{if(!(!(n!=null&&n.airtableId)||!a)){f(!0);try{await a(n.airtableId,{title:x.title,deadline:x.deadline||void 0,status:x.status,assignee:x.assignee||void 0,notes:x.notes||void 0}),v(!1)}finally{f(!1)}}},[n,a]),T=c.useCallback(async(x,E)=>{if(o){f(!0);try{await o(x,{title:E.title,deadline:E.deadline||void 0,status:E.status,assignee:E.assignee||void 0,notes:E.notes||void 0}),S(null)}finally{f(!1)}}},[o]),M=c.useCallback(async x=>{if(!o)return;const E=x.completed?"A fazer":"Concluído";await o(x.id,{status:E})},[o]),P=c.useCallback(async()=>{if(!(!y||!i))try{await i(y)}finally{R(null)}},[y,i]),D=(n==null?void 0:n.subtasks)??[],X=D.filter(x=>x.completed).length,_=D.length>0?Math.round(X/D.length*100):0;return s.jsxs(s.Fragment,{children:[s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(mr,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[s.jsxs(vr,{className:"mb-6",children:[s.jsx(xr,{children:l?"Nova Tarefa":"Editar Tarefa"}),s.jsx(br,{children:l?"Preencha os dados para criar a tarefa e sincronizar com o Airtable.":"Altere os campos e salve. A atualização será sincronizada automaticamente."})]}),s.jsx(Cr,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(A),className:"space-y-5",children:[s.jsx(Be,{control:w.control,name:"title",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Título *"}),s.jsx(Ke,{children:s.jsx(dt,{placeholder:"Ex: Elaborar petição inicial",...x})}),s.jsx(Ue,{})]})}),s.jsx(Be,{control:w.control,name:"deadline",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Prazo"}),s.jsx(Ke,{children:s.jsx(dt,{type:"date",...x})}),s.jsx(Ue,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Be,{control:w.control,name:"priority",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Prioridade"}),s.jsxs(he,{onValueChange:x.onChange,value:x.value,children:[s.jsx(Ke,{children:s.jsx(ge,{children:s.jsx(we,{})})}),s.jsx(pe,{children:os.map(([E,F])=>s.jsx(Y,{value:E,children:F},E))})]}),s.jsx(Ue,{})]})}),s.jsx(Be,{control:w.control,name:"status",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Status"}),s.jsxs(he,{onValueChange:x.onChange,value:x.value,children:[s.jsx(Ke,{children:s.jsx(ge,{children:s.jsx(we,{})})}),s.jsx(pe,{children:as.map(([E,F])=>s.jsx(Y,{value:E,children:F},E))})]}),s.jsx(Ue,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Be,{control:w.control,name:"clientName",render:({field:x})=>{var E;return s.jsxs(_e,{children:[s.jsx($e,{children:"Cliente"}),s.jsxs(he,{onValueChange:F=>{var $;return x.onChange(F==="none"?"":(($=m.find(Ne=>Ne.id===F))==null?void 0:$.name)??F)},value:((E=m.find(F=>F.name===x.value))==null?void 0:E.id)||(x.value?x.value:""),children:[s.jsx(Ke,{children:s.jsx(ge,{children:s.jsx(we,{placeholder:"Selecione..."})})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"none",children:"— Sem cliente —"}),m.map(F=>s.jsx(Y,{value:F.id,children:F.name},F.id))]})]}),s.jsx(Ue,{})]})}}),s.jsx(Be,{control:w.control,name:"assignee",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Responsável"}),s.jsxs(he,{onValueChange:E=>x.onChange(E==="_none_"?"":E),value:x.value||"_none_",children:[s.jsx(Ke,{children:s.jsx(ge,{children:s.jsx(we,{placeholder:"Selecione..."})})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"_none_",children:"— Sem responsável —"}),Nn.map(E=>s.jsx(Y,{value:E,children:E},E))]})]}),s.jsx(Ue,{})]})})]}),s.jsx(Be,{control:w.control,name:"description",render:({field:x})=>s.jsxs(_e,{children:[s.jsx($e,{children:"Descrição"}),s.jsx(Ke,{children:s.jsx(jn,{placeholder:"Detalhes sobre a tarefa...",className:"resize-none min-h-[80px]",...x})}),s.jsx(Ue,{})]})}),s.jsxs(yr,{className:"pt-2 gap-2",children:[s.jsx(Q,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancelar"}),s.jsxs(Q,{type:"submit",disabled:d,children:[d&&s.jsx(En,{className:"w-4 h-4 mr-2 animate-spin"}),l?"Criar tarefa":"Salvar alterações"]})]})]})}),!l&&n&&s.jsxs(s.Fragment,{children:[s.jsx(Dr,{className:"my-6"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("button",{className:"flex items-center gap-1.5 text-sm font-semibold hover:text-primary transition-colors",onClick:()=>j(!p),children:[p?s.jsx(An,{className:"w-4 h-4"}):s.jsx(In,{className:"w-4 h-4"}),"Sub-tarefas",D.length>0&&s.jsxs(Ye,{variant:"secondary",className:"text-[10px] ml-1",children:[X,"/",D.length]})]}),s.jsxs(Q,{type:"button",variant:"outline",size:"sm",className:"gap-1",onClick:()=>{v(!0),S(null)},children:[s.jsx(Cn,{className:"w-3.5 h-3.5"})," Nova"]})]}),D.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${_}%`}})}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[_,"%"]})]}),p&&s.jsxs("div",{className:"space-y-1",children:[D.map(x=>N===x.id?s.jsx(sn,{initial:{title:x.title,deadline:x.dueDate??"",status:x.status,assignee:x.assignee??"",notes:x.notes??""},onSave:E=>T(x.id,E),onCancel:()=>S(null),saving:h},x.id):s.jsx(ls,{sub:x,onEdit:()=>{S(x.id),v(!1)},onDelete:()=>R(x.id),onToggleStatus:()=>M(x)},x.id)),D.length===0&&!b&&s.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Nenhuma sub-tarefa ainda."}),b&&s.jsx(sn,{onSave:C,onCancel:()=>v(!1),saving:h})]})]})]})]})}),s.jsx(Nr,{open:!!y,onOpenChange:x=>!x&&R(null),children:s.jsxs(Rr,{children:[s.jsxs(Tr,{children:[s.jsx(Er,{children:"Excluir sub-tarefa?"}),s.jsx(Ar,{children:"Esta ação removerá a sub-tarefa do Airtable e não pode ser desfeita."})]}),s.jsxs(Ir,{children:[s.jsx(Or,{children:"Cancelar"}),s.jsx(Mr,{onClick:P,className:"bg-destructive text-destructive-foreground",children:"Excluir"})]})]})})]})}function ds(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Je(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Wt(e){return"nodeType"in e}function G(e){var t,n;return e?Je(e)?e:Wt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function qt(e){const{Document:t}=G(e);return e instanceof t}function gt(e){return Je(e)?!1:e instanceof G(e).HTMLElement}function Pn(e){return e instanceof G(e).SVGElement}function Ze(e){return e?Je(e)?e.document:Wt(e)?qt(e)?e:gt(e)||Pn(e)?e.ownerDocument:document:document:document}const me=Mt?c.useLayoutEffect:c.useEffect;function kt(e){const t=c.useRef(e);return me(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function us(){const e=c.useRef(null),t=c.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ft(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return me(()=>{n.current!==e&&(n.current=e)},t),n}function pt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Nt(e){const t=kt(e),n=c.useRef(null),r=c.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function Rt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let _t={};function mt(e,t){return c.useMemo(()=>{if(t)return t;const n=_t[e]==null?0:_t[e]+1;return _t[e]=n,e+"-"+n},[e,t])}function zn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[d,u]of l){const h=o[d];h!=null&&(o[d]=h+e*u)}return o},{...t})}}const Ge=zn(1),Tt=zn(-1);function fs(e){return"clientX"in e&&"clientY"in e}function Lt(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function hs(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function Et(e){if(hs(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return fs(e)?{x:e.clientX,y:e.clientY}:null}const Le=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Le.Translate.toString(e),Le.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),an="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gs(e){return e.matches(an)?e:e.querySelector(an)}const ps={display:"none"};function ms(e){let{id:t,value:n}=e;return z.createElement("div",{id:t,style:ps},n)}function vs(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return z.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function xs(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Fn=c.createContext(null);function bs(e){const t=c.useContext(Fn);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ys(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:a,event:o}=r;e.forEach(i=>{var l;return(l=i[a])==null?void 0:l.call(i,o)})},[e]),t]}const ws={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ss={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Cs(e){let{announcements:t=Ss,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=ws}=e;const{announce:o,announcement:i}=xs(),l=mt("DndLiveRegion"),[d,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),bs(c.useMemo(()=>({onDragStart(f){let{active:m}=f;o(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;t.onDragMove&&o(t.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;o(t.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;o(t.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;o(t.onDragCancel({active:m,over:p}))}}),[o,t])),!d)return null;const h=z.createElement(z.Fragment,null,z.createElement(ms,{id:r,value:a.draggable}),z.createElement(vs,{id:l,announcement:i}));return n?ot.createPortal(h,n):h}var K;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(K||(K={}));function At(){}function js(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ds(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ve=Object.freeze({x:0,y:0});function Ns(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Rs(e,t){const n=Et(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Ts(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Es(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function on(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function As(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const Is=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=on(t),o=[];for(const i of r){const{id:l}=i,d=n.get(l);if(d){const u=on(d),h=a.reduce((m,p,j)=>m+Ns(u[j],p),0),f=Number((h/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:f}})}}return o.sort(Ts)};function Os(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=a-r,l=o-n;if(r<a&&n<o){const d=t.width*t.height,u=e.width*e.height,h=i*l,f=h/(d+u-h);return Number(f.toFixed(4))}return 0}const Ms=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const o of r){const{id:i}=o,l=n.get(i);if(l){const d=Os(l,t);d>0&&a.push({id:i,data:{droppableContainer:o,value:d}})}}return a.sort(Es)};function ks(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Bn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ve}function Ls(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Ps=Ls(1);function _n(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function zs(e,t,n){const r=_n(t);if(!r)return e;const{scaleX:a,scaleY:o,x:i,y:l}=r,d=e.left-i-(1-a)*parseFloat(n),u=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=a?e.width/a:e.width,f=o?e.height/o:e.height;return{width:h,height:f,top:u,right:d+h,bottom:u+f,left:d}}const Fs={ignoreTransform:!1};function Qe(e,t){t===void 0&&(t=Fs);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=G(e).getComputedStyle(e);u&&(n=zs(n,u,h))}const{top:r,left:a,width:o,height:i,bottom:l,right:d}=n;return{top:r,left:a,width:o,height:i,bottom:l,right:d}}function ln(e){return Qe(e,{ignoreTransform:!0})}function Bs(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _s(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function $s(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=t[a];return typeof o=="string"?n.test(o):!1})}function Gt(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(qt(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!gt(a)||Pn(a)||n.includes(a))return n;const o=G(e).getComputedStyle(a);return a!==e&&$s(a,o)&&n.push(a),_s(a,o)?n:r(a.parentNode)}return e?r(e):n}function $n(e){const[t]=Gt(e,1);return t??null}function $t(e){return!Mt||!e?null:Je(e)?e:Wt(e)?qt(e)||e===Ze(e).scrollingElement?window:gt(e)?e:null:null}function Kn(e){return Je(e)?e.scrollX:e.scrollLeft}function Un(e){return Je(e)?e.scrollY:e.scrollTop}function Yt(e){return{x:Kn(e),y:Un(e)}}var V;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(V||(V={}));function Yn(e){return!Mt||!e?!1:e===document.scrollingElement}function Vn(e){const t={x:0,y:0},n=Yn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const Ks={x:.2,y:.2};function Us(e,t,n,r,a){let{top:o,left:i,right:l,bottom:d}=n;r===void 0&&(r=10),a===void 0&&(a=Ks);const{isTop:u,isBottom:h,isLeft:f,isRight:m}=Vn(e),p={x:0,y:0},j={x:0,y:0},b={height:t.height*a.y,width:t.width*a.x};return!u&&o<=t.top+b.height?(p.y=V.Backward,j.y=r*Math.abs((t.top+b.height-o)/b.height)):!h&&d>=t.bottom-b.height&&(p.y=V.Forward,j.y=r*Math.abs((t.bottom-b.height-d)/b.height)),!m&&l>=t.right-b.width?(p.x=V.Forward,j.x=r*Math.abs((t.right-b.width-l)/b.width)):!f&&i<=t.left+b.width&&(p.x=V.Backward,j.x=r*Math.abs((t.left+b.width-i)/b.width)),{direction:p,speed:j}}function Ys(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Xn(e){return e.reduce((t,n)=>Ge(t,Yt(n)),ve)}function Vs(e){return e.reduce((t,n)=>t+Kn(n),0)}function Xs(e){return e.reduce((t,n)=>t+Un(n),0)}function Hn(e,t){if(t===void 0&&(t=Qe),!e)return;const{top:n,left:r,bottom:a,right:o}=t(e);$n(e)&&(a<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Hs=[["x",["left","right"],Vs],["y",["top","bottom"],Xs]];class Jt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Gt(n),a=Xn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of Hs)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=l(r),h=a[o]-u;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class it{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Ws(e){const{EventTarget:t}=G(e);return e instanceof t?e:Ze(e)}function Kt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ce;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ce||(ce={}));function cn(e){e.preventDefault()}function qs(e){e.stopPropagation()}var k;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(k||(k={}));const Wn={start:[k.Space,k.Enter],cancel:[k.Esc],end:[k.Space,k.Enter,k.Tab]},Gs=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case k.Right:return{...n,x:n.x+25};case k.Left:return{...n,x:n.x-25};case k.Down:return{...n,y:n.y+25};case k.Up:return{...n,y:n.y-25}}};class qn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new it(Ze(n)),this.windowListeners=new it(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ce.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Hn(r),n(ve)}handleKeyDown(t){if(Lt(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:o=Wn,coordinateGetter:i=Gs,scrollBehavior:l="smooth"}=a,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:ve;this.referenceCoordinates||(this.referenceCoordinates=h);const f=i(t,{active:n,context:r.current,currentCoordinates:h});if(f){const m=Tt(f,h),p={x:0,y:0},{scrollableAncestors:j}=r.current;for(const b of j){const v=t.code,{isTop:N,isRight:S,isLeft:y,isBottom:R,maxScroll:w,minScroll:A}=Vn(b),C=Ys(b),T={x:Math.min(v===k.Right?C.right-C.width/2:C.right,Math.max(v===k.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(v===k.Down?C.bottom-C.height/2:C.bottom,Math.max(v===k.Down?C.top:C.top+C.height/2,f.y))},M=v===k.Right&&!S||v===k.Left&&!y,P=v===k.Down&&!R||v===k.Up&&!N;if(M&&T.x!==f.x){const D=b.scrollLeft+m.x,X=v===k.Right&&D<=w.x||v===k.Left&&D>=A.x;if(X&&!m.y){b.scrollTo({left:D,behavior:l});return}X?p.x=b.scrollLeft-D:p.x=v===k.Right?b.scrollLeft-w.x:b.scrollLeft-A.x,p.x&&b.scrollBy({left:-p.x,behavior:l});break}else if(P&&T.y!==f.y){const D=b.scrollTop+m.y,X=v===k.Down&&D<=w.y||v===k.Up&&D>=A.y;if(X&&!m.x){b.scrollTo({top:D,behavior:l});return}X?p.y=b.scrollTop-D:p.y=v===k.Down?b.scrollTop-w.y:b.scrollTop-A.y,p.y&&b.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Ge(Tt(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Wn,onActivation:a}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function dn(e){return!!(e&&"distance"in e)}function un(e){return!!(e&&"delay"in e)}class Zt{constructor(t,n,r){var a;r===void 0&&(r=Ws(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=Ze(i),this.documentListeners=new it(this.document),this.listeners=new it(r),this.windowListeners=new it(G(i)),this.initialCoordinates=(a=Et(o))!=null?a:ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ce.Resize,this.handleCancel),this.windowListeners.add(ce.DragStart,cn),this.windowListeners.add(ce.VisibilityChange,this.handleCancel),this.windowListeners.add(ce.ContextMenu,cn),this.documentListeners.add(ce.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(un(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(dn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ce.Click,qs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ce.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!a)return;const d=(n=Et(t))!=null?n:ve,u=Tt(a,d);if(!r&&l){if(dn(l)){if(l.tolerance!=null&&Kt(u,l.tolerance))return this.handleCancel();if(Kt(u,l.distance))return this.handleStart()}if(un(l)&&Kt(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===k.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Js={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qt extends Zt{constructor(t){const{event:n}=t,r=Ze(n.target);super(t,Js,r)}}Qt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Zs={move:{name:"mousemove"},end:{name:"mouseup"}};var Vt;(function(e){e[e.RightClick=2]="RightClick"})(Vt||(Vt={}));class Qs extends Zt{constructor(t){super(t,Zs,Ze(t.event.target))}}Qs.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Vt.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ut={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ea extends Zt{constructor(t){super(t,Ut)}static setup(){return window.addEventListener(Ut.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ut.move.name,t)};function t(){}}}ea.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var lt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(lt||(lt={}));var It;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(It||(It={}));function ta(e){let{acceleration:t,activator:n=lt.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:i=5,order:l=It.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:h,delta:f,threshold:m}=e;const p=ra({delta:f,disabled:!o}),[j,b]=us(),v=c.useRef({x:0,y:0}),N=c.useRef({x:0,y:0}),S=c.useMemo(()=>{switch(n){case lt.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case lt.DraggableRect:return a}},[n,a,d]),y=c.useRef(null),R=c.useCallback(()=>{const A=y.current;if(!A)return;const C=v.current.x*N.current.x,T=v.current.y*N.current.y;A.scrollBy(C,T)},[]),w=c.useMemo(()=>l===It.TreeOrder?[...u].reverse():u,[l,u]);c.useEffect(()=>{if(!o||!u.length||!S){b();return}for(const A of w){if((r==null?void 0:r(A))===!1)continue;const C=u.indexOf(A),T=h[C];if(!T)continue;const{direction:M,speed:P}=Us(A,T,S,t,m);for(const D of["x","y"])p[D][M[D]]||(P[D]=0,M[D]=0);if(P.x>0||P.y>0){b(),y.current=A,j(R,i),v.current=P,N.current=M;return}}v.current={x:0,y:0},N.current={x:0,y:0},b()},[t,R,r,b,o,i,JSON.stringify(S),JSON.stringify(p),j,u,w,h,JSON.stringify(m)])}const na={x:{[V.Backward]:!1,[V.Forward]:!1},y:{[V.Backward]:!1,[V.Forward]:!1}};function ra(e){let{delta:t,disabled:n}=e;const r=Rt(t);return pt(a=>{if(n||!r||!a)return na;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[V.Backward]:a.x[V.Backward]||o.x===-1,[V.Forward]:a.x[V.Forward]||o.x===1},y:{[V.Backward]:a.y[V.Backward]||o.y===-1,[V.Forward]:a.y[V.Forward]||o.y===1}}},[n,t,r])}function sa(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return pt(a=>{var o;return t==null?null:(o=r??a)!=null?o:null},[r,t])}function aa(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,o=a.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var ht;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ht||(ht={}));var Xt;(function(e){e.Optimized="optimized"})(Xt||(Xt={}));const fn=new Map;function oa(e,t){let{dragging:n,dependencies:r,config:a}=t;const[o,i]=c.useState(null),{frequency:l,measure:d,strategy:u}=a,h=c.useRef(e),f=v(),m=ft(f),p=c.useCallback(function(N){N===void 0&&(N=[]),!m.current&&i(S=>S===null?N:S.concat(N.filter(y=>!S.includes(y))))},[m]),j=c.useRef(null),b=pt(N=>{if(f&&!n)return fn;if(!N||N===fn||h.current!==e||o!=null){const S=new Map;for(let y of e){if(!y)continue;if(o&&o.length>0&&!o.includes(y.id)&&y.rect.current){S.set(y.id,y.rect.current);continue}const R=y.node.current,w=R?new Jt(d(R),R):null;y.rect.current=w,w&&S.set(y.id,w)}return S}return N},[e,o,n,f,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{f||p()},[n,f]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{f||typeof l!="number"||j.current!==null||(j.current=setTimeout(()=>{p(),j.current=null},l))},[l,f,p,...r]),{droppableRects:b,measureDroppableContainers:p,measuringScheduled:o!=null};function v(){switch(u){case ht.Always:return!1;case ht.BeforeDragging:return n;default:return!n}}}function en(e,t){return pt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ia(e,t){return en(e,t)}function la(e){let{callback:t,disabled:n}=e;const r=kt(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Pt(e){let{callback:t,disabled:n}=e;const r=kt(t),a=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return c.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function ca(e){return new Jt(Qe(e),e)}function hn(e,t,n){t===void 0&&(t=ca);const[r,a]=c.useState(null);function o(){a(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=la({callback(d){if(e)for(const u of d){const{type:h,target:f}=u;if(h==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),l=Pt({callback:o});return me(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function da(e){const t=en(e);return Bn(e,t)}const gn=[];function ua(e){const t=c.useRef(e),n=pt(r=>e?r&&r!==gn&&e&&t.current&&e.parentNode===t.current.parentNode?r:Gt(e):gn,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function fa(e){const[t,n]=c.useState(null),r=c.useRef(e),a=c.useCallback(o=>{const i=$t(o.target);i&&n(l=>l?(l.set(i,Yt(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=r.current;if(e!==o){i(o);const l=e.map(d=>{const u=$t(d);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,Yt(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(d=>{const u=$t(d);u==null||u.removeEventListener("scroll",a)})}},[a,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>Ge(o,i),ve):Xn(e):ve,[e,t])}function pn(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==ve;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Tt(e,n.current):ve}function ha(e){c.useEffect(()=>{if(!Mt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function ga(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:o}=r;return n[a]=i=>{o(i,t)},n},{}),[e,t])}function Gn(e){return c.useMemo(()=>e?Bs(e):null,[e])}const mn=[];function pa(e,t){t===void 0&&(t=Qe);const[n]=e,r=Gn(n?G(n):null),[a,o]=c.useState(mn);function i(){o(()=>e.length?e.map(d=>Yn(d)?r:new Jt(t(d),d)):mn)}const l=Pt({callback:i});return me(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),a}function Jn(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return gt(t)?t:e}function ma(e){let{measure:t}=e;const[n,r]=c.useState(null),a=c.useCallback(u=>{for(const{target:h}of u)if(gt(h)){r(f=>{const m=t(h);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),o=Pt({callback:a}),i=c.useCallback(u=>{const h=Jn(u);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[l,d]=Nt(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const va=[{sensor:Qt,options:{}},{sensor:qn,options:{}}],xa={current:{}},jt={draggable:{measure:ln},droppable:{measure:ln,strategy:ht.WhileDragging,frequency:Xt.Optimized},dragOverlay:{measure:Qe}};class ct extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const ba={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ct,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:At},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:jt,measureDroppableContainers:At,windowRect:null,measuringScheduled:!1},Zn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:At,draggableNodes:new Map,over:null,measureDroppableContainers:At},vt=c.createContext(Zn),Qn=c.createContext(ba);function ya(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ct}}}function wa(e,t){switch(t.type){case K.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case K.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case K.DragEnd:case K.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case K.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new ct(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case K.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new ct(e.droppable.containers);return i.set(n,{...o,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case K.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new ct(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Sa(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=c.useContext(vt),o=Rt(r),i=Rt(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!Lt(o)||document.activeElement===o.target)return;const l=a.get(i);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[d.current,u.current]){if(!h)continue;const f=gs(h);if(f){f.focus();break}}})}},[r,t,a,i,o]),null}function er(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,o)=>o({transform:a,...r}),n):n}function Ca(e){return c.useMemo(()=>({draggable:{...jt.draggable,...e==null?void 0:e.draggable},droppable:{...jt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...jt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ja(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof a=="boolean"?{x:a,y:a}:a;me(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),f=Bn(h,r);if(i||(f.x=0),l||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=$n(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,i,l,r,n])}const zt=c.createContext({...ve,scaleX:1,scaleY:1});var Me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Me||(Me={}));const Da=c.memo(function(t){var n,r,a,o;let{id:i,accessibility:l,autoScroll:d=!0,children:u,sensors:h=va,collisionDetection:f=Ms,measuring:m,modifiers:p,...j}=t;const b=c.useReducer(wa,void 0,ya),[v,N]=b,[S,y]=ys(),[R,w]=c.useState(Me.Uninitialized),A=R===Me.Initialized,{draggable:{active:C,nodes:T,translate:M},droppable:{containers:P}}=v,D=C!=null?T.get(C):null,X=c.useRef({initial:null,translated:null}),_=c.useMemo(()=>{var q;return C!=null?{id:C,data:(q=D==null?void 0:D.data)!=null?q:xa,rect:X}:null},[C,D]),x=c.useRef(null),[E,F]=c.useState(null),[$,Ne]=c.useState(null),J=ft(j,Object.values(j)),Pe=mt("DndDescribedBy",i),Se=c.useMemo(()=>P.getEnabled(),[P]),U=Ca(m),{droppableRects:de,measureDroppableContainers:ae,measuringScheduled:oe}=oa(Se,{dragging:A,dependencies:[M.x,M.y],config:U.droppable}),Z=sa(T,C),Ve=c.useMemo(()=>$?Et($):null,[$]),ee=ur(),ie=ia(Z,U.draggable.measure);ja({activeNode:C!=null?T.get(C):null,config:ee.layoutShiftCompensation,initialRect:ie,measure:U.draggable.measure});const O=hn(Z,U.draggable.measure,ie),Re=hn(Z?Z.parentElement:null),te=c.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=P.getNodeFor((n=te.current.over)==null?void 0:n.id),ue=ma({measure:U.dragOverlay.measure}),Te=(r=ue.nodeRef.current)!=null?r:Z,je=A?(a=ue.rect)!=null?a:O:null,xt=!!(ue.nodeRef.current&&ue.rect),bt=da(xt?null:O),et=Gn(Te?G(Te):null),xe=ua(A?Ce??Z:null),Xe=pa(xe),He=er(p,{transform:{x:M.x-bt.x,y:M.y-bt.y,scaleX:1,scaleY:1},activatorEvent:$,active:_,activeNodeRect:O,containerNodeRect:Re,draggingNodeRect:je,over:te.current.over,overlayNodeRect:ue.rect,scrollableAncestors:xe,scrollableAncestorRects:Xe,windowRect:et}),yt=Ve?Ge(Ve,M):null,tt=fa(xe),g=pn(tt),I=pn(tt,[O]),L=Ge(He,g),B=je?Ps(je,He):null,H=_&&B?f({active:_,collisionRect:B,droppableRects:de,droppableContainers:Se,pointerCoordinates:yt}):null,Ee=As(H,"id"),[fe,We]=c.useState(null),ze=xt?He:Ge(He,I),Ft=ks(ze,(o=fe==null?void 0:fe.rect)!=null?o:null,O),Fe=c.useRef(null),tn=c.useCallback((q,ne)=>{let{sensor:re,options:Ae}=ne;if(x.current==null)return;const le=T.get(x.current);if(!le)return;const se=q.nativeEvent,be=new re({active:x.current,activeNode:le,event:se,options:Ae,context:te,onAbort(W){if(!T.get(W))return;const{onDragAbort:ye}=J.current,De={id:W};ye==null||ye(De),S({type:"onDragAbort",event:De})},onPending(W,Ie,ye,De){if(!T.get(W))return;const{onDragPending:rt}=J.current,Oe={id:W,constraint:Ie,initialCoordinates:ye,offset:De};rt==null||rt(Oe),S({type:"onDragPending",event:Oe})},onStart(W){const Ie=x.current;if(Ie==null)return;const ye=T.get(Ie);if(!ye)return;const{onDragStart:De}=J.current,nt={activatorEvent:se,active:{id:Ie,data:ye.data,rect:X}};ot.unstable_batchedUpdates(()=>{De==null||De(nt),w(Me.Initializing),N({type:K.DragStart,initialCoordinates:W,active:Ie}),S({type:"onDragStart",event:nt}),F(Fe.current),Ne(se)})},onMove(W){N({type:K.DragMove,coordinates:W})},onEnd:qe(K.DragEnd),onCancel:qe(K.DragCancel)});Fe.current=be;function qe(W){return async function(){const{active:ye,collisions:De,over:nt,scrollAdjustedTranslate:rt}=te.current;let Oe=null;if(ye&&rt){const{cancelDrop:st}=J.current;Oe={activatorEvent:se,active:ye,collisions:De,delta:rt,over:nt},W===K.DragEnd&&typeof st=="function"&&await Promise.resolve(st(Oe))&&(W=K.DragCancel)}x.current=null,ot.unstable_batchedUpdates(()=>{N({type:W}),w(Me.Uninitialized),We(null),F(null),Ne(null),Fe.current=null;const st=W===K.DragEnd?"onDragEnd":"onDragCancel";if(Oe){const Bt=J.current[st];Bt==null||Bt(Oe),S({type:st,event:Oe})}})}}},[T]),lr=c.useCallback((q,ne)=>(re,Ae)=>{const le=re.nativeEvent,se=T.get(Ae);if(x.current!==null||!se||le.dndKit||le.defaultPrevented)return;const be={active:se};q(re,ne.options,be)===!0&&(le.dndKit={capturedBy:ne.sensor},x.current=Ae,tn(re,ne))},[T,tn]),nn=aa(h,lr);ha(h),me(()=>{O&&R===Me.Initializing&&w(Me.Initialized)},[O,R]),c.useEffect(()=>{const{onDragMove:q}=J.current,{active:ne,activatorEvent:re,collisions:Ae,over:le}=te.current;if(!ne||!re)return;const se={active:ne,activatorEvent:re,collisions:Ae,delta:{x:L.x,y:L.y},over:le};ot.unstable_batchedUpdates(()=>{q==null||q(se),S({type:"onDragMove",event:se})})},[L.x,L.y]),c.useEffect(()=>{const{active:q,activatorEvent:ne,collisions:re,droppableContainers:Ae,scrollAdjustedTranslate:le}=te.current;if(!q||x.current==null||!ne||!le)return;const{onDragOver:se}=J.current,be=Ae.get(Ee),qe=be&&be.rect.current?{id:be.id,rect:be.rect.current,data:be.data,disabled:be.disabled}:null,W={active:q,activatorEvent:ne,collisions:re,delta:{x:le.x,y:le.y},over:qe};ot.unstable_batchedUpdates(()=>{We(qe),se==null||se(W),S({type:"onDragOver",event:W})})},[Ee]),me(()=>{te.current={activatorEvent:$,active:_,activeNode:Z,collisionRect:B,collisions:H,droppableRects:de,draggableNodes:T,draggingNode:Te,draggingNodeRect:je,droppableContainers:P,over:fe,scrollableAncestors:xe,scrollAdjustedTranslate:L},X.current={initial:je,translated:B}},[_,Z,H,B,T,Te,je,de,P,fe,xe,L]),ta({...ee,delta:M,draggingRect:B,pointerCoordinates:yt,scrollableAncestors:xe,scrollableAncestorRects:Xe});const cr=c.useMemo(()=>({active:_,activeNode:Z,activeNodeRect:O,activatorEvent:$,collisions:H,containerNodeRect:Re,dragOverlay:ue,draggableNodes:T,droppableContainers:P,droppableRects:de,over:fe,measureDroppableContainers:ae,scrollableAncestors:xe,scrollableAncestorRects:Xe,measuringConfiguration:U,measuringScheduled:oe,windowRect:et}),[_,Z,O,$,H,Re,ue,T,P,de,fe,ae,xe,Xe,U,oe,et]),dr=c.useMemo(()=>({activatorEvent:$,activators:nn,active:_,activeNodeRect:O,ariaDescribedById:{draggable:Pe},dispatch:N,draggableNodes:T,over:fe,measureDroppableContainers:ae}),[$,nn,_,O,N,Pe,T,fe,ae]);return z.createElement(Fn.Provider,{value:y},z.createElement(vt.Provider,{value:dr},z.createElement(Qn.Provider,{value:cr},z.createElement(zt.Provider,{value:Ft},u)),z.createElement(Sa,{disabled:(l==null?void 0:l.restoreFocus)===!1})),z.createElement(Cs,{...l,hiddenTextDescribedById:Pe}));function ur(){const q=(E==null?void 0:E.autoScrollEnabled)===!1,ne=typeof d=="object"?d.enabled===!1:d===!1,re=A&&!q&&!ne;return typeof d=="object"?{...d,enabled:re}:{enabled:re}}}),Na=c.createContext(null),vn="button",Ra="Draggable";function Ta(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const o=mt(Ra),{activators:i,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:h,draggableNodes:f,over:m}=c.useContext(vt),{role:p=vn,roleDescription:j="draggable",tabIndex:b=0}=a??{},v=(d==null?void 0:d.id)===t,N=c.useContext(v?zt:Na),[S,y]=Nt(),[R,w]=Nt(),A=ga(i,t),C=ft(n);me(()=>(f.set(t,{id:t,key:o,node:S,activatorNode:R,data:C}),()=>{const M=f.get(t);M&&M.key===o&&f.delete(t)}),[f,t]);const T=c.useMemo(()=>({role:p,tabIndex:b,"aria-disabled":r,"aria-pressed":v&&p===vn?!0:void 0,"aria-roledescription":j,"aria-describedby":h.draggable}),[r,p,b,v,j,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:T,isDragging:v,listeners:r?void 0:A,node:S,over:m,setNodeRef:y,setActivatorNodeRef:w,transform:N}}function tr(){return c.useContext(Qn)}const Ea="Droppable",Aa={timeout:25};function nr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const o=mt(Ea),{active:i,dispatch:l,over:d,measureDroppableContainers:u}=c.useContext(vt),h=c.useRef({disabled:n}),f=c.useRef(!1),m=c.useRef(null),p=c.useRef(null),{disabled:j,updateMeasurementsFor:b,timeout:v}={...Aa,...a},N=ft(b??r),S=c.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(N.current)?N.current:[N.current]),p.current=null},v)},[v]),y=Pt({callback:S,disabled:j||!i}),R=c.useCallback((T,M)=>{y&&(M&&(y.unobserve(M),f.current=!1),T&&y.observe(T))},[y]),[w,A]=Nt(R),C=ft(t);return c.useEffect(()=>{!y||!w.current||(y.disconnect(),f.current=!1,y.observe(w.current))},[w,y]),c.useEffect(()=>(l({type:K.RegisterDroppable,element:{id:r,key:o,disabled:n,node:w,rect:m,data:C}}),()=>l({type:K.UnregisterDroppable,key:o,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:K.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,l]),{active:i,rect:m,isOver:(d==null?void 0:d.id)===r,node:w,over:d,setNodeRef:A}}function Ia(e){let{animation:t,children:n}=e;const[r,a]=c.useState(null),[o,i]=c.useState(null),l=Rt(n);return!n&&!r&&l&&a(l),me(()=>{if(!o)return;const d=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(d==null||u==null){a(null);return}Promise.resolve(t(u,o)).then(()=>{a(null)})},[t,r,o]),z.createElement(z.Fragment,null,n,r?c.cloneElement(r,{ref:i}):null)}const Oa={x:0,y:0,scaleX:1,scaleY:1};function Ma(e){let{children:t}=e;return z.createElement(vt.Provider,{value:Zn},z.createElement(zt.Provider,{value:Oa},t))}const ka={position:"fixed",touchAction:"none"},La=e=>Lt(e)?"transform 250ms ease":void 0,Pa=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:o,className:i,rect:l,style:d,transform:u,transition:h=La}=e;if(!l)return null;const f=a?u:{...u,scaleX:1,scaleY:1},m={...ka,width:l.width,height:l.height,top:l.top,left:l.left,transform:Le.Transform.toString(f),transformOrigin:a&&r?Rs(r,l):void 0,transition:typeof h=="function"?h(r):h,...d};return z.createElement(n,{className:i,style:m,ref:t},o)}),za=e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[l,d]of Object.entries(o.active))d!==void 0&&(a[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,d));if(o!=null&&o.dragOverlay)for(const[l,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(l,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[d,u]of Object.entries(a))n.node.style.setProperty(d,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},Fa=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Le.Transform.toString(t)},{transform:Le.Transform.toString(n)}]},Ba={duration:250,easing:"ease",keyframes:Fa,sideEffects:za({styles:{active:{opacity:"0"}}})};function _a(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return kt((o,i)=>{if(t===null)return;const l=n.get(o);if(!l)return;const d=l.node.current;if(!d)return;const u=Jn(i);if(!u)return;const{transform:h}=G(i).getComputedStyle(i),f=_n(h);if(!f)return;const m=typeof t=="function"?t:$a(t);return Hn(d,a.draggable.measure),m({active:{id:o,data:l.data,node:d,rect:a.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:f})})}function $a(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...Ba,...e};return o=>{let{active:i,dragOverlay:l,transform:d,...u}=o;if(!t)return;const h={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},f={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/l.rect.height:1},m={x:d.x-h.x,y:d.y-h.y,...f},p=a({...u,active:i,dragOverlay:l,transform:{initial:d,final:m}}),[j]=p,b=p[p.length-1];if(JSON.stringify(j)===JSON.stringify(b))return;const v=r==null?void 0:r({active:i,dragOverlay:l,...u}),N=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(S=>{N.onfinish=()=>{v==null||v(),S()}})}}let xn=0;function Ka(e){return c.useMemo(()=>{if(e!=null)return xn++,xn},[e])}const Ua=z.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:o,modifiers:i,wrapperElement:l="div",className:d,zIndex:u=999}=e;const{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:p,draggableNodes:j,droppableContainers:b,dragOverlay:v,over:N,measuringConfiguration:S,scrollableAncestors:y,scrollableAncestorRects:R,windowRect:w}=tr(),A=c.useContext(zt),C=Ka(f==null?void 0:f.id),T=er(i,{activatorEvent:h,active:f,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:v.rect,over:N,overlayNodeRect:v.rect,scrollableAncestors:y,scrollableAncestorRects:R,transform:A,windowRect:w}),M=en(m),P=_a({config:r,draggableNodes:j,droppableContainers:b,measuringConfiguration:S}),D=M?v.setRef:void 0;return z.createElement(Ma,null,z.createElement(Ia,{animation:P},f&&C?z.createElement(Pa,{key:C,id:f.id,ref:D,as:l,activatorEvent:h,adjustScale:t,className:d,transition:o,rect:M,style:{zIndex:u,...a},transform:T},n):null))});function rr(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Ya(e,t){return e.reduce((n,r,a)=>{const o=t.get(r);return o&&(n[a]=o),n},Array(e.length))}function wt(e){return e!==null&&e>=0}function Va(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Xa(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const sr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const o=rr(t,r,n),i=t[a],l=o[a];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},St={scaleX:1,scaleY:1},Ha=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:o,overIndex:i}=e;const l=(t=o[n])!=null?t:r;if(!l)return null;if(a===n){const u=o[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...St}:null}const d=Wa(o,a,n);return a>n&&a<=i?{x:0,y:-l.height-d,...St}:a<n&&a>=i?{x:0,y:l.height+d,...St}:{x:0,y:0,...St}};function Wa(e,t,n){const r=e[t],a=e[t-1],o=e[t+1];return r?n<t?a?r.top-(a.top+a.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const ar="Sortable",or=z.createContext({activeIndex:-1,containerId:ar,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:sr,disabled:{draggable:!1,droppable:!1}});function qa(e){let{children:t,id:n,items:r,strategy:a=sr,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:h}=tr(),f=mt(ar,n),m=l.rect!==null,p=c.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),j=i!=null,b=i?p.indexOf(i.id):-1,v=u?p.indexOf(u.id):-1,N=c.useRef(p),S=!Va(p,N.current),y=v!==-1&&b===-1||S,R=Xa(o);me(()=>{S&&j&&h(p)},[S,p,j,h]),c.useEffect(()=>{N.current=p},[p]);const w=c.useMemo(()=>({activeIndex:b,containerId:f,disabled:R,disableTransforms:y,items:p,overIndex:v,useDragOverlay:m,sortedRects:Ya(p,d),strategy:a}),[b,f,R.draggable,R.droppable,y,p,v,d,m,a]);return z.createElement(or.Provider,{value:w},t)}const Ga=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return rr(n,r,a).indexOf(t)},Ja=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:o,newIndex:i,previousItems:l,previousContainerId:d,transition:u}=e;return!u||!r||l!==o&&a===i?!1:n?!0:i!==a&&t===d},Za={duration:200,easing:"ease"},ir="transform",Qa=Le.Transition.toString({property:ir,duration:0,easing:"linear"}),eo={roleDescription:"sortable"};function to(e){let{disabled:t,index:n,node:r,rect:a}=e;const[o,i]=c.useState(null),l=c.useRef(n);return me(()=>{if(!t&&n!==l.current&&r.current){const d=a.current;if(d){const u=Qe(r.current,{ignoreTransform:!0}),h={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,r,a]),c.useEffect(()=>{o&&i(null)},[o]),o}function no(e){let{animateLayoutChanges:t=Ja,attributes:n,disabled:r,data:a,getNewIndex:o=Ga,id:i,strategy:l,resizeObserverConfig:d,transition:u=Za}=e;const{items:h,containerId:f,activeIndex:m,disabled:p,disableTransforms:j,sortedRects:b,overIndex:v,useDragOverlay:N,strategy:S}=c.useContext(or),y=ro(r,p),R=h.indexOf(i),w=c.useMemo(()=>({sortable:{containerId:f,index:R,items:h},...a}),[f,a,R,h]),A=c.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:C,node:T,isOver:M,setNodeRef:P}=nr({id:i,data:w,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...d}}),{active:D,activatorEvent:X,activeNodeRect:_,attributes:x,setNodeRef:E,listeners:F,isDragging:$,over:Ne,setActivatorNodeRef:J,transform:Pe}=Ta({id:i,data:w,attributes:{...eo,...n},disabled:y.draggable}),Se=ds(P,E),U=!!D,de=U&&!j&&wt(m)&&wt(v),ae=!N&&$,oe=ae&&de?Pe:null,Ve=de?oe??(l??S)({rects:b,activeNodeRect:_,activeIndex:m,overIndex:v,index:R}):null,ee=wt(m)&&wt(v)?o({id:i,items:h,activeIndex:m,overIndex:v}):R,ie=D==null?void 0:D.id,O=c.useRef({activeId:ie,items:h,newIndex:ee,containerId:f}),Re=h!==O.current.items,te=t({active:D,containerId:f,isDragging:$,isSorting:U,id:i,index:R,items:h,newIndex:O.current.newIndex,previousItems:O.current.items,previousContainerId:O.current.containerId,transition:u,wasDragging:O.current.activeId!=null}),Ce=to({disabled:!te,index:R,node:T,rect:C});return c.useEffect(()=>{U&&O.current.newIndex!==ee&&(O.current.newIndex=ee),f!==O.current.containerId&&(O.current.containerId=f),h!==O.current.items&&(O.current.items=h)},[U,ee,f,h]),c.useEffect(()=>{if(ie===O.current.activeId)return;if(ie!=null&&O.current.activeId==null){O.current.activeId=ie;return}const Te=setTimeout(()=>{O.current.activeId=ie},50);return()=>clearTimeout(Te)},[ie]),{active:D,activeIndex:m,attributes:x,data:w,rect:C,index:R,newIndex:ee,items:h,isOver:M,isSorting:U,isDragging:$,listeners:F,node:T,overIndex:v,over:Ne,setNodeRef:Se,setActivatorNodeRef:J,setDroppableNodeRef:P,setDraggableNodeRef:E,transform:Ce??Ve,transition:ue()};function ue(){if(Ce||Re&&O.current.newIndex===R)return Qa;if(!(ae&&!Lt(X)||!u)&&(U||te))return Le.Transition.toString({...u,property:ir})}}function ro(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}k.Down,k.Right,k.Up,k.Left;const bn=[{value:"deadline",label:"Prazo (mais próximo)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],yn={alta:0,media:1,baixa:2};function wn(e,t){return[...e].sort((n,r)=>{switch(t){case"deadline":return!n.dueDate&&!r.dueDate?0:n.dueDate?r.dueDate?n.dueDate.localeCompare(r.dueDate):-1:1;case"priority":return(yn[n.priority]??1)-(yn[r.priority]??1);case"title":return n.title.localeCompare(r.title,"pt-BR");case"client":return(n.client??"").localeCompare(r.client??"","pt-BR");default:return 0}})}const so={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Sn={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Ct=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],Ht=c.memo(function({task:t,cardFields:n,today:r,isExpanded:a,onToggleExpand:o,onToggleSubtask:i,onEdit:l,onDelete:d,showStatus:u,isDragging:h,isOverlay:f}){const m=t.subtasks.filter(v=>v.completed).length,p=t.subtasks.length,j=p>0?Math.round(m/p*100):0,b=t.dueDate&&t.dueDate<r&&t.status!=="concluida"&&t.status!=="cancelada";return s.jsx(kn,{className:ke("transition-shadow duration-150",h&&"opacity-40",f&&"shadow-xl ring-2 ring-primary/30 rotate-[2deg]",b&&"border-destructive/50"),children:s.jsxs(Ln,{className:"p-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[!f&&s.jsx(ns,{className:"w-4 h-4 text-muted-foreground mt-0.5 shrink-0 cursor-grab active:cursor-grabbing"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[n.priority&&s.jsx(Ye,{variant:"secondary",className:`text-[10px] ${Lr[t.priority]}`,children:Dt[t.priority]}),u&&s.jsx(Ye,{variant:"secondary",className:`text-[10px] ${Tn[t.status]}`,children:ut[t.status]}),b&&s.jsx(Ye,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),s.jsx("p",{className:"font-medium text-sm",children:t.title}),n.description&&t.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.description}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[n.client&&t.client&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3 h-3"}),t.client]}),n.dueDate&&t.dueDate&&s.jsxs("span",{className:ke("flex items-center gap-1",b&&"text-destructive font-medium"),children:[s.jsx(Qr,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]})]}),!f&&s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>l==null?void 0:l(t),children:s.jsx(On,{className:"w-3.5 h-3.5"})}),s.jsx(Q,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>d(t.id),children:s.jsx(Mn,{className:"w-3.5 h-3.5"})})]})]}),n.subtasks&&p>0&&!f&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors w-full",onClick:()=>o(t.id),children:[a?s.jsx(An,{className:"w-3 h-3"}):s.jsx(In,{className:"w-3 h-3"}),s.jsxs("span",{children:[m,"/",p," subtarefas"]}),s.jsx("div",{className:"flex-1 mx-2 bg-muted rounded-full h-1.5",children:s.jsx("div",{className:"bg-primary rounded-full h-1.5 transition-all",style:{width:`${j}%`}})}),s.jsxs("span",{className:"text-[10px]",children:[j,"%"]})]}),a&&s.jsx("div",{className:"mt-2 space-y-1 pl-4",children:t.subtasks.map(v=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-muted/50 rounded p-1 -ml-1",children:[s.jsx($r,{checked:v.completed,onCheckedChange:()=>i(t.id,v.id)}),s.jsx("span",{className:ke(v.completed&&"line-through text-muted-foreground"),children:v.title})]},v.id))})]}),n.tags&&t.tags&&t.tags.length>0&&!f&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(v=>s.jsx(Ye,{variant:"outline",className:"text-[10px]",children:v},v))})]})})});function ao(e){const{attributes:t,listeners:n,setNodeRef:r,transform:a,transition:o,isDragging:i}=no({id:e.task.id}),l={transform:Le.Transform.toString(a),transition:o};return s.jsx("div",{ref:r,style:l,...t,...n,children:s.jsx(Ht,{...e,isDragging:i})})}function oo({status:e,tasks:t,isOver:n,cardFields:r,today:a,expandedTasks:o,onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u}){const h=c.useMemo(()=>t.map(m=>m.id),[t]),{setNodeRef:f}=nr({id:e});return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ye,{variant:"secondary",className:Tn[e],children:ut[e]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.length,")"]})]}),s.jsx("div",{ref:f,"data-column-status":e,className:ke("space-y-3 min-h-[400px] p-2 rounded-lg transition-colors duration-150",n?"bg-primary/10 border-2 border-dashed border-primary/40":"bg-muted/30 border-2 border-transparent"),children:s.jsx(qa,{items:h,strategy:Ha,children:t.length===0?s.jsx("p",{className:ke("text-xs text-center py-8 transition-colors",n?"text-primary font-medium":"text-muted-foreground"),children:n?"↓ Soltar aqui":"Vazio"}):t.map(m=>s.jsx(ao,{task:m,cardFields:r,today:a,isExpanded:o.has(m.id),onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u},m.id))})})]})}function Ho(){var tt;const{tasks:e,setTasks:t,loading:n,syncing:r,error:a,lastSync:o,sync:i,updateTaskStatus:l,deleteTask:d,createTask:u,updateTask:h,createSubtask:f,updateSubtask:m,deleteSubtask:p}=hr(),{projects:j}=gr(),[b,v]=c.useState(!1),[N,S]=c.useState(null),[y,R]=c.useState([]),[w,A]=c.useState("kanban"),[C,T]=c.useState(""),[M,P]=c.useState("all"),[D,X]=c.useState("all"),[_,x]=c.useState("all"),[E,F]=c.useState("all"),[$,Ne]=c.useState(new Set),[J,Pe]=c.useState(so),[Se,U]=c.useState(null),[de,ae]=c.useState(null),[oe,Z]=c.useState("deadline");c.useEffect(()=>{e.length>0&&R(e)},[e]);const Ve=c.useMemo(()=>[...new Set(y.map(g=>g.client).filter(Boolean))],[y]),ee=c.useMemo(()=>{const g=y.filter(I=>{if(C&&!I.title.toLowerCase().includes(C.toLowerCase())||M!=="all"&&I.status!==M||D!=="all"&&I.priority!==D||_!=="all"&&I.client!==_)return!1;if(E!=="all"){const L=j.find(B=>B.id===E);if(L&&I.client!==L.name)return!1}return!0});return wn(g,oe)},[y,C,M,D,_,E,j,oe]),ie=c.useMemo(()=>Se?y.find(g=>g.id===Se):null,[Se,y]),O=c.useMemo(()=>{const g=new Date;return`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`},[]),Re=c.useCallback(g=>{Ne(I=>{const L=new Set(I);return L.has(g)?L.delete(g):L.add(g),L})},[]),te=c.useCallback((g,I)=>{R(L=>L.map(B=>B.id===g?{...B,subtasks:B.subtasks.map(H=>H.id===I?{...H,completed:!H.completed}:H)}:B))},[]),Ce=c.useCallback(g=>{d(g),R(I=>I.filter(L=>L.id!==g))},[d]),ue=c.useCallback(g=>{Pe(I=>({...I,[g]:!I[g]}))},[]),Te=c.useCallback(()=>{S(null),v(!0)},[]),je=c.useCallback(g=>{S(g),v(!0)},[]),xt=c.useCallback(async(g,I,L)=>{I?await u({title:g.title,deadline:g.deadline,priority:g.priority,status:g.status,clientName:g.clientName,assignee:g.assignee,description:g.description}):L&&await h(L,{title:g.title,deadline:g.deadline,priority:g.priority,status:g.status,clientName:g.clientName,assignee:g.assignee,description:g.description})},[u,h]),bt=Ds(js(Qt,{activationConstraint:{distance:8}}));c.useCallback(g=>{const I=y.find(L=>L.id===g);return I==null?void 0:I.status},[y]);const et=c.useCallback(g=>{U(g.active.id)},[]),xe=c.useCallback(g=>{const{over:I}=g;if(!I){ae(null);return}const L=I.id,B=y.find(Ee=>Ee.id===L),H=B?B.status:Ct.includes(L)?L:null;ae(H)},[y]),Xe=c.useCallback(g=>{const{active:I,over:L}=g;if(U(null),ae(null),!L)return;const B=I.id,H=L.id;if(B===H)return;const Ee=y.find(ze=>ze.id===B);if(!Ee)return;const fe=y.find(ze=>ze.id===H),We=fe?fe.status:Ct.includes(H)?H:Ee.status;Ee.status!==We&&(R(ze=>{const Ft=ze.map(Fe=>Fe.id===B?{...Fe,status:We}:Fe);return wn(Ft,oe)}),l(B,We))},[y,l,oe]),He=c.useCallback(()=>{U(null),ae(null)},[]),yt=c.useMemo(()=>{const g={};return Ct.forEach(I=>{g[I]=[]}),ee.forEach(I=>{g[I.status]&&g[I.status].push(I)}),g},[ee]);return s.jsxs(wr,{title:"Tarefas",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(dt,{placeholder:"Buscar tarefa...",value:C,onChange:g=>T(g.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[s.jsxs(he,{value:M,onValueChange:P,children:[s.jsx(ge,{className:"w-[130px]",children:s.jsx(we,{placeholder:"Status"})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"all",children:"Todos"}),Object.keys(ut).map(g=>s.jsx(Y,{value:g,children:ut[g]},g))]})]}),s.jsxs(he,{value:D,onValueChange:X,children:[s.jsx(ge,{className:"w-[110px]",children:s.jsx(we,{placeholder:"Prioridade"})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"all",children:"Todas"}),Object.keys(Dt).map(g=>s.jsx(Y,{value:g,children:Dt[g]},g))]})]}),s.jsxs(he,{value:_,onValueChange:x,children:[s.jsx(ge,{className:"w-[140px]",children:s.jsx(we,{placeholder:"Cliente"})}),s.jsxs(pe,{children:[s.jsx(Y,{value:"all",children:"Todos"}),Ve.map(g=>s.jsx(Y,{value:g,children:g},g))]})]}),s.jsxs(he,{value:E,onValueChange:F,children:[s.jsxs(ge,{className:"w-[150px]",children:[s.jsx(Gr,{className:"w-3.5 h-3.5 mr-1 text-muted-foreground"}),s.jsx(we,{placeholder:"Projeto"})]}),s.jsxs(pe,{children:[s.jsx(Y,{value:"all",children:"Todos"}),j.map(g=>s.jsx(Y,{value:g.id,children:g.name},g.id))]})]}),s.jsxs(he,{value:oe,onValueChange:g=>Z(g),children:[s.jsxs(ge,{className:"w-[44px] sm:w-[170px] gap-1.5",children:[s.jsx(es,{className:"w-3.5 h-3.5 shrink-0 text-muted-foreground"}),s.jsx("span",{className:"hidden sm:inline truncate",children:(tt=bn.find(g=>g.value===oe))==null?void 0:tt.label})]}),s.jsx(pe,{children:bn.map(g=>s.jsx(Y,{value:g.value,children:g.label},g.value))})]}),s.jsxs(Ur,{children:[s.jsx(Yr,{asChild:!0,children:s.jsxs(Q,{variant:"outline",size:"sm",className:"gap-1.5",children:[s.jsx(rs,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Campos"})]})}),s.jsx(Vr,{className:"w-56",align:"end",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Sn).map(g=>s.jsxs("div",{className:"flex items-center justify-between py-1",children:[s.jsx(Kr,{htmlFor:`field-${g}`,className:"text-sm cursor-pointer",children:Sn[g]}),s.jsx(_r,{id:`field-${g}`,checked:J[g],onCheckedChange:()=>ue(g)})]},g))]})})]}),(M!=="all"||D!=="all"||_!=="all"||E!=="all"||C)&&s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{P("all"),X("all"),x("all"),F("all"),T("")},className:"text-xs gap-1",children:"✕ Limpar filtros"}),s.jsxs("div",{className:"flex border border-border rounded-md overflow-hidden",children:[s.jsx(Q,{variant:w==="list"?"default":"ghost",size:"sm",onClick:()=>A("list"),className:"rounded-none",children:s.jsx(Jr,{className:"w-4 h-4"})}),s.jsx(Q,{variant:w==="kanban"?"default":"ghost",size:"sm",onClick:()=>A("kanban"),className:"rounded-none",children:s.jsx(ts,{className:"w-4 h-4"})})]}),s.jsx(Xr,{syncing:r,lastSync:o,onSync:i,error:a}),s.jsxs(Q,{size:"sm",onClick:Te,className:"gap-1.5",children:[s.jsx(Cn,{className:"w-4 h-4"})," Nova Tarefa"]})]})]}),s.jsx(cs,{open:b,onOpenChange:v,task:N,onSave:xt,onCreateSubtask:f,onUpdateSubtask:m,onDeleteSubtask:p}),n?w==="list"?s.jsx(Hr,{}):s.jsx(Wr,{}):w==="list"?s.jsx("div",{className:"space-y-3",children:ee.length===0?s.jsx(kn,{children:s.jsx(Ln,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):ee.map(g=>s.jsx(Ht,{task:g,cardFields:J,today:O,isExpanded:$.has(g.id),onToggleExpand:Re,onToggleSubtask:te,onEdit:je,onDelete:Ce,showStatus:!0},g.id))}):s.jsxs(Da,{sensors:bt,collisionDetection:Is,onDragStart:et,onDragOver:xe,onDragEnd:Xe,onDragCancel:He,children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:Ct.map(g=>s.jsx(oo,{status:g,tasks:yt[g],isOver:de===g&&Se!==null,cardFields:J,today:O,expandedTasks:$,onToggleExpand:Re,onToggleSubtask:te,onEdit:je,onDelete:Ce},g))}),s.jsx(Ua,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:ie?s.jsx("div",{className:"w-[260px]",children:s.jsx(Ht,{task:ie,cardFields:J,today:O,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0})}):null})]})]})}export{Ho as default};
