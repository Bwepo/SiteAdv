import{c as ke,a7 as tt,at as st,r as s,j as e,m as Se,e as g}from"./index-C5rdV3ki.js";import{T as at}from"./TarefaSheet-BCZRfnm0.js";import{u as rt,a as nt,C as lt,S as it,D as ot,c as ct,b as dt,d as ut,G as mt,e as xt,f as ht,v as pt,P as gt,g as ft,h as bt}from"./SubtarefasTab-ChMbAwZR.js";import{C as we,c as Te}from"./card-DeLiqJaA.js";import{A as jt,a as vt,b as St,c as Nt,d as yt,e as Ct,f as kt,g as wt}from"./alert-dialog-fZtWGPG7.js";import{B as F}from"./badge-BMLAq-mz.js";import{B as X}from"./button-V3BEsbEG.js";import{I as Tt}from"./input-B61CGZ39.js";import{S as ce,C as Dt}from"./checkbox-6SnAOQFb.js";import{L as At}from"./label-CNpBZ07K.js";import{S as E,g as _,h as O,i as P,j as b}from"./form-DG7uB_oU.js";import{P as Lt,a as It,b as Et}from"./popover-ocv8R353.js";import{T as ee,b as de,d as _t,e as De,P as Ot}from"./crmTypes-CSOUCF6B.js";import{T as Pt,K as Ft}from"./CrmSkeletons-BUdVWqbk.js";import{S as Mt}from"./search-Ca7hmoNW.js";import{P as Rt}from"./plus-B1CoPVXr.js";import{L as Bt}from"./list-C853bYST.js";import{U as $t}from"./users-CkoqQKX3.js";import{C as zt}from"./calendar-C3sKBTp-.js";import{T as Kt}from"./trash-2-H5_0A3gc.js";import{C as Vt}from"./chevron-up-CgXdGGql.js";import{C as Ut}from"./chevron-right-B3DLkH4w.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ke("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Gt=[{value:"deadline",label:"Prazo (mais próximo)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],Ne={alta:0,media:1,baixa:2};function ye(d,a){return[...d].sort((l,o)=>{switch(a){case"deadline":return!l.dueDate&&!o.dueDate?0:l.dueDate?o.dueDate?l.dueDate.localeCompare(o.dueDate):-1:1;case"priority":return(Ne[l.priority]??1)-(Ne[o.priority]??1);case"title":return l.title.localeCompare(o.title,"pt-BR");case"client":return(l.client??"").localeCompare(o.client??"","pt-BR");default:return 0}})}const Zt={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Ce={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Q=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],qt=[{value:"all",label:"Todos"},{value:"today",label:"Hoje"},{value:"this_week",label:"Esta semana"},{value:"this_month",label:"Este mês"},{value:"overdue",label:"Atrasadas"},{value:"no_deadline",label:"Sem prazo"}],ue=s.memo(function({task:a,cardFields:l,today:o,isExpanded:N,onToggleExpand:j,onToggleSubtask:k,onEdit:v,onDelete:M,showStatus:R,isDragging:w,isOverlay:f}){const p=a.subtasks.filter(u=>u.completed).length,y=a.subtasks.length,A=y>0?Math.round(p/y*100):0,T=a.dueDate&&a.dueDate<o&&a.status!=="concluida"&&a.status!=="cancelada";return e.jsx(we,{className:g("relative group transition-all duration-300 ease-in-out hover:shadow-md dark:hover:shadow-primary/5",w?"opacity-40 scale-95":"hover:-translate-y-0.5",f&&"shadow-2xl ring-2 ring-primary/40 rotate-[3deg] scale-105 cursor-grabbing",T?"border-destructive/40 bg-red-50/30 dark:bg-red-950/20":"border-border/50 bg-background/95 backdrop-blur-sm"),children:e.jsxs(Te,{className:"p-3.5 sm:p-4",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[!f&&e.jsx(mt,{className:"w-4 h-4 text-muted-foreground mt-0.5 shrink-0 cursor-grab active:cursor-grabbing"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[l.priority&&e.jsx(F,{variant:"secondary",className:`text-[10px] ${_t[a.priority]}`,children:de[a.priority]}),R&&e.jsx(F,{variant:"secondary",className:`text-[10px] ${De[a.status]}`,children:ee[a.status]}),T&&e.jsx(F,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),e.jsx("p",{className:"font-medium text-sm",children:a.title}),l.description&&a.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[l.client&&a.client&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"w-3 h-3"}),a.client]}),l.dueDate&&a.dueDate&&e.jsxs("span",{className:g("flex items-center gap-1",T&&"text-destructive font-medium"),children:[e.jsx(zt,{className:"w-3 h-3"}),new Date(a.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity absolute right-2 top-2 bg-background/80 backdrop-blur-md rounded-md shadow-sm border border-border/50 p-0.5",children:[e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6 hover:bg-primary/20 hover:text-primary transition-colors",onClick:()=>v==null?void 0:v(a),children:e.jsx(Ot,{className:"w-3.5 h-3.5"})}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:bg-destructive/20 hover:text-destructive transition-colors",onClick:()=>M(a.id),children:e.jsx(Kt,{className:"w-3.5 h-3.5"})})]})]}),l.subtasks&&y>0&&!f&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors w-full",onClick:()=>j(a.id),children:[N?e.jsx(Vt,{className:"w-3 h-3"}):e.jsx(Ut,{className:"w-3 h-3"}),e.jsxs("span",{children:[p,"/",y," subtarefas"]}),e.jsx("div",{className:"flex-1 mx-2 bg-muted rounded-full h-1.5",children:e.jsx("div",{className:"bg-primary rounded-full h-1.5 transition-all",style:{width:`${A}%`}})}),e.jsxs("span",{className:"text-[10px]",children:[A,"%"]})]}),N&&e.jsx("div",{className:"mt-2 space-y-1 pl-4",children:a.subtasks.map(u=>e.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-muted/50 rounded p-1 -ml-1",children:[e.jsx(Dt,{checked:u.completed,onCheckedChange:()=>k(a.id,u.id)}),e.jsx("span",{className:g(u.completed&&"line-through text-muted-foreground"),children:u.title})]},u.id))})]}),l.tags&&a.tags&&a.tags.length>0&&!f&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.map(u=>e.jsx(F,{variant:"outline",className:"text-[10px]",children:u},u))})]})})});function Wt(d){const{attributes:a,listeners:l,setNodeRef:o,transform:N,transition:j,isDragging:k}=ft({id:d.task.id}),v={transform:bt.Transform.toString(N),transition:j};return e.jsx("div",{ref:o,style:v,...a,...l,children:e.jsx(ue,{...d,isDragging:k})})}function Jt({status:d,tasks:a,isOver:l,cardFields:o,today:N,expandedTasks:j,onToggleExpand:k,onToggleSubtask:v,onEdit:M,onDelete:R}){const w=s.useMemo(()=>a.map(p=>p.id),[a]),{setNodeRef:f}=xt({id:d});return e.jsxs("div",{children:[e.jsxs("div",{className:g("flex items-center justify-between mb-3 px-1 border-b pb-2",l?"border-primary":"border-border/60"),children:[e.jsx(F,{variant:"secondary",className:g("font-medium shadow-sm transition-colors",De[d]||"bg-muted"),children:ee[d]}),e.jsx("span",{className:"text-xs font-semibold bg-muted/50 px-2.5 py-0.5 rounded-full text-muted-foreground/80",children:a.length})]}),e.jsx("div",{ref:f,"data-column-status":d,className:g("space-y-3 min-h-[400px] p-2.5 rounded-xl transition-all duration-300",l?"bg-primary/5 ring-2 ring-primary/30 ring-inset ring-dashed shadow-inner":"bg-muted/40 hover:bg-muted/50 border border-transparent"),children:e.jsx(ht,{items:w,strategy:pt,children:a.length===0?e.jsx("p",{className:g("text-xs text-center py-8 transition-colors",l?"text-primary font-medium":"text-muted-foreground"),children:l?"↓ Soltar aqui":"Vazio"}):a.map(p=>e.jsx(Wt,{task:p,cardFields:o,today:N,isExpanded:j.has(p.id),onToggleExpand:k,onToggleSubtask:v,onEdit:M,onDelete:R},p.id))})})]})}function Qt({projectId:d,hideHeader:a,forceTab:l}={}){const{tasks:o,setTasks:N,loading:j,syncing:k,error:v,lastSync:M,sync:R,updateTaskStatus:w,deleteTask:f,createTask:p,updateTask:y,createSubtask:A,updateSubtask:T,deleteSubtask:u}=tt(),{projects:Ae}=st(),[Le,te]=s.useState(!1),[Ie,me]=s.useState(null),[i,B]=s.useState([]),[$,xe]=s.useState("kanban"),[z,Ee]=s.useState(""),[K,_e]=s.useState("all"),[V,Oe]=s.useState("all"),[se,Xt]=s.useState("all"),[he,es]=s.useState(d||"all"),[pe,Pe]=s.useState(new Set),[U,Fe]=s.useState(Zt),[Y,ae]=s.useState(null),[Me,H]=s.useState(null),[L,Re]=s.useState("deadline"),[re,Be]=s.useState(!1),[ne,$e]=s.useState(!1),[G,ze]=s.useState("all"),[Z,Ke]=s.useState("all");s.useEffect(()=>{o.length>0&&B(o)},[o]);const D=s.useMemo(()=>{const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},[]),Ve=s.useMemo(()=>[...new Set(i.map(t=>t.assignee).filter(Boolean))],[i]),q=s.useMemo(()=>{const t=d||he,r=new Date,n=new Date(r);n.setDate(r.getDate()+7);const c=new Date(r.getFullYear(),r.getMonth()+1,0),m=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,C=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}`,J=i.filter(x=>{var S;if(z&&!x.title.toLowerCase().includes(z.toLowerCase())||K!=="all"&&x.status!==K||V!=="all"&&x.priority!==V||se!=="all"&&x.client!==se||Z!=="all"&&x.assignee!==Z||t!=="all"&&x.projectId!==t)return!1;if(G!=="all"){const h=(S=x.dueDate)==null?void 0:S.split("T")[0];switch(G){case"today":if(h!==D)return!1;break;case"this_week":if(!h||h<D||h>m)return!1;break;case"this_month":if(!h||h<D||h>C)return!1;break;case"overdue":if(!h||h>=D||x.status==="concluida"||x.status==="cancelada")return!1;break;case"no_deadline":if(h)return!1;break}}return!0});return ye(J,L)},[i,z,K,V,se,Z,he,L,G,D]),le=D,ge=s.useMemo(()=>Y?i.find(t=>t.id===Y):null,[Y,i]);s.useMemo(()=>[...new Set(i.map(t=>t.client).filter(Boolean))],[i]);const fe=s.useCallback(t=>{Pe(r=>{const n=new Set(r);return n.has(t)?n.delete(t):n.add(t),n})},[]),be=s.useCallback((t,r)=>{B(n=>n.map(c=>c.id===t?{...c,subtasks:c.subtasks.map(m=>m.id===r?{...m,completed:!m.completed}:m)}:c))},[]),[I,W]=s.useState(null),Ue=s.useCallback(async()=>{I&&(f(I),B(t=>t.filter(r=>r.id!==I)),W(null))},[I,f]),Ye=s.useCallback(t=>{Fe(r=>({...r,[t]:!r[t]}))},[]),He=s.useCallback(()=>{me(null),te(!0)},[]),je=s.useCallback(t=>{me(t),te(!0)},[]),Ge=s.useCallback(async(t,r,n)=>{r?await p({title:t.title,deadline:t.deadline,priority:t.priority,status:t.status,clientName:t.clientName,projectId:t.projectId,assignee:t.assignee,description:t.description}):n&&await y(n,{title:t.title,deadline:t.deadline,priority:t.priority,status:t.status,clientName:t.clientName,projectId:t.projectId,assignee:t.assignee,description:t.description})},[p,y]),Ze=rt(nt(gt,{activationConstraint:{distance:8}}));s.useCallback(t=>{const r=i.find(n=>n.id===t);return r==null?void 0:r.status},[i]);const qe=s.useCallback(t=>{ae(t.active.id)},[]),We=s.useCallback(t=>{const{over:r}=t;if(!r){H(null);return}const n=r.id,c=i.find(C=>C.id===n),m=c?c.status:Q.includes(n)?n:null;H(m)},[i]),Je=s.useCallback(t=>{const{active:r,over:n}=t;if(ae(null),H(null),!n)return;const c=r.id,m=n.id;if(c===m)return;const C=i.find(S=>S.id===c);if(!C)return;const J=i.find(S=>S.id===m),x=J?J.status:Q.includes(m)?m:C.status;C.status!==x&&(B(S=>{const h=S.map(oe=>oe.id===c?{...oe,status:x}:oe);return ye(h,L)}),w(c,x))},[i,w,L]),Qe=s.useCallback(()=>{ae(null),H(null)},[]),Xe=s.useMemo(()=>{const t={};return Q.forEach(r=>{t[r]=[]}),q.forEach(r=>{t[r.status]&&t[r.status].push(r)}),t},[q]),ve=s.useMemo(()=>Q.filter(t=>!(re&&t==="concluida"||ne&&t==="cancelada")),[re,ne]),[ie,et]=s.useState(l||"tarefas");return e.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[!l&&e.jsx("div",{className:"flex items-center gap-1 rounded-2xl border border-border bg-muted/40 p-1 w-fit backdrop-blur-sm mb-5",children:[{id:"tarefas",label:"Tarefas",icon:Yt},{id:"subtarefas",label:"Subtarefas",icon:Ht}].map(t=>{const r=ie===t.id,n=t.icon;return e.jsxs("button",{onClick:()=>et(t.id),className:g("relative flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200",r?"text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[r&&e.jsx(Se.div,{layoutId:"tarefas-tab-bg",className:"absolute inset-0 rounded-xl gold-gradient shadow-sm",transition:{type:"spring",bounce:.15,duration:.5}}),e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),t.label]})]},t.id)})}),ie==="tarefas"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[e.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),e.jsx(Tt,{placeholder:"Buscar tarefas...",value:z,onChange:t=>Ee(t.target.value),className:"pl-9 w-full text-sm"})]}),e.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[e.jsxs(X,{onClick:He,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[e.jsx(Rt,{className:"mr-1.5 h-4 w-4"})," Nova Tarefa"]}),e.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[e.jsxs("button",{onClick:()=>xe("kanban"),className:g("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",$==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[e.jsx(lt,{className:"w-4 h-4"})," Kanban"]}),e.jsxs("button",{onClick:()=>xe("list"),className:g("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",$==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[e.jsx(Bt,{className:"w-4 h-4"})," Lista"]})]}),e.jsxs(Lt,{children:[e.jsx(It,{asChild:!0,children:e.jsx(X,{variant:"outline",size:"icon",className:"h-9 w-9",children:e.jsx(it,{className:"w-4 h-4"})})}),e.jsx(Et,{className:"w-56",align:"end",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Ce).map(t=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx(At,{htmlFor:`field-${t}`,className:"text-sm cursor-pointer",children:Ce[t]}),e.jsx(ce,{id:`field-${t}`,checked:U[t],onCheckedChange:()=>Ye(t)})]},t))]})})]})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),e.jsxs(E,{value:K,onValueChange:_e,children:[e.jsx(_,{className:"w-[130px] h-8 text-xs",children:e.jsx(O,{placeholder:"Todos Status"})}),e.jsxs(P,{children:[e.jsx(b,{value:"all",children:"Todos Status"}),Object.keys(ee).map(t=>e.jsx(b,{value:t,children:ee[t]},t))]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prioridade"}),e.jsxs(E,{value:V,onValueChange:Oe,children:[e.jsx(_,{className:"w-[110px] h-8 text-xs",children:e.jsx(O,{placeholder:"Todas"})}),e.jsxs(P,{children:[e.jsx(b,{value:"all",children:"Todas"}),Object.keys(de).map(t=>e.jsx(b,{value:t,children:de[t]},t))]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),e.jsxs(E,{value:G,onValueChange:t=>ze(t),children:[e.jsx(_,{className:"w-[110px] h-8 text-xs",children:e.jsx(O,{placeholder:"Todos"})}),e.jsx(P,{children:qt.map(t=>e.jsx(b,{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),e.jsxs(E,{value:Z,onValueChange:Ke,children:[e.jsx(_,{className:"w-[120px] h-8 text-xs",children:e.jsx(O,{placeholder:"Todos"})}),e.jsxs(P,{children:[e.jsx(b,{value:"all",children:"Todos"}),Ve.map(t=>e.jsx(b,{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),e.jsxs(E,{value:L,onValueChange:t=>Re(t),children:[e.jsx(_,{className:"w-[160px] h-8 text-xs",children:e.jsx(O,{})}),e.jsxs(P,{children:[e.jsx(b,{value:"deadline",children:"Sem ordenação"}),Gt.map(t=>e.jsx(b,{value:t.value,children:t.label},t.value))]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar canceladas",e.jsx(ce,{checked:ne,onCheckedChange:$e,className:"scale-75"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",e.jsx(ce,{checked:re,onCheckedChange:Be,className:"scale-75"})]})]})]})]}),e.jsx(at,{open:Le,onOpenChange:te,task:Ie,onSave:Ge,onCreateSubtask:A,onUpdateSubtask:T,onDeleteSubtask:u}),e.jsx(jt,{open:!!I,onOpenChange:t=>!t&&W(null),children:e.jsxs(vt,{children:[e.jsxs(St,{children:[e.jsx(Nt,{children:"Remover tarefa?"}),e.jsx(yt,{children:"Esta ação não pode ser desfeita. A tarefa será removida permanentemente do Airtable e do banco local."})]}),e.jsxs(Ct,{children:[e.jsx(kt,{children:"Cancelar"}),e.jsx(wt,{onClick:Ue,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),j?$==="list"?e.jsx(Pt,{}):e.jsx(Ft,{}):$==="list"?e.jsx("div",{className:"space-y-3",children:q.length===0?e.jsx(we,{children:e.jsx(Te,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):q.map(t=>e.jsx(ue,{task:t,cardFields:U,today:le,isExpanded:pe.has(t.id),onToggleExpand:fe,onToggleSubtask:be,onEdit:je,onDelete:W,showStatus:!0},t.id))}):e.jsxs(ot,{sensors:Ze,collisionDetection:ct,onDragStart:qe,onDragOver:We,onDragEnd:Je,onDragCancel:Qe,children:[e.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:e.jsx("div",{className:"flex gap-4",style:{minWidth:`${ve.length*280}px`},children:ve.map(t=>e.jsx("div",{className:"flex-1 min-w-[260px]",children:e.jsx(Jt,{status:t,tasks:Xe[t],isOver:Me===t&&Y!==null,cardFields:U,today:le,expandedTasks:pe,onToggleExpand:fe,onToggleSubtask:be,onEdit:je,onDelete:W})},t))})}),e.jsx(dt,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:ge?e.jsx("div",{className:"w-[260px]",children:e.jsx(ue,{task:ge,cardFields:U,today:le,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0})}):null})]})]}),ie==="subtarefas"&&e.jsx(ut,{tasks:d?i.filter(t=>t.projectId===d):i,projects:Ae,loading:j,onCreateSubtask:A,onUpdateSubtask:T,onDeleteSubtask:u})]})}const ys=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));export{Qt as A,Yt as C,Ht as L,ys as a};
