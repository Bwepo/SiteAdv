const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminCrmDashboard-qb2seiSG.js","assets/index-D6dUEwVM.js","assets/index-BC8JTJEe.css","assets/card-hiWcw4T0.js","assets/badge-hPtHAuQ0.js","assets/button-CqrjSUBM.js","assets/skeleton-C4PurLrl.js","assets/select-DumVMoRP.js","assets/index-6eDVRMC2.js","assets/index-BUC7zcm1.js","assets/index-A-Br7WSs.js","assets/chevron-up-BT0pB8kx.js","assets/check-Dbs75LJ-.js","assets/crmTypes-TL8sM6SY.js","assets/useQuery-BgQ3VoAB.js","assets/filter-BVXsjTMg.js","assets/folder-kanban-CK3J5Sou.js","assets/calendar-rgWIx0rS.js","assets/list-todo-BuHFncE-.js","assets/clock-C6g71H6b.js","assets/triangle-alert-DglezJk7.js","assets/circle-check-CL4m-naJ.js","assets/arrow-right-DeNl9XIK.js","assets/users-DEoQHrzu.js"])))=>i.map(i=>d[i]);
import{c as Pt,r as c,j as r,e as Y,h as qt,a4 as q,f as Dt,s as Za,m as vr,a5 as Qa}from"./index-D6dUEwVM.js";import{E as es,A as ts,m as Wr}from"./formatters-CFB_TpIS.js";import{P as ns,T as rs}from"./TarefaSheet-ChNBvuCQ.js";import{u as as,F as ss,a as rt,b as at,c as st,d as dt,e as ot,t as os}from"./form-BFbH8toK.js";import{S as is,b as ls,c as cs,d as ds,e as us,f as fs}from"./sheet-ClwBd6bS.js";import{I as Zt}from"./input-BHYxrH4A.js";import{B as Fe,b as xr}from"./button-CqrjSUBM.js";import{S as ae,a as se,b as oe,c as ie,d as P}from"./select-DumVMoRP.js";import{P as Qt,a as en,b as tn}from"./popover-CcEY57MW.js";import{g as Wn,S as it,h as nn,a as hs,b as ms,i as Yr,j as ft,T as zr,c as Ct}from"./crmTypes-TL8sM6SY.js";import{S as Xn}from"./search-DdQgf5bV.js";import{C as vs}from"./check-Dbs75LJ-.js";import{U as xs}from"./user-DE2YVzWv.js";import{T as qn}from"./trash-2-CHz537Aa.js";import{L as $r}from"./loader-circle-B9BRGvqU.js";import{o as ps,s as ut,e as gs}from"./types-C9wiu8_K.js";import{T as Hr,b as Vr,c as bs,K as ys}from"./CrmSkeletons-D2uLfblr.js";import{C as Tt,c as Et}from"./card-hiWcw4T0.js";import{t as Q,e as mt,s as rn,g as Rt,h as pr,m as js,i as ws,j as Je,k as Ns,l as Ds,n as Gn,o as Cs,p as Ss,f as lt,q as Kr}from"./format-Bo8wDDlG.js";import{C as ks}from"./chevron-left-CIR0J_TZ.js";import{C as _s}from"./chevron-right-CDxTp8xX.js";import{A as Ur,a as Xr,b as qr,c as Gr,d as Jr,e as Zr,f as Qr,g as ea}from"./alert-dialog-3LrsTf71.js";import{B as De,P as ta}from"./badge-hPtHAuQ0.js";import{S as St}from"./switch-D_i1dudb.js";import{C as vt}from"./calendar-rgWIx0rS.js";import{U as hn}from"./users-DEoQHrzu.js";import{F as mn}from"./folder-kanban-CK3J5Sou.js";import{L as na}from"./list-BsT08yid.js";import{P as Ms}from"./pencil-D8jHsiGO.js";import{L as Ts}from"./label-BK5bv0fM.js";import{S as Mn}from"./skeleton-C4PurLrl.js";import{U as Es}from"./TipTapEditor-BJqMvuJZ.js";import{a as ra,C as Rs}from"./circle-check-CL4m-naJ.js";import{C as Os}from"./clipboard-list-DHAtkQ19.js";import{F as Is}from"./filter-BVXsjTMg.js";import{C as aa,a as As}from"./circle-x-WLnMkljt.js";import{C as Ps}from"./clock-C6g71H6b.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Pt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Pt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Pt("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Pt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function Ne(e,t){const n=Q(e);return isNaN(t)?mt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ze(e,t){const n=Q(e);if(isNaN(t))return mt(e,NaN);if(!t)return n;const a=n.getDate(),s=mt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function Yn(e,t){const n=t*7;return Ne(e,n)}function Bs(e,t){return ze(e,t*12)}function Ws(e){let t;return e.forEach(function(n){const a=Q(n);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function Ys(e){let t;return e.forEach(n=>{const a=Q(n);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function _e(e,t){const n=rn(e),a=rn(t);return+n==+a}function Ot(e,t){const n=Q(e),a=Q(t),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function zs(e,t,n){const a=Rt(e,n),s=Rt(t,n),o=+a-pr(a),i=+s-pr(s);return Math.round((o-i)/js)}function Jn(e){const t=Q(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Me(e){const t=Q(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Zn(e,t){var l,d,u,h;const n=ws(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Q(e),o=s.getDay(),i=(o<a?-7:0)+6-(o-a);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function ia(e){return Zn(e,{weekStartsOn:1})}function $s(e){const t=Q(e),n=t.getFullYear(),a=t.getMonth(),s=mt(e,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Hs(e){return Math.trunc(+Q(e)/1e3)}function Vs(e){const t=Q(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Ks(e,t){return zs(Vs(e),Me(e),t)+1}function zn(e,t){const n=Q(e),a=Q(t);return n.getTime()>a.getTime()}function la(e,t){const n=Q(e),a=Q(t);return+n<+a}function Qn(e,t){const n=Q(e),a=Q(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Us(e,t){const n=Q(e),a=Q(t);return n.getFullYear()===a.getFullYear()}function Tn(e,t){return Ne(e,-t)}function En(e,t){const n=Q(e),a=n.getFullYear(),s=n.getDate(),o=mt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const i=$s(o);return n.setMonth(t,Math.min(s,i)),n}function br(e,t){const n=Q(e);return isNaN(+n)?mt(e,NaN):(n.setFullYear(t),n)}const Xs=ps({title:ut().trim().min(1,"Título obrigatório").max(200),parentTaskId:ut().min(1,"Tarefa-mãe obrigatória"),deadline:ut().optional(),status:gs(["A fazer","Em andamento","Concluído"]),assignee:ut().optional(),notes:ut().max(2e3).optional(),numeroProcesso:ut().max(25).optional()}),qs=Object.entries(it);function Gs({open:e,onOpenChange:t,subtask:n,tasks:a,onSave:s,onDelete:o}){const i=!n,[l,d]=c.useState(!1),[u,h]=c.useState(""),[m,g]=c.useState(!1),p=c.useMemo(()=>{if(!u.trim())return a;const x=u.toLowerCase();return a.filter(j=>j.title.toLowerCase().includes(x))},[a,u]),b=as({resolver:os(Xs),defaultValues:{title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:""}});c.useEffect(()=>{e&&(n?b.reset({title:n.title,parentTaskId:n.parentTaskId,deadline:n.dueDate??"",status:n.status,assignee:n.assignee??"",notes:n.notes??"",numeroProcesso:n.numeroProcesso??""}):b.reset({title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:"",numeroProcesso:""}))},[e,n]);const y=async x=>{d(!0);try{await s(x,i,n==null?void 0:n.id),t(!1)}catch(j){qt.error("Erro ao salvar subtarefa: "+j.message),console.error("Erro ao salvar subtarefa:",j)}finally{d(!1)}};return r.jsx(is,{open:e,onOpenChange:t,children:r.jsxs(ls,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[r.jsxs(cs,{className:"mb-6",children:[r.jsx(ds,{children:i?"Nova Subtarefa":"Editar Subtarefa"}),r.jsx(us,{children:i?"Preencha os dados e selecione a tarefa-mãe relacionada.":"Altere os campos e salve."})]}),r.jsx(ss,{...b,children:r.jsxs("form",{onSubmit:b.handleSubmit(y),className:"space-y-5",children:[r.jsx(rt,{control:b.control,name:"title",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Título *"}),r.jsx(dt,{children:r.jsx(Zt,{placeholder:"Ex: Enviar documento",...x})}),r.jsx(ot,{})]})}),r.jsx(rt,{control:b.control,name:"parentTaskId",render:({field:x})=>{var j;return r.jsxs(at,{className:"flex flex-col",children:[r.jsx(st,{children:"Tarefa-mãe *"}),r.jsxs(Qt,{open:m,onOpenChange:g,children:[r.jsx(en,{asChild:!0,children:r.jsx(dt,{children:r.jsxs(Fe,{variant:"outline",role:"combobox",className:Y("w-full justify-between font-normal",!x.value&&"text-muted-foreground"),children:[r.jsx("span",{className:"truncate",children:x.value?((j=a.find(N=>N.id===x.value))==null?void 0:j.title)??"Tarefa não encontrada":"Selecione a tarefa-mãe..."}),r.jsx(Ls,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),r.jsxs(tn,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[r.jsxs("div",{className:"flex items-center border-b px-3",children:[r.jsx(Xn,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx("input",{className:"flex h-10 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",placeholder:"Buscar tarefa...",value:u,onChange:N=>h(N.target.value)})]}),r.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:p.length===0?r.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Nenhuma tarefa encontrada."}):p.map(N=>r.jsxs("button",{type:"button",className:Y("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",x.value===N.id&&"bg-accent"),onClick:()=>{x.onChange(N.id),g(!1),h("")},children:[r.jsx(vs,{className:Y("mr-2 h-4 w-4",x.value===N.id?"opacity-100":"opacity-0")}),r.jsx("span",{className:"truncate",children:N.title})]},N.id))})]})]}),r.jsx(ot,{})]})}}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(rt,{control:b.control,name:"deadline",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Prazo"}),r.jsx(dt,{children:r.jsx(Zt,{type:"date",...x})}),r.jsx(ot,{})]})}),r.jsx(rt,{control:b.control,name:"status",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Status"}),r.jsxs(ae,{onValueChange:x.onChange,value:x.value,children:[r.jsx(dt,{children:r.jsx(se,{children:r.jsx(oe,{})})}),r.jsx(ie,{children:qs.map(([j,N])=>r.jsx(P,{value:j,children:N},j))})]}),r.jsx(ot,{})]})})]}),r.jsx(rt,{control:b.control,name:"assignee",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Responsável"}),r.jsxs(ae,{onValueChange:j=>x.onChange(j==="_none_"?"":j),value:x.value||"_none_",children:[r.jsx(dt,{children:r.jsx(se,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xs,{className:"w-3.5 h-3.5 text-muted-foreground"}),r.jsx(oe,{placeholder:"Responsável..."})]})})}),r.jsxs(ie,{children:[r.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Wn.map(j=>r.jsx(P,{value:j,children:j},j))]})]}),r.jsx(ot,{})]})}),r.jsx(rt,{control:b.control,name:"numeroProcesso",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Processo Judicial"}),r.jsx(ns,{value:x.value??"",onValueChange:x.onChange}),r.jsx(ot,{})]})}),r.jsx(rt,{control:b.control,name:"notes",render:({field:x})=>r.jsxs(at,{children:[r.jsx(st,{children:"Observações"}),r.jsx(dt,{children:r.jsx(es,{value:x.value??"",onChange:x.onChange,placeholder:"Observações...",modalTitle:"Editar Observações da Subtarefa"})}),r.jsx(ot,{})]})}),!i&&(n==null?void 0:n.id)&&r.jsx(ts,{folder:`subtarefas/${n.id}`}),r.jsxs(fs,{className:"gap-2 flex-col sm:flex-row",children:[!i&&n&&o&&r.jsxs(Fe,{type:"button",variant:"destructive",className:"sm:mr-auto",onClick:()=>{o(n.id),t(!1)},disabled:l,children:[r.jsx(qn,{className:"w-4 h-4 mr-2"})," Excluir"]}),r.jsxs(Fe,{type:"submit",disabled:l,className:"flex-1",children:[l&&r.jsx($r,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Criar Subtarefa":"Salvar Alterações"]})]})]})})]})})}var R=function(){return R=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},R.apply(this,arguments)};function Js(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function ca(e,t,n){for(var a=0,s=t.length,o;a<s;a++)(o||!(a in t))&&(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}function Lt(e){return e.mode==="multiple"}function Ft(e){return e.mode==="range"}function vn(e){return e.mode==="single"}var Zs={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Qs(e,t){return lt(e,"LLLL y",t)}function eo(e,t){return lt(e,"d",t)}function to(e,t){return lt(e,"LLLL",t)}function no(e){return"".concat(e)}function ro(e,t){return lt(e,"cccccc",t)}function ao(e,t){return lt(e,"yyyy",t)}var so=Object.freeze({__proto__:null,formatCaption:Qs,formatDay:eo,formatMonthCaption:to,formatWeekNumber:no,formatWeekdayName:ro,formatYearCaption:ao}),oo=function(e,t,n){return lt(e,"do MMMM (EEEE)",n)},io=function(){return"Month: "},lo=function(){return"Go to next month"},co=function(){return"Go to previous month"},uo=function(e,t){return lt(e,"cccc",t)},fo=function(e){return"Week n. ".concat(e)},ho=function(){return"Year: "},mo=Object.freeze({__proto__:null,labelDay:oo,labelMonthDropdown:io,labelNext:lo,labelPrevious:co,labelWeekNumber:fo,labelWeekday:uo,labelYearDropdown:ho});function vo(){var e="buttons",t=Zs,n=Ns,a={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:so,labels:mo,locale:n,modifiersClassNames:a,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function xo(e){var t=e.fromYear,n=e.toYear,a=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return a?o=Me(a):t&&(o=new Date(t,0,1)),s?i=Jn(s):n&&(i=new Date(n,11,31)),{fromDate:o?rn(o):void 0,toDate:i?rn(i):void 0}}var da=c.createContext(void 0);function po(e){var t,n=e.initialProps,a=vo(),s=xo(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(vn(n)||Lt(n)||Ft(n))&&(d=n.onSelect);var u=R(R(R({},a),n),{captionLayout:l,classNames:R(R({},a.classNames),n.classNames),components:R({},n.components),formatters:R(R({},a.formatters),n.formatters),fromDate:o,labels:R(R({},a.labels),n.labels),mode:n.mode||a.mode,modifiers:R(R({},a.modifiers),n.modifiers),modifiersClassNames:R(R({},a.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:R(R({},a.styles),n.styles),toDate:i});return r.jsx(da.Provider,{value:u,children:e.children})}function K(){var e=c.useContext(da);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function ua(e){var t=K(),n=t.locale,a=t.classNames,s=t.styles,o=t.formatters.formatCaption;return r.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function go(e){return r.jsx("svg",R({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fa(e){var t,n,a=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,u=K(),h=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:go;return r.jsxs("div",{className:l,style:d,children:[r.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:a,children:o}),r.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,r.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function bo(e){var t,n=K(),a=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,d=n.classNames,u=n.components,h=n.labels.labelMonthDropdown;if(!a)return r.jsx(r.Fragment,{});if(!s)return r.jsx(r.Fragment,{});var m=[];if(Us(a,s))for(var g=Me(a),p=a.getMonth();p<=s.getMonth();p++)m.push(En(g,p));else for(var g=Me(new Date),p=0;p<=11;p++)m.push(En(g,p));var b=function(x){var j=Number(x.target.value),N=En(Me(e.displayMonth),j);e.onChange(N)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:fa;return r.jsx(y,{name:"months","aria-label":h(),className:d.dropdown_month,style:o.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(x){return r.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function yo(e){var t,n=e.displayMonth,a=K(),s=a.fromDate,o=a.toDate,i=a.locale,l=a.styles,d=a.classNames,u=a.components,h=a.formatters.formatYearCaption,m=a.labels.labelYearDropdown,g=[];if(!s)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});for(var p=s.getFullYear(),b=o.getFullYear(),y=p;y<=b;y++)g.push(br(Ds(new Date),y));var x=function(N){var E=br(Me(n),Number(N.target.value));e.onChange(E)},j=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:fa;return r.jsx(j,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:h(n,{locale:i}),children:g.map(function(N){return r.jsx("option",{value:N.getFullYear(),children:h(N,{locale:i})},N.getFullYear())})})}function jo(e,t){var n=c.useState(e),a=n[0],s=n[1],o=t===void 0?a:t;return[o,s]}function wo(e){var t=e.month,n=e.defaultMonth,a=e.today,s=t||n||a||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Ot(o,s)<0){var u=-1*(d-1);s=ze(o,u)}return i&&Ot(s,i)<0&&(s=i),Me(s)}function No(){var e=K(),t=wo(e),n=jo(t,e.month),a=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var d=Me(i);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[a,o]}function Do(e,t){for(var n=t.reverseMonths,a=t.numberOfMonths,s=Me(e),o=Me(ze(s,a)),i=Ot(o,s),l=[],d=0;d<i;d++){var u=ze(s,d);l.push(u)}return n&&(l=l.reverse()),l}function Co(e,t){if(!t.disableNavigation){var n=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=a?o:1,l=Me(e);if(!n)return ze(l,i);var d=Ot(n,e);if(!(d<o))return ze(l,i)}}function So(e,t){if(!t.disableNavigation){var n=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=a?o:1,l=Me(e);if(!n)return ze(l,-i);var d=Ot(l,n);if(!(d<=0))return ze(l,-i)}}var ha=c.createContext(void 0);function ko(e){var t=K(),n=No(),a=n[0],s=n[1],o=Do(a,t),i=Co(a,t),l=So(a,t),d=function(m){return o.some(function(g){return Qn(m,g)})},u=function(m,g){d(m)||(g&&la(m,g)?s(ze(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:a,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:d};return r.jsx(ha.Provider,{value:h,children:e.children})}function Bt(){var e=c.useContext(ha);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function yr(e){var t,n=K(),a=n.classNames,s=n.styles,o=n.components,i=Bt().goToMonth,l=function(h){i(ze(h,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:ua,u=r.jsx(d,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[r.jsx("div",{className:a.vhidden,children:u}),r.jsx(bo,{onChange:l,displayMonth:e.displayMonth}),r.jsx(yo,{onChange:l,displayMonth:e.displayMonth})]})}function _o(e){return r.jsx("svg",R({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mo(e){return r.jsx("svg",R({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var an=c.forwardRef(function(e,t){var n=K(),a=n.classNames,s=n.styles,o=[a.button_reset,a.button];e.className&&o.push(e.className);var i=o.join(" "),l=R(R({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),r.jsx("button",R({},e,{ref:t,type:"button",className:i,style:l}))});function To(e){var t,n,a=K(),s=a.dir,o=a.locale,i=a.classNames,l=a.styles,d=a.labels,u=d.labelPrevious,h=d.labelNext,m=a.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var g=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),x=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:Mo,j=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:_o;return r.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(an,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?r.jsx(x,{className:i.nav_icon,style:l.nav_icon}):r.jsx(j,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(an,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?r.jsx(j,{className:i.nav_icon,style:l.nav_icon}):r.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function jr(e){var t=K().numberOfMonths,n=Bt(),a=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(b){return Qn(e.displayMonth,b)}),d=l===0,u=l===i.length-1,h=t>1&&(d||!u),m=t>1&&(u||!d),g=function(){a&&o(a)},p=function(){s&&o(s)};return r.jsx(To,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:a,onPreviousClick:g,onNextClick:p})}function Eo(e){var t,n=K(),a=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:ua,u;return s?u=r.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=r.jsx(yr,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=r.jsxs(r.Fragment,{children:[r.jsx(yr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(jr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=r.jsxs(r.Fragment,{children:[r.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(jr,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:a.caption,style:o.caption,children:u})}function Ro(e){var t=K(),n=t.footer,a=t.styles,s=t.classNames.tfoot;return n?r.jsx("tfoot",{className:s,style:a.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function Oo(e,t,n){for(var a=n?Gn(new Date):Rt(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=Ne(a,o);s.push(i)}return s}function Io(){var e=K(),t=e.classNames,n=e.styles,a=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=Oo(s,o,i);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[a&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(h,m){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Ao(){var e,t=K(),n=t.classNames,a=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Io;return r.jsx("thead",{style:a.head,className:n.head,children:r.jsx(o,{})})}function Po(e){var t=K(),n=t.locale,a=t.formatters.formatDay;return r.jsx(r.Fragment,{children:a(e.date,{locale:n})})}var er=c.createContext(void 0);function Lo(e){if(!Lt(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(er.Provider,{value:t,children:e.children})}return r.jsx(Fo,{initialProps:e.initialProps,children:e.children})}function Fo(e){var t=e.initialProps,n=e.children,a=t.selected,s=t.min,o=t.max,i=function(u,h,m){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,u,h,m);var b=!!(h.selected&&s&&(a==null?void 0:a.length)===s);if(!b){var y=!!(!h.selected&&o&&(a==null?void 0:a.length)===o);if(!y){var x=a?ca([],a):[];if(h.selected){var j=x.findIndex(function(N){return _e(u,N)});x.splice(j,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,h,m)}}},l={disabled:[]};a&&l.disabled.push(function(u){var h=o&&a.length>o-1,m=a.some(function(g){return _e(g,u)});return!!(h&&!m)});var d={selected:a,onDayClick:i,modifiers:l};return r.jsx(er.Provider,{value:d,children:n})}function tr(){var e=c.useContext(er);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Bo(e,t){var n=t||{},a=n.from,s=n.to;return a&&s?_e(s,e)&&_e(a,e)?void 0:_e(s,e)?{from:s,to:void 0}:_e(a,e)?void 0:zn(a,e)?{from:e,to:s}:{from:a,to:e}:s?zn(e,s)?{from:s,to:e}:{from:e,to:s}:a?la(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var nr=c.createContext(void 0);function Wo(e){if(!Ft(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(nr.Provider,{value:t,children:e.children})}return r.jsx(Yo,{initialProps:e.initialProps,children:e.children})}function Yo(e){var t=e.initialProps,n=e.children,a=t.selected,s=a||{},o=s.from,i=s.to,l=t.min,d=t.max,u=function(p,b,y){var x,j;(x=t.onDayClick)===null||x===void 0||x.call(t,p,b,y);var N=Bo(p,a);(j=t.onSelect)===null||j===void 0||j.call(t,N,p,b,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],_e(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:Tn(o,l-1),before:Ne(o,l-1)}),o&&i&&h.disabled.push({after:o,before:Ne(o,l-1)}),!o&&i&&h.disabled.push({after:Tn(i,l-1),before:Ne(i,l-1)})),d){if(o&&!i&&(h.disabled.push({before:Ne(o,-d+1)}),h.disabled.push({after:Ne(o,d-1)})),o&&i){var m=Je(i,o)+1,g=d-m;h.disabled.push({before:Tn(o,g)}),h.disabled.push({after:Ne(i,g)})}!o&&i&&(h.disabled.push({before:Ne(i,-d+1)}),h.disabled.push({after:Ne(i,d-1)}))}return r.jsx(nr.Provider,{value:{selected:a,onDayClick:u,modifiers:h},children:n})}function rr(){var e=c.useContext(nr);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gt(e){return Array.isArray(e)?ca([],e):e!==void 0?[e]:[]}function zo(e){var t={};return Object.entries(e).forEach(function(n){var a=n[0],s=n[1];t[a]=Gt(s)}),t}var $e;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($e||($e={}));var $o=$e.Selected,Ge=$e.Disabled,Ho=$e.Hidden,Vo=$e.Today,Rn=$e.RangeEnd,On=$e.RangeMiddle,In=$e.RangeStart,Ko=$e.Outside;function Uo(e,t,n){var a,s=(a={},a[$o]=Gt(e.selected),a[Ge]=Gt(e.disabled),a[Ho]=Gt(e.hidden),a[Vo]=[e.today],a[Rn]=[],a[On]=[],a[In]=[],a[Ko]=[],a);return e.fromDate&&s[Ge].push({before:e.fromDate}),e.toDate&&s[Ge].push({after:e.toDate}),Lt(e)?s[Ge]=s[Ge].concat(t.modifiers[Ge]):Ft(e)&&(s[Ge]=s[Ge].concat(n.modifiers[Ge]),s[In]=n.modifiers[In],s[On]=n.modifiers[On],s[Rn]=n.modifiers[Rn]),s}var ma=c.createContext(void 0);function Xo(e){var t=K(),n=tr(),a=rr(),s=Uo(t,n,a),o=zo(t.modifiers),i=R(R({},s),o);return r.jsx(ma.Provider,{value:i,children:e.children})}function va(){var e=c.useContext(ma);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function qo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Go(e){return!!(e&&typeof e=="object"&&"from"in e)}function Jo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Zo(e){return!!(e&&typeof e=="object"&&"before"in e)}function Qo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ei(e,t){var n,a=t.from,s=t.to;if(a&&s){var o=Je(s,a)<0;o&&(n=[s,a],a=n[0],s=n[1]);var i=Je(e,a)>=0&&Je(s,e)>=0;return i}return s?_e(s,e):a?_e(a,e):!1}function ti(e){return Kr(e)}function ni(e){return Array.isArray(e)&&e.every(Kr)}function ri(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(ti(n))return _e(e,n);if(ni(n))return n.includes(e);if(Go(n))return ei(e,n);if(Qo(n))return n.dayOfWeek.includes(e.getDay());if(qo(n)){var a=Je(n.before,e),s=Je(n.after,e),o=a>0,i=s<0,l=zn(n.before,n.after);return l?i&&o:o||i}return Jo(n)?Je(e,n.after)>0:Zo(n)?Je(n.before,e)>0:typeof n=="function"?n(e):!1})}function ar(e,t,n){var a=Object.keys(t).reduce(function(o,i){var l=t[i];return ri(e,l)&&o.push(i),o},[]),s={};return a.forEach(function(o){return s[o]=!0}),n&&!Qn(e,n)&&(s.outside=!0),s}function ai(e,t){for(var n=Me(e[0]),a=Jn(e[e.length-1]),s,o,i=n;i<=a;){var l=ar(i,t),d=!l.disabled&&!l.hidden;if(!d){i=Ne(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=Ne(i,1)}return o||s}var si=365;function xa(e,t){var n=t.moveBy,a=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,g={day:Ne,week:Yn,month:ze,year:Bs,startOfWeek:function(x){return s.ISOWeek?Gn(x):Rt(x,{locale:m,weekStartsOn:d})},endOfWeek:function(x){return s.ISOWeek?ia(x):Zn(x,{locale:m,weekStartsOn:d})}},p=g[n](e,a==="after"?1:-1);a==="before"&&u?p=Ws([u,p]):a==="after"&&h&&(p=Ys([h,p]));var b=!0;if(o){var y=ar(p,o);b=!y.disabled&&!y.hidden}return b?p:l.count>si?l.lastFocused:xa(p,{moveBy:n,direction:a,context:s,modifiers:o,retry:R(R({},l),{count:l.count+1})})}var pa=c.createContext(void 0);function oi(e){var t=Bt(),n=va(),a=c.useState(),s=a[0],o=a[1],i=c.useState(),l=i[0],d=i[1],u=ai(t.displayMonths,n),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){d(s),o(void 0)},g=function(x){o(x)},p=K(),b=function(x,j){if(s){var N=xa(s,{moveBy:x,direction:j,context:p,modifiers:n});_e(s,N)||(t.goToDate(N,s),g(N))}},y={focusedDay:s,focusTarget:h,blur:m,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return r.jsx(pa.Provider,{value:y,children:e.children})}function sr(){var e=c.useContext(pa);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function ii(e,t){var n=va(),a=ar(e,n,t);return a}var or=c.createContext(void 0);function li(e){if(!vn(e.initialProps)){var t={selected:void 0};return r.jsx(or.Provider,{value:t,children:e.children})}return r.jsx(ci,{initialProps:e.initialProps,children:e.children})}function ci(e){var t=e.initialProps,n=e.children,a=function(o,i,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:a};return r.jsx(or.Provider,{value:s,children:n})}function ga(){var e=c.useContext(or);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function di(e,t){var n=K(),a=ga(),s=tr(),o=rr(),i=sr(),l=i.focusDayAfter,d=i.focusDayBefore,u=i.focusWeekAfter,h=i.focusWeekBefore,m=i.blur,g=i.focus,p=i.focusMonthBefore,b=i.focusMonthAfter,y=i.focusYearBefore,x=i.focusYearAfter,j=i.focusStartOfWeek,N=i.focusEndOfWeek,E=function(C){var _,U,Te,pe;vn(n)?(_=a.onDayClick)===null||_===void 0||_.call(a,e,t,C):Lt(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,t,C):Ft(n)?(Te=o.onDayClick)===null||Te===void 0||Te.call(o,e,t,C):(pe=n.onDayClick)===null||pe===void 0||pe.call(n,e,t,C)},k=function(C){var _;g(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,C)},T=function(C){var _;m(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,C)},O=function(C){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,C)},I=function(C){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,C)},A=function(C){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,C)},B=function(C){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,C)},H=function(C){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,C)},F=function(C){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,C)},ne=function(C){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,C)},re=function(C){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,C)},le=function(C){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,C)},fe=function(C){var _;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():d();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?d():l();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),u();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),h();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?y():p();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?x():b();break;case"Home":C.preventDefault(),C.stopPropagation(),j();break;case"End":C.preventDefault(),C.stopPropagation(),N();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,C)},Be={onClick:E,onFocus:k,onBlur:T,onKeyDown:fe,onKeyUp:le,onMouseEnter:O,onMouseLeave:I,onPointerEnter:A,onPointerLeave:B,onTouchCancel:H,onTouchEnd:F,onTouchMove:ne,onTouchStart:re};return Be}function ui(){var e=K(),t=ga(),n=tr(),a=rr(),s=vn(e)?t.selected:Lt(e)?n.selected:Ft(e)?a.selected:void 0;return s}function fi(e){return Object.values($e).includes(e)}function hi(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)n.push(s);else if(fi(a)){var o=e.classNames["day_".concat(a)];o&&n.push(o)}}),n}function mi(e,t){var n=R({},e.styles.day);return Object.keys(t).forEach(function(a){var s;n=R(R({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),n}function vi(e,t,n){var a,s,o,i=K(),l=sr(),d=ii(e,t),u=di(e,d),h=ui(),m=!!(i.onDayClick||i.mode!=="default");c.useEffect(function(){var O;d.outside||l.focusedDay&&m&&_e(l.focusedDay,e)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,e,n,m,d.outside]);var g=hi(i,d).join(" "),p=mi(i,d),b=!!(d.outside&&!i.showOutsideDays||d.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Po,x=r.jsx(y,{date:e,displayMonth:t,activeModifiers:d}),j={style:p,className:g,children:x,role:"gridcell"},N=l.focusTarget&&_e(l.focusTarget,e)&&!d.outside,E=l.focusedDay&&_e(l.focusedDay,e),k=R(R(R({},j),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=E||N?0:-1,a)),u),T={isButton:m,isHidden:b,activeModifiers:d,selectedDays:h,buttonProps:k,divProps:j};return T}function xi(e){var t=c.useRef(null),n=vi(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(an,R({name:"day",ref:t},n.buttonProps)):r.jsx("div",R({},n.divProps))}function pi(e){var t=e.number,n=e.dates,a=K(),s=a.onWeekNumberClick,o=a.styles,i=a.classNames,l=a.locale,d=a.labels.labelWeekNumber,u=a.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return r.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var m=d(Number(t),{locale:l}),g=function(p){s(t,n,p)};return r.jsx(an,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:g,children:h})}function gi(e){var t,n,a=K(),s=a.styles,o=a.classNames,i=a.showWeekNumber,l=a.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:xi,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:pi,h;return i&&(h=r.jsx("td",{className:o.cell,style:s.cell,children:r.jsx(u,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:o.row,style:s.row,children:[h,e.dates.map(function(m){return r.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:r.jsx(d,{displayMonth:e.displayMonth,date:m})},Hs(m))})]})}function wr(e,t,n){for(var a=n!=null&&n.ISOWeek?ia(t):Zn(t,n),s=n!=null&&n.ISOWeek?Gn(e):Rt(e,n),o=Je(a,s),i=[],l=0;l<=o;l++)i.push(Ne(s,l));var d=i.reduce(function(u,h){var m=n!=null&&n.ISOWeek?Cs(h):Ss(h,n),g=u.find(function(p){return p.weekNumber===m});return g?(g.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return d}function bi(e,t){var n=wr(Me(e),Jn(e),t);if(t!=null&&t.useFixedWeeks){var a=Ks(e,t);if(a<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Yn(o,6-a),l=wr(Yn(o,1),i,t);n.push.apply(n,l)}}return n}function yi(e){var t,n,a,s=K(),o=s.locale,i=s.classNames,l=s.styles,d=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,g=s.firstWeekContainsDate,p=s.ISOWeek,b=bi(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:g}),y=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Ao,x=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:gi,j=(a=h==null?void 0:h.Footer)!==null&&a!==void 0?a:Ro;return r.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&r.jsx(y,{}),r.jsx("tbody",{className:i.tbody,style:l.tbody,children:b.map(function(N){return r.jsx(x,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),r.jsx(j,{displayMonth:e.displayMonth})]})}function ji(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wi=ji()?c.useLayoutEffect:c.useEffect,An=!1,Ni=0;function Nr(){return"react-day-picker-".concat(++Ni)}function Di(e){var t,n=e??(An?Nr():null),a=c.useState(n),s=a[0],o=a[1];return wi(function(){s===null&&o(Nr())},[]),c.useEffect(function(){An===!1&&(An=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Ci(e){var t,n,a=K(),s=a.dir,o=a.classNames,i=a.styles,l=a.components,d=Bt().displayMonths,u=Di(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),h=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],g=i.month,p=e.displayIndex===0,b=e.displayIndex===d.length-1,y=!p&&!b;s==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(m.push(o.caption_start),g=R(R({},g),i.caption_start)),b&&(m.push(o.caption_end),g=R(R({},g),i.caption_end)),y&&(m.push(o.caption_between),g=R(R({},g),i.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Eo;return r.jsxs("div",{className:m.join(" "),style:g,children:[r.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(yi,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Si(e){var t=K(),n=t.classNames,a=t.styles;return r.jsx("div",{className:n.months,style:a.months,children:e.children})}function ki(e){var t,n,a=e.initialProps,s=K(),o=sr(),i=Bt(),l=c.useState(!1),d=l[0],u=l[1];c.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=R(R({},s.styles.root),s.style),g=Object.keys(a).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var x;return R(R({},b),(x={},x[y]=a[y],x))},{}),p=(n=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Si;return r.jsx("div",R({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},g,{children:r.jsx(p,{children:i.displayMonths.map(function(b,y){return r.jsx(Ci,{displayIndex:y,displayMonth:b},y)})})}))}function _i(e){var t=e.children,n=Js(e,["children"]);return r.jsx(po,{initialProps:n,children:r.jsx(ko,{children:r.jsx(li,{initialProps:n,children:r.jsx(Lo,{initialProps:n,children:r.jsx(Wo,{initialProps:n,children:r.jsx(Xo,{children:r.jsx(oi,{children:t})})})})})})})}function Mi(e){return r.jsx(_i,R({},e,{children:r.jsx(ki,{initialProps:e})}))}function ir({className:e,classNames:t,showOutsideDays:n=!0,...a}){return r.jsx(Mi,{showOutsideDays:n,className:Y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Y(xr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Y(xr({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>r.jsx(ks,{className:"h-4 w-4"}),IconRight:({...s})=>r.jsx(_s,{className:"h-4 w-4"})},...a})}ir.displayName="Calendar";function Ti(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>a=>{t.forEach(s=>s(a))},t)}const xn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xt(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lr(e){return"nodeType"in e}function Ce(e){var t,n;return e?xt(e)?e:lr(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cr(e){const{Document:t}=Ce(e);return e instanceof t}function Wt(e){return xt(e)?!1:e instanceof Ce(e).HTMLElement}function ba(e){return e instanceof Ce(e).SVGElement}function pt(e){return e?xt(e)?e.document:lr(e)?cr(e)?e:Wt(e)||ba(e)?e.ownerDocument:document:document:document}const He=xn?c.useLayoutEffect:c.useEffect;function pn(e){const t=c.useRef(e);return He(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t.current==null?void 0:t.current(...a)},[])}function Ei(){const e=c.useRef(null),t=c.useCallback((a,s)=>{e.current=setInterval(a,s)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function It(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return He(()=>{n.current!==e&&(n.current=e)},t),n}function Yt(e,t){const n=c.useRef();return c.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...t])}function sn(e){const t=pn(e),n=c.useRef(null),a=c.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,a]}function on(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Pn={};function zt(e,t){return c.useMemo(()=>{if(t)return t;const n=Pn[e]==null?0:Pn[e]+1;return Pn[e]=n,e+"-"+n},[e,t])}function ya(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.reduce((o,i)=>{const l=Object.entries(i);for(const[d,u]of l){const h=o[d];h!=null&&(o[d]=h+e*u)}return o},{...t})}}const ht=ya(1),ln=ya(-1);function Ri(e){return"clientX"in e&&"clientY"in e}function gn(e){if(!e)return!1;const{KeyboardEvent:t}=Ce(e.target);return t&&e instanceof t}function Oi(e){if(!e)return!1;const{TouchEvent:t}=Ce(e.target);return t&&e instanceof t}function cn(e){if(Oi(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ri(e)?{x:e.clientX,y:e.clientY}:null}const Ze=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ze.Translate.toString(e),Ze.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}}),Dr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ii(e){return e.matches(Dr)?e:e.querySelector(Dr)}const Ai={display:"none"};function Pi(e){let{id:t,value:n}=e;return q.createElement("div",{id:t,style:Ai},n)}function Li(e){let{id:t,announcement:n,ariaLiveType:a="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return q.createElement("div",{id:t,style:s,role:"status","aria-live":a,"aria-atomic":!0},n)}function Fi(){const[e,t]=c.useState("");return{announce:c.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const ja=c.createContext(null);function Bi(e){const t=c.useContext(ja);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Wi(){const[e]=c.useState(()=>new Set),t=c.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[c.useCallback(a=>{let{type:s,event:o}=a;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,o)})},[e]),t]}const Yi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},zi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $i(e){let{announcements:t=zi,container:n,hiddenTextDescribedById:a,screenReaderInstructions:s=Yi}=e;const{announce:o,announcement:i}=Fi(),l=zt("DndLiveRegion"),[d,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Bi(c.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:p}=m;t.onDragMove&&o(t.onDragMove({active:g,over:p}))},onDragOver(m){let{active:g,over:p}=m;o(t.onDragOver({active:g,over:p}))},onDragEnd(m){let{active:g,over:p}=m;o(t.onDragEnd({active:g,over:p}))},onDragCancel(m){let{active:g,over:p}=m;o(t.onDragCancel({active:g,over:p}))}}),[o,t])),!d)return null;const h=q.createElement(q.Fragment,null,q.createElement(Pi,{id:a,value:s.draggable}),q.createElement(Li,{id:l,announcement:i}));return n?Dt.createPortal(h,n):h}var ue;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ue||(ue={}));function dn(){}function wa(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Na(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ve=Object.freeze({x:0,y:0});function Hi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Vi(e,t){const n=cn(e);if(!n)return"0 0";const a={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Ki(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return n-a}function Ui(e,t){let{data:{value:n}}=e,{data:{value:a}}=t;return a-n}function Cr(e){let{left:t,top:n,height:a,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+a},{x:t+s,y:n+a}]}function Xi(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const Da=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=Cr(t),o=[];for(const i of a){const{id:l}=i,d=n.get(l);if(d){const u=Cr(d),h=s.reduce((g,p,b)=>g+Hi(u[b],p),0),m=Number((h/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:m}})}}return o.sort(Ki)};function qi(e,t){const n=Math.max(t.top,e.top),a=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-a,l=o-n;if(a<s&&n<o){const d=t.width*t.height,u=e.width*e.height,h=i*l,m=h/(d+u-h);return Number(m.toFixed(4))}return 0}const Gi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:a}=e;const s=[];for(const o of a){const{id:i}=o,l=n.get(i);if(l){const d=qi(l,t);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(Ui)};function Ji(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Ca(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ve}function Zi(e){return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Qi=Zi(1);function Sa(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function el(e,t,n){const a=Sa(t);if(!a)return e;const{scaleX:s,scaleY:o,x:i,y:l}=a,d=e.left-i-(1-s)*parseFloat(n),u=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:h,height:m,top:u,right:d+h,bottom:u+m,left:d}}const tl={ignoreTransform:!1};function gt(e,t){t===void 0&&(t=tl);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=Ce(e).getComputedStyle(e);u&&(n=el(n,u,h))}const{top:a,left:s,width:o,height:i,bottom:l,right:d}=n;return{top:a,left:s,width:o,height:i,bottom:l,right:d}}function Sr(e){return gt(e,{ignoreTransform:!0})}function nl(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rl(e,t){return t===void 0&&(t=Ce(e).getComputedStyle(e)),t.position==="fixed"}function al(e,t){t===void 0&&(t=Ce(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function dr(e,t){const n=[];function a(s){if(t!=null&&n.length>=t||!s)return n;if(cr(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Wt(s)||ba(s)||n.includes(s))return n;const o=Ce(e).getComputedStyle(s);return s!==e&&al(s,o)&&n.push(s),rl(s,o)?n:a(s.parentNode)}return e?a(e):n}function ka(e){const[t]=dr(e,1);return t??null}function Ln(e){return!xn||!e?null:xt(e)?e:lr(e)?cr(e)||e===pt(e).scrollingElement?window:Wt(e)?e:null:null}function _a(e){return xt(e)?e.scrollX:e.scrollLeft}function Ma(e){return xt(e)?e.scrollY:e.scrollTop}function $n(e){return{x:_a(e),y:Ma(e)}}var ve;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ve||(ve={}));function Ta(e){return!xn||!e?!1:e===document.scrollingElement}function Ea(e){const t={x:0,y:0},n=Ta(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:s,isLeft:o,isBottom:i,isRight:l,maxScroll:a,minScroll:t}}const sl={x:.2,y:.2};function ol(e,t,n,a,s){let{top:o,left:i,right:l,bottom:d}=n;a===void 0&&(a=10),s===void 0&&(s=sl);const{isTop:u,isBottom:h,isLeft:m,isRight:g}=Ea(e),p={x:0,y:0},b={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+y.height?(p.y=ve.Backward,b.y=a*Math.abs((t.top+y.height-o)/y.height)):!h&&d>=t.bottom-y.height&&(p.y=ve.Forward,b.y=a*Math.abs((t.bottom-y.height-d)/y.height)),!g&&l>=t.right-y.width?(p.x=ve.Forward,b.x=a*Math.abs((t.right-y.width-l)/y.width)):!m&&i<=t.left+y.width&&(p.x=ve.Backward,b.x=a*Math.abs((t.left+y.width-i)/y.width)),{direction:p,speed:b}}function il(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:a,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:a,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ra(e){return e.reduce((t,n)=>ht(t,$n(n)),Ve)}function ll(e){return e.reduce((t,n)=>t+_a(n),0)}function cl(e){return e.reduce((t,n)=>t+Ma(n),0)}function Oa(e,t){if(t===void 0&&(t=gt),!e)return;const{top:n,left:a,bottom:s,right:o}=t(e);ka(e)&&(s<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const dl=[["x",["left","right"],ll],["y",["top","bottom"],cl]];class ur{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=dr(n),s=Ra(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of dl)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=l(a),h=s[o]-u;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=t}add(t,n,a){var s;(s=this.target)==null||s.addEventListener(t,n,a),this.listeners.push([t,n,a])}}function ul(e){const{EventTarget:t}=Ce(e);return e instanceof t?e:pt(e)}function Fn(e,t){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+a**2)>t:"x"in t&&"y"in t?n>t.x&&a>t.y:"x"in t?n>t.x:"y"in t?a>t.y:!1}var Le;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Le||(Le={}));function kr(e){e.preventDefault()}function fl(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));const Ia={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter,$.Tab]},hl=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class Aa{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new kt(pt(n)),this.windowListeners=new kt(Ce(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Le.Resize,this.handleCancel),this.windowListeners.add(Le.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Le.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,a=t.node.current;a&&Oa(a),n(Ve)}handleKeyDown(t){if(gn(t)){const{active:n,context:a,options:s}=this.props,{keyboardCodes:o=Ia,coordinateGetter:i=hl,scrollBehavior:l="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=a.current,h=u?{x:u.left,y:u.top}:Ve;this.referenceCoordinates||(this.referenceCoordinates=h);const m=i(t,{active:n,context:a.current,currentCoordinates:h});if(m){const g=ln(m,h),p={x:0,y:0},{scrollableAncestors:b}=a.current;for(const y of b){const x=t.code,{isTop:j,isRight:N,isLeft:E,isBottom:k,maxScroll:T,minScroll:O}=Ea(y),I=il(y),A={x:Math.min(x===$.Right?I.right-I.width/2:I.right,Math.max(x===$.Right?I.left:I.left+I.width/2,m.x)),y:Math.min(x===$.Down?I.bottom-I.height/2:I.bottom,Math.max(x===$.Down?I.top:I.top+I.height/2,m.y))},B=x===$.Right&&!N||x===$.Left&&!E,H=x===$.Down&&!k||x===$.Up&&!j;if(B&&A.x!==m.x){const F=y.scrollLeft+g.x,ne=x===$.Right&&F<=T.x||x===$.Left&&F>=O.x;if(ne&&!g.y){y.scrollTo({left:F,behavior:l});return}ne?p.x=y.scrollLeft-F:p.x=x===$.Right?y.scrollLeft-T.x:y.scrollLeft-O.x,p.x&&y.scrollBy({left:-p.x,behavior:l});break}else if(H&&A.y!==m.y){const F=y.scrollTop+g.y,ne=x===$.Down&&F<=T.y||x===$.Up&&F>=O.y;if(ne&&!g.x){y.scrollTo({top:F,behavior:l});return}ne?p.y=y.scrollTop-F:p.y=x===$.Down?y.scrollTop-T.y:y.scrollTop-O.y,p.y&&y.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,ht(ln(m,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:a}=this.props;t.preventDefault(),a(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Aa.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:a=Ia,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(a.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function _r(e){return!!(e&&"distance"in e)}function Mr(e){return!!(e&&"delay"in e)}class fr{constructor(t,n,a){var s;a===void 0&&(a=ul(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=pt(i),this.documentListeners=new kt(this.document),this.listeners=new kt(a),this.windowListeners=new kt(Ce(i)),this.initialCoordinates=(s=cn(o))!=null?s:Ve,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Le.Resize,this.handleCancel),this.windowListeners.add(Le.DragStart,kr),this.windowListeners.add(Le.VisibilityChange,this.handleCancel),this.windowListeners.add(Le.ContextMenu,kr),this.documentListeners.add(Le.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Mr(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(_r(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:a,onPending:s}=this.props;s(a,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Le.Click,fl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Le.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:a,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!s)return;const d=(n=cn(t))!=null?n:Ve,u=ln(s,d);if(!a&&l){if(_r(l)){if(l.tolerance!=null&&Fn(u,l.tolerance))return this.handleCancel();if(Fn(u,l.distance))return this.handleStart()}if(Mr(l)&&Fn(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ml={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bn extends fr{constructor(t){const{event:n}=t,a=pt(n.target);super(t,ml,a)}}bn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const vl={move:{name:"mousemove"},end:{name:"mouseup"}};var Hn;(function(e){e[e.RightClick=2]="RightClick"})(Hn||(Hn={}));class xl extends fr{constructor(t){super(t,vl,pt(t.event.target))}}xl.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;return n.button===Hn.RightClick?!1:(a==null||a({event:n}),!0)}}];const Bn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class pl extends fr{constructor(t){super(t,Bn)}static setup(){return window.addEventListener(Bn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Bn.move.name,t)};function t(){}}}pl.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:a}=t;const{touches:s}=n;return s.length>1?!1:(a==null||a({event:n}),!0)}}];var _t;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_t||(_t={}));var un;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(un||(un={}));function gl(e){let{acceleration:t,activator:n=_t.Pointer,canScroll:a,draggingRect:s,enabled:o,interval:i=5,order:l=un.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:h,delta:m,threshold:g}=e;const p=yl({delta:m,disabled:!o}),[b,y]=Ei(),x=c.useRef({x:0,y:0}),j=c.useRef({x:0,y:0}),N=c.useMemo(()=>{switch(n){case _t.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case _t.DraggableRect:return s}},[n,s,d]),E=c.useRef(null),k=c.useCallback(()=>{const O=E.current;if(!O)return;const I=x.current.x*j.current.x,A=x.current.y*j.current.y;O.scrollBy(I,A)},[]),T=c.useMemo(()=>l===un.TreeOrder?[...u].reverse():u,[l,u]);c.useEffect(()=>{if(!o||!u.length||!N){y();return}for(const O of T){if((a==null?void 0:a(O))===!1)continue;const I=u.indexOf(O),A=h[I];if(!A)continue;const{direction:B,speed:H}=ol(O,A,N,t,g);for(const F of["x","y"])p[F][B[F]]||(H[F]=0,B[F]=0);if(H.x>0||H.y>0){y(),E.current=O,b(k,i),x.current=H,j.current=B;return}}x.current={x:0,y:0},j.current={x:0,y:0},y()},[t,k,a,y,o,i,JSON.stringify(N),JSON.stringify(p),b,u,T,h,JSON.stringify(g)])}const bl={x:{[ve.Backward]:!1,[ve.Forward]:!1},y:{[ve.Backward]:!1,[ve.Forward]:!1}};function yl(e){let{delta:t,disabled:n}=e;const a=on(t);return Yt(s=>{if(n||!a||!s)return bl;const o={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[ve.Backward]:s.x[ve.Backward]||o.x===-1,[ve.Forward]:s.x[ve.Forward]||o.x===1},y:{[ve.Backward]:s.y[ve.Backward]||o.y===-1,[ve.Forward]:s.y[ve.Forward]||o.y===1}}},[n,t,a])}function jl(e,t){const n=t!=null?e.get(t):void 0,a=n?n.node.current:null;return Yt(s=>{var o;return t==null?null:(o=a??s)!=null?o:null},[a,t])}function wl(e,t){return c.useMemo(()=>e.reduce((n,a)=>{const{sensor:s}=a,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,a)}));return[...n,...o]},[]),[e,t])}var At;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(At||(At={}));var Vn;(function(e){e.Optimized="optimized"})(Vn||(Vn={}));const Tr=new Map;function Nl(e,t){let{dragging:n,dependencies:a,config:s}=t;const[o,i]=c.useState(null),{frequency:l,measure:d,strategy:u}=s,h=c.useRef(e),m=x(),g=It(m),p=c.useCallback(function(j){j===void 0&&(j=[]),!g.current&&i(N=>N===null?j:N.concat(j.filter(E=>!N.includes(E))))},[g]),b=c.useRef(null),y=Yt(j=>{if(m&&!n)return Tr;if(!j||j===Tr||h.current!==e||o!=null){const N=new Map;for(let E of e){if(!E)continue;if(o&&o.length>0&&!o.includes(E.id)&&E.rect.current){N.set(E.id,E.rect.current);continue}const k=E.node.current,T=k?new ur(d(k),k):null;E.rect.current=T,T&&N.set(E.id,T)}return N}return j},[e,o,n,m,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{m||p()},[n,m]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},l))},[l,m,p,...a]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:o!=null};function x(){switch(u){case At.Always:return!1;case At.BeforeDragging:return n;default:return!n}}}function hr(e,t){return Yt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Dl(e,t){return hr(e,t)}function Cl(e){let{callback:t,disabled:n}=e;const a=pn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yn(e){let{callback:t,disabled:n}=e;const a=pn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Sl(e){return new ur(gt(e),e)}function Er(e,t,n){t===void 0&&(t=Sl);const[a,s]=c.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=Cl({callback(d){if(e)for(const u of d){const{type:h,target:m}=u;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),l=yn({callback:o});return He(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),a}function kl(e){const t=hr(e);return Ca(e,t)}const Rr=[];function _l(e){const t=c.useRef(e),n=Yt(a=>e?a&&a!==Rr&&e&&t.current&&e.parentNode===t.current.parentNode?a:dr(e):Rr,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function Ml(e){const[t,n]=c.useState(null),a=c.useRef(e),s=c.useCallback(o=>{const i=Ln(o.target);i&&n(l=>l?(l.set(i,$n(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=a.current;if(e!==o){i(o);const l=e.map(d=>{const u=Ln(d);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,$n(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),a.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(d=>{const u=Ln(d);u==null||u.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>ht(o,i),Ve):Ra(e):Ve,[e,t])}function Or(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const a=e!==Ve;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?ln(e,n.current):Ve}function Tl(e){c.useEffect(()=>{if(!xn)return;const t=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function El(e,t){return c.useMemo(()=>e.reduce((n,a)=>{let{eventName:s,handler:o}=a;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function Pa(e){return c.useMemo(()=>e?nl(e):null,[e])}const Ir=[];function Rl(e,t){t===void 0&&(t=gt);const[n]=e,a=Pa(n?Ce(n):null),[s,o]=c.useState(Ir);function i(){o(()=>e.length?e.map(d=>Ta(d)?a:new ur(t(d),d)):Ir)}const l=yn({callback:i});return He(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),s}function La(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Wt(t)?t:e}function Ol(e){let{measure:t}=e;const[n,a]=c.useState(null),s=c.useCallback(u=>{for(const{target:h}of u)if(Wt(h)){a(m=>{const g=t(h);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=yn({callback:s}),i=c.useCallback(u=>{const h=La(u);o==null||o.disconnect(),h&&(o==null||o.observe(h)),a(h?t(h):null)},[t,o]),[l,d]=sn(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Il=[{sensor:bn,options:{}},{sensor:Aa,options:{}}],Al={current:{}},Jt={draggable:{measure:Sr},droppable:{measure:Sr,strategy:At.WhileDragging,frequency:Vn.Optimized},dragOverlay:{measure:gt}};class Mt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,a;return(n=(a=this.get(t))==null?void 0:a.node.current)!=null?n:void 0}}const Pl={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jt,measureDroppableContainers:dn,windowRect:null,measuringScheduled:!1},Fa={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dn,draggableNodes:new Map,over:null,measureDroppableContainers:dn},$t=c.createContext(Fa),Ba=c.createContext(Pl);function Ll(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mt}}}function Fl(e,t){switch(t.type){case ue.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ue.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ue.DragEnd:case ue.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ue.RegisterDroppable:{const{element:n}=t,{id:a}=n,s=new Mt(e.droppable.containers);return s.set(a,n),{...e,droppable:{...e.droppable,containers:s}}}case ue.SetDroppableDisabled:{const{id:n,key:a,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||a!==o.key)return e;const i=new Mt(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case ue.UnregisterDroppable:{const{id:n,key:a}=t,s=e.droppable.containers.get(n);if(!s||a!==s.key)return e;const o=new Mt(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Bl(e){let{disabled:t}=e;const{active:n,activatorEvent:a,draggableNodes:s}=c.useContext($t),o=on(a),i=on(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!a&&o&&i!=null){if(!gn(o)||document.activeElement===o.target)return;const l=s.get(i);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[d.current,u.current]){if(!h)continue;const m=Ii(h);if(m){m.focus();break}}})}},[a,t,s,i,o]),null}function Wa(e,t){let{transform:n,...a}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...a}),n):n}function Wl(e){return c.useMemo(()=>({draggable:{...Jt.draggable,...e==null?void 0:e.draggable},droppable:{...Jt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Jt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Yl(e){let{activeNode:t,measure:n,initialRect:a,config:s=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;He(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!a)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),m=Ca(h,a);if(i||(m.x=0),l||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=ka(u);g&&g.scrollBy({top:m.y,left:m.x})}},[t,i,l,a,n])}const jn=c.createContext({...Ve,scaleX:1,scaleY:1});var tt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(tt||(tt={}));const Ya=c.memo(function(t){var n,a,s,o;let{id:i,accessibility:l,autoScroll:d=!0,children:u,sensors:h=Il,collisionDetection:m=Gi,measuring:g,modifiers:p,...b}=t;const y=c.useReducer(Fl,void 0,Ll),[x,j]=y,[N,E]=Wi(),[k,T]=c.useState(tt.Uninitialized),O=k===tt.Initialized,{draggable:{active:I,nodes:A,translate:B},droppable:{containers:H}}=x,F=I!=null?A.get(I):null,ne=c.useRef({initial:null,translated:null}),re=c.useMemo(()=>{var te;return I!=null?{id:I,data:(te=F==null?void 0:F.data)!=null?te:Al,rect:ne}:null},[I,F]),le=c.useRef(null),[fe,Be]=c.useState(null),[C,_]=c.useState(null),U=It(b,Object.values(b)),Te=zt("DndDescribedBy",i),pe=c.useMemo(()=>H.getEnabled(),[H]),z=Wl(g),{droppableRects:xe,measureDroppableContainers:ee,measuringScheduled:Ee}=Nl(pe,{dragging:O,dependencies:[B.x,B.y],config:z.droppable}),he=jl(A,I),Ke=c.useMemo(()=>C?cn(C):null,[C]),Oe=kn(),je=Dl(he,z.draggable.measure);Yl({activeNode:I!=null?A.get(I):null,config:Oe.layoutShiftCompensation,initialRect:je,measure:z.draggable.measure});const W=Er(he,z.draggable.measure,je),Ie=Er(he?he.parentElement:null),Se=c.useRef({activatorEvent:null,active:null,activeNode:he,collisionRect:null,collisions:null,droppableRects:xe,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Re=H.getNodeFor((n=Se.current.over)==null?void 0:n.id),ke=Ol({measure:z.dragOverlay.measure}),ge=(a=ke.nodeRef.current)!=null?a:he,Ae=O?(s=ke.rect)!=null?s:W:null,We=!!(ke.nodeRef.current&&ke.rect),Ue=kl(We?null:W),v=Pa(ge?Ce(ge):null),S=_l(O?Re??he:null),M=Rl(S),ce=Wa(p,{transform:{x:B.x-Ue.x,y:B.y-Ue.y,scaleX:1,scaleY:1},activatorEvent:C,active:re,activeNodeRect:W,containerNodeRect:Ie,draggingNodeRect:Ae,over:Se.current.over,overlayNodeRect:ke.rect,scrollableAncestors:S,scrollableAncestorRects:M,windowRect:v}),me=Ke?ht(Ke,B):null,X=Ml(S),be=Or(X),Ye=Or(X,[W]),Pe=ht(ce,be),Qe=Ae?Qi(Ae,ce):null,nt=re&&Qe?m({active:re,collisionRect:Qe,droppableRects:xe,droppableContainers:pe,pointerCoordinates:me}):null,ct=Xi(nt,"id"),[Xe,Ht]=c.useState(null),wn=We?ce:ht(ce,Ye),Nn=Ji(wn,(o=Xe==null?void 0:Xe.rect)!=null?o:null,W),bt=c.useRef(null),Vt=c.useCallback((te,we)=>{let{sensor:f,options:w}=we;if(le.current==null)return;const D=A.get(le.current);if(!D)return;const L=te.nativeEvent,V=new f({active:le.current,activeNode:D,event:L,options:w,context:Se,onAbort(G){if(!A.get(G))return;const{onDragAbort:de}=U.current,Z={id:G};de==null||de(Z),N({type:"onDragAbort",event:Z})},onPending(G,J,de,Z){if(!A.get(G))return;const{onDragPending:jt}=U.current,et={id:G,constraint:J,initialCoordinates:de,offset:Z};jt==null||jt(et),N({type:"onDragPending",event:et})},onStart(G){const J=le.current;if(J==null)return;const de=A.get(J);if(!de)return;const{onDragStart:Z}=U.current,qe={activatorEvent:L,active:{id:J,data:de.data,rect:ne}};Dt.unstable_batchedUpdates(()=>{Z==null||Z(qe),T(tt.Initializing),j({type:ue.DragStart,initialCoordinates:G,active:J}),N({type:"onDragStart",event:qe}),Be(bt.current),_(L)})},onMove(G){j({type:ue.DragMove,coordinates:G})},onEnd:ye(ue.DragEnd),onCancel:ye(ue.DragCancel)});bt.current=V;function ye(G){return async function(){const{active:de,collisions:Z,over:qe,scrollAdjustedTranslate:jt}=Se.current;let et=null;if(de&&jt){const{cancelDrop:wt}=U.current;et={activatorEvent:L,active:de,collisions:Z,delta:jt,over:qe},G===ue.DragEnd&&typeof wt=="function"&&await Promise.resolve(wt(et))&&(G=ue.DragCancel)}le.current=null,Dt.unstable_batchedUpdates(()=>{j({type:G}),T(tt.Uninitialized),Ht(null),Be(null),_(null),bt.current=null;const wt=G===ue.DragEnd?"onDragEnd":"onDragCancel";if(et){const _n=U.current[wt];_n==null||_n(et),N({type:wt,event:et})}})}}},[A]),Dn=c.useCallback((te,we)=>(f,w)=>{const D=f.nativeEvent,L=A.get(w);if(le.current!==null||!L||D.dndKit||D.defaultPrevented)return;const V={active:L};te(f,we.options,V)===!0&&(D.dndKit={capturedBy:we.sensor},le.current=w,Vt(f,we))},[A,Vt]),yt=wl(h,Dn);Tl(h),He(()=>{W&&k===tt.Initializing&&T(tt.Initialized)},[W,k]),c.useEffect(()=>{const{onDragMove:te}=U.current,{active:we,activatorEvent:f,collisions:w,over:D}=Se.current;if(!we||!f)return;const L={active:we,activatorEvent:f,collisions:w,delta:{x:Pe.x,y:Pe.y},over:D};Dt.unstable_batchedUpdates(()=>{te==null||te(L),N({type:"onDragMove",event:L})})},[Pe.x,Pe.y]),c.useEffect(()=>{const{active:te,activatorEvent:we,collisions:f,droppableContainers:w,scrollAdjustedTranslate:D}=Se.current;if(!te||le.current==null||!we||!D)return;const{onDragOver:L}=U.current,V=w.get(ct),ye=V&&V.rect.current?{id:V.id,rect:V.rect.current,data:V.data,disabled:V.disabled}:null,G={active:te,activatorEvent:we,collisions:f,delta:{x:D.x,y:D.y},over:ye};Dt.unstable_batchedUpdates(()=>{Ht(ye),L==null||L(G),N({type:"onDragOver",event:G})})},[ct]),He(()=>{Se.current={activatorEvent:C,active:re,activeNode:he,collisionRect:Qe,collisions:nt,droppableRects:xe,draggableNodes:A,draggingNode:ge,draggingNodeRect:Ae,droppableContainers:H,over:Xe,scrollableAncestors:S,scrollAdjustedTranslate:Pe},ne.current={initial:Ae,translated:Qe}},[re,he,nt,Qe,A,ge,Ae,xe,H,Xe,S,Pe]),gl({...Oe,delta:B,draggingRect:Qe,pointerCoordinates:me,scrollableAncestors:S,scrollableAncestorRects:M});const Cn=c.useMemo(()=>({active:re,activeNode:he,activeNodeRect:W,activatorEvent:C,collisions:nt,containerNodeRect:Ie,dragOverlay:ke,draggableNodes:A,droppableContainers:H,droppableRects:xe,over:Xe,measureDroppableContainers:ee,scrollableAncestors:S,scrollableAncestorRects:M,measuringConfiguration:z,measuringScheduled:Ee,windowRect:v}),[re,he,W,C,nt,Ie,ke,A,H,xe,Xe,ee,S,M,z,Ee,v]),Sn=c.useMemo(()=>({activatorEvent:C,activators:yt,active:re,activeNodeRect:W,ariaDescribedById:{draggable:Te},dispatch:j,draggableNodes:A,over:Xe,measureDroppableContainers:ee}),[C,yt,re,W,j,Te,A,Xe,ee]);return q.createElement(ja.Provider,{value:E},q.createElement($t.Provider,{value:Sn},q.createElement(Ba.Provider,{value:Cn},q.createElement(jn.Provider,{value:Nn},u)),q.createElement(Bl,{disabled:(l==null?void 0:l.restoreFocus)===!1})),q.createElement($i,{...l,hiddenTextDescribedById:Te}));function kn(){const te=(fe==null?void 0:fe.autoScrollEnabled)===!1,we=typeof d=="object"?d.enabled===!1:d===!1,f=O&&!te&&!we;return typeof d=="object"?{...d,enabled:f}:{enabled:f}}}),zl=c.createContext(null),Ar="button",$l="Draggable";function Hl(e){let{id:t,data:n,disabled:a=!1,attributes:s}=e;const o=zt($l),{activators:i,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:h,draggableNodes:m,over:g}=c.useContext($t),{role:p=Ar,roleDescription:b="draggable",tabIndex:y=0}=s??{},x=(d==null?void 0:d.id)===t,j=c.useContext(x?jn:zl),[N,E]=sn(),[k,T]=sn(),O=El(i,t),I=It(n);He(()=>(m.set(t,{id:t,key:o,node:N,activatorNode:k,data:I}),()=>{const B=m.get(t);B&&B.key===o&&m.delete(t)}),[m,t]);const A=c.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":a,"aria-pressed":x&&p===Ar?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[a,p,y,x,b,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:x,listeners:a?void 0:O,node:N,over:g,setNodeRef:E,setActivatorNodeRef:T,transform:j}}function za(){return c.useContext(Ba)}const Vl="Droppable",Kl={timeout:25};function mr(e){let{data:t,disabled:n=!1,id:a,resizeObserverConfig:s}=e;const o=zt(Vl),{active:i,dispatch:l,over:d,measureDroppableContainers:u}=c.useContext($t),h=c.useRef({disabled:n}),m=c.useRef(!1),g=c.useRef(null),p=c.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:x}={...Kl,...s},j=It(y??a),N=c.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(j.current)?j.current:[j.current]),p.current=null},x)},[x]),E=yn({callback:N,disabled:b||!i}),k=c.useCallback((A,B)=>{E&&(B&&(E.unobserve(B),m.current=!1),A&&E.observe(A))},[E]),[T,O]=sn(k),I=It(t);return c.useEffect(()=>{!E||!T.current||(E.disconnect(),m.current=!1,E.observe(T.current))},[T,E]),c.useEffect(()=>(l({type:ue.RegisterDroppable,element:{id:a,key:o,disabled:n,node:T,rect:g,data:I}}),()=>l({type:ue.UnregisterDroppable,key:o,id:a})),[a]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:ue.SetDroppableDisabled,id:a,key:o,disabled:n}),h.current.disabled=n)},[a,o,n,l]),{active:i,rect:g,isOver:(d==null?void 0:d.id)===a,node:T,over:d,setNodeRef:O}}function Ul(e){let{animation:t,children:n}=e;const[a,s]=c.useState(null),[o,i]=c.useState(null),l=on(n);return!n&&!a&&l&&s(l),He(()=>{if(!o)return;const d=a==null?void 0:a.key,u=a==null?void 0:a.props.id;if(d==null||u==null){s(null);return}Promise.resolve(t(u,o)).then(()=>{s(null)})},[t,a,o]),q.createElement(q.Fragment,null,n,a?c.cloneElement(a,{ref:i}):null)}const Xl={x:0,y:0,scaleX:1,scaleY:1};function ql(e){let{children:t}=e;return q.createElement($t.Provider,{value:Fa},q.createElement(jn.Provider,{value:Xl},t))}const Gl={position:"fixed",touchAction:"none"},Jl=e=>gn(e)?"transform 250ms ease":void 0,Zl=c.forwardRef((e,t)=>{let{as:n,activatorEvent:a,adjustScale:s,children:o,className:i,rect:l,style:d,transform:u,transition:h=Jl}=e;if(!l)return null;const m=s?u:{...u,scaleX:1,scaleY:1},g={...Gl,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ze.Transform.toString(m),transformOrigin:s&&a?Vi(a,l):void 0,transition:typeof h=="function"?h(a):h,...d};return q.createElement(n,{className:i,style:g,ref:t},o)}),Ql=e=>t=>{let{active:n,dragOverlay:a}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[l,d]of Object.entries(o.active))d!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,d));if(o!=null&&o.dragOverlay)for(const[l,d]of Object.entries(o.dragOverlay))d!==void 0&&a.node.style.setProperty(l,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&a.node.classList.add(i.dragOverlay),function(){for(const[d,u]of Object.entries(s))n.node.style.setProperty(d,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},ec=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ze.Transform.toString(t)},{transform:Ze.Transform.toString(n)}]},tc={duration:250,easing:"ease",keyframes:ec,sideEffects:Ql({styles:{active:{opacity:"0"}}})};function nc(e){let{config:t,draggableNodes:n,droppableContainers:a,measuringConfiguration:s}=e;return pn((o,i)=>{if(t===null)return;const l=n.get(o);if(!l)return;const d=l.node.current;if(!d)return;const u=La(i);if(!u)return;const{transform:h}=Ce(i).getComputedStyle(i),m=Sa(h);if(!m)return;const g=typeof t=="function"?t:rc(t);return Oa(d,s.draggable.measure),g({active:{id:o,data:l.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:a,measuringConfiguration:s,transform:m})})}function rc(e){const{duration:t,easing:n,sideEffects:a,keyframes:s}={...tc,...e};return o=>{let{active:i,dragOverlay:l,transform:d,...u}=o;if(!t)return;const h={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},m={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/l.rect.height:1},g={x:d.x-h.x,y:d.y-h.y,...m},p=s({...u,active:i,dragOverlay:l,transform:{initial:d,final:g}}),[b]=p,y=p[p.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const x=a==null?void 0:a({active:i,dragOverlay:l,...u}),j=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{j.onfinish=()=>{x==null||x(),N()}})}}let Pr=0;function ac(e){return c.useMemo(()=>{if(e!=null)return Pr++,Pr},[e])}const $a=q.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:a,style:s,transition:o,modifiers:i,wrapperElement:l="div",className:d,zIndex:u=999}=e;const{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggableNodes:b,droppableContainers:y,dragOverlay:x,over:j,measuringConfiguration:N,scrollableAncestors:E,scrollableAncestorRects:k,windowRect:T}=za(),O=c.useContext(jn),I=ac(m==null?void 0:m.id),A=Wa(i,{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggingNodeRect:x.rect,over:j,overlayNodeRect:x.rect,scrollableAncestors:E,scrollableAncestorRects:k,transform:O,windowRect:T}),B=hr(g),H=nc({config:a,draggableNodes:b,droppableContainers:y,measuringConfiguration:N}),F=B?x.setRef:void 0;return q.createElement(ql,null,q.createElement(Ul,{animation:H},m&&I?q.createElement(Zl,{key:I,id:m.id,ref:F,as:l,activatorEvent:h,adjustScale:t,className:d,transition:o,rect:B,style:{zIndex:u,...s},transform:A},n):null))});function Ha(e,t,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function sc(e,t){return e.reduce((n,a,s)=>{const o=t.get(a);return o&&(n[s]=o),n},Array(e.length))}function Kt(e){return e!==null&&e>=0}function oc(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ic(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Va=e=>{let{rects:t,activeIndex:n,overIndex:a,index:s}=e;const o=Ha(t,a,n),i=t[s],l=o[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Ut={scaleX:1,scaleY:1},Ka=e=>{var t;let{activeIndex:n,activeNodeRect:a,index:s,rects:o,overIndex:i}=e;const l=(t=o[n])!=null?t:a;if(!l)return null;if(s===n){const u=o[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...Ut}:null}const d=lc(o,s,n);return s>n&&s<=i?{x:0,y:-l.height-d,...Ut}:s<n&&s>=i?{x:0,y:l.height+d,...Ut}:{x:0,y:0,...Ut}};function lc(e,t,n){const a=e[t],s=e[t-1],o=e[t+1];return a?n<t?s?a.top-(s.top+s.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):s?a.top-(s.top+s.height):0:0}const Ua="Sortable",Xa=q.createContext({activeIndex:-1,containerId:Ua,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Va,disabled:{draggable:!1,droppable:!1}});function qa(e){let{children:t,id:n,items:a,strategy:s=Va,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:h}=za(),m=zt(Ua,n),g=l.rect!==null,p=c.useMemo(()=>a.map(O=>typeof O=="object"&&"id"in O?O.id:O),[a]),b=i!=null,y=i?p.indexOf(i.id):-1,x=u?p.indexOf(u.id):-1,j=c.useRef(p),N=!oc(p,j.current),E=x!==-1&&y===-1||N,k=ic(o);He(()=>{N&&b&&h(p)},[N,p,b,h]),c.useEffect(()=>{j.current=p},[p]);const T=c.useMemo(()=>({activeIndex:y,containerId:m,disabled:k,disableTransforms:E,items:p,overIndex:x,useDragOverlay:g,sortedRects:sc(p,d),strategy:s}),[y,m,k.draggable,k.droppable,E,p,x,d,g,s]);return q.createElement(Xa.Provider,{value:T},t)}const cc=e=>{let{id:t,items:n,activeIndex:a,overIndex:s}=e;return Ha(n,a,s).indexOf(t)},dc=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:s,items:o,newIndex:i,previousItems:l,previousContainerId:d,transition:u}=e;return!u||!a||l!==o&&s===i?!1:n?!0:i!==s&&t===d},uc={duration:200,easing:"ease"},Ga="transform",fc=Ze.Transition.toString({property:Ga,duration:0,easing:"linear"}),hc={roleDescription:"sortable"};function mc(e){let{disabled:t,index:n,node:a,rect:s}=e;const[o,i]=c.useState(null),l=c.useRef(n);return He(()=>{if(!t&&n!==l.current&&a.current){const d=s.current;if(d){const u=gt(a.current,{ignoreTransform:!0}),h={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,a,s]),c.useEffect(()=>{o&&i(null)},[o]),o}function Ja(e){let{animateLayoutChanges:t=dc,attributes:n,disabled:a,data:s,getNewIndex:o=cc,id:i,strategy:l,resizeObserverConfig:d,transition:u=uc}=e;const{items:h,containerId:m,activeIndex:g,disabled:p,disableTransforms:b,sortedRects:y,overIndex:x,useDragOverlay:j,strategy:N}=c.useContext(Xa),E=vc(a,p),k=h.indexOf(i),T=c.useMemo(()=>({sortable:{containerId:m,index:k,items:h},...s}),[m,s,k,h]),O=c.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:I,node:A,isOver:B,setNodeRef:H}=mr({id:i,data:T,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:O,...d}}),{active:F,activatorEvent:ne,activeNodeRect:re,attributes:le,setNodeRef:fe,listeners:Be,isDragging:C,over:_,setActivatorNodeRef:U,transform:Te}=Hl({id:i,data:T,attributes:{...hc,...n},disabled:E.draggable}),pe=Ti(H,fe),z=!!F,xe=z&&!b&&Kt(g)&&Kt(x),ee=!j&&C,Ee=ee&&xe?Te:null,Ke=xe?Ee??(l??N)({rects:y,activeNodeRect:re,activeIndex:g,overIndex:x,index:k}):null,Oe=Kt(g)&&Kt(x)?o({id:i,items:h,activeIndex:g,overIndex:x}):k,je=F==null?void 0:F.id,W=c.useRef({activeId:je,items:h,newIndex:Oe,containerId:m}),Ie=h!==W.current.items,Se=t({active:F,containerId:m,isDragging:C,isSorting:z,id:i,index:k,items:h,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:u,wasDragging:W.current.activeId!=null}),Re=mc({disabled:!Se,index:k,node:A,rect:I});return c.useEffect(()=>{z&&W.current.newIndex!==Oe&&(W.current.newIndex=Oe),m!==W.current.containerId&&(W.current.containerId=m),h!==W.current.items&&(W.current.items=h)},[z,Oe,m,h]),c.useEffect(()=>{if(je===W.current.activeId)return;if(je!=null&&W.current.activeId==null){W.current.activeId=je;return}const ge=setTimeout(()=>{W.current.activeId=je},50);return()=>clearTimeout(ge)},[je]),{active:F,activeIndex:g,attributes:le,data:T,rect:I,index:k,newIndex:Oe,items:h,isOver:B,isSorting:z,isDragging:C,listeners:Be,node:A,overIndex:x,over:_,setNodeRef:pe,setActivatorNodeRef:U,setDroppableNodeRef:H,setDraggableNodeRef:fe,transform:Re??Ke,transition:ke()};function ke(){if(Re||Ie&&W.current.newIndex===k)return fc;if(!(ee&&!gn(ne)||!u)&&(z||Se))return Ze.Transition.toString({...u,property:Ga})}}function vc(e,t){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(a=e==null?void 0:e.droppable)!=null?a:t.droppable}}$.Down,$.Right,$.Up,$.Left;const xc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"title",label:"Título (A → Z)"},{value:"status",label:"Status"}],Lr={"A fazer":0,"Em andamento":1,Concluído:2},Nt=["A fazer","Em andamento","Concluído"],pc={"A fazer":"border-t-red-500/60","Em andamento":"border-t-yellow-500/60",Concluído:"border-t-green-500/60"};function gc(e,t){return[...e].sort((n,a)=>{switch(t){case"deadline":return!n.dueDate&&!a.dueDate?0:n.dueDate?a.dueDate?a.dueDate.localeCompare(n.dueDate):-1:1;case"title":return n.title.localeCompare(a.title,"pt-BR");case"status":return(Lr[n.status]??0)-(Lr[a.status]??0);default:return 0}})}function bc({id:e,children:t}){const{attributes:n,listeners:a,setNodeRef:s,transform:o,transition:i,isDragging:l}=Ja({id:e}),d={transform:Ze.Transform.toString(o),transition:i};return r.jsx("div",{ref:s,style:d,...n,...a,className:Y("touch-none",l&&"opacity-30"),children:t})}function yc({status:e,isOver:t,items:n,itemIds:a,today:s,onEdit:o,onDelete:i,showRichNotes:l}){const{setNodeRef:d}=mr({id:e});return r.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",pc[e]||"border-t-muted/60",t&&"bg-card/80 ring-2 ring-primary/20"),children:[r.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-border shadow-sm bg-background/50 backdrop-blur-md rounded-t-xl",children:[r.jsx(De,{variant:"secondary",className:nn[e],children:it[e]}),r.jsx(De,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50",children:n.length})]}),r.jsxs("div",{ref:d,"data-column-status":e,className:"flex-1 p-3 space-y-3",children:[r.jsx(qa,{items:a,strategy:Ka,children:n.map(u=>r.jsx(bc,{id:u.id,children:r.jsx(Kn,{sub:u,today:s,onEdit:()=>o(u),onDelete:()=>i(u.id),showRichNotes:l})},u.id))}),n.length===0&&r.jsxs("div",{className:"sticky top-[40vh] flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1",children:[r.jsx(De,{variant:"secondary",className:Y("font-medium mb-1",nn[e]),children:it[e]}),r.jsx("span",{children:"Arraste subtarefas para cá"})]})]})]})}const Kn=c.memo(function({sub:t,today:n,showStatus:a,onEdit:s,onDelete:o,showRichNotes:i}){const l=t.dueDate&&t.dueDate<n&&t.status!=="Concluído";return r.jsx(Tt,{className:Y("transition-shadow duration-150",l&&"border-destructive/50"),children:r.jsx(Et,{className:"p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[a&&r.jsx(De,{variant:"secondary",className:Y("text-[10px]",nn[t.status]),children:it[t.status]}),l&&r.jsx(De,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),r.jsx("p",{className:Y("font-medium text-sm",t.completed&&"line-through text-muted-foreground"),children:t.title}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[r.jsx("span",{className:"font-medium",children:"Tarefa:"})," ",t.parentTaskTitle]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[t.projectName&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),t.projectName]}),t.assignee&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(hn,{className:"w-3 h-3"}),t.assignee]}),t.dueDate&&r.jsxs("span",{className:Y("flex items-center gap-1",l&&"text-destructive font-medium"),children:[r.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]}),t.notes&&i&&r.jsx("div",{className:"text-xs text-muted-foreground mt-1 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Wr(t.notes)||t.notes}}),t.notes&&!i&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.notes.replace(/<[^>]*>/g,"")})]}),r.jsxs("div",{className:"flex gap-1 shrink-0",children:[r.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:s,children:r.jsx(Ms,{className:"w-3.5 h-3.5"})}),r.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:o,children:r.jsx(qn,{className:"w-3.5 h-3.5"})})]})]})})})});function jc({tasks:e,projects:t,loading:n,onCreateSubtask:a,onUpdateSubtask:s,onDeleteSubtask:o}){const[i,l]=c.useState(!1),[d,u]=c.useState(null),[h,m]=c.useState("kanban"),[g,p]=c.useState(""),[b,y]=c.useState("all"),[x,j]=c.useState("all"),[N,E]=c.useState("all"),[k,T]=c.useState("all"),[O,I]=c.useState("all"),[A,B]=c.useState("deadline"),[H,F]=c.useState(!1),[ne,re]=c.useState(!1),[le,fe]=c.useState(null),[Be,C]=c.useState(null),[_,U]=c.useState(null),Te=Na(wa(bn,{activationConstraint:{distance:8}})),pe=c.useMemo(()=>{const v={};return t.forEach(S=>{v[S.id]=S.name}),v},[t]),z=c.useMemo(()=>e.flatMap(v=>v.subtasks.map(S=>({...S,parentTaskTitle:v.title,projectId:v.projectId,projectName:v.projectId?pe[v.projectId]:void 0}))),[e,pe]),xe=c.useMemo(()=>{const v=new Date,S=new Date(v.getFullYear(),v.getMonth(),v.getDate()),M=new Date(S);M.setDate(S.getDate()+(7-S.getDay()));const ce=new Date(v.getFullYear(),v.getMonth()+1,0),me=z.filter(X=>{if(g&&!X.title.toLowerCase().includes(g.toLowerCase())||b!=="all"&&X.status!==b||x!=="all"&&X.assignee!==x||N!=="all"&&X.projectId!==N||k!=="all"&&X.parentTaskId!==k)return!1;if(O!=="all"){if(!X.dueDate)return O==="sem_prazo";const be=new Date(X.dueDate+"T23:59:59");switch(O){case"atrasadas":return be<S&&X.status!=="Concluído";case"hoje":return X.dueDate===ee;case"esta_semana":return be>=S&&be<=M;case"este_mes":return be>=S&&be<=ce;case"sem_prazo":return!1}}return!0});return gc(me,A)},[z,g,b,x,N,k,A]),ee=c.useMemo(()=>{const v=new Date;return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},[]);c.useMemo(()=>{const v={"A fazer":0,"Em andamento":0,Concluído:0},S=z.filter(M=>M.dueDate&&M.dueDate<ee&&M.status!=="Concluído").length;return z.forEach(M=>{v[M.status]!==void 0&&v[M.status]++}),{...v,overdue:S,total:z.length}},[z,ee]);const Ee=c.useCallback(()=>{u(null),l(!0)},[]),he=c.useCallback(v=>{u(v),l(!0)},[]),Ke=c.useCallback(async(v,S,M)=>{S?await a(v.parentTaskId,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0}):M&&await s(M,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0})},[a,s]),Oe=c.useCallback(async()=>{le&&(await o(le),fe(null))},[le,o]),je=c.useMemo(()=>{const v={"A fazer":[],"Em andamento":[],Concluído:[]};return xe.forEach(S=>{v[S.status]&&v[S.status].push(S)}),v},[xe]),W=c.useCallback(v=>{C(String(v.active.id))},[]),Ie=c.useCallback(v=>{const{over:S}=v;if(!S){U(null);return}const M=String(S.id),ce=z.find(X=>X.id===M),me=ce?ce.status:Nt.includes(M)?M:null;U(me)},[z]),Se=c.useCallback(async v=>{const{active:S,over:M}=v;if(C(null),U(null),!M)return;const ce=String(S.id),me=String(M.id);if(ce===me)return;const X=z.find(Pe=>Pe.id===ce);if(!X)return;const be=z.find(Pe=>Pe.id===me),Ye=be?be.status:Nt.includes(me)?me:X.status;X.status!==Ye&&await s(ce,{status:Ye})},[z,s]),Re=c.useCallback(()=>{C(null),U(null)},[]),ke=Be?z.find(v=>v.id===Be):null,ge=c.useMemo(()=>Nt.filter(v=>!H||v!=="Concluído"),[H]),Ae=c.useMemo(()=>[{key:"title",label:"Título",width:250,minWidth:150,sticky:!0,sortable:!0,sortFn:(v,S)=>v.title.localeCompare(S.title,"pt-BR"),render:v=>r.jsx("span",{className:"font-medium",children:v.title})},{key:"status",label:"Status",width:130,sortable:!0,sortFn:(v,S)=>v.status.localeCompare(S.status),render:v=>r.jsx(De,{variant:"secondary",className:Y("text-[10px]",nn[v.status]),children:it[v.status]}),inlineEdit:(v,S)=>r.jsxs(ae,{value:v.status,onValueChange:S,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:Nt.map(M=>r.jsx(P,{value:M,children:it[M]},M))})]})},{key:"parentTaskTitle",label:"Tarefa-mãe",width:200,sortable:!0,sortFn:(v,S)=>v.parentTaskTitle.localeCompare(S.parentTaskTitle,"pt-BR"),render:v=>r.jsx("span",{className:"text-xs",children:v.parentTaskTitle})},{key:"dueDate",label:"Prazo",width:110,sortable:!0,sortFn:(v,S)=>!v.dueDate&&!S.dueDate?0:v.dueDate?S.dueDate?S.dueDate.localeCompare(v.dueDate):-1:1,render:v=>v.dueDate?r.jsxs("span",{className:Y("text-xs flex items-center gap-1",v.dueDate<ee&&v.status!=="Concluído"&&"text-destructive font-medium"),children:[r.jsx(vt,{className:"w-3 h-3"}),new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,S)=>r.jsxs(Qt,{children:[r.jsx(en,{asChild:!0,children:r.jsxs(Fe,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!v.dueDate&&"text-muted-foreground"),children:[r.jsx(vt,{className:"w-3 h-3 mr-1"}),v.dueDate?new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),r.jsx(tn,{className:"w-auto p-0",align:"start",children:r.jsx(ir,{mode:"single",selected:v.dueDate?new Date(v.dueDate+"T12:00:00"):void 0,onSelect:M=>{if(M){const ce=M.getFullYear(),me=String(M.getMonth()+1).padStart(2,"0"),X=String(M.getDate()).padStart(2,"0");S(`${ce}-${me}-${X}`)}else S("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:130,sortable:!0,sortFn:(v,S)=>(v.assignee??"").localeCompare(S.assignee??"","pt-BR"),render:v=>v.assignee?r.jsxs("span",{className:"text-xs flex items-center gap-1",children:[r.jsx(hn,{className:"w-3 h-3"}),v.assignee]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,S)=>r.jsxs(ae,{value:v.assignee||"_none_",onValueChange:M=>S(M==="_none_"?"":M),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Wn.map(M=>r.jsx(P,{value:M,children:M},M))]})]})},{key:"project",label:"Projeto",width:130,render:v=>v.projectName?r.jsxs(De,{variant:"outline",className:"text-[10px] gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),v.projectName]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}],[ee]),We=c.useCallback((v,S,M)=>{S==="status"?s(v,{status:M}):S==="assignee"?s(v,{assignee:M||void 0}):S==="dueDate"&&s(v,{deadline:M||void 0})},[s]),Ue=c.useCallback(v=>{v.forEach(S=>o(S))},[o]);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),r.jsx(Zt,{placeholder:"Buscar subtarefa...",value:g,onChange:v=>p(v.target.value),className:"pl-9 w-full text-sm"})]}),r.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[r.jsxs(Fe,{onClick:Ee,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[r.jsx(ta,{className:"mr-1.5 h-4 w-4"})," Nova Subtarefa"]}),r.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[r.jsxs("button",{onClick:()=>m("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(sa,{className:"w-4 h-4"})," Kanban"]}),r.jsxs("button",{onClick:()=>m("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(na,{className:"w-4 h-4"})," Lista"]}),r.jsxs("button",{onClick:()=>m("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(Hr,{className:"w-4 h-4"})," Tabela"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),r.jsxs(ae,{value:b,onValueChange:y,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos Status"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos Status"}),Nt.map(v=>r.jsx(P,{value:v,children:it[v]},v))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),r.jsxs(ae,{value:O,onValueChange:I,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos"}),r.jsx(P,{value:"atrasadas",children:"Atrasadas"}),r.jsx(P,{value:"hoje",children:"Vence hoje"}),r.jsx(P,{value:"esta_semana",children:"Esta semana"}),r.jsx(P,{value:"este_mes",children:"Este mês"}),r.jsx(P,{value:"sem_prazo",children:"Sem prazo"})]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),r.jsxs(ae,{value:x,onValueChange:j,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos"}),Wn.map(v=>r.jsx(P,{value:v,children:v},v))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Tarefa-mãe"}),r.jsxs(ae,{value:k,onValueChange:T,children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todas"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todas"}),e.map(v=>r.jsx(P,{value:v.id,children:v.title},v.id))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),r.jsxs(ae,{value:A,onValueChange:v=>B(v),children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{})}),r.jsx(ie,{children:xc.map(v=>r.jsx(P,{value:v.value,children:v.label},v.value))})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",r.jsx(St,{checked:H,onCheckedChange:F,className:"scale-75"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Observações formatadas",r.jsx(St,{checked:ne,onCheckedChange:re,className:"scale-75"})]})]})]})]}),r.jsx(Gs,{open:i,onOpenChange:l,subtask:d,tasks:e,onSave:Ke,onDelete:v=>fe(v)}),r.jsx(Ur,{open:!!le,onOpenChange:v=>!v&&fe(null),children:r.jsxs(Xr,{children:[r.jsxs(qr,{children:[r.jsx(Gr,{children:"Remover subtarefa?"}),r.jsx(Jr,{children:"Esta ação não pode ser desfeita. A subtarefa será removida permanentemente."})]}),r.jsxs(Zr,{children:[r.jsx(Qr,{children:"Cancelar"}),r.jsx(ea,{onClick:Oe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),n?r.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>r.jsx(Tt,{children:r.jsx(Et,{className:"p-4",children:r.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"})})},v))}):h==="table"?r.jsx(Vr,{data:xe,columns:Ae,onEdit:v=>he(v),onDelete:v=>fe(v),onBulkDelete:Ue,onInlineChange:We,emptyMessage:"Nenhuma subtarefa encontrada."}):h==="list"?r.jsx("div",{className:"space-y-3",children:xe.length===0?r.jsx(Tt,{children:r.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma subtarefa encontrada."})}):xe.map(v=>r.jsx(Kn,{sub:v,today:ee,showStatus:!0,onEdit:()=>he(v),onDelete:()=>fe(v.id),showRichNotes:ne},v.id))}):r.jsxs(Ya,{sensors:Te,collisionDetection:Da,onDragStart:W,onDragOver:Ie,onDragEnd:Se,onDragCancel:Re,children:[r.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:r.jsx("div",{className:"flex gap-4",style:{minWidth:`${ge.length*300}px`},children:ge.map(v=>{const S=_===v,M=je[v],ce=M.map(me=>me.id);return r.jsx("div",{className:"flex-1 min-w-[260px]",children:r.jsx(yc,{status:v,isOver:S,items:M,itemIds:ce,today:ee,onEdit:he,onDelete:fe,showRichNotes:ne})},v)})})}),r.jsx($a,{children:ke&&r.jsx("div",{className:"shadow-xl ring-2 ring-primary/30 rotate-[2deg] scale-105",children:r.jsx(Kn,{sub:ke,today:ee,showStatus:!0,onEdit:()=>{},onDelete:()=>{},showRichNotes:ne})})})]})]})}function wc(){const[e,t]=c.useState(!1),[n,a]=c.useState(null),s=async o=>{var l,d,u,h;const i=o.target.files;if(i!=null&&i.length){t(!0),a(null);try{const m={};for(const E of Array.from(i)){const k=await E.text(),T=E.name.toLowerCase();T.includes("agenda")?m.agenda_csv=k:T.includes("sub-tarefa")||T.includes("subtarefa")?m.subtarefas_csv=k:T.includes("tarefa")&&(m.tarefas_csv=k)}if(Object.keys(m).length===0){qt.error("Nenhum CSV reconhecido. Nomeie os arquivos com 'Agenda', 'Tarefas' ou 'Sub-tarefas'."),t(!1);return}const{data:g}=await Za.auth.getSession(),p=(l=g==null?void 0:g.session)==null?void 0:l.access_token,y=await fetch("https://xlumfscnfnqldlvpbpil.supabase.co/functions/v1/import-csv-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(m)}),x=await y.json();if(!y.ok)throw new Error(x.error||"Erro na importação");const j=[];(d=x.results)!=null&&d.agenda&&j.push(`Agenda: ${x.results.agenda.imported} importados`),(u=x.results)!=null&&u.tarefas&&j.push(`Tarefas: ${x.results.tarefas.imported} únicas (${x.results.tarefas.deduped} duplicatas removidas)`),(h=x.results)!=null&&h.subtarefas&&j.push(`Subtarefas: ${x.results.subtarefas.imported} importadas`);const N=`✅ ${j.join(" | ")}`;a(N),qt.success("Importação concluída com sucesso!")}catch(m){qt.error(`Erro: ${m.message}`),a(`❌ Erro: ${m.message}`)}finally{t(!1),o.target.value=""}}};return r.jsxs("div",{className:"p-6 border rounded-lg bg-card space-y-4 mb-6",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Importar dados do CSV (Banco Externo)"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione os 3 CSVs (Agenda, Tarefas, Sub-tarefas) de uma vez. Duplicatas serão removidas (mantém versão mais recente). Projetos e clientes não serão alterados."}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:".csv",multiple:!0,onChange:s,disabled:e,className:"hidden"}),r.jsx(Fe,{asChild:!0,disabled:e,children:r.jsxs("span",{children:[e?r.jsx($r,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Es,{className:"h-4 w-4 mr-2"}),e?"Importando no banco externo...":"Selecionar CSVs"]})})]})}),n&&r.jsxs("div",{className:"p-3 rounded bg-muted text-sm flex items-start gap-2",children:[r.jsx(ra,{className:"h-4 w-4 mt-0.5 shrink-0 text-emerald-500"}),r.jsx("span",{children:n})]})]})}const Nc=c.lazy(()=>Qa(()=>import("./AdminCrmDashboard-qb2seiSG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),Dc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],fn={alta:0,media:1,baixa:2};function Fr(e,t){return[...e].sort((n,a)=>{switch(t){case"deadline":return!n.dueDate&&!a.dueDate?0:n.dueDate?a.dueDate?a.dueDate.localeCompare(n.dueDate):-1:1;case"priority":return(fn[n.priority]??1)-(fn[a.priority]??1);case"title":return n.title.localeCompare(a.title,"pt-BR");case"client":return(n.client??"").localeCompare(a.client??"","pt-BR");default:return 0}})}const Cc={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Br={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Xt=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],Sc={pendente:"border-t-red-500/60",agendado:"border-t-blue-500/60",em_andamento:"border-t-yellow-500/60",em_tramite:"border-t-orange-500/60",concluida:"border-t-green-500/60",cancelada:"border-t-muted/60"},kc={pendente:aa,agendado:Ps,em_andamento:gr,em_tramite:gr,concluida:ra,cancelada:As},_c=[{value:"all",label:"Todos"},{value:"today",label:"Hoje"},{value:"this_week",label:"Esta semana"},{value:"this_month",label:"Este mês"},{value:"overdue",label:"Atrasadas"},{value:"no_deadline",label:"Sem prazo"}],Un=c.memo(function({task:t,cardFields:n,today:a,isExpanded:s,onToggleExpand:o,onToggleSubtask:i,onEdit:l,onDelete:d,showStatus:u,isDragging:h,isOverlay:m,projectName:g}){const p=t.subtasks.filter(x=>x.completed).length,b=t.subtasks.length,y=t.dueDate&&t.dueDate<a&&t.status!=="concluida"&&t.status!=="cancelada";return r.jsx(Tt,{className:Y("relative group transition-all duration-200 hover:shadow-md cursor-pointer",h?"opacity-40 scale-95":"",m&&"shadow-2xl ring-2 ring-primary/40 rotate-[2deg] scale-105 cursor-grabbing","border-border/50 bg-card"),onClick:()=>l==null?void 0:l(t),children:r.jsxs(Et,{className:"p-3.5",children:[r.jsxs("div",{className:"flex items-start justify-between gap-1",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[g&&r.jsx("div",{className:"mb-2",children:r.jsxs(De,{variant:"outline",className:"text-[10px] px-1.5 py-0 gap-1 font-normal",children:[r.jsx(mn,{className:"w-3 h-3"}),g]})}),r.jsx("p",{className:"font-medium text-sm mb-1",children:t.title})]}),!m&&r.jsx(Fe,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>{x.stopPropagation(),d(t.id)},children:r.jsx(qn,{className:"w-3.5 h-3.5"})})]}),n.description&&t.description&&r.jsx("div",{className:"text-xs text-muted-foreground mb-2 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Wr(t.description)||t.description}}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[n.priority&&r.jsx(De,{variant:"secondary",className:`text-[10px] ${zr[t.priority]}`,children:Ct[t.priority]}),u&&r.jsx(De,{variant:"secondary",className:`text-[10px] ${Yr[t.status]}`,children:ft[t.status]}),n.dueDate&&t.dueDate&&r.jsxs("span",{className:Y("flex items-center gap-1",y&&"text-destructive font-medium"),children:[y?r.jsx(aa,{className:"w-3 h-3"}):r.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}),y&&r.jsx("span",{className:"text-destructive font-medium",children:"Atrasada"}),t.assignee&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(hn,{className:"w-3 h-3"}),t.assignee]})]}),n.subtasks&&b>0&&!m&&r.jsx("div",{className:"flex justify-end mt-2",children:r.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[r.jsx(oa,{className:"w-3 h-3"}),p,"/",b]})}),n.tags&&t.tags&&t.tags.length>0&&!m&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(x=>r.jsx(De,{variant:"outline",className:"text-[10px]",children:x},x))})]})})});function Mc(e){const{attributes:t,listeners:n,setNodeRef:a,transform:s,transition:o,isDragging:i}=Ja({id:e.task.id}),l={transform:Ze.Transform.toString(s),transition:o};return r.jsx("div",{ref:a,style:l,...t,...n,children:r.jsx(Un,{...e,isDragging:i})})}function Tc({status:e,tasks:t,isOver:n,cardFields:a,today:s,expandedTasks:o,onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectMap:h}){const m=c.useMemo(()=>t.map(b=>b.id),[t]),{setNodeRef:g}=mr({id:e}),p=kc[e];return r.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",Sc[e]||"border-t-muted/60",n&&"bg-card/80 ring-2 ring-primary/20"),children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 px-4",children:[r.jsx(p,{className:Y("w-4 h-4",{"text-red-500":e==="pendente","text-blue-500":e==="agendado","text-yellow-500":e==="em_andamento","text-orange-500":e==="em_tramite","text-green-500":e==="concluida","text-muted-foreground":e==="cancelada"})}),r.jsx("span",{className:"text-sm font-medium",children:ft[e]}),r.jsx(De,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50 tabular-nums",children:t.length})]}),r.jsxs("div",{ref:g,"data-column-status":e,className:"flex-1 p-3 pt-0 space-y-3",children:[r.jsx(qa,{items:m,strategy:Ka,children:t.map(b=>r.jsx(Mc,{task:b,cardFields:a,today:s,isExpanded:o.has(b.id),onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectName:h.get(b.projectId||"")},b.id))}),t.length===0&&r.jsx("div",{className:"flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1 min-h-[100px]",children:r.jsx("span",{children:"Arraste tarefas para cá"})})]})]})}function Ec({projectId:e,clientNameFilter:t,hideHeader:n,forceTab:a}={}){const{tasks:s,setTasks:o,loading:i,error:l,updateTaskStatus:d,deleteTask:u,createTask:h,updateTask:m,createSubtask:g,updateSubtask:p,deleteSubtask:b}=hs(),{projects:y}=ms(),[x,j]=c.useState(!1),[N,E]=c.useState(null),k=c.useMemo(()=>t?s.filter(f=>{var w;return(w=f.client)==null?void 0:w.toLowerCase().includes(t.toLowerCase())}):s,[s,t]),[T,O]=c.useState("kanban"),[I,A]=c.useState(""),[B,H]=c.useState("all"),[F,ne]=c.useState("all"),[re,le]=c.useState("all"),[fe,Be]=c.useState(e||"all"),[C,_]=c.useState(new Set),[U,Te]=c.useState(Cc),[pe,z]=c.useState(null),[xe,ee]=c.useState(null),[Ee,he]=c.useState("deadline"),[Ke,Oe]=c.useState(!1),[je,W]=c.useState(!1),[Ie,Se]=c.useState("all"),[Re,ke]=c.useState("all"),ge=c.useMemo(()=>{const f=new Date;return`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`},[]),Ae=c.useMemo(()=>[...new Set(k.map(f=>f.assignee).filter(Boolean))],[k]),We=c.useMemo(()=>{const f=e||fe,w=new Date,D=new Date(w);D.setDate(w.getDate()+7);const L=new Date(w.getFullYear(),w.getMonth()+1,0),V=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}-${String(D.getDate()).padStart(2,"0")}`,ye=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}-${String(L.getDate()).padStart(2,"0")}`,G=k.filter(J=>{var de;if(I&&!J.title.toLowerCase().includes(I.toLowerCase())||B!=="all"&&J.status!==B||F!=="all"&&J.priority!==F||re!=="all"&&J.client!==re||Re!=="all"&&J.assignee!==Re||f!=="all"&&J.projectId!==f)return!1;if(Ie!=="all"){const Z=(de=J.dueDate)==null?void 0:de.split("T")[0];switch(Ie){case"today":if(Z!==ge)return!1;break;case"this_week":if(!Z||Z<ge||Z>V)return!1;break;case"this_month":if(!Z||Z<ge||Z>ye)return!1;break;case"overdue":if(!Z||Z>=ge||J.status==="concluida"||J.status==="cancelada")return!1;break;case"no_deadline":if(Z)return!1;break}}return!0});return Fr(G,Ee)},[k,I,B,F,re,Re,fe,Ee,Ie,ge]),Ue=ge,v=c.useMemo(()=>pe?k.find(f=>f.id===pe):null,[pe,k]),S=c.useMemo(()=>[...new Set(k.map(f=>f.client).filter(Boolean))],[k]),M=c.useMemo(()=>{const f=new Map;return y.forEach(w=>f.set(w.id,w.name)),f},[y]),ce=c.useMemo(()=>k.reduce((f,w)=>f+w.subtasks.length,0),[k]),me=c.useCallback(f=>{_(w=>{const D=new Set(w);return D.has(f)?D.delete(f):D.add(f),D})},[]),X=c.useCallback((f,w)=>{o(D=>D.map(L=>L.id===f?{...L,subtasks:L.subtasks.map(V=>V.id===w?{...V,completed:!V.completed}:V)}:L))},[o]),[be,Ye]=c.useState(null),Pe=c.useCallback(async()=>{be&&(o(f=>f.filter(w=>w.id!==be)),u(be),Ye(null))},[be,u,o]),Qe=c.useCallback(f=>{Te(w=>({...w,[f]:!w[f]}))},[]),nt=c.useCallback(()=>{E(null),j(!0)},[]),ct=c.useCallback(f=>{E(f),j(!0)},[]),Xe=c.useCallback(async(f,w,D)=>{w?await h({title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso}):D&&await m(D,{title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso})},[h,m]),Ht=Na(wa(bn,{activationConstraint:{distance:8}}));c.useCallback(f=>{const w=k.find(D=>D.id===f);return w==null?void 0:w.status},[k]);const wn=c.useCallback(f=>{z(f.active.id)},[]),Nn=c.useCallback(f=>{const{over:w}=f;if(!w){ee(null);return}const D=w.id,L=k.find(ye=>ye.id===D),V=L?L.status:Xt.includes(D)?D:null;ee(V)},[k]),bt=c.useCallback(f=>{const{active:w,over:D}=f;if(z(null),ee(null),!D)return;const L=w.id,V=D.id;if(L===V)return;const ye=k.find(de=>de.id===L);if(!ye)return;const G=k.find(de=>de.id===V),J=G?G.status:Xt.includes(V)?V:ye.status;ye.status!==J&&(o(de=>{const Z=de.map(qe=>qe.id===L?{...qe,status:J}:qe);return Fr(Z,Ee)}),d(L,J))},[k,d,Ee]),Vt=c.useCallback(()=>{z(null),ee(null)},[]),Dn=c.useMemo(()=>{const f={};return Xt.forEach(w=>{f[w]=[]}),We.forEach(w=>{f[w.status]&&f[w.status].push(w)}),f},[We]),yt=c.useMemo(()=>Xt.filter(f=>!(Ke&&f==="concluida"||je&&f==="cancelada")),[Ke,je]),Cn=c.useMemo(()=>[{key:"title",label:"Título",width:280,minWidth:150,sticky:!0,sortable:!0,sortFn:(f,w)=>f.title.localeCompare(w.title,"pt-BR"),render:f=>r.jsx("span",{className:"font-medium",children:f.title})},{key:"status",label:"Status",width:140,sortable:!0,sortFn:(f,w)=>f.status.localeCompare(w.status),render:f=>r.jsx(De,{variant:"secondary",className:Y("text-[10px]",Yr[f.status]),children:ft[f.status]}),inlineEdit:(f,w)=>r.jsxs(ae,{value:f.status,onValueChange:w,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:Object.entries(ft).map(([D,L])=>r.jsx(P,{value:D,children:L},D))})]})},{key:"priority",label:"Prioridade",width:110,sortable:!0,sortFn:(f,w)=>(fn[f.priority]??1)-(fn[w.priority]??1),render:f=>r.jsx(De,{variant:"secondary",className:Y("text-[10px]",zr[f.priority]),children:Ct[f.priority]}),inlineEdit:(f,w)=>r.jsxs(ae,{value:f.priority,onValueChange:w,children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsx(ie,{children:Object.entries(Ct).map(([D,L])=>r.jsx(P,{value:D,children:L},D))})]})},{key:"dueDate",label:"Prazo",width:150,sortable:!0,sortFn:(f,w)=>!f.dueDate&&!w.dueDate?0:f.dueDate?w.dueDate?w.dueDate.localeCompare(f.dueDate):-1:1,render:f=>f.dueDate?r.jsxs("span",{className:Y("text-xs flex items-center gap-1",f.dueDate<Ue&&f.status!=="concluida"&&"text-destructive font-medium"),children:[r.jsx(vt,{className:"w-3 h-3"}),new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>r.jsxs(Qt,{children:[r.jsx(en,{asChild:!0,children:r.jsxs(Fe,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!f.dueDate&&"text-muted-foreground"),children:[r.jsx(vt,{className:"w-3 h-3 mr-1"}),f.dueDate?new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),r.jsx(tn,{className:"w-auto p-0",align:"start",children:r.jsx(ir,{mode:"single",selected:f.dueDate?new Date(f.dueDate+"T12:00:00"):void 0,onSelect:D=>{if(D){const L=D.getFullYear(),V=String(D.getMonth()+1).padStart(2,"0"),ye=String(D.getDate()).padStart(2,"0");w(`${L}-${V}-${ye}`)}else w("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:140,sortable:!0,sortFn:(f,w)=>(f.assignee??"").localeCompare(w.assignee??"","pt-BR"),render:f=>f.assignee?r.jsxs("span",{className:"text-xs flex items-center gap-1",children:[r.jsx(hn,{className:"w-3 h-3"}),f.assignee]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>r.jsxs(ae,{value:f.assignee||"_none_",onValueChange:D=>w(D==="_none_"?"":D),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(P,{value:"_none_",children:"— Sem responsável —"}),Ae.map(D=>r.jsx(P,{value:D,children:D},D))]})]})},{key:"client",label:"Cliente",width:140,sortable:!0,sortFn:(f,w)=>(f.client??"").localeCompare(w.client??"","pt-BR"),render:f=>f.client?r.jsx("span",{className:"text-xs",children:f.client}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>r.jsxs(ae,{value:f.client||"_none_",onValueChange:D=>w(D==="_none_"?"":D),children:[r.jsx(se,{className:"h-7 text-xs w-full",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(P,{value:"_none_",children:"— Sem cliente —"}),S.map(D=>r.jsx(P,{value:D,children:D},D))]})]})},{key:"project",label:"Projeto",width:140,render:f=>{const w=M.get(f.projectId||"");return w?r.jsxs(De,{variant:"outline",className:"text-[10px] gap-1",children:[r.jsx(mn,{className:"w-3 h-3"}),w]}):r.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}}],[Ue,Ae,M,S]),Sn=c.useCallback((f,w,D)=>{w==="status"?d(f,D):w==="assignee"?m(f,{responsavel:D||null}):w==="priority"?m(f,{prioridade:D}):w==="client"?m(f,{cliente:D||null}):w==="dueDate"&&m(f,{deadline:D||null})},[d,m]),kn=c.useCallback(f=>{f.forEach(w=>u(w))},[u]),[te,we]=c.useState(a||"overview");return r.jsxs(vr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[!a&&r.jsx("div",{className:"flex items-center gap-1 rounded-2xl border border-border bg-muted/40 p-1 w-fit backdrop-blur-sm mb-5",children:[{id:"overview",label:"Visão Geral",icon:Rs},{id:"tarefas",label:"Tarefas",icon:Os,count:We.length},{id:"subtarefas",label:"Subtarefas",icon:oa,count:ce}].map(f=>{const w=te===f.id,D=f.icon;return r.jsxs("button",{onClick:()=>we(f.id),className:Y("relative flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200",w?"text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[w&&r.jsx(vr.div,{layoutId:"tarefas-tab-bg",className:"absolute inset-0 rounded-xl gold-gradient shadow-sm",transition:{type:"spring",bounce:.15,duration:.5}}),r.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[r.jsx(D,{className:"h-4 w-4"}),f.label,"count"in f&&r.jsx("span",{className:Y("inline-flex items-center justify-center rounded-full px-2 py-0.5 text-[10px] font-semibold tabular-nums min-w-[22px] transition-colors",w?"bg-primary-foreground/20 text-primary-foreground":"bg-secondary text-muted-foreground"),children:f.count})]})]},f.id)})}),te==="overview"&&r.jsxs(c.Suspense,{fallback:r.jsxs("div",{className:"space-y-4",children:[r.jsx(Mn,{className:"h-10 w-full"}),r.jsx(Mn,{className:"h-40 w-full"}),r.jsx(Mn,{className:"h-40 w-full"})]}),children:[r.jsx(wc,{}),r.jsx(Nc,{})]}),te==="tarefas"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),r.jsx(Zt,{placeholder:"Buscar tarefas...",value:I,onChange:f=>A(f.target.value),className:"pl-9 w-full text-sm"})]}),r.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[r.jsxs(Fe,{onClick:nt,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[r.jsx(ta,{className:"mr-1.5 h-4 w-4"})," Nova Tarefa"]}),r.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[r.jsxs("button",{onClick:()=>O("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",T==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(sa,{className:"w-4 h-4"})," Kanban"]}),r.jsxs("button",{onClick:()=>O("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",T==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(na,{className:"w-4 h-4"})," Lista"]}),r.jsxs("button",{onClick:()=>O("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",T==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[r.jsx(Hr,{className:"w-4 h-4"})," Tabela"]})]}),l&&r.jsx("span",{className:"text-xs text-destructive",children:"Erro ao carregar"}),r.jsxs(Qt,{children:[r.jsx(en,{asChild:!0,children:r.jsx(Fe,{variant:"outline",size:"icon",className:"h-9 w-9",children:r.jsx(Fs,{className:"w-4 h-4"})})}),r.jsx(tn,{className:"w-56",align:"end",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Br).map(f=>r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx(Ts,{htmlFor:`field-${f}`,className:"text-sm cursor-pointer",children:Br[f]}),r.jsx(St,{id:`field-${f}`,checked:U[f],onCheckedChange:()=>Qe(f)})]},f))]})})]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[r.jsx(Is,{className:"w-4 h-4 text-muted-foreground shrink-0 mb-2"}),r.jsxs("div",{className:"flex items-end gap-2 flex-wrap flex-1",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),r.jsxs(ae,{value:B,onValueChange:H,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos Status"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos Status"}),Object.keys(ft).map(f=>r.jsx(P,{value:f,children:ft[f]},f))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prioridade"}),r.jsxs(ae,{value:F,onValueChange:ne,children:[r.jsx(se,{className:"w-[110px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todas"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todas"}),Object.keys(Ct).map(f=>r.jsx(P,{value:f,children:Ct[f]},f))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),r.jsxs(ae,{value:Ie,onValueChange:f=>Se(f),children:[r.jsx(se,{className:"w-[110px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsx(ie,{children:_c.map(f=>r.jsx(P,{value:f.value,children:f.label},f.value))})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),r.jsxs(ae,{value:Re,onValueChange:ke,children:[r.jsx(se,{className:"w-[120px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos"}),Ae.map(f=>r.jsx(P,{value:f,children:f},f))]})]})]}),!e&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Projeto"}),r.jsxs(ae,{value:fe,onValueChange:Be,children:[r.jsx(se,{className:"w-[150px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos Projetos"}),y.map(f=>r.jsx(P,{value:f.id,children:f.name},f.id))]})]})]}),S.length>0&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Cliente"}),r.jsxs(ae,{value:re,onValueChange:le,children:[r.jsx(se,{className:"w-[130px] h-8 text-xs",children:r.jsx(oe,{placeholder:"Todos"})}),r.jsxs(ie,{children:[r.jsx(P,{value:"all",children:"Todos Clientes"}),S.map(f=>r.jsx(P,{value:f,children:f},f))]})]})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),r.jsxs(ae,{value:Ee,onValueChange:f=>he(f),children:[r.jsx(se,{className:"w-[160px] h-8 text-xs",children:r.jsx(oe,{})}),r.jsxs(ie,{children:[r.jsx(P,{value:"deadline",children:"Sem ordenação"}),Dc.map(f=>r.jsx(P,{value:f.value,children:f.label},f.value))]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar canceladas",r.jsx(St,{checked:je,onCheckedChange:W,className:"scale-75"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",r.jsx(St,{checked:Ke,onCheckedChange:Oe,className:"scale-75"})]})]})]})]}),r.jsx(rs,{open:x,onOpenChange:j,task:N,onSave:Xe,onDelete:f=>Ye(f),onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b}),r.jsx(Ur,{open:!!be,onOpenChange:f=>!f&&Ye(null),children:r.jsxs(Xr,{children:[r.jsxs(qr,{children:[r.jsx(Gr,{children:"Remover tarefa?"}),r.jsx(Jr,{children:"Esta ação não pode ser desfeita. A tarefa será removida permanentemente."})]}),r.jsxs(Zr,{children:[r.jsx(Qr,{children:"Cancelar"}),r.jsx(ea,{onClick:Pe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),i?T==="list"||T==="table"?r.jsx(bs,{}):r.jsx(ys,{}):T==="table"?r.jsx(Vr,{data:We,columns:Cn,onEdit:ct,onDelete:Ye,onBulkDelete:kn,onInlineChange:Sn,emptyMessage:"Nenhuma tarefa encontrada."}):T==="list"?r.jsx("div",{className:"space-y-3",children:We.length===0?r.jsx(Tt,{children:r.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):We.map(f=>r.jsx(Un,{task:f,cardFields:U,today:Ue,isExpanded:C.has(f.id),onToggleExpand:me,onToggleSubtask:X,onEdit:ct,onDelete:Ye,showStatus:!0,projectName:M.get(f.projectId||"")},f.id))}):r.jsxs(Ya,{sensors:Ht,collisionDetection:Da,onDragStart:wn,onDragOver:Nn,onDragEnd:bt,onDragCancel:Vt,children:[r.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:r.jsx("div",{className:"flex gap-4",style:{minWidth:`${yt.length*280}px`},children:yt.map(f=>r.jsx("div",{className:"flex-1 min-w-[260px]",children:r.jsx(Tc,{status:f,tasks:Dn[f],isOver:xe===f&&pe!==null,cardFields:U,today:Ue,expandedTasks:C,onToggleExpand:me,onToggleSubtask:X,onEdit:ct,onDelete:Ye,projectMap:M})},f))})}),r.jsx($a,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:v?r.jsx("div",{className:"w-[260px]",children:r.jsx(Un,{task:v,cardFields:U,today:Ue,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0,projectName:M.get(v.projectId||"")})}):null})]})]}),te==="subtarefas"&&r.jsx(jc,{tasks:e?k.filter(f=>f.projectId===e):k,projects:y,loading:i,onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b})]})}const vd=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"}));export{Ec as A,oa as L,vd as a};
