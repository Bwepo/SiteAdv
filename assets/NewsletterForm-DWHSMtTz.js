import{j as e,H as w,r as u,m as p,c as l,A as y}from"./index-CH2LE9ah.js";import{B as b}from"./button-4Pi_8_m-.js";import{I as v}from"./input-OijHUgs-.js";import{u as S}from"./useNewsletter-CACmSOpa.js";import{C as P}from"./circle-check-big-DAV7D6Yp.js";import{L as N}from"./loader-circle-33sADBFt.js";import{M as j}from"./mail-CTBv1P67.js";import{s as A}from"./types-3c7sL9OC.js";function R({title:n,description:a,canonical:s,type:c="website",image:t="https://marianalima.adv.br/og-image.png",noindex:r=!1,structuredData:d}){const o=n.includes("Mariana Lima")?n:`${n} | Mariana Lima Advocacia`;return e.jsxs(w,{children:[e.jsx("title",{children:o}),e.jsx("meta",{name:"title",content:o}),e.jsx("meta",{name:"description",content:a}),r&&e.jsx("meta",{name:"robots",content:"noindex, nofollow"}),e.jsx("link",{rel:"canonical",href:s}),e.jsx("meta",{property:"og:type",content:c}),e.jsx("meta",{property:"og:url",content:s}),e.jsx("meta",{property:"og:title",content:o}),e.jsx("meta",{property:"og:description",content:a}),e.jsx("meta",{property:"og:image",content:t}),e.jsx("meta",{property:"og:locale",content:"pt_BR"}),e.jsx("meta",{property:"og:site_name",content:"Mariana Lima Advocacia"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:url",content:s}),e.jsx("meta",{name:"twitter:title",content:o}),e.jsx("meta",{name:"twitter:description",content:a}),e.jsx("meta",{name:"twitter:image",content:t}),d&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(d)})]})}const C=A().email("Por favor, insira um email válido");function T({variant:n="card",className:a}){const[s,c]=u.useState(""),[t,r]=u.useState(null),[d,o]=u.useState(!1),i=S(),g=async m=>{var f;m.preventDefault(),r(null);const h=C.safeParse(s.trim());if(!h.success){r(h.error.errors[0].message);return}try{await i.mutateAsync({email:s.trim()}),o(!0),c("")}catch(x){(f=x==null?void 0:x.message)!=null&&f.includes("duplicate")?r("Este email já está cadastrado."):r("Erro ao cadastrar. Tente novamente.")}};return d?e.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:l("flex items-center gap-3 text-primary",n==="card"&&"p-6 bg-primary/5 rounded-lg border border-primary/20",a),children:[e.jsx(P,{className:"w-6 h-6 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Inscrição confirmada!"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Você receberá nossas atualizações jurídicas."})]})]}):n==="inline"?e.jsxs("form",{onSubmit:g,className:l("flex gap-2",a),children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(v,{type:"email",placeholder:"Seu melhor email",value:s,onChange:m=>c(m.target.value),className:l(t&&"border-destructive"),disabled:i.isPending}),e.jsx(y,{children:t&&e.jsx(p.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute -bottom-5 left-0 text-xs text-destructive",children:t})})]}),e.jsx(b,{type:"submit",disabled:i.isPending,children:i.isPending?e.jsx(N,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Inscrever"]})})]}):e.jsxs(p.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:l("bg-gradient-to-br from-primary/5 to-accent/5 border border-border/50 rounded-xl p-6 md:p-8",a),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(j,{className:"w-5 h-5 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Receba novidades jurídicas"})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Artigos, atualizações legislativas e insights diretamente no seu email. Sem spam, apenas conteúdo relevante."}),e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(v,{type:"email",placeholder:"Seu melhor email",value:s,onChange:m=>{c(m.target.value),t&&r(null)},className:l("bg-background",t&&"border-destructive focus-visible:ring-destructive"),disabled:i.isPending}),e.jsx(y,{children:t&&e.jsx(p.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-xs text-destructive mt-1",children:t})})]}),e.jsxs(b,{type:"submit",className:"w-full",disabled:i.isPending,children:[i.isPending?e.jsx(N,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(j,{className:"w-4 h-4 mr-2"}),"Inscrever-se gratuitamente"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Ao se inscrever, você concorda em receber nossos emails. Cancele quando quiser."})]})]})}export{T as N,R as S};
