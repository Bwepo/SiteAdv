import{a as T,j as e,r as p,c as x,m as h,L as N,P as R,E as M,A as z,F as $,N as H}from"./index-DaJ3MX30.js";import{U as y,W as U,L as C}from"./Layout-yWxjELwd.js";import{S as V}from"./SEOHead-CIwAh_C9.js";import{C as W}from"./calendar-DWpEs-NR.js";import{C as X}from"./clock-T2pF89qr.js";import{L as Y,P as Z}from"./PostContent-BGrYuY9g.js";import{B as b}from"./button-DEERLgqy.js";import{S as q}from"./share-2-gvPCaUfZ.js";import{L as G}from"./linkedin-wEOFvWIB.js";import{C as J}from"./check-CsFUqsxi.js";import{L as K}from"./link-CPwzRPFS.js";import{b as Q,c as ee}from"./usePosts-8pnI16Y4.js";import{S as f}from"./skeleton-CVnw4-t6.js";import{A as te}from"./arrow-right-DbhY2evm.js";import{I as k}from"./input-B08guCh-.js";import{T as ae,S as re}from"./textarea-EjfURZbr.js";import{L as v}from"./label-BctmAXUh.js";import{g as se,u as ie,a as oe,b as ne,c as le,d as ce}from"./usePostInteractions-x6htwiSA.js";import{H as me}from"./heart-BkFechRh.js";import{M as de}from"./mail-BrH0KoSf.js";import{L as he}from"./loader-circle-Cv29rJ8A.js";import{C as xe}from"./chevron-down-D5UxCv6l.js";import{C as ue}from"./chevron-up-CUatCa_P.js";import{N as pe}from"./NewsletterForm-CS_HxDg9.js";import{u as ge}from"./usePostViews-CoJYgvvm.js";import{A as fe}from"./arrow-left-ekx1JcOT.js";import"./chevron-right-shkVF_Ua.js";import"./useMutation-D2yDXZZe.js";import"./useNewsletter-CL5xuoC-.js";import"./circle-check-big--e9-1IVD.js";import"./types-3c7sL9OC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=T("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=T("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);function ve(a){return a?new Date(a).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""}function Ne(a){if(!a)return 0;const t=a.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(t/200))}function ye({post:a}){const t=Ne(a.content_html);return e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-foreground mb-6 leading-tight",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 md:gap-6 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:a.author_name})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("time",{dateTime:a.published_at||"",children:ve(a.published_at)})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsxs("span",{children:[t," min de leitura"]})]})]})]})}function _({url:a,title:t,className:s}){const[i,o]=p.useState(!1),r=encodeURIComponent(a),m=encodeURIComponent(t),c={whatsapp:`https://wa.me/?text=${m}%20${r}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${r}`,twitter:`https://twitter.com/intent/tweet?text=${m}&url=${r}`},d=async()=>{try{await navigator.clipboard.writeText(a),o(!0),setTimeout(()=>o(!1),2e3)}catch(n){console.error("Failed to copy:",n)}},l={hover:{scale:1.05},tap:{scale:.95}};return e.jsxs("div",{className:x("flex items-center gap-3",s),children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(q,{className:"w-4 h-4"}),"Compartilhar:"]}),e.jsx(h.a,{href:c.whatsapp,target:"_blank",rel:"noopener noreferrer",variants:l,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-[#25D366]/10 text-[#25D366] hover:bg-[#25D366]/20 transition-colors","aria-label":"Compartilhar no WhatsApp",children:e.jsx(U,{className:"w-6 h-6"})}),e.jsx(h.a,{href:c.linkedin,target:"_blank",rel:"noopener noreferrer",variants:l,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-[#0077B5]/10 text-[#0077B5] hover:bg-[#0077B5]/20 transition-colors","aria-label":"Compartilhar no LinkedIn",children:e.jsx(G,{className:"w-6 h-6"})}),e.jsx(h.a,{href:c.twitter,target:"_blank",rel:"noopener noreferrer",variants:l,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-foreground/10 text-foreground hover:bg-foreground/20 transition-colors","aria-label":"Compartilhar no Twitter/X",children:e.jsx(je,{className:"w-6 h-6"})}),e.jsx(h.div,{variants:l,whileHover:"hover",whileTap:"tap",children:e.jsx(b,{variant:"outline",size:"icon",onClick:d,className:x("rounded-full h-12 w-12",i&&"bg-green-500/10 border-green-500/50 text-green-500"),"aria-label":"Copiar link",children:i?e.jsx(J,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})})]})}function we(a){return a?new Date(a).toLocaleDateString("pt-BR",{day:"numeric",month:"short",year:"numeric"}):""}function Ce({currentSlug:a,className:t}){const{data:s,isLoading:i}=Q({published:!0,pageSize:4}),o=(s==null?void 0:s.posts.filter(r=>r.slug!==a).slice(0,3))||[];return i?e.jsxs("div",{className:x("space-y-4",t),children:[e.jsx("h3",{className:"text-xl font-serif font-semibold",children:"Outros Artigos"}),e.jsx("div",{className:"grid gap-4",children:[1,2,3].map(r=>e.jsx(f,{className:"h-24"},r))})]}):o.length===0?null:e.jsxs("aside",{className:t,children:[e.jsx("h3",{className:"text-xl font-serif font-semibold mb-4",children:"Outros Artigos"}),e.jsx("div",{className:"grid gap-4",children:o.map(r=>e.jsxs(N,{to:`/blog/${r.slug}`,className:x("group block p-4 rounded-lg border border-border/50","bg-card/30 backdrop-blur-sm","hover:border-primary/30 hover:bg-card/50","transition-all duration-200"),children:[e.jsx("h4",{className:"font-medium text-foreground group-hover:text-primary transition-colors line-clamp-2 mb-2",children:r.title}),e.jsx("span",{className:"text-sm text-muted-foreground",children:we(r.published_at)})]},r.id))}),e.jsxs(N,{to:"/blog",className:"inline-flex items-center text-primary hover:underline mt-4 text-sm font-medium",children:["Ver todos os artigos",e.jsx(te,{className:"w-4 h-4 ml-1"})]})]})}var ke="Separator",L="horizontal",_e=["horizontal","vertical"],I=p.forwardRef((a,t)=>{const{decorative:s,orientation:i=L,...o}=a,r=Le(i)?i:L,c=s?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(R.div,{"data-orientation":r,...c,...o,ref:t})});I.displayName=ke;function Le(a){return _e.includes(a)}var E=I;const A=p.forwardRef(({className:a,orientation:t="horizontal",decorative:s=!0,...i},o)=>e.jsx(E,{ref:o,decorative:s,orientation:t,className:x("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...i}));A.displayName=E.displayName;const F=p.createContext(null);function D(){const a=p.useContext(F);if(!a)throw new Error("PostInteractions components must be used within PostInteractionsProvider.");return a}function Pe({postId:a,children:t}){const{toast:s}=M(),i=se(),{data:o=0}=ie(a),{data:r=!1}=oe(a,i),m=ne(),{data:c=[]}=le(a),d=ce(),[l,n]=p.useState(!1),[u,g]=p.useState({author_name:"",author_email:"",content:""}),j=async()=>{try{await m.mutateAsync({postId:a,fingerprint:i})}catch{s({title:"Erro",description:"Não foi possível registrar sua curtida.",variant:"destructive"})}},O=async w=>{if(w.preventDefault(),!u.author_name.trim()||!u.author_email.trim()||!u.content.trim()){s({title:"Campos obrigatórios",description:"Preencha todos os campos para enviar seu comentário.",variant:"destructive"});return}try{await d.mutateAsync({post_id:a,...u}),g({author_name:"",author_email:"",content:""}),n(!1),s({title:"Comentário enviado!",description:"Seu comentário será publicado após aprovação."})}catch{s({title:"Erro ao enviar",description:"Não foi possível enviar seu comentário. Tente novamente.",variant:"destructive"})}},B=p.useMemo(()=>({likeCount:o,hasLiked:r,isTogglingLike:m.isPending,onToggleLike:j,comments:c,commentCount:c.length,showCommentForm:l,setShowCommentForm:n,commentForm:u,setCommentForm:g,onSubmitComment:O,isSubmittingComment:d.isPending}),[o,r,m.isPending,c,l,u,d.isPending]);return e.jsx(F.Provider,{value:B,children:t})}function P({className:a,commentSectionId:t="post-comments"}){const{likeCount:s,hasLiked:i,isTogglingLike:o,onToggleLike:r,commentCount:m,setShowCommentForm:c}=D(),d=()=>{c(!0);const l=document.getElementById(t);l&&l.scrollIntoView({behavior:"smooth",block:"start"})};return e.jsxs("div",{className:x("flex items-center gap-4",a),children:[e.jsxs(b,{variant:"outline",size:"lg",onClick:r,disabled:o,className:x("group transition-all duration-300",i&&"border-red-500/50 bg-red-500/10 hover:bg-red-500/20"),children:[e.jsx(me,{className:x("w-5 h-5 transition-all",i?"fill-red-500 text-red-500":"group-hover:text-red-500")}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs(b,{variant:"outline",size:"lg",onClick:d,children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:m})]})]})}function Se({className:a,id:t="post-comments"}){const{comments:s,showCommentForm:i,setShowCommentForm:o,commentForm:r,setCommentForm:m,onSubmitComment:c,isSubmittingComment:d}=D();return e.jsxs("div",{className:x("space-y-6",a),id:t,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Comentários"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.length,")"]})]}),e.jsx(z,{children:i&&e.jsx(h.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("form",{onSubmit:c,className:"space-y-4 p-4 bg-muted/30 rounded-lg border border-border",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Deixe seu comentário"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"author_name",children:"Nome *"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(k,{id:"author_name",value:r.author_name,onChange:l=>m(n=>({...n,author_name:l.target.value})),placeholder:"Seu nome",className:"pl-10",maxLength:100})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"author_email",children:"E-mail *"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(k,{id:"author_email",type:"email",value:r.author_email,onChange:l=>m(n=>({...n,author_email:l.target.value})),placeholder:"seu@email.com",className:"pl-10",maxLength:255})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Seu e-mail não será publicado."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"content",children:"Comentário *"}),e.jsx(ae,{id:"content",value:r.content,onChange:l=>m(n=>({...n,content:l.target.value})),placeholder:"Escreva seu comentário...",rows:4,maxLength:1e3}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[r.content.length,"/1000 caracteres"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{type:"submit",disabled:d,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[d?e.jsx(he,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(re,{className:"w-4 h-4 mr-2"}),"Enviar comentário"]}),e.jsx(b,{type:"button",variant:"ghost",onClick:()=>o(!1),children:"Cancelar"})]})]})})}),s.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(A,{}),e.jsx("div",{className:"space-y-4",children:s.map((l,n)=>e.jsx(Te,{comment:l,index:n},l.id))})]})]})}function Te({comment:a,index:t}){const s=i=>new Date(i).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"p-4 bg-card rounded-lg border border-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(y,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-foreground",children:a.author_name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s(a.created_at)})]}),e.jsx("p",{className:"mt-2 text-foreground/90 whitespace-pre-wrap",children:a.content})]})]})})}function Ie(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").slice(0,50)}function Ee(a){const t=[],s=/<h([23])[^>]*>([^<]+)<\/h[23]>/gi;let i;for(;(i=s.exec(a))!==null;){const o=parseInt(i[1]),r=i[2].trim();r&&t.push({id:Ie(r),text:r,level:o})}return t}function S({html:a,className:t,tone:s="default"}){const[i,o]=p.useState(""),[r,m]=p.useState(!1),c=s==="reading",d=p.useMemo(()=>Ee(a),[a]);p.useEffect(()=>{if(d.length===0)return;const n=new IntersectionObserver(u=>{u.forEach(g=>{g.isIntersecting&&o(g.target.id)})},{rootMargin:"-80px 0px -80% 0px",threshold:0});return d.forEach(({id:u})=>{const g=document.getElementById(u);g&&n.observe(g)}),()=>{n.disconnect()}},[d]);const l=n=>{const u=document.getElementById(n);if(u){const j=u.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:j,behavior:"smooth"})}};return d.length<2?null:e.jsxs(h.nav,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:x(c?"bg-[#fbf9f3] border border-[#e8e1d6]/80 rounded-lg p-4 shadow-[0_10px_24px_-18px_rgba(15,23,42,0.35)]":"bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-4",t),"aria-label":"Índice do artigo",children:[e.jsxs("button",{onClick:()=>m(!r),className:x("flex items-center justify-between w-full text-sm font-medium mb-3",c?"text-slate-900":"text-foreground"),children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:x("w-4 h-4",c?"text-amber-700":"text-primary")}),"Índice"]}),r?e.jsx(xe,{className:"w-4 h-4"}):e.jsx(ue,{className:"w-4 h-4"})]}),!r&&e.jsx(h.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-1",children:d.map(n=>e.jsx("li",{className:x(n.level===3&&"ml-3"),children:e.jsx("button",{onClick:()=>l(n.id),className:x("block w-full text-left text-sm py-1.5 px-2 rounded-md transition-colors duration-200",c?"hover:bg-amber-50/80 hover:text-slate-900":"hover:bg-muted hover:text-foreground",i===n.id?c?"text-amber-800 font-semibold bg-amber-50 border-l-2 border-amber-600":"text-primary font-medium bg-primary/5 border-l-2 border-primary":c?"text-slate-600":"text-muted-foreground",n.level===3&&"text-xs"),children:n.text})},n.id))})]})}const dt=()=>{const{slug:a}=$(),{data:t,isLoading:s,isError:i}=ee(a||"");if(ge((t==null?void 0:t.id)||""),s)return e.jsx(C,{children:e.jsx("article",{className:"py-16 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[e.jsx(f,{className:"h-4 w-32 mb-8"}),e.jsx(f,{className:"h-12 w-full mb-4"}),e.jsx(f,{className:"h-12 w-3/4 mb-6"}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx(f,{className:"h-4 w-24"}),e.jsx(f,{className:"h-4 w-24"}),e.jsx(f,{className:"h-4 w-24"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(m=>e.jsx(f,{className:"h-4 w-full"},m))})]})})});if(i||!t)return e.jsx(H,{to:"/404",replace:!0});const o=`https://marianalima.adv.br/blog/${t.slug}`,r={"@context":"https://schema.org","@type":"Article",headline:t.title,description:t.excerpt||t.title,image:t.cover_image_url||"https://marianalima.adv.br/og-image.png",datePublished:t.published_at,dateModified:t.updated_at,author:{"@type":"Person",name:t.author_name,url:"https://marianalima.adv.br/sobre"},publisher:{"@type":"Organization",name:"Mariana Lima Advocacia",logo:{"@type":"ImageObject",url:"https://marianalima.adv.br/logo-horizontal.png"}},mainEntityOfPage:{"@type":"WebPage","@id":o}};return e.jsxs(e.Fragment,{children:[e.jsx(V,{title:t.title,description:t.excerpt||`Leia "${t.title}" no blog de Mariana Lima Advocacia.`,canonical:o,type:"article",image:t.cover_image_url||"/og-image.png",structuredData:r}),e.jsx(C,{children:e.jsx("article",{className:"pt-24 md:pt-28 pb-16 md:pb-20",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(h.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"max-w-4xl",children:e.jsx(N,{to:"/blog",children:e.jsxs(b,{variant:"ghost",className:"mb-8 -ml-4 text-muted-foreground hover:text-foreground",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Voltar para o blog"]})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1 max-w-4xl",children:[t.cover_image_url&&e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"aspect-video overflow-hidden rounded-xl mb-8",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover"})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(ye,{post:t})}),e.jsxs(Pe,{postId:t.id,children:[e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8 pb-8 border-b border-border/50",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(_,{url:o,title:t.title}),e.jsx(P,{})]})}),e.jsx("div",{className:"lg:hidden mb-8",children:e.jsx(S,{html:t.content_html,tone:"reading"})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx("div",{className:"mx-auto max-w-3xl rounded-2xl border border-[#e8e1d6]/80 bg-[#fbf9f3] shadow-[0_16px_32px_-20px_rgba(15,23,42,0.45)]",children:e.jsx("div",{className:"px-6 py-8 md:px-10 md:py-12",children:e.jsx(Z,{html:t.content_html,variant:"reading"})})})}),e.jsx("div",{className:"mt-12",children:e.jsx(pe,{})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-border/50",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(_,{url:o,title:t.title}),e.jsx(P,{})]})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-12 pt-8 border-t border-border/50",children:e.jsx(Se,{})})]}),e.jsx("div",{className:"mt-16 pt-8 border-t border-border/50",children:e.jsx(Ce,{currentSlug:t.slug})})]}),e.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsx("div",{className:"sticky top-24",children:e.jsx(S,{html:t.content_html,tone:"reading"})})})]})]})})})})]})};export{dt as default};
