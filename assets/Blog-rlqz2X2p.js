import{a as q,j as e,c as n,m as u,L as y,r as p,X as L}from"./index-CH2LE9ah.js";import{L as M}from"./Layout-B7mfBsZv.js";import{S as H,N as O}from"./NewsletterForm-DWHSMtTz.js";import{C as T}from"./calendar-B4K-ZpWz.js";import{C as P}from"./clock-CVx2s6bh.js";import{A as _}from"./arrow-right-mBsmayif.js";import{I as X}from"./input-OijHUgs-.js";import{B as h}from"./button-4Pi_8_m-.js";import{S as G}from"./search-B1TMp_TH.js";import{C as J}from"./chevron-left-0-nAhtCt.js";import{C as K,F as Q}from"./file-text-De0VLbtE.js";import{S as N}from"./star-BuK4lqJc.js";import{u as U,a as V,b as W}from"./usePosts-BxepUOcu.js";import{u as Y}from"./useCategories-_JQW51Td.js";import{S as j}from"./skeleton-C622kORU.js";import"./mail-CTBv1P67.js";import"./useNewsletter-CACmSOpa.js";import"./circle-check-big-DAV7D6Yp.js";import"./loader-circle-33sADBFt.js";import"./types-3c7sL9OC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function w({categories:s,tags:r,size:t="sm",className:m}){if(!(s&&s.length>0||r&&r.length>0))return null;const d={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};return e.jsxs("div",{className:n("flex flex-wrap gap-1.5",m),children:[s==null?void 0:s.map(l=>e.jsx("span",{className:n("rounded-full font-medium transition-colors",d[t]),style:{backgroundColor:`${l.color}20`,color:l.color,borderColor:l.color},children:l.name},l.id)),r==null?void 0:r.map(l=>e.jsxs("span",{className:n("rounded-full bg-muted text-muted-foreground",d[t]),children:["#",l]},l))]})}function ee(s){return s?new Date(s).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""}function se(s){const r=s.replace(/<[^>]*>/g,"").split(/\s+/).length;return Math.ceil(r/200)}function ae({post:s,index:r=0}){const t=se(s.content_html);return e.jsx(u.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:r*.1},className:"group",children:e.jsx(y,{to:`/blog/${s.slug}`,className:"block",children:e.jsxs("div",{className:n("relative overflow-hidden rounded-lg border border-border/50","bg-card/50 backdrop-blur-sm","transition-all duration-300","hover:border-primary/30 hover:shadow-lg hover:shadow-primary/5","hover:-translate-y-1"),children:[s.cover_image_url&&e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:s.cover_image_url,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-6",children:[s.categories&&s.categories.length>0&&e.jsx(w,{categories:s.categories,size:"sm",className:"mb-3"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),ee(s.published_at)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"}),t," min de leitura"]})]}),e.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:s.excerpt}),s.tags&&s.tags.length>0&&e.jsx(w,{tags:s.tags,size:"sm",className:"mb-4"}),e.jsxs("div",{className:"flex items-center text-primary font-medium text-sm",children:["Ler mais",e.jsx(_,{className:"w-4 h-4 ml-1 transition-transform group-hover:translate-x-1"})]})]})]})})})}function re({value:s,onChange:r,className:t}){const[m,i]=p.useState(!1);return e.jsxs("div",{className:n("relative",t),children:[e.jsx(G,{className:n("absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 transition-colors",m?"text-primary":"text-muted-foreground")}),e.jsx(X,{type:"text",placeholder:"Buscar artigos...",value:s,onChange:d=>r(d.target.value),onFocus:()=>i(!0),onBlur:()=>i(!1),className:n("pl-10 pr-10 bg-card/50 border-border/50","focus:border-primary/50 focus:ring-primary/20")}),s&&e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>r(""),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",children:e.jsx(L,{className:"w-4 h-4"})})]})}function te({currentPage:s,totalPages:r,onPageChange:t,className:m}){if(r<=1)return null;const i=[],d=s>3,l=s<r-2;for(let a=1;a<=r;a++)a===1||a===r||a>=s-1&&a<=s+1?i.push(a):(a===2&&d||a===r-1&&l)&&i.push("...");const g=i.filter((a,x,v)=>a!=="..."||v[x-1]!=="...");return e.jsxs("nav",{className:n("flex items-center justify-center gap-2",m),"aria-label":"Paginação do blog",children:[e.jsx(h,{variant:"outline",size:"icon",onClick:()=>t(s-1),disabled:s===1,className:"h-9 w-9","aria-label":"Página anterior",children:e.jsx(J,{className:"w-4 h-4"})}),g.map((a,x)=>a==="..."?e.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},`ellipsis-${x}`):e.jsx(h,{variant:s===a?"default":"outline",size:"icon",onClick:()=>t(a),className:n("h-9 w-9",s===a&&"bg-primary text-primary-foreground"),"aria-current":s===a?"page":void 0,children:a},a)),e.jsx(h,{variant:"outline",size:"icon",onClick:()=>t(s+1),disabled:s===r,className:"h-9 w-9","aria-label":"Próxima página",children:e.jsx(K,{className:"w-4 h-4"})})]})}function ie({categories:s,selectedCategory:r,selectedTag:t,availableTags:m,onCategoryChange:i,onTagChange:d,isLoading:l}){const g=r||t;return l?e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:[1,2,3,4].map(a=>e.jsx("div",{className:"h-9 w-24 rounded-full bg-muted animate-pulse"},a))}):e.jsxs("div",{className:"space-y-4 p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-border/30",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>i(null),className:n("rounded-full transition-all font-medium",r?"border-border/60 hover:border-accent/50 hover:bg-accent/10 text-foreground":"bg-accent text-primary border-accent hover:bg-accent/90"),children:"Todos"}),s.map((a,x)=>e.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:x*.05},children:e.jsx(h,{variant:"outline",size:"sm",onClick:()=>i(r===a.slug?null:a.slug),className:n("rounded-full transition-all font-medium",r===a.slug?"bg-accent text-primary border-accent hover:bg-accent/90":"border-border/60 hover:border-accent/50 hover:bg-accent/10 text-foreground"),children:a.name})},a.id))]}),m.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsxs("span",{className:"flex items-center text-sm text-muted-foreground mr-2",children:[e.jsx(Z,{className:"w-4 h-4 mr-1"}),"Tags:"]}),m.slice(0,10).map((a,x)=>e.jsxs(u.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1+x*.03},onClick:()=>d(t===a?null:a),className:n("px-3 py-1.5 text-sm rounded-full border backdrop-blur-sm transition-all","hover:bg-accent/10 hover:border-accent/50",t===a?"bg-accent/20 border-accent text-accent font-medium":"border-border/40 text-muted-foreground bg-muted/30"),children:["#",a]},a))]}),g&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center",children:e.jsxs(h,{variant:"ghost",size:"sm",onClick:()=>{i(null),d(null)},className:"text-muted-foreground",children:[e.jsx(L,{className:"w-4 h-4 mr-1"}),"Limpar filtros"]})})]})}function S(s){return s?new Date(s).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""}function k(s){const r=s.replace(/<[^>]*>/g,"").split(/\s+/).length;return Math.ceil(r/200)}function le({posts:s,className:r}){if(!s||s.length===0)return null;const t=s[0],m=s.slice(1,3);return e.jsxs("section",{className:n("py-8",r),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(N,{className:"w-5 h-5 text-primary fill-primary"}),e.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground",children:"Em Destaque"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsx(u.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"group",children:e.jsx(y,{to:`/blog/${t.slug}`,className:"block h-full",children:e.jsxs("div",{className:n("relative h-full overflow-hidden rounded-xl border border-primary/30","bg-gradient-to-br from-primary/5 to-transparent","transition-all duration-300","hover:border-primary/50 hover:shadow-xl hover:shadow-primary/10","hover:-translate-y-1"),children:[t.cover_image_url&&e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-primary/10 text-primary text-xs font-medium",children:[e.jsx(N,{className:"w-3 h-3 fill-primary"}),"Destaque"]})}),t.categories&&t.categories.length>0&&e.jsx(w,{categories:t.categories,size:"sm",className:"mb-3"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),S(t.published_at)]}),e.jsxs("span",{children:[k(t.content_html)," min de leitura"]})]}),e.jsx("h3",{className:"text-2xl font-serif font-semibold text-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:t.title}),t.excerpt&&e.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex items-center text-primary font-medium",children:["Ler artigo completo",e.jsx(_,{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1"})]})]})]})})}),m.length>0&&e.jsx("div",{className:"flex flex-col gap-6",children:m.map((i,d)=>e.jsx(u.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*(d+1)},className:"group flex-1",children:e.jsx(y,{to:`/blog/${i.slug}`,className:"block h-full",children:e.jsxs("div",{className:n("relative h-full flex overflow-hidden rounded-lg border border-primary/20","bg-card/50 backdrop-blur-sm","transition-all duration-300","hover:border-primary/40 hover:shadow-lg hover:shadow-primary/5","hover:-translate-y-0.5"),children:[i.cover_image_url&&e.jsx("div",{className:"w-1/3 min-w-[120px] overflow-hidden",children:e.jsx("img",{src:i.cover_image_url,alt:i.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-3 h-3 text-primary fill-primary"}),i.categories&&i.categories.length>0&&e.jsx("span",{className:"text-xs font-medium",style:{color:i.categories[0].color},children:i.categories[0].name})]}),e.jsx("h3",{className:"text-lg font-serif font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:i.title}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:S(i.published_at)}),e.jsxs("span",{children:[k(i.content_html)," min"]})]})]})]})})},i.id))})]})]})}const Le=()=>{const[s,r]=p.useState(1),[t,m]=p.useState(""),[i,d]=p.useState(""),[l,g]=p.useState(null),[a,x]=p.useState(null),v=c=>{m(c),r(1);const b=setTimeout(()=>{d(c)},300);return()=>clearTimeout(b)},z=c=>{g(c),r(1)},E=c=>{x(c),r(1)},{data:A,isLoading:B}=Y(),{data:D,isLoading:F}=U(),{data:f}=V(),{data:o,isLoading:$,isError:I}=W({published:!0,page:s,pageSize:9,search:i,categorySlug:l||void 0,tag:a||void 0}),C=s===1&&!i&&!l&&!a,R={"@context":"https://schema.org","@type":"CollectionPage",name:"Blog | Mariana Lima Advocacia",description:"Artigos e publicações sobre Direito Ambiental, Empresarial, Tributário e Civil.",url:"https://marianalima.adv.br/blog",mainEntity:{"@type":"ItemList",numberOfItems:(o==null?void 0:o.total)||0,itemListElement:(o==null?void 0:o.posts.map((c,b)=>({"@type":"ListItem",position:b+1,url:`https://marianalima.adv.br/blog/${c.slug}`,name:c.title})))||[]}};return e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"Blog",description:"Artigos e publicações sobre Direito Ambiental, Empresarial, Tributário e Civil. Conteúdo jurídico de qualidade por Mariana Lima.",canonical:"https://marianalima.adv.br/blog",structuredData:R}),e.jsxs(M,{children:[e.jsx("section",{className:"relative py-20 md:py-28 bg-gradient-to-b from-muted/50 to-background",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-foreground mb-4",children:"Blog"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Artigos e publicações sobre Direito Ambiental, Empresarial, Tributário e Civil."}),e.jsx(re,{value:t,onChange:v,className:"max-w-md mx-auto mb-8"}),e.jsx(ie,{categories:A||[],selectedCategory:l,selectedTag:a,availableTags:D||[],onCategoryChange:z,onTagChange:E,isLoading:B||F})]})})}),C&&f&&f.length>0&&e.jsx("section",{className:"py-8 md:py-12",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsx(le,{posts:f})})}),e.jsx("section",{className:"py-16 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[$?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(c=>e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{className:"aspect-video w-full"}),e.jsx(j,{className:"h-4 w-1/3"}),e.jsx(j,{className:"h-6 w-full"}),e.jsx(j,{className:"h-20 w-full"})]},c))}):I?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-destructive",children:"Erro ao carregar artigos. Tente novamente mais tarde."})}):(o==null?void 0:o.posts.length)===0?e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(Q,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:t||l||a?"Nenhum artigo encontrado":"Nenhum artigo publicado ainda"}),e.jsx("p",{className:"text-muted-foreground",children:t?`Não encontramos artigos para "${t}".`:l||a?"Nenhum artigo com os filtros selecionados.":"Em breve teremos conteúdo aqui."})]}):e.jsxs(e.Fragment,{children:[C&&f&&f.length>0&&e.jsx("h2",{className:"text-xl font-serif font-semibold text-foreground mb-6",children:"Todos os Artigos"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:o==null?void 0:o.posts.map((c,b)=>e.jsx(ae,{post:c,index:b},c.id))}),e.jsx(te,{currentPage:s,totalPages:(o==null?void 0:o.totalPages)||1,onPageChange:r})]}),e.jsx("div",{className:"mt-16 max-w-xl mx-auto",children:e.jsx(O,{})})]})})]})]})};export{Le as default};
