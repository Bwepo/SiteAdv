const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminCrmDashboard-DdUiKQEV.js","assets/index-DYRYbjUF.js","assets/index-BC8JTJEe.css","assets/card-dbGjesPW.js","assets/badge-CHPgGg2r.js","assets/button-DwUST09_.js","assets/skeleton-CcAWZYgt.js","assets/select-DrstghLR.js","assets/index-Dc0z-_wO.js","assets/index-B5Iz7cob.js","assets/index-1krkxZ5L.js","assets/chevron-up-BaWYvRX7.js","assets/check-P7XPzAGH.js","assets/crmTypes-CFtULajH.js","assets/useQuery-D6JtfO4Y.js","assets/filter-Cn8vf6ba.js","assets/folder-kanban-B-MdzHnT.js","assets/calendar-DjKO_tGN.js","assets/list-todo-CFgA7Inp.js","assets/clock-L_AG3cIX.js","assets/triangle-alert-BuDqnhzJ.js","assets/circle-check-D0ltjNwg.js","assets/arrow-right-C3P63sg-.js","assets/users-CbmfuXiY.js"])))=>i.map(i=>d[i]);
import{c as Pt,r as c,j as a,e as Y,h as qa,a4 as G,f as Dt,m as mr,a5 as Ga}from"./index-DYRYbjUF.js";import{E as Ja,A as Za,m as Br}from"./formatters-CiNXNAzR.js";import{P as Qa,T as es}from"./TarefaSheet-DtiDdF0i.js";import{u as ts,F as ns,a as rt,b as at,c as st,d as dt,e as ot,t as rs}from"./form-B55I7jxE.js";import{S as as,b as ss,c as os,d as is,e as ls,f as cs}from"./sheet-Db29pi5c.js";import{I as Jt}from"./input-DqSQfazl.js";import{B as $e,b as vr}from"./button-DwUST09_.js";import{S as ae,a as se,b as oe,c as ie,d as L}from"./select-DrstghLR.js";import{P as Zt,a as Qt,b as en}from"./popover-Dqp61v-t.js";import{g as Bn,S as it,h as tn,a as ds,b as us,i as Wr,j as ft,T as Yr,c as Ct}from"./crmTypes-CFtULajH.js";import{S as Un}from"./search-CcuzQ0MS.js";import{C as fs}from"./check-P7XPzAGH.js";import{U as hs}from"./user-1Q_oh6zH.js";import{T as Xn}from"./trash-2-BJFk482R.js";import{L as ms}from"./loader-circle-M0bx847p.js";import{o as vs,s as ut,e as xs}from"./types-C9wiu8_K.js";import{T as zr,b as $r,c as ps,K as gs}from"./CrmSkeletons-BSchD32S.js";import{C as Tt,c as Et}from"./card-dbGjesPW.js";import{t as Z,e as mt,s as nn,g as Rt,h as xr,m as bs,i as ys,j as Je,k as ws,l as js,n as qn,o as Ns,p as Ds,f as lt,q as Hr}from"./format-Bo8wDDlG.js";import{C as Cs}from"./chevron-left-DB9UwXCt.js";import{C as Ss}from"./chevron-right-Dnwx6Zlz.js";import{A as Kr,a as Vr,b as Ur,c as Xr,d as qr,e as Gr,f as Jr,g as Zr}from"./alert-dialog-SDstVHq-.js";import{B as Ne,P as Qr}from"./badge-CHPgGg2r.js";import{S as St}from"./switch-QBzXab4I.js";import{C as vt}from"./calendar-DjKO_tGN.js";import{U as fn}from"./users-CbmfuXiY.js";import{F as hn}from"./folder-kanban-B-MdzHnT.js";import{L as ea}from"./list-CdB9HfN9.js";import{P as ks}from"./pencil-DYtkw-pS.js";import{L as _s}from"./label-C1my3fiN.js";import{S as _n}from"./skeleton-CcAWZYgt.js";import{C as Ms,a as Ts}from"./circle-check-D0ltjNwg.js";import{C as Es}from"./clipboard-list-ByxAMATH.js";import{F as Rs}from"./filter-Cn8vf6ba.js";import{C as ta,a as Os}from"./circle-x-xJwNpDsI.js";import{C as Is}from"./clock-L_AG3cIX.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Pt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Pt("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Pt("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Pt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);function je(e,t){const n=Z(e);return isNaN(t)?mt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function He(e,t){const n=Z(e);if(isNaN(t))return mt(e,NaN);if(!t)return n;const r=n.getDate(),s=mt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function Wn(e,t){const n=t*7;return je(e,n)}function Ls(e,t){return He(e,t*12)}function Fs(e){let t;return e.forEach(function(n){const r=Z(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Bs(e){let t;return e.forEach(n=>{const r=Z(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Me(e,t){const n=nn(e),r=nn(t);return+n==+r}function Ot(e,t){const n=Z(e),r=Z(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Ws(e,t,n){const r=Rt(e,n),s=Rt(t,n),o=+r-xr(r),i=+s-xr(s);return Math.round((o-i)/bs)}function Gn(e){const t=Z(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Te(e){const t=Z(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Jn(e,t){var l,d,u,h;const n=ys(),r=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Z(e),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function aa(e){return Jn(e,{weekStartsOn:1})}function Ys(e){const t=Z(e),n=t.getFullYear(),r=t.getMonth(),s=mt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function zs(e){return Math.trunc(+Z(e)/1e3)}function $s(e){const t=Z(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Hs(e,t){return Ws($s(e),Te(e),t)+1}function Yn(e,t){const n=Z(e),r=Z(t);return n.getTime()>r.getTime()}function sa(e,t){const n=Z(e),r=Z(t);return+n<+r}function Zn(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ks(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()}function Mn(e,t){return je(e,-t)}function Tn(e,t){const n=Z(e),r=n.getFullYear(),s=n.getDate(),o=mt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=Ys(o);return n.setMonth(t,Math.min(s,i)),n}function gr(e,t){const n=Z(e);return isNaN(+n)?mt(e,NaN):(n.setFullYear(t),n)}const Vs=vs({title:ut().trim().min(1,"Título obrigatório").max(200),parentTaskId:ut().min(1,"Tarefa-mãe obrigatória"),deadline:ut().optional(),status:xs(["A fazer","Em andamento","Concluído"]),assignee:ut().optional(),notes:ut().max(2e3).optional(),numeroProcesso:ut().max(25).optional()}),Us=Object.entries(it);function Xs({open:e,onOpenChange:t,subtask:n,tasks:r,onSave:s,onDelete:o}){const i=!n,[l,d]=c.useState(!1),[u,h]=c.useState(""),[m,g]=c.useState(!1),p=c.useMemo(()=>{if(!u.trim())return r;const x=u.toLowerCase();return r.filter(j=>j.title.toLowerCase().includes(x))},[r,u]),b=ts({resolver:rs(Vs),defaultValues:{title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:""}});c.useEffect(()=>{e&&(n?b.reset({title:n.title,parentTaskId:n.parentTaskId,deadline:n.dueDate??"",status:n.status,assignee:n.assignee??"",notes:n.notes??"",numeroProcesso:n.numeroProcesso??""}):b.reset({title:"",parentTaskId:"",deadline:"",status:"A fazer",assignee:"",notes:"",numeroProcesso:""}))},[e,n]);const y=async x=>{d(!0);try{await s(x,i,n==null?void 0:n.id),t(!1)}catch(j){qa.error("Erro ao salvar subtarefa: "+j.message),console.error("Erro ao salvar subtarefa:",j)}finally{d(!1)}};return a.jsx(as,{open:e,onOpenChange:t,children:a.jsxs(ss,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[a.jsxs(os,{className:"mb-6",children:[a.jsx(is,{children:i?"Nova Subtarefa":"Editar Subtarefa"}),a.jsx(ls,{children:i?"Preencha os dados e selecione a tarefa-mãe relacionada.":"Altere os campos e salve."})]}),a.jsx(ns,{...b,children:a.jsxs("form",{onSubmit:b.handleSubmit(y),className:"space-y-5",children:[a.jsx(rt,{control:b.control,name:"title",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Título *"}),a.jsx(dt,{children:a.jsx(Jt,{placeholder:"Ex: Enviar documento",...x})}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"parentTaskId",render:({field:x})=>{var j;return a.jsxs(at,{className:"flex flex-col",children:[a.jsx(st,{children:"Tarefa-mãe *"}),a.jsxs(Zt,{open:m,onOpenChange:g,children:[a.jsx(Qt,{asChild:!0,children:a.jsx(dt,{children:a.jsxs($e,{variant:"outline",role:"combobox",className:Y("w-full justify-between font-normal",!x.value&&"text-muted-foreground"),children:[a.jsx("span",{className:"truncate",children:x.value?((j=r.find(N=>N.id===x.value))==null?void 0:j.title)??"Tarefa não encontrada":"Selecione a tarefa-mãe..."}),a.jsx(As,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),a.jsxs(en,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:[a.jsxs("div",{className:"flex items-center border-b px-3",children:[a.jsx(Un,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx("input",{className:"flex h-10 w-full bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground",placeholder:"Buscar tarefa...",value:u,onChange:N=>h(N.target.value)})]}),a.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:p.length===0?a.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Nenhuma tarefa encontrada."}):p.map(N=>a.jsxs("button",{type:"button",className:Y("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",x.value===N.id&&"bg-accent"),onClick:()=>{x.onChange(N.id),g(!1),h("")},children:[a.jsx(fs,{className:Y("mr-2 h-4 w-4",x.value===N.id?"opacity-100":"opacity-0")}),a.jsx("span",{className:"truncate",children:N.title})]},N.id))})]})]}),a.jsx(ot,{})]})}}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(rt,{control:b.control,name:"deadline",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Prazo"}),a.jsx(dt,{children:a.jsx(Jt,{type:"date",...x})}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"status",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Status"}),a.jsxs(ae,{onValueChange:x.onChange,value:x.value,children:[a.jsx(dt,{children:a.jsx(se,{children:a.jsx(oe,{})})}),a.jsx(ie,{children:Us.map(([j,N])=>a.jsx(L,{value:j,children:N},j))})]}),a.jsx(ot,{})]})})]}),a.jsx(rt,{control:b.control,name:"assignee",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Responsável"}),a.jsxs(ae,{onValueChange:j=>x.onChange(j==="_none_"?"":j),value:x.value||"_none_",children:[a.jsx(dt,{children:a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hs,{className:"w-3.5 h-3.5 text-muted-foreground"}),a.jsx(oe,{placeholder:"Responsável..."})]})})}),a.jsxs(ie,{children:[a.jsx(L,{value:"_none_",children:"— Sem responsável —"}),Bn.map(j=>a.jsx(L,{value:j,children:j},j))]})]}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"numeroProcesso",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Processo Judicial"}),a.jsx(Qa,{value:x.value??"",onValueChange:x.onChange}),a.jsx(ot,{})]})}),a.jsx(rt,{control:b.control,name:"notes",render:({field:x})=>a.jsxs(at,{children:[a.jsx(st,{children:"Observações"}),a.jsx(dt,{children:a.jsx(Ja,{value:x.value??"",onChange:x.onChange,placeholder:"Observações...",modalTitle:"Editar Observações da Subtarefa"})}),a.jsx(ot,{})]})}),!i&&(n==null?void 0:n.id)&&a.jsx(Za,{folder:`subtarefas/${n.id}`}),a.jsxs(cs,{className:"gap-2 flex-col sm:flex-row",children:[!i&&n&&o&&a.jsxs($e,{type:"button",variant:"destructive",className:"sm:mr-auto",onClick:()=>{o(n.id),t(!1)},disabled:l,children:[a.jsx(Xn,{className:"w-4 h-4 mr-2"})," Excluir"]}),a.jsxs($e,{type:"submit",disabled:l,className:"flex-1",children:[l&&a.jsx(ms,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Criar Subtarefa":"Salvar Alterações"]})]})]})})]})})}var T=function(){return T=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},T.apply(this,arguments)};function qs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function oa(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Lt(e){return e.mode==="multiple"}function Ft(e){return e.mode==="range"}function mn(e){return e.mode==="single"}var Gs={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Js(e,t){return lt(e,"LLLL y",t)}function Zs(e,t){return lt(e,"d",t)}function Qs(e,t){return lt(e,"LLLL",t)}function eo(e){return"".concat(e)}function to(e,t){return lt(e,"cccccc",t)}function no(e,t){return lt(e,"yyyy",t)}var ro=Object.freeze({__proto__:null,formatCaption:Js,formatDay:Zs,formatMonthCaption:Qs,formatWeekNumber:eo,formatWeekdayName:to,formatYearCaption:no}),ao=function(e,t,n){return lt(e,"do MMMM (EEEE)",n)},so=function(){return"Month: "},oo=function(){return"Go to next month"},io=function(){return"Go to previous month"},lo=function(e,t){return lt(e,"cccc",t)},co=function(e){return"Week n. ".concat(e)},uo=function(){return"Year: "},fo=Object.freeze({__proto__:null,labelDay:ao,labelMonthDropdown:so,labelNext:oo,labelPrevious:io,labelWeekNumber:co,labelWeekday:lo,labelYearDropdown:uo});function ho(){var e="buttons",t=Gs,n=ws,r={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:ro,labels:fo,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function mo(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Te(r):t&&(o=new Date(t,0,1)),s?i=Gn(s):n&&(i=new Date(n,11,31)),{fromDate:o?nn(o):void 0,toDate:i?nn(i):void 0}}var ia=c.createContext(void 0);function vo(e){var t,n=e.initialProps,r=ho(),s=mo(n),o=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var d;(mn(n)||Lt(n)||Ft(n))&&(d=n.onSelect);var u=T(T(T({},r),n),{captionLayout:l,classNames:T(T({},r.classNames),n.classNames),components:T({},n.components),formatters:T(T({},r.formatters),n.formatters),fromDate:o,labels:T(T({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:T(T({},r.modifiers),n.modifiers),modifiersClassNames:T(T({},r.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:T(T({},r.styles),n.styles),toDate:i});return a.jsx(ia.Provider,{value:u,children:e.children})}function U(){var e=c.useContext(ia);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function la(e){var t=U(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function xo(e){return a.jsx("svg",T({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ca(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,d=e.style,u=U(),h=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:xo;return a.jsxs("div",{className:l,style:d,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function po(e){var t,n=U(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,d=n.classNames,u=n.components,h=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(Ks(r,s))for(var g=Te(r),p=r.getMonth();p<=s.getMonth();p++)m.push(Tn(g,p));else for(var g=Te(new Date),p=0;p<=11;p++)m.push(Tn(g,p));var b=function(x){var j=Number(x.target.value),N=Tn(Te(e.displayMonth),j);e.onChange(N)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ca;return a.jsx(y,{name:"months","aria-label":h(),className:d.dropdown_month,style:o.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function go(e){var t,n=e.displayMonth,r=U(),s=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,d=r.classNames,u=r.components,h=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,g=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),b=o.getFullYear(),y=p;y<=b;y++)g.push(gr(js(new Date),y));var x=function(N){var E=gr(Te(n),Number(N.target.value));e.onChange(E)},j=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:ca;return a.jsx(j,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:h(n,{locale:i}),children:g.map(function(N){return a.jsx("option",{value:N.getFullYear(),children:h(N,{locale:i})},N.getFullYear())})})}function bo(e,t){var n=c.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function yo(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(o&&Ot(o,s)<0){var u=-1*(d-1);s=He(o,u)}return i&&Ot(s,i)<0&&(s=i),Te(s)}function wo(){var e=U(),t=yo(e),n=bo(t,e.month),r=n[0],s=n[1],o=function(i){var l;if(!e.disableNavigation){var d=Te(i);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[r,o]}function jo(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Te(e),o=Te(He(s,r)),i=Ot(o,s),l=[],d=0;d<i;d++){var u=He(s,d);l.push(u)}return n&&(l=l.reverse()),l}function No(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Te(e);if(!n)return He(l,i);var d=Ot(n,e);if(!(d<o))return He(l,i)}}function Do(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,l=Te(e);if(!n)return He(l,-i);var d=Ot(l,n);if(!(d<=0))return He(l,-i)}}var da=c.createContext(void 0);function Co(e){var t=U(),n=wo(),r=n[0],s=n[1],o=jo(r,t),i=No(r,t),l=Do(r,t),d=function(m){return o.some(function(g){return Zn(m,g)})},u=function(m,g){d(m)||(g&&sa(m,g)?s(He(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:d};return a.jsx(da.Provider,{value:h,children:e.children})}function Bt(){var e=c.useContext(da);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function br(e){var t,n=U(),r=n.classNames,s=n.styles,o=n.components,i=Bt().goToMonth,l=function(h){i(He(h,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:la,u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(po,{onChange:l,displayMonth:e.displayMonth}),a.jsx(go,{onChange:l,displayMonth:e.displayMonth})]})}function So(e){return a.jsx("svg",T({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ko(e){return a.jsx("svg",T({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rn=c.forwardRef(function(e,t){var n=U(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=T(T({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",T({},e,{ref:t,type:"button",className:i,style:l}))});function _o(e){var t,n,r=U(),s=r.dir,o=r.locale,i=r.classNames,l=r.styles,d=r.labels,u=d.labelPrevious,h=d.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var g=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),x=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:ko,j=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:So;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(rn,{name:"previous-month","aria-label":g,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:i.nav_icon,style:l.nav_icon}):a.jsx(j,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(rn,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(j,{className:i.nav_icon,style:l.nav_icon}):a.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function yr(e){var t=U().numberOfMonths,n=Bt(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(b){return Zn(e.displayMonth,b)}),d=l===0,u=l===i.length-1,h=t>1&&(d||!u),m=t>1&&(u||!d),g=function(){r&&o(r)},p=function(){s&&o(s)};return a.jsx(_o,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:r,onPreviousClick:g,onNextClick:p})}function Mo(e){var t,n=U(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,l=n.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:la,u;return s?u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(br,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(br,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(yr,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(yr,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:r.caption,style:o.caption,children:u})}function To(e){var t=U(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function Eo(e,t,n){for(var r=n?qn(new Date):Rt(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=je(r,o);s.push(i)}return s}function Ro(){var e=U(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=Eo(s,o,i);return a.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(h,m){return a.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Oo(){var e,t=U(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Ro;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(o,{})})}function Io(e){var t=U(),n=t.locale,r=t.formatters.formatDay;return a.jsx(a.Fragment,{children:r(e.date,{locale:n})})}var Qn=c.createContext(void 0);function Ao(e){if(!Lt(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Qn.Provider,{value:t,children:e.children})}return a.jsx(Po,{initialProps:e.initialProps,children:e.children})}function Po(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,h,m){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,u,h,m);var b=!!(h.selected&&s&&(r==null?void 0:r.length)===s);if(!b){var y=!!(!h.selected&&o&&(r==null?void 0:r.length)===o);if(!y){var x=r?oa([],r):[];if(h.selected){var j=x.findIndex(function(N){return Me(u,N)});x.splice(j,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,h,m)}}},l={disabled:[]};r&&l.disabled.push(function(u){var h=o&&r.length>o-1,m=r.some(function(g){return Me(g,u)});return!!(h&&!m)});var d={selected:r,onDayClick:i,modifiers:l};return a.jsx(Qn.Provider,{value:d,children:n})}function er(){var e=c.useContext(Qn);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Lo(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Me(s,e)&&Me(r,e)?void 0:Me(s,e)?{from:s,to:void 0}:Me(r,e)?void 0:Yn(r,e)?{from:e,to:s}:{from:r,to:e}:s?Yn(e,s)?{from:s,to:e}:{from:e,to:s}:r?sa(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var tr=c.createContext(void 0);function Fo(e){if(!Ft(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(tr.Provider,{value:t,children:e.children})}return a.jsx(Bo,{initialProps:e.initialProps,children:e.children})}function Bo(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,l=t.min,d=t.max,u=function(p,b,y){var x,j;(x=t.onDayClick)===null||x===void 0||x.call(t,p,b,y);var N=Lo(p,r);(j=t.onSelect)===null||j===void 0||j.call(t,N,p,b,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],i?(h.range_end=[i],Me(o,i)||(h.range_middle=[{after:o,before:i}])):h.range_end=[o]):i&&(h.range_start=[i],h.range_end=[i]),l&&(o&&!i&&h.disabled.push({after:Mn(o,l-1),before:je(o,l-1)}),o&&i&&h.disabled.push({after:o,before:je(o,l-1)}),!o&&i&&h.disabled.push({after:Mn(i,l-1),before:je(i,l-1)})),d){if(o&&!i&&(h.disabled.push({before:je(o,-d+1)}),h.disabled.push({after:je(o,d-1)})),o&&i){var m=Je(i,o)+1,g=d-m;h.disabled.push({before:Mn(o,g)}),h.disabled.push({after:je(i,g)})}!o&&i&&(h.disabled.push({before:je(i,-d+1)}),h.disabled.push({after:je(i,d-1)}))}return a.jsx(tr.Provider,{value:{selected:r,onDayClick:u,modifiers:h},children:n})}function nr(){var e=c.useContext(tr);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function qt(e){return Array.isArray(e)?oa([],e):e!==void 0?[e]:[]}function Wo(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=qt(s)}),t}var Ke;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ke||(Ke={}));var Yo=Ke.Selected,Ge=Ke.Disabled,zo=Ke.Hidden,$o=Ke.Today,En=Ke.RangeEnd,Rn=Ke.RangeMiddle,On=Ke.RangeStart,Ho=Ke.Outside;function Ko(e,t,n){var r,s=(r={},r[Yo]=qt(e.selected),r[Ge]=qt(e.disabled),r[zo]=qt(e.hidden),r[$o]=[e.today],r[En]=[],r[Rn]=[],r[On]=[],r[Ho]=[],r);return e.fromDate&&s[Ge].push({before:e.fromDate}),e.toDate&&s[Ge].push({after:e.toDate}),Lt(e)?s[Ge]=s[Ge].concat(t.modifiers[Ge]):Ft(e)&&(s[Ge]=s[Ge].concat(n.modifiers[Ge]),s[On]=n.modifiers[On],s[Rn]=n.modifiers[Rn],s[En]=n.modifiers[En]),s}var ua=c.createContext(void 0);function Vo(e){var t=U(),n=er(),r=nr(),s=Ko(t,n,r),o=Wo(t.modifiers),i=T(T({},s),o);return a.jsx(ua.Provider,{value:i,children:e.children})}function fa(){var e=c.useContext(ua);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Uo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Xo(e){return!!(e&&typeof e=="object"&&"from"in e)}function qo(e){return!!(e&&typeof e=="object"&&"after"in e)}function Go(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Zo(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=Je(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Je(e,r)>=0&&Je(s,e)>=0;return i}return s?Me(s,e):r?Me(r,e):!1}function Qo(e){return Hr(e)}function ei(e){return Array.isArray(e)&&e.every(Hr)}function ti(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Qo(n))return Me(e,n);if(ei(n))return n.includes(e);if(Xo(n))return Zo(e,n);if(Jo(n))return n.dayOfWeek.includes(e.getDay());if(Uo(n)){var r=Je(n.before,e),s=Je(n.after,e),o=r>0,i=s<0,l=Yn(n.before,n.after);return l?i&&o:o||i}return qo(n)?Je(e,n.after)>0:Go(n)?Je(n.before,e)>0:typeof n=="function"?n(e):!1})}function rr(e,t,n){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return ti(e,l)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Zn(e,n)&&(s.outside=!0),s}function ni(e,t){for(var n=Te(e[0]),r=Gn(e[e.length-1]),s,o,i=n;i<=r;){var l=rr(i,t),d=!l.disabled&&!l.hidden;if(!d){i=je(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=je(i,1)}return o||s}var ri=365;function ha(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,d=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,g={day:je,week:Wn,month:He,year:Ls,startOfWeek:function(x){return s.ISOWeek?qn(x):Rt(x,{locale:m,weekStartsOn:d})},endOfWeek:function(x){return s.ISOWeek?aa(x):Jn(x,{locale:m,weekStartsOn:d})}},p=g[n](e,r==="after"?1:-1);r==="before"&&u?p=Fs([u,p]):r==="after"&&h&&(p=Bs([h,p]));var b=!0;if(o){var y=rr(p,o);b=!y.disabled&&!y.hidden}return b?p:l.count>ri?l.lastFocused:ha(p,{moveBy:n,direction:r,context:s,modifiers:o,retry:T(T({},l),{count:l.count+1})})}var ma=c.createContext(void 0);function ai(e){var t=Bt(),n=fa(),r=c.useState(),s=r[0],o=r[1],i=c.useState(),l=i[0],d=i[1],u=ni(t.displayMonths,n),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){d(s),o(void 0)},g=function(x){o(x)},p=U(),b=function(x,j){if(s){var N=ha(s,{moveBy:x,direction:j,context:p,modifiers:n});Me(s,N)||(t.goToDate(N,s),g(N))}},y={focusedDay:s,focusTarget:h,blur:m,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return a.jsx(ma.Provider,{value:y,children:e.children})}function ar(){var e=c.useContext(ma);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function si(e,t){var n=fa(),r=rr(e,n,t);return r}var sr=c.createContext(void 0);function oi(e){if(!mn(e.initialProps)){var t={selected:void 0};return a.jsx(sr.Provider,{value:t,children:e.children})}return a.jsx(ii,{initialProps:e.initialProps,children:e.children})}function ii(e){var t=e.initialProps,n=e.children,r=function(o,i,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:r};return a.jsx(sr.Provider,{value:s,children:n})}function va(){var e=c.useContext(sr);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function li(e,t){var n=U(),r=va(),s=er(),o=nr(),i=ar(),l=i.focusDayAfter,d=i.focusDayBefore,u=i.focusWeekAfter,h=i.focusWeekBefore,m=i.blur,g=i.focus,p=i.focusMonthBefore,b=i.focusMonthAfter,y=i.focusYearBefore,x=i.focusYearAfter,j=i.focusStartOfWeek,N=i.focusEndOfWeek,E=function(C){var _,q,Ee,pe;mn(n)?(_=r.onDayClick)===null||_===void 0||_.call(r,e,t,C):Lt(n)?(q=s.onDayClick)===null||q===void 0||q.call(s,e,t,C):Ft(n)?(Ee=o.onDayClick)===null||Ee===void 0||Ee.call(o,e,t,C):(pe=n.onDayClick)===null||pe===void 0||pe.call(n,e,t,C)},k=function(C){var _;g(e),(_=n.onDayFocus)===null||_===void 0||_.call(n,e,t,C)},O=function(C){var _;m(),(_=n.onDayBlur)===null||_===void 0||_.call(n,e,t,C)},R=function(C){var _;(_=n.onDayMouseEnter)===null||_===void 0||_.call(n,e,t,C)},I=function(C){var _;(_=n.onDayMouseLeave)===null||_===void 0||_.call(n,e,t,C)},A=function(C){var _;(_=n.onDayPointerEnter)===null||_===void 0||_.call(n,e,t,C)},B=function(C){var _;(_=n.onDayPointerLeave)===null||_===void 0||_.call(n,e,t,C)},H=function(C){var _;(_=n.onDayTouchCancel)===null||_===void 0||_.call(n,e,t,C)},F=function(C){var _;(_=n.onDayTouchEnd)===null||_===void 0||_.call(n,e,t,C)},te=function(C){var _;(_=n.onDayTouchMove)===null||_===void 0||_.call(n,e,t,C)},ne=function(C){var _;(_=n.onDayTouchStart)===null||_===void 0||_.call(n,e,t,C)},le=function(C){var _;(_=n.onDayKeyUp)===null||_===void 0||_.call(n,e,t,C)},ue=function(C){var _;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():d();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?d():l();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),u();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),h();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?y():p();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?x():b();break;case"Home":C.preventDefault(),C.stopPropagation(),j();break;case"End":C.preventDefault(),C.stopPropagation(),N();break}(_=n.onDayKeyDown)===null||_===void 0||_.call(n,e,t,C)},We={onClick:E,onFocus:k,onBlur:O,onKeyDown:ue,onKeyUp:le,onMouseEnter:R,onMouseLeave:I,onPointerEnter:A,onPointerLeave:B,onTouchCancel:H,onTouchEnd:F,onTouchMove:te,onTouchStart:ne};return We}function ci(){var e=U(),t=va(),n=er(),r=nr(),s=mn(e)?t.selected:Lt(e)?n.selected:Ft(e)?r.selected:void 0;return s}function di(e){return Object.values(Ke).includes(e)}function ui(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(di(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function fi(e,t){var n=T({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=T(T({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function hi(e,t,n){var r,s,o,i=U(),l=ar(),d=si(e,t),u=li(e,d),h=ci(),m=!!(i.onDayClick||i.mode!=="default");c.useEffect(function(){var R;d.outside||l.focusedDay&&m&&Me(l.focusedDay,e)&&((R=n.current)===null||R===void 0||R.focus())},[l.focusedDay,e,n,m,d.outside]);var g=ui(i,d).join(" "),p=fi(i,d),b=!!(d.outside&&!i.showOutsideDays||d.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Io,x=a.jsx(y,{date:e,displayMonth:t,activeModifiers:d}),j={style:p,className:g,children:x,role:"gridcell"},N=l.focusTarget&&Me(l.focusTarget,e)&&!d.outside,E=l.focusedDay&&Me(l.focusedDay,e),k=T(T(T({},j),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=E||N?0:-1,r)),u),O={isButton:m,isHidden:b,activeModifiers:d,selectedDays:h,buttonProps:k,divProps:j};return O}function mi(e){var t=c.useRef(null),n=hi(e.date,e.displayMonth,t);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(rn,T({name:"day",ref:t},n.buttonProps)):a.jsx("div",T({},n.divProps))}function vi(e){var t=e.number,n=e.dates,r=U(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,d=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:h});var m=d(Number(t),{locale:l}),g=function(p){s(t,n,p)};return a.jsx(rn,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:g,children:h})}function xi(e){var t,n,r=U(),s=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:mi,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:vi,h;return i&&(h=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[h,e.dates.map(function(m){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:m})},zs(m))})]})}function wr(e,t,n){for(var r=n!=null&&n.ISOWeek?aa(t):Jn(t,n),s=n!=null&&n.ISOWeek?qn(e):Rt(e,n),o=Je(r,s),i=[],l=0;l<=o;l++)i.push(je(s,l));var d=i.reduce(function(u,h){var m=n!=null&&n.ISOWeek?Ns(h):Ds(h,n),g=u.find(function(p){return p.weekNumber===m});return g?(g.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return d}function pi(e,t){var n=wr(Te(e),Gn(e),t);if(t!=null&&t.useFixedWeeks){var r=Hs(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Wn(o,6-r),l=wr(Wn(o,1),i,t);n.push.apply(n,l)}}return n}function gi(e){var t,n,r,s=U(),o=s.locale,i=s.classNames,l=s.styles,d=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,g=s.firstWeekContainsDate,p=s.ISOWeek,b=pi(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:g}),y=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Oo,x=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:xi,j=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:To;return a.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(y,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:b.map(function(N){return a.jsx(x,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),a.jsx(j,{displayMonth:e.displayMonth})]})}function bi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yi=bi()?c.useLayoutEffect:c.useEffect,In=!1,wi=0;function jr(){return"react-day-picker-".concat(++wi)}function ji(e){var t,n=e??(In?jr():null),r=c.useState(n),s=r[0],o=r[1];return yi(function(){s===null&&o(jr())},[]),c.useEffect(function(){In===!1&&(In=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Ni(e){var t,n,r=U(),s=r.dir,o=r.classNames,i=r.styles,l=r.components,d=Bt().displayMonths,u=ji(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],g=i.month,p=e.displayIndex===0,b=e.displayIndex===d.length-1,y=!p&&!b;s==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(m.push(o.caption_start),g=T(T({},g),i.caption_start)),b&&(m.push(o.caption_end),g=T(T({},g),i.caption_end)),y&&(m.push(o.caption_between),g=T(T({},g),i.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Mo;return a.jsxs("div",{className:m.join(" "),style:g,children:[a.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(gi,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Di(e){var t=U(),n=t.classNames,r=t.styles;return a.jsx("div",{className:n.months,style:r.months,children:e.children})}function Ci(e){var t,n,r=e.initialProps,s=U(),o=ar(),i=Bt(),l=c.useState(!1),d=l[0],u=l[1];c.useEffect(function(){s.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,d,o.focus,o.focusTarget,o]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=T(T({},s.styles.root),s.style),g=Object.keys(r).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var x;return T(T({},b),(x={},x[y]=r[y],x))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Di;return a.jsx("div",T({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:a.jsx(p,{children:i.displayMonths.map(function(b,y){return a.jsx(Ni,{displayIndex:y,displayMonth:b},y)})})}))}function Si(e){var t=e.children,n=qs(e,["children"]);return a.jsx(vo,{initialProps:n,children:a.jsx(Co,{children:a.jsx(oi,{initialProps:n,children:a.jsx(Ao,{initialProps:n,children:a.jsx(Fo,{initialProps:n,children:a.jsx(Vo,{children:a.jsx(ai,{children:t})})})})})})})}function ki(e){return a.jsx(Si,T({},e,{children:a.jsx(Ci,{initialProps:e})}))}function or({className:e,classNames:t,showOutsideDays:n=!0,...r}){return a.jsx(ki,{showOutsideDays:n,className:Y("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Y(vr({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Y(vr({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(Cs,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Ss,{className:"h-4 w-4"})},...r})}or.displayName="Calendar";function _i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const vn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xt(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ir(e){return"nodeType"in e}function De(e){var t,n;return e?xt(e)?e:ir(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function lr(e){const{Document:t}=De(e);return e instanceof t}function Wt(e){return xt(e)?!1:e instanceof De(e).HTMLElement}function xa(e){return e instanceof De(e).SVGElement}function pt(e){return e?xt(e)?e.document:ir(e)?lr(e)?e:Wt(e)||xa(e)?e.ownerDocument:document:document:document}const Ve=vn?c.useLayoutEffect:c.useEffect;function xn(e){const t=c.useRef(e);return Ve(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Mi(){const e=c.useRef(null),t=c.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function It(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return Ve(()=>{n.current!==e&&(n.current=e)},t),n}function Yt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function an(e){const t=xn(e),n=c.useRef(null),r=c.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function sn(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let An={};function zt(e,t){return c.useMemo(()=>{if(t)return t;const n=An[e]==null?0:An[e]+1;return An[e]=n,e+"-"+n},[e,t])}function pa(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const l=Object.entries(i);for(const[d,u]of l){const h=o[d];h!=null&&(o[d]=h+e*u)}return o},{...t})}}const ht=pa(1),on=pa(-1);function Ti(e){return"clientX"in e&&"clientY"in e}function pn(e){if(!e)return!1;const{KeyboardEvent:t}=De(e.target);return t&&e instanceof t}function Ei(e){if(!e)return!1;const{TouchEvent:t}=De(e.target);return t&&e instanceof t}function ln(e){if(Ei(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ti(e)?{x:e.clientX,y:e.clientY}:null}const Ze=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ze.Translate.toString(e),Ze.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Nr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ri(e){return e.matches(Nr)?e:e.querySelector(Nr)}const Oi={display:"none"};function Ii(e){let{id:t,value:n}=e;return G.createElement("div",{id:t,style:Oi},n)}function Ai(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return G.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Pi(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ga=c.createContext(null);function Li(e){const t=c.useContext(ga);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Fi(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:s,event:o}=r;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,o)})},[e]),t]}const Bi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Yi(e){let{announcements:t=Wi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=Bi}=e;const{announce:o,announcement:i}=Pi(),l=zt("DndLiveRegion"),[d,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Li(c.useMemo(()=>({onDragStart(m){let{active:g}=m;o(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:p}=m;t.onDragMove&&o(t.onDragMove({active:g,over:p}))},onDragOver(m){let{active:g,over:p}=m;o(t.onDragOver({active:g,over:p}))},onDragEnd(m){let{active:g,over:p}=m;o(t.onDragEnd({active:g,over:p}))},onDragCancel(m){let{active:g,over:p}=m;o(t.onDragCancel({active:g,over:p}))}}),[o,t])),!d)return null;const h=G.createElement(G.Fragment,null,G.createElement(Ii,{id:r,value:s.draggable}),G.createElement(Ai,{id:l,announcement:i}));return n?Dt.createPortal(h,n):h}var de;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(de||(de={}));function cn(){}function ba(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ya(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ue=Object.freeze({x:0,y:0});function zi(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $i(e,t){const n=ln(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Hi(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ki(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Dr(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function Vi(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const wa=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=Dr(t),o=[];for(const i of r){const{id:l}=i,d=n.get(l);if(d){const u=Dr(d),h=s.reduce((g,p,b)=>g+zi(u[b],p),0),m=Number((h/4).toFixed(4));o.push({id:l,data:{droppableContainer:i,value:m}})}}return o.sort(Hi)};function Ui(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,l=o-n;if(r<s&&n<o){const d=t.width*t.height,u=e.width*e.height,h=i*l,m=h/(d+u-h);return Number(m.toFixed(4))}return 0}const Xi=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:i}=o,l=n.get(i);if(l){const d=Ui(l,t);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(Ki)};function qi(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ja(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ue}function Gi(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Ji=Gi(1);function Na(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Zi(e,t,n){const r=Na(t);if(!r)return e;const{scaleX:s,scaleY:o,x:i,y:l}=r,d=e.left-i-(1-s)*parseFloat(n),u=e.top-l-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,m=o?e.height/o:e.height;return{width:h,height:m,top:u,right:d+h,bottom:u+m,left:d}}const Qi={ignoreTransform:!1};function gt(e,t){t===void 0&&(t=Qi);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=De(e).getComputedStyle(e);u&&(n=Zi(n,u,h))}const{top:r,left:s,width:o,height:i,bottom:l,right:d}=n;return{top:r,left:s,width:o,height:i,bottom:l,right:d}}function Cr(e){return gt(e,{ignoreTransform:!0})}function el(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function tl(e,t){return t===void 0&&(t=De(e).getComputedStyle(e)),t.position==="fixed"}function nl(e,t){t===void 0&&(t=De(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function cr(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(lr(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Wt(s)||xa(s)||n.includes(s))return n;const o=De(e).getComputedStyle(s);return s!==e&&nl(s,o)&&n.push(s),tl(s,o)?n:r(s.parentNode)}return e?r(e):n}function Da(e){const[t]=cr(e,1);return t??null}function Pn(e){return!vn||!e?null:xt(e)?e:ir(e)?lr(e)||e===pt(e).scrollingElement?window:Wt(e)?e:null:null}function Ca(e){return xt(e)?e.scrollX:e.scrollLeft}function Sa(e){return xt(e)?e.scrollY:e.scrollTop}function zn(e){return{x:Ca(e),y:Sa(e)}}var me;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(me||(me={}));function ka(e){return!vn||!e?!1:e===document.scrollingElement}function _a(e){const t={x:0,y:0},n=ka(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const rl={x:.2,y:.2};function al(e,t,n,r,s){let{top:o,left:i,right:l,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=rl);const{isTop:u,isBottom:h,isLeft:m,isRight:g}=_a(e),p={x:0,y:0},b={x:0,y:0},y={height:t.height*s.y,width:t.width*s.x};return!u&&o<=t.top+y.height?(p.y=me.Backward,b.y=r*Math.abs((t.top+y.height-o)/y.height)):!h&&d>=t.bottom-y.height&&(p.y=me.Forward,b.y=r*Math.abs((t.bottom-y.height-d)/y.height)),!g&&l>=t.right-y.width?(p.x=me.Forward,b.x=r*Math.abs((t.right-y.width-l)/y.width)):!m&&i<=t.left+y.width&&(p.x=me.Backward,b.x=r*Math.abs((t.left+y.width-i)/y.width)),{direction:p,speed:b}}function sl(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Ma(e){return e.reduce((t,n)=>ht(t,zn(n)),Ue)}function ol(e){return e.reduce((t,n)=>t+Ca(n),0)}function il(e){return e.reduce((t,n)=>t+Sa(n),0)}function Ta(e,t){if(t===void 0&&(t=gt),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);Da(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ll=[["x",["left","right"],ol],["y",["top","bottom"],il]];class dr{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cr(n),s=Ma(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,l]of ll)for(const d of i)Object.defineProperty(this,d,{get:()=>{const u=l(r),h=s[o]-u;return this.rect[d]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kt{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function cl(e){const{EventTarget:t}=De(e);return e instanceof t?e:pt(e)}function Ln(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Be;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Be||(Be={}));function Sr(e){e.preventDefault()}function dl(e){e.stopPropagation()}var $;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($||($={}));const Ea={start:[$.Space,$.Enter],cancel:[$.Esc],end:[$.Space,$.Enter,$.Tab]},ul=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case $.Right:return{...n,x:n.x+25};case $.Left:return{...n,x:n.x-25};case $.Down:return{...n,y:n.y+25};case $.Up:return{...n,y:n.y-25}}};class Ra{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new kt(pt(n)),this.windowListeners=new kt(De(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Be.Resize,this.handleCancel),this.windowListeners.add(Be.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Be.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ta(r),n(Ue)}handleKeyDown(t){if(pn(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=Ea,coordinateGetter:i=ul,scrollBehavior:l="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:Ue;this.referenceCoordinates||(this.referenceCoordinates=h);const m=i(t,{active:n,context:r.current,currentCoordinates:h});if(m){const g=on(m,h),p={x:0,y:0},{scrollableAncestors:b}=r.current;for(const y of b){const x=t.code,{isTop:j,isRight:N,isLeft:E,isBottom:k,maxScroll:O,minScroll:R}=_a(y),I=sl(y),A={x:Math.min(x===$.Right?I.right-I.width/2:I.right,Math.max(x===$.Right?I.left:I.left+I.width/2,m.x)),y:Math.min(x===$.Down?I.bottom-I.height/2:I.bottom,Math.max(x===$.Down?I.top:I.top+I.height/2,m.y))},B=x===$.Right&&!N||x===$.Left&&!E,H=x===$.Down&&!k||x===$.Up&&!j;if(B&&A.x!==m.x){const F=y.scrollLeft+g.x,te=x===$.Right&&F<=O.x||x===$.Left&&F>=R.x;if(te&&!g.y){y.scrollTo({left:F,behavior:l});return}te?p.x=y.scrollLeft-F:p.x=x===$.Right?y.scrollLeft-O.x:y.scrollLeft-R.x,p.x&&y.scrollBy({left:-p.x,behavior:l});break}else if(H&&A.y!==m.y){const F=y.scrollTop+g.y,te=x===$.Down&&F<=O.y||x===$.Up&&F>=R.y;if(te&&!g.x){y.scrollTo({top:F,behavior:l});return}te?p.y=y.scrollTop-F:p.y=x===$.Down?y.scrollTop-O.y:y.scrollTop-R.y,p.y&&y.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,ht(on(m,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ra.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ea,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=o.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function kr(e){return!!(e&&"distance"in e)}function _r(e){return!!(e&&"delay"in e)}class ur{constructor(t,n,r){var s;r===void 0&&(r=cl(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=pt(i),this.documentListeners=new kt(this.document),this.listeners=new kt(r),this.windowListeners=new kt(De(i)),this.initialCoordinates=(s=ln(o))!=null?s:Ue,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Be.Resize,this.handleCancel),this.windowListeners.add(Be.DragStart,Sr),this.windowListeners.add(Be.VisibilityChange,this.handleCancel),this.windowListeners.add(Be.ContextMenu,Sr),this.documentListeners.add(Be.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_r(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(kr(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Be.Click,dl,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Be.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:l}}=o;if(!s)return;const d=(n=ln(t))!=null?n:Ue,u=on(s,d);if(!r&&l){if(kr(l)){if(l.tolerance!=null&&Ln(u,l.tolerance))return this.handleCancel();if(Ln(u,l.distance))return this.handleStart()}if(_r(l)&&Ln(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===$.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const fl={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gn extends ur{constructor(t){const{event:n}=t,r=pt(n.target);super(t,fl,r)}}gn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const hl={move:{name:"mousemove"},end:{name:"mouseup"}};var $n;(function(e){e[e.RightClick=2]="RightClick"})($n||($n={}));class ml extends ur{constructor(t){super(t,hl,pt(t.event.target))}}ml.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===$n.RightClick?!1:(r==null||r({event:n}),!0)}}];const Fn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vl extends ur{constructor(t){super(t,Fn)}static setup(){return window.addEventListener(Fn.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Fn.move.name,t)};function t(){}}}vl.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var _t;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_t||(_t={}));var dn;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(dn||(dn={}));function xl(e){let{acceleration:t,activator:n=_t.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:l=dn.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:h,delta:m,threshold:g}=e;const p=gl({delta:m,disabled:!o}),[b,y]=Mi(),x=c.useRef({x:0,y:0}),j=c.useRef({x:0,y:0}),N=c.useMemo(()=>{switch(n){case _t.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case _t.DraggableRect:return s}},[n,s,d]),E=c.useRef(null),k=c.useCallback(()=>{const R=E.current;if(!R)return;const I=x.current.x*j.current.x,A=x.current.y*j.current.y;R.scrollBy(I,A)},[]),O=c.useMemo(()=>l===dn.TreeOrder?[...u].reverse():u,[l,u]);c.useEffect(()=>{if(!o||!u.length||!N){y();return}for(const R of O){if((r==null?void 0:r(R))===!1)continue;const I=u.indexOf(R),A=h[I];if(!A)continue;const{direction:B,speed:H}=al(R,A,N,t,g);for(const F of["x","y"])p[F][B[F]]||(H[F]=0,B[F]=0);if(H.x>0||H.y>0){y(),E.current=R,b(k,i),x.current=H,j.current=B;return}}x.current={x:0,y:0},j.current={x:0,y:0},y()},[t,k,r,y,o,i,JSON.stringify(N),JSON.stringify(p),b,u,O,h,JSON.stringify(g)])}const pl={x:{[me.Backward]:!1,[me.Forward]:!1},y:{[me.Backward]:!1,[me.Forward]:!1}};function gl(e){let{delta:t,disabled:n}=e;const r=sn(t);return Yt(s=>{if(n||!r||!s)return pl;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[me.Backward]:s.x[me.Backward]||o.x===-1,[me.Forward]:s.x[me.Forward]||o.x===1},y:{[me.Backward]:s.y[me.Backward]||o.y===-1,[me.Forward]:s.y[me.Forward]||o.y===1}}},[n,t,r])}function bl(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Yt(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function yl(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var At;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(At||(At={}));var Hn;(function(e){e.Optimized="optimized"})(Hn||(Hn={}));const Mr=new Map;function wl(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,i]=c.useState(null),{frequency:l,measure:d,strategy:u}=s,h=c.useRef(e),m=x(),g=It(m),p=c.useCallback(function(j){j===void 0&&(j=[]),!g.current&&i(N=>N===null?j:N.concat(j.filter(E=>!N.includes(E))))},[g]),b=c.useRef(null),y=Yt(j=>{if(m&&!n)return Mr;if(!j||j===Mr||h.current!==e||o!=null){const N=new Map;for(let E of e){if(!E)continue;if(o&&o.length>0&&!o.includes(E.id)&&E.rect.current){N.set(E.id,E.rect.current);continue}const k=E.node.current,O=k?new dr(d(k),k):null;E.rect.current=O,O&&N.set(E.id,O)}return N}return j},[e,o,n,m,d]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{m||p()},[n,m]),c.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),c.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},l))},[l,m,p,...r]),{droppableRects:y,measureDroppableContainers:p,measuringScheduled:o!=null};function x(){switch(u){case At.Always:return!1;case At.BeforeDragging:return n;default:return!n}}}function fr(e,t){return Yt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function jl(e,t){return fr(e,t)}function Nl(e){let{callback:t,disabled:n}=e;const r=xn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function bn(e){let{callback:t,disabled:n}=e;const r=xn(t),s=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return c.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Dl(e){return new dr(gt(e),e)}function Tr(e,t,n){t===void 0&&(t=Dl);const[r,s]=c.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=d??n)!=null?u:null}const h=t(e);return JSON.stringify(d)===JSON.stringify(h)?d:h})}const i=Nl({callback(d){if(e)for(const u of d){const{type:h,target:m}=u;if(h==="childList"&&m instanceof HTMLElement&&m.contains(e)){o();break}}}}),l=bn({callback:o});return Ve(()=>{o(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function Cl(e){const t=fr(e);return ja(e,t)}const Er=[];function Sl(e){const t=c.useRef(e),n=Yt(r=>e?r&&r!==Er&&e&&t.current&&e.parentNode===t.current.parentNode?r:cr(e):Er,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function kl(e){const[t,n]=c.useState(null),r=c.useRef(e),s=c.useCallback(o=>{const i=Pn(o.target);i&&n(l=>l?(l.set(i,zn(i)),new Map(l)):null)},[]);return c.useEffect(()=>{const o=r.current;if(e!==o){i(o);const l=e.map(d=>{const u=Pn(d);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,zn(u)]):null}).filter(d=>d!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(o)};function i(l){l.forEach(d=>{const u=Pn(d);u==null||u.removeEventListener("scroll",s)})}},[s,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>ht(o,i),Ue):Ma(e):Ue,[e,t])}function Rr(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==Ue;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?on(e,n.current):Ue}function _l(e){c.useEffect(()=>{if(!vn)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ml(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function Oa(e){return c.useMemo(()=>e?el(e):null,[e])}const Or=[];function Tl(e,t){t===void 0&&(t=gt);const[n]=e,r=Oa(n?De(n):null),[s,o]=c.useState(Or);function i(){o(()=>e.length?e.map(d=>ka(d)?r:new dr(t(d),d)):Or)}const l=bn({callback:i});return Ve(()=>{l==null||l.disconnect(),i(),e.forEach(d=>l==null?void 0:l.observe(d))},[e]),s}function Ia(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Wt(t)?t:e}function El(e){let{measure:t}=e;const[n,r]=c.useState(null),s=c.useCallback(u=>{for(const{target:h}of u)if(Wt(h)){r(m=>{const g=t(h);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),o=bn({callback:s}),i=c.useCallback(u=>{const h=Ia(u);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[l,d]=an(i);return c.useMemo(()=>({nodeRef:l,rect:n,setRef:d}),[n,l,d])}const Rl=[{sensor:gn,options:{}},{sensor:Ra,options:{}}],Ol={current:{}},Gt={draggable:{measure:Cr},droppable:{measure:Cr,strategy:At.WhileDragging,frequency:Hn.Optimized},dragOverlay:{measure:gt}};class Mt extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Il={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:cn},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gt,measureDroppableContainers:cn,windowRect:null,measuringScheduled:!1},Aa={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:cn,draggableNodes:new Map,over:null,measureDroppableContainers:cn},$t=c.createContext(Aa),Pa=c.createContext(Il);function Al(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mt}}}function Pl(e,t){switch(t.type){case de.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case de.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case de.DragEnd:case de.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case de.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new Mt(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case de.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Mt(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case de.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Mt(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Ll(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=c.useContext($t),o=sn(r),i=sn(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!pn(o)||document.activeElement===o.target)return;const l=s.get(i);if(!l)return;const{activatorNode:d,node:u}=l;if(!d.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[d.current,u.current]){if(!h)continue;const m=Ri(h);if(m){m.focus();break}}})}},[r,t,s,i,o]),null}function La(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function Fl(e){return c.useMemo(()=>({draggable:{...Gt.draggable,...e==null?void 0:e.draggable},droppable:{...Gt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Gt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Bl(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=c.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Ve(()=>{if(!i&&!l||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const h=n(u),m=ja(h,r);if(i||(m.x=0),l||(m.y=0),o.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=Da(u);g&&g.scrollBy({top:m.y,left:m.x})}},[t,i,l,r,n])}const yn=c.createContext({...Ue,scaleX:1,scaleY:1});var tt;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(tt||(tt={}));const Fa=c.memo(function(t){var n,r,s,o;let{id:i,accessibility:l,autoScroll:d=!0,children:u,sensors:h=Rl,collisionDetection:m=Xi,measuring:g,modifiers:p,...b}=t;const y=c.useReducer(Pl,void 0,Al),[x,j]=y,[N,E]=Fi(),[k,O]=c.useState(tt.Uninitialized),R=k===tt.Initialized,{draggable:{active:I,nodes:A,translate:B},droppable:{containers:H}}=x,F=I!=null?A.get(I):null,te=c.useRef({initial:null,translated:null}),ne=c.useMemo(()=>{var ee;return I!=null?{id:I,data:(ee=F==null?void 0:F.data)!=null?ee:Ol,rect:te}:null},[I,F]),le=c.useRef(null),[ue,We]=c.useState(null),[C,_]=c.useState(null),q=It(b,Object.values(b)),Ee=zt("DndDescribedBy",i),pe=c.useMemo(()=>H.getEnabled(),[H]),z=Fl(g),{droppableRects:ve,measureDroppableContainers:Q,measuringScheduled:Re}=wl(pe,{dragging:R,dependencies:[B.x,B.y],config:z.droppable}),fe=bl(A,I),Ie=c.useMemo(()=>C?ln(C):null,[C]),Ae=Sn(),xe=jl(fe,z.draggable.measure);Bl({activeNode:I!=null?A.get(I):null,config:Ae.layoutShiftCompensation,initialRect:xe,measure:z.draggable.measure});const W=Tr(fe,z.draggable.measure,xe),Pe=Tr(fe?fe.parentElement:null),Ce=c.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Oe=H.getNodeFor((n=Ce.current.over)==null?void 0:n.id),Se=El({measure:z.dragOverlay.measure}),ge=(r=Se.nodeRef.current)!=null?r:fe,Le=R?(s=Se.rect)!=null?s:W:null,Ye=!!(Se.nodeRef.current&&Se.rect),Xe=Cl(Ye?null:W),v=Oa(ge?De(ge):null),S=Sl(R?Oe??fe:null),M=Tl(S),ce=La(p,{transform:{x:B.x-Xe.x,y:B.y-Xe.y,scaleX:1,scaleY:1},activatorEvent:C,active:ne,activeNodeRect:W,containerNodeRect:Pe,draggingNodeRect:Le,over:Ce.current.over,overlayNodeRect:Se.rect,scrollableAncestors:S,scrollableAncestorRects:M,windowRect:v}),he=Ie?ht(Ie,B):null,X=kl(S),be=Rr(X),ze=Rr(X,[W]),Fe=ht(ce,be),Qe=Le?Ji(Le,ce):null,nt=ne&&Qe?m({active:ne,collisionRect:Qe,droppableRects:ve,droppableContainers:pe,pointerCoordinates:he}):null,ct=Vi(nt,"id"),[qe,Ht]=c.useState(null),wn=Ye?ce:ht(ce,ze),jn=qi(wn,(o=qe==null?void 0:qe.rect)!=null?o:null,W),bt=c.useRef(null),Kt=c.useCallback((ee,we)=>{let{sensor:f,options:w}=we;if(le.current==null)return;const D=A.get(le.current);if(!D)return;const P=ee.nativeEvent,K=new f({active:le.current,activeNode:D,event:P,options:w,context:Ce,onAbort(J){if(!A.get(J))return;const{onDragAbort:V}=q.current,_e={id:J};V==null||V(_e),N({type:"onDragAbort",event:_e})},onPending(J,ke,V,_e){if(!A.get(J))return;const{onDragPending:wt}=q.current,et={id:J,constraint:ke,initialCoordinates:V,offset:_e};wt==null||wt(et),N({type:"onDragPending",event:et})},onStart(J){const ke=le.current;if(ke==null)return;const V=A.get(ke);if(!V)return;const{onDragStart:_e}=q.current,re={activatorEvent:P,active:{id:ke,data:V.data,rect:te}};Dt.unstable_batchedUpdates(()=>{_e==null||_e(re),O(tt.Initializing),j({type:de.DragStart,initialCoordinates:J,active:ke}),N({type:"onDragStart",event:re}),We(bt.current),_(P)})},onMove(J){j({type:de.DragMove,coordinates:J})},onEnd:ye(de.DragEnd),onCancel:ye(de.DragCancel)});bt.current=K;function ye(J){return async function(){const{active:V,collisions:_e,over:re,scrollAdjustedTranslate:wt}=Ce.current;let et=null;if(V&&wt){const{cancelDrop:jt}=q.current;et={activatorEvent:P,active:V,collisions:_e,delta:wt,over:re},J===de.DragEnd&&typeof jt=="function"&&await Promise.resolve(jt(et))&&(J=de.DragCancel)}le.current=null,Dt.unstable_batchedUpdates(()=>{j({type:J}),O(tt.Uninitialized),Ht(null),We(null),_(null),bt.current=null;const jt=J===de.DragEnd?"onDragEnd":"onDragCancel";if(et){const kn=q.current[jt];kn==null||kn(et),N({type:jt,event:et})}})}}},[A]),Nn=c.useCallback((ee,we)=>(f,w)=>{const D=f.nativeEvent,P=A.get(w);if(le.current!==null||!P||D.dndKit||D.defaultPrevented)return;const K={active:P};ee(f,we.options,K)===!0&&(D.dndKit={capturedBy:we.sensor},le.current=w,Kt(f,we))},[A,Kt]),yt=yl(h,Nn);_l(h),Ve(()=>{W&&k===tt.Initializing&&O(tt.Initialized)},[W,k]),c.useEffect(()=>{const{onDragMove:ee}=q.current,{active:we,activatorEvent:f,collisions:w,over:D}=Ce.current;if(!we||!f)return;const P={active:we,activatorEvent:f,collisions:w,delta:{x:Fe.x,y:Fe.y},over:D};Dt.unstable_batchedUpdates(()=>{ee==null||ee(P),N({type:"onDragMove",event:P})})},[Fe.x,Fe.y]),c.useEffect(()=>{const{active:ee,activatorEvent:we,collisions:f,droppableContainers:w,scrollAdjustedTranslate:D}=Ce.current;if(!ee||le.current==null||!we||!D)return;const{onDragOver:P}=q.current,K=w.get(ct),ye=K&&K.rect.current?{id:K.id,rect:K.rect.current,data:K.data,disabled:K.disabled}:null,J={active:ee,activatorEvent:we,collisions:f,delta:{x:D.x,y:D.y},over:ye};Dt.unstable_batchedUpdates(()=>{Ht(ye),P==null||P(J),N({type:"onDragOver",event:J})})},[ct]),Ve(()=>{Ce.current={activatorEvent:C,active:ne,activeNode:fe,collisionRect:Qe,collisions:nt,droppableRects:ve,draggableNodes:A,draggingNode:ge,draggingNodeRect:Le,droppableContainers:H,over:qe,scrollableAncestors:S,scrollAdjustedTranslate:Fe},te.current={initial:Le,translated:Qe}},[ne,fe,nt,Qe,A,ge,Le,ve,H,qe,S,Fe]),xl({...Ae,delta:B,draggingRect:Qe,pointerCoordinates:he,scrollableAncestors:S,scrollableAncestorRects:M});const Dn=c.useMemo(()=>({active:ne,activeNode:fe,activeNodeRect:W,activatorEvent:C,collisions:nt,containerNodeRect:Pe,dragOverlay:Se,draggableNodes:A,droppableContainers:H,droppableRects:ve,over:qe,measureDroppableContainers:Q,scrollableAncestors:S,scrollableAncestorRects:M,measuringConfiguration:z,measuringScheduled:Re,windowRect:v}),[ne,fe,W,C,nt,Pe,Se,A,H,ve,qe,Q,S,M,z,Re,v]),Cn=c.useMemo(()=>({activatorEvent:C,activators:yt,active:ne,activeNodeRect:W,ariaDescribedById:{draggable:Ee},dispatch:j,draggableNodes:A,over:qe,measureDroppableContainers:Q}),[C,yt,ne,W,j,Ee,A,qe,Q]);return G.createElement(ga.Provider,{value:E},G.createElement($t.Provider,{value:Cn},G.createElement(Pa.Provider,{value:Dn},G.createElement(yn.Provider,{value:jn},u)),G.createElement(Ll,{disabled:(l==null?void 0:l.restoreFocus)===!1})),G.createElement(Yi,{...l,hiddenTextDescribedById:Ee}));function Sn(){const ee=(ue==null?void 0:ue.autoScrollEnabled)===!1,we=typeof d=="object"?d.enabled===!1:d===!1,f=R&&!ee&&!we;return typeof d=="object"?{...d,enabled:f}:{enabled:f}}}),Wl=c.createContext(null),Ir="button",Yl="Draggable";function zl(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=zt(Yl),{activators:i,activatorEvent:l,active:d,activeNodeRect:u,ariaDescribedById:h,draggableNodes:m,over:g}=c.useContext($t),{role:p=Ir,roleDescription:b="draggable",tabIndex:y=0}=s??{},x=(d==null?void 0:d.id)===t,j=c.useContext(x?yn:Wl),[N,E]=an(),[k,O]=an(),R=Ml(i,t),I=It(n);Ve(()=>(m.set(t,{id:t,key:o,node:N,activatorNode:k,data:I}),()=>{const B=m.get(t);B&&B.key===o&&m.delete(t)}),[m,t]);const A=c.useMemo(()=>({role:p,tabIndex:y,"aria-disabled":r,"aria-pressed":x&&p===Ir?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,p,y,x,b,h.draggable]);return{active:d,activatorEvent:l,activeNodeRect:u,attributes:A,isDragging:x,listeners:r?void 0:R,node:N,over:g,setNodeRef:E,setActivatorNodeRef:O,transform:j}}function Ba(){return c.useContext(Pa)}const $l="Droppable",Hl={timeout:25};function hr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=zt($l),{active:i,dispatch:l,over:d,measureDroppableContainers:u}=c.useContext($t),h=c.useRef({disabled:n}),m=c.useRef(!1),g=c.useRef(null),p=c.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:x}={...Hl,...s},j=It(y??r),N=c.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(j.current)?j.current:[j.current]),p.current=null},x)},[x]),E=bn({callback:N,disabled:b||!i}),k=c.useCallback((A,B)=>{E&&(B&&(E.unobserve(B),m.current=!1),A&&E.observe(A))},[E]),[O,R]=an(k),I=It(t);return c.useEffect(()=>{!E||!O.current||(E.disconnect(),m.current=!1,E.observe(O.current))},[O,E]),c.useEffect(()=>(l({type:de.RegisterDroppable,element:{id:r,key:o,disabled:n,node:O,rect:g,data:I}}),()=>l({type:de.UnregisterDroppable,key:o,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(l({type:de.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,l]),{active:i,rect:g,isOver:(d==null?void 0:d.id)===r,node:O,over:d,setNodeRef:R}}function Kl(e){let{animation:t,children:n}=e;const[r,s]=c.useState(null),[o,i]=c.useState(null),l=sn(n);return!n&&!r&&l&&s(l),Ve(()=>{if(!o)return;const d=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(d==null||u==null){s(null);return}Promise.resolve(t(u,o)).then(()=>{s(null)})},[t,r,o]),G.createElement(G.Fragment,null,n,r?c.cloneElement(r,{ref:i}):null)}const Vl={x:0,y:0,scaleX:1,scaleY:1};function Ul(e){let{children:t}=e;return G.createElement($t.Provider,{value:Aa},G.createElement(yn.Provider,{value:Vl},t))}const Xl={position:"fixed",touchAction:"none"},ql=e=>pn(e)?"transform 250ms ease":void 0,Gl=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:i,rect:l,style:d,transform:u,transition:h=ql}=e;if(!l)return null;const m=s?u:{...u,scaleX:1,scaleY:1},g={...Xl,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ze.Transform.toString(m),transformOrigin:s&&r?$i(r,l):void 0,transition:typeof h=="function"?h(r):h,...d};return G.createElement(n,{className:i,style:g,ref:t},o)}),Jl=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[l,d]of Object.entries(o.active))d!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,d));if(o!=null&&o.dragOverlay)for(const[l,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(l,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[d,u]of Object.entries(s))n.node.style.setProperty(d,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},Zl=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ze.Transform.toString(t)},{transform:Ze.Transform.toString(n)}]},Ql={duration:250,easing:"ease",keyframes:Zl,sideEffects:Jl({styles:{active:{opacity:"0"}}})};function ec(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return xn((o,i)=>{if(t===null)return;const l=n.get(o);if(!l)return;const d=l.node.current;if(!d)return;const u=Ia(i);if(!u)return;const{transform:h}=De(i).getComputedStyle(i),m=Na(h);if(!m)return;const g=typeof t=="function"?t:tc(t);return Ta(d,s.draggable.measure),g({active:{id:o,data:l.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:m})})}function tc(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...Ql,...e};return o=>{let{active:i,dragOverlay:l,transform:d,...u}=o;if(!t)return;const h={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},m={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/l.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/l.rect.height:1},g={x:d.x-h.x,y:d.y-h.y,...m},p=s({...u,active:i,dragOverlay:l,transform:{initial:d,final:g}}),[b]=p,y=p[p.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const x=r==null?void 0:r({active:i,dragOverlay:l,...u}),j=l.node.animate(p,{duration:t,easing:n,fill:"forwards"});return new Promise(N=>{j.onfinish=()=>{x==null||x(),N()}})}}let Ar=0;function nc(e){return c.useMemo(()=>{if(e!=null)return Ar++,Ar},[e])}const Wa=G.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:i,wrapperElement:l="div",className:d,zIndex:u=999}=e;const{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggableNodes:b,droppableContainers:y,dragOverlay:x,over:j,measuringConfiguration:N,scrollableAncestors:E,scrollableAncestorRects:k,windowRect:O}=Ba(),R=c.useContext(yn),I=nc(m==null?void 0:m.id),A=La(i,{activatorEvent:h,active:m,activeNodeRect:g,containerNodeRect:p,draggingNodeRect:x.rect,over:j,overlayNodeRect:x.rect,scrollableAncestors:E,scrollableAncestorRects:k,transform:R,windowRect:O}),B=fr(g),H=ec({config:r,draggableNodes:b,droppableContainers:y,measuringConfiguration:N}),F=B?x.setRef:void 0;return G.createElement(Ul,null,G.createElement(Kl,{animation:H},m&&I?G.createElement(Gl,{key:I,id:m.id,ref:F,as:l,activatorEvent:h,adjustScale:t,className:d,transition:o,rect:B,style:{zIndex:u,...s},transform:A},n):null))});function Ya(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function rc(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Vt(e){return e!==null&&e>=0}function ac(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function sc(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const za=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=Ya(t,r,n),i=t[s],l=o[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},Ut={scaleX:1,scaleY:1},$a=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:i}=e;const l=(t=o[n])!=null?t:r;if(!l)return null;if(s===n){const u=o[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...Ut}:null}const d=oc(o,s,n);return s>n&&s<=i?{x:0,y:-l.height-d,...Ut}:s<n&&s>=i?{x:0,y:l.height+d,...Ut}:{x:0,y:0,...Ut}};function oc(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Ha="Sortable",Ka=G.createContext({activeIndex:-1,containerId:Ha,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:za,disabled:{draggable:!1,droppable:!1}});function Va(e){let{children:t,id:n,items:r,strategy:s=za,disabled:o=!1}=e;const{active:i,dragOverlay:l,droppableRects:d,over:u,measureDroppableContainers:h}=Ba(),m=zt(Ha,n),g=l.rect!==null,p=c.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),b=i!=null,y=i?p.indexOf(i.id):-1,x=u?p.indexOf(u.id):-1,j=c.useRef(p),N=!ac(p,j.current),E=x!==-1&&y===-1||N,k=sc(o);Ve(()=>{N&&b&&h(p)},[N,p,b,h]),c.useEffect(()=>{j.current=p},[p]);const O=c.useMemo(()=>({activeIndex:y,containerId:m,disabled:k,disableTransforms:E,items:p,overIndex:x,useDragOverlay:g,sortedRects:rc(p,d),strategy:s}),[y,m,k.draggable,k.droppable,E,p,x,d,g,s]);return G.createElement(Ka.Provider,{value:O},t)}const ic=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Ya(n,r,s).indexOf(t)},lc=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:l,previousContainerId:d,transition:u}=e;return!u||!r||l!==o&&s===i?!1:n?!0:i!==s&&t===d},cc={duration:200,easing:"ease"},Ua="transform",dc=Ze.Transition.toString({property:Ua,duration:0,easing:"linear"}),uc={roleDescription:"sortable"};function fc(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,i]=c.useState(null),l=c.useRef(n);return Ve(()=>{if(!t&&n!==l.current&&r.current){const d=s.current;if(d){const u=gt(r.current,{ignoreTransform:!0}),h={x:d.left-u.left,y:d.top-u.top,scaleX:d.width/u.width,scaleY:d.height/u.height};(h.x||h.y)&&i(h)}}n!==l.current&&(l.current=n)},[t,n,r,s]),c.useEffect(()=>{o&&i(null)},[o]),o}function Xa(e){let{animateLayoutChanges:t=lc,attributes:n,disabled:r,data:s,getNewIndex:o=ic,id:i,strategy:l,resizeObserverConfig:d,transition:u=cc}=e;const{items:h,containerId:m,activeIndex:g,disabled:p,disableTransforms:b,sortedRects:y,overIndex:x,useDragOverlay:j,strategy:N}=c.useContext(Ka),E=hc(r,p),k=h.indexOf(i),O=c.useMemo(()=>({sortable:{containerId:m,index:k,items:h},...s}),[m,s,k,h]),R=c.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:I,node:A,isOver:B,setNodeRef:H}=hr({id:i,data:O,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...d}}),{active:F,activatorEvent:te,activeNodeRect:ne,attributes:le,setNodeRef:ue,listeners:We,isDragging:C,over:_,setActivatorNodeRef:q,transform:Ee}=zl({id:i,data:O,attributes:{...uc,...n},disabled:E.draggable}),pe=_i(H,ue),z=!!F,ve=z&&!b&&Vt(g)&&Vt(x),Q=!j&&C,Re=Q&&ve?Ee:null,Ie=ve?Re??(l??N)({rects:y,activeNodeRect:ne,activeIndex:g,overIndex:x,index:k}):null,Ae=Vt(g)&&Vt(x)?o({id:i,items:h,activeIndex:g,overIndex:x}):k,xe=F==null?void 0:F.id,W=c.useRef({activeId:xe,items:h,newIndex:Ae,containerId:m}),Pe=h!==W.current.items,Ce=t({active:F,containerId:m,isDragging:C,isSorting:z,id:i,index:k,items:h,newIndex:W.current.newIndex,previousItems:W.current.items,previousContainerId:W.current.containerId,transition:u,wasDragging:W.current.activeId!=null}),Oe=fc({disabled:!Ce,index:k,node:A,rect:I});return c.useEffect(()=>{z&&W.current.newIndex!==Ae&&(W.current.newIndex=Ae),m!==W.current.containerId&&(W.current.containerId=m),h!==W.current.items&&(W.current.items=h)},[z,Ae,m,h]),c.useEffect(()=>{if(xe===W.current.activeId)return;if(xe!=null&&W.current.activeId==null){W.current.activeId=xe;return}const ge=setTimeout(()=>{W.current.activeId=xe},50);return()=>clearTimeout(ge)},[xe]),{active:F,activeIndex:g,attributes:le,data:O,rect:I,index:k,newIndex:Ae,items:h,isOver:B,isSorting:z,isDragging:C,listeners:We,node:A,overIndex:x,over:_,setNodeRef:pe,setActivatorNodeRef:q,setDroppableNodeRef:H,setDraggableNodeRef:ue,transform:Oe??Ie,transition:Se()};function Se(){if(Oe||Pe&&W.current.newIndex===k)return dc;if(!(Q&&!pn(te)||!u)&&(z||Ce))return Ze.Transition.toString({...u,property:Ua})}}function hc(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}$.Down,$.Right,$.Up,$.Left;const mc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"title",label:"Título (A → Z)"},{value:"status",label:"Status"}],Pr={"A fazer":0,"Em andamento":1,Concluído:2},Nt=["A fazer","Em andamento","Concluído"],vc={"A fazer":"border-t-red-500/60","Em andamento":"border-t-yellow-500/60",Concluído:"border-t-green-500/60"};function xc(e,t){return[...e].sort((n,r)=>{switch(t){case"deadline":return!n.dueDate&&!r.dueDate?0:n.dueDate?r.dueDate?r.dueDate.localeCompare(n.dueDate):-1:1;case"title":return n.title.localeCompare(r.title,"pt-BR");case"status":return(Pr[n.status]??0)-(Pr[r.status]??0);default:return 0}})}function pc({id:e,children:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,transition:i,isDragging:l}=Xa({id:e}),d={transform:Ze.Transform.toString(o),transition:i};return a.jsx("div",{ref:s,style:d,...n,...r,className:Y("touch-none",l&&"opacity-30"),children:t})}function gc({status:e,isOver:t,items:n,itemIds:r,today:s,onEdit:o,onDelete:i,showRichNotes:l}){const{setNodeRef:d}=hr({id:e});return a.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",vc[e]||"border-t-muted/60",t&&"bg-card/80 ring-2 ring-primary/20"),children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-border shadow-sm bg-background/50 backdrop-blur-md rounded-t-xl",children:[a.jsx(Ne,{variant:"secondary",className:tn[e],children:it[e]}),a.jsx(Ne,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50",children:n.length})]}),a.jsxs("div",{ref:d,"data-column-status":e,className:"flex-1 p-3 space-y-3",children:[a.jsx(Va,{items:r,strategy:$a,children:n.map(u=>a.jsx(pc,{id:u.id,children:a.jsx(Kn,{sub:u,today:s,onEdit:()=>o(u),onDelete:()=>i(u.id),showRichNotes:l})},u.id))}),n.length===0&&a.jsxs("div",{className:"sticky top-[40vh] flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1",children:[a.jsx(Ne,{variant:"secondary",className:Y("font-medium mb-1",tn[e]),children:it[e]}),a.jsx("span",{children:"Arraste subtarefas para cá"})]})]})]})}const Kn=c.memo(function({sub:t,today:n,showStatus:r,onEdit:s,onDelete:o,showRichNotes:i}){const l=t.dueDate&&t.dueDate<n&&t.status!=="Concluído";return a.jsx(Tt,{className:Y("transition-shadow duration-150",l&&"border-destructive/50"),children:a.jsx(Et,{className:"p-3",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[r&&a.jsx(Ne,{variant:"secondary",className:Y("text-[10px]",tn[t.status]),children:it[t.status]}),l&&a.jsx(Ne,{variant:"destructive",className:"text-[10px]",children:"Atrasada"})]}),a.jsx("p",{className:Y("font-medium text-sm",t.completed&&"line-through text-muted-foreground"),children:t.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a.jsx("span",{className:"font-medium",children:"Tarefa:"})," ",t.parentTaskTitle]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-muted-foreground",children:[t.projectName&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),t.projectName]}),t.assignee&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"w-3 h-3"}),t.assignee]}),t.dueDate&&a.jsxs("span",{className:Y("flex items-center gap-1",l&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]})]}),t.notes&&i&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Br(t.notes)||t.notes}}),t.notes&&!i&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.notes.replace(/<[^>]*>/g,"")})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:s,children:a.jsx(ks,{className:"w-3.5 h-3.5"})}),a.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:o,children:a.jsx(Xn,{className:"w-3.5 h-3.5"})})]})]})})})});function bc({tasks:e,projects:t,loading:n,onCreateSubtask:r,onUpdateSubtask:s,onDeleteSubtask:o}){const[i,l]=c.useState(!1),[d,u]=c.useState(null),[h,m]=c.useState("kanban"),[g,p]=c.useState(""),[b,y]=c.useState("all"),[x,j]=c.useState("all"),[N,E]=c.useState("all"),[k,O]=c.useState("all"),[R,I]=c.useState("all"),[A,B]=c.useState("deadline"),[H,F]=c.useState(!1),[te,ne]=c.useState(!1),[le,ue]=c.useState(null),[We,C]=c.useState(null),[_,q]=c.useState(null),Ee=ya(ba(gn,{activationConstraint:{distance:8}})),pe=c.useMemo(()=>{const v={};return t.forEach(S=>{v[S.id]=S.name}),v},[t]),z=c.useMemo(()=>e.flatMap(v=>v.subtasks.map(S=>({...S,parentTaskTitle:v.title,projectId:v.projectId,projectName:v.projectId?pe[v.projectId]:void 0}))),[e,pe]),ve=c.useMemo(()=>{const v=new Date,S=new Date(v.getFullYear(),v.getMonth(),v.getDate()),M=new Date(S);M.setDate(S.getDate()+(7-S.getDay()));const ce=new Date(v.getFullYear(),v.getMonth()+1,0),he=z.filter(X=>{if(g&&!X.title.toLowerCase().includes(g.toLowerCase())||b!=="all"&&X.status!==b||x!=="all"&&X.assignee!==x||N!=="all"&&X.projectId!==N||k!=="all"&&X.parentTaskId!==k||H&&X.status==="Concluído")return!1;if(R!=="all"){if(!X.dueDate)return R==="sem_prazo";const be=new Date(X.dueDate+"T23:59:59");switch(R){case"atrasadas":return be<S&&X.status!=="Concluído";case"hoje":return X.dueDate===Q;case"esta_semana":return be>=S&&be<=M;case"este_mes":return be>=S&&be<=ce;case"sem_prazo":return!1}}return!0});return xc(he,A)},[z,g,b,x,N,k,A,H,R]),Q=c.useMemo(()=>{const v=new Date;return`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`},[]);c.useMemo(()=>{const v={"A fazer":0,"Em andamento":0,Concluído:0},S=z.filter(M=>M.dueDate&&M.dueDate<Q&&M.status!=="Concluído").length;return z.forEach(M=>{v[M.status]!==void 0&&v[M.status]++}),{...v,overdue:S,total:z.length}},[z,Q]);const Re=c.useCallback(()=>{u(null),l(!0)},[]),fe=c.useCallback(v=>{u(v),l(!0)},[]),Ie=c.useCallback(async(v,S,M)=>{S?await r(v.parentTaskId,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0}):M&&await s(M,{title:v.title,deadline:v.deadline||void 0,status:v.status,assignee:v.assignee||void 0,notes:v.notes||void 0})},[r,s]),Ae=c.useCallback(async()=>{le&&(await o(le),ue(null))},[le,o]),xe=c.useMemo(()=>{const v={"A fazer":[],"Em andamento":[],Concluído:[]};return ve.forEach(S=>{v[S.status]&&v[S.status].push(S)}),v},[ve]),W=c.useCallback(v=>{C(String(v.active.id))},[]),Pe=c.useCallback(v=>{const{over:S}=v;if(!S){q(null);return}const M=String(S.id),ce=z.find(X=>X.id===M),he=ce?ce.status:Nt.includes(M)?M:null;q(he)},[z]),Ce=c.useCallback(async v=>{const{active:S,over:M}=v;if(C(null),q(null),!M)return;const ce=String(S.id),he=String(M.id);if(ce===he)return;const X=z.find(Fe=>Fe.id===ce);if(!X)return;const be=z.find(Fe=>Fe.id===he),ze=be?be.status:Nt.includes(he)?he:X.status;X.status!==ze&&await s(ce,{status:ze})},[z,s]),Oe=c.useCallback(()=>{C(null),q(null)},[]),Se=We?z.find(v=>v.id===We):null,ge=c.useMemo(()=>Nt.filter(v=>!H||v!=="Concluído"),[H]),Le=c.useMemo(()=>[{key:"title",label:"Título",width:250,minWidth:150,sticky:!0,sortable:!0,sortFn:(v,S)=>v.title.localeCompare(S.title,"pt-BR"),render:v=>a.jsx("span",{className:"font-medium",children:v.title})},{key:"status",label:"Status",width:130,sortable:!0,sortFn:(v,S)=>v.status.localeCompare(S.status),render:v=>a.jsx(Ne,{variant:"secondary",className:Y("text-[10px]",tn[v.status]),children:it[v.status]}),inlineEdit:(v,S)=>a.jsxs(ae,{value:v.status,onValueChange:S,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Nt.map(M=>a.jsx(L,{value:M,children:it[M]},M))})]})},{key:"parentTaskTitle",label:"Tarefa-mãe",width:200,sortable:!0,sortFn:(v,S)=>v.parentTaskTitle.localeCompare(S.parentTaskTitle,"pt-BR"),render:v=>a.jsx("span",{className:"text-xs",children:v.parentTaskTitle})},{key:"dueDate",label:"Prazo",width:110,sortable:!0,sortFn:(v,S)=>!v.dueDate&&!S.dueDate?0:v.dueDate?S.dueDate?S.dueDate.localeCompare(v.dueDate):-1:1,render:v=>v.dueDate?a.jsxs("span",{className:Y("text-xs flex items-center gap-1",v.dueDate<Q&&v.status!=="Concluído"&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,S)=>a.jsxs(Zt,{children:[a.jsx(Qt,{asChild:!0,children:a.jsxs($e,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!v.dueDate&&"text-muted-foreground"),children:[a.jsx(vt,{className:"w-3 h-3 mr-1"}),v.dueDate?new Date(v.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),a.jsx(en,{className:"w-auto p-0",align:"start",children:a.jsx(or,{mode:"single",selected:v.dueDate?new Date(v.dueDate+"T12:00:00"):void 0,onSelect:M=>{if(M){const ce=M.getFullYear(),he=String(M.getMonth()+1).padStart(2,"0"),X=String(M.getDate()).padStart(2,"0");S(`${ce}-${he}-${X}`)}else S("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:130,sortable:!0,sortFn:(v,S)=>(v.assignee??"").localeCompare(S.assignee??"","pt-BR"),render:v=>v.assignee?a.jsxs("span",{className:"text-xs flex items-center gap-1",children:[a.jsx(fn,{className:"w-3 h-3"}),v.assignee]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(v,S)=>a.jsxs(ae,{value:v.assignee||"_none_",onValueChange:M=>S(M==="_none_"?"":M),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(L,{value:"_none_",children:"— Sem responsável —"}),Bn.map(M=>a.jsx(L,{value:M,children:M},M))]})]})},{key:"project",label:"Projeto",width:130,render:v=>v.projectName?a.jsxs(Ne,{variant:"outline",className:"text-[10px] gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),v.projectName]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}],[Q]),Ye=c.useCallback((v,S,M)=>{S==="status"?s(v,{status:M}):S==="assignee"?s(v,{assignee:M||void 0}):S==="dueDate"&&s(v,{deadline:M||void 0})},[s]),Xe=c.useCallback(v=>{v.forEach(S=>o(S))},[o]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[a.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[a.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),a.jsx(Jt,{placeholder:"Buscar subtarefa...",value:g,onChange:v=>p(v.target.value),className:"pl-9 w-full text-sm"})]}),a.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[a.jsxs($e,{onClick:Re,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[a.jsx(Qr,{className:"mr-1.5 h-4 w-4"})," Nova Subtarefa"]}),a.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[a.jsxs("button",{onClick:()=>m("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(na,{className:"w-4 h-4"})," Kanban"]}),a.jsxs("button",{onClick:()=>m("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(ea,{className:"w-4 h-4"})," Lista"]}),a.jsxs("button",{onClick:()=>m("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",h==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(zr,{className:"w-4 h-4"})," Tabela"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),a.jsxs(ae,{value:b,onValueChange:y,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos Status"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos Status"}),Nt.map(v=>a.jsx(L,{value:v,children:it[v]},v))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),a.jsxs(ae,{value:R,onValueChange:I,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos"}),a.jsx(L,{value:"atrasadas",children:"Atrasadas"}),a.jsx(L,{value:"hoje",children:"Vence hoje"}),a.jsx(L,{value:"esta_semana",children:"Esta semana"}),a.jsx(L,{value:"este_mes",children:"Este mês"}),a.jsx(L,{value:"sem_prazo",children:"Sem prazo"})]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),a.jsxs(ae,{value:x,onValueChange:j,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos"}),Bn.map(v=>a.jsx(L,{value:v,children:v},v))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Tarefa-mãe"}),a.jsxs(ae,{value:k,onValueChange:O,children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todas"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todas"}),e.map(v=>a.jsx(L,{value:v.id,children:v.title},v.id))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),a.jsxs(ae,{value:A,onValueChange:v=>B(v),children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{})}),a.jsx(ie,{children:mc.map(v=>a.jsx(L,{value:v.value,children:v.label},v.value))})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",a.jsx(St,{checked:H,onCheckedChange:F,className:"scale-75"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Observações formatadas",a.jsx(St,{checked:te,onCheckedChange:ne,className:"scale-75"})]})]})]})]}),a.jsx(Xs,{open:i,onOpenChange:l,subtask:d,tasks:e,onSave:Ie,onDelete:v=>ue(v)}),a.jsx(Kr,{open:!!le,onOpenChange:v=>!v&&ue(null),children:a.jsxs(Vr,{children:[a.jsxs(Ur,{children:[a.jsx(Xr,{children:"Remover subtarefa?"}),a.jsx(qr,{children:"Esta ação não pode ser desfeita. A subtarefa será removida permanentemente."})]}),a.jsxs(Gr,{children:[a.jsx(Jr,{children:"Cancelar"}),a.jsx(Zr,{onClick:Ae,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>a.jsx(Tt,{children:a.jsx(Et,{className:"p-4",children:a.jsx("div",{className:"h-16 bg-muted animate-pulse rounded"})})},v))}):h==="table"?a.jsx($r,{data:ve,columns:Le,onEdit:v=>fe(v),onDelete:v=>ue(v),onBulkDelete:Xe,onInlineChange:Ye,emptyMessage:"Nenhuma subtarefa encontrada."}):h==="list"?a.jsx("div",{className:"space-y-3",children:ve.length===0?a.jsx(Tt,{children:a.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma subtarefa encontrada."})}):ve.map(v=>a.jsx(Kn,{sub:v,today:Q,showStatus:!0,onEdit:()=>fe(v),onDelete:()=>ue(v.id),showRichNotes:te},v.id))}):a.jsxs(Fa,{sensors:Ee,collisionDetection:wa,onDragStart:W,onDragOver:Pe,onDragEnd:Ce,onDragCancel:Oe,children:[a.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:a.jsx("div",{className:"flex gap-4",style:{minWidth:`${ge.length*300}px`},children:ge.map(v=>{const S=_===v,M=xe[v],ce=M.map(he=>he.id);return a.jsx("div",{className:"flex-1 min-w-[260px]",children:a.jsx(gc,{status:v,isOver:S,items:M,itemIds:ce,today:Q,onEdit:fe,onDelete:ue,showRichNotes:te})},v)})})}),a.jsx(Wa,{children:Se&&a.jsx("div",{className:"shadow-xl ring-2 ring-primary/30 rotate-[2deg] scale-105",children:a.jsx(Kn,{sub:Se,today:Q,showStatus:!0,onEdit:()=>{},onDelete:()=>{},showRichNotes:te})})})]})]})}const yc=c.lazy(()=>Ga(()=>import("./AdminCrmDashboard-DdUiKQEV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),wc=[{value:"deadline",label:"Prazo (mais distante)"},{value:"priority",label:"Prioridade (Alta → Baixa)"},{value:"title",label:"Título (A → Z)"},{value:"client",label:"Cliente (A → Z)"}],un={alta:0,media:1,baixa:2};function Lr(e,t){return[...e].sort((n,r)=>{switch(t){case"deadline":return!n.dueDate&&!r.dueDate?0:n.dueDate?r.dueDate?r.dueDate.localeCompare(n.dueDate):-1:1;case"priority":return(un[n.priority]??1)-(un[r.priority]??1);case"title":return n.title.localeCompare(r.title,"pt-BR");case"client":return(n.client??"").localeCompare(r.client??"","pt-BR");default:return 0}})}const jc={client:!0,dueDate:!0,priority:!0,subtasks:!0,tags:!0,description:!1},Fr={client:"Cliente",dueDate:"Data de entrega",priority:"Prioridade",subtasks:"Subtarefas",tags:"Tags",description:"Descrição"},Xt=["pendente","agendado","em_andamento","em_tramite","concluida","cancelada"],Nc={pendente:"border-t-red-500/60",agendado:"border-t-blue-500/60",em_andamento:"border-t-yellow-500/60",em_tramite:"border-t-orange-500/60",concluida:"border-t-green-500/60",cancelada:"border-t-muted/60"},Dc={pendente:ta,agendado:Is,em_andamento:pr,em_tramite:pr,concluida:Ts,cancelada:Os},Cc=[{value:"all",label:"Todos"},{value:"today",label:"Hoje"},{value:"this_week",label:"Esta semana"},{value:"this_month",label:"Este mês"},{value:"overdue",label:"Atrasadas"},{value:"no_deadline",label:"Sem prazo"}],Vn=c.memo(function({task:t,cardFields:n,today:r,isExpanded:s,onToggleExpand:o,onToggleSubtask:i,onEdit:l,onDelete:d,showStatus:u,isDragging:h,isOverlay:m,projectName:g}){const p=t.subtasks.filter(x=>x.completed).length,b=t.subtasks.length,y=t.dueDate&&t.dueDate<r&&t.status!=="concluida"&&t.status!=="cancelada";return a.jsx(Tt,{className:Y("relative group transition-all duration-200 hover:shadow-md cursor-pointer",h?"opacity-40 scale-95":"",m&&"shadow-2xl ring-2 ring-primary/40 rotate-[2deg] scale-105 cursor-grabbing","border-border/50 bg-card"),onClick:()=>l==null?void 0:l(t),children:a.jsxs(Et,{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-1",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[g&&a.jsx("div",{className:"mb-2",children:a.jsxs(Ne,{variant:"outline",className:"text-[10px] px-1.5 py-0 gap-1 font-normal",children:[a.jsx(hn,{className:"w-3 h-3"}),g]})}),a.jsx("p",{className:"font-medium text-sm mb-1",children:t.title})]}),!m&&a.jsx($e,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>{x.stopPropagation(),d(t.id)},children:a.jsx(Xn,{className:"w-3.5 h-3.5"})})]}),n.description&&t.description&&a.jsx("div",{className:"text-xs text-muted-foreground mb-2 prose prose-xs max-w-none [&>*]:m-0 [&>*]:text-xs line-clamp-4",dangerouslySetInnerHTML:{__html:Br(t.description)||t.description}}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[n.priority&&a.jsx(Ne,{variant:"secondary",className:`text-[10px] ${Yr[t.priority]}`,children:Ct[t.priority]}),u&&a.jsx(Ne,{variant:"secondary",className:`text-[10px] ${Wr[t.status]}`,children:ft[t.status]}),n.dueDate&&t.dueDate&&a.jsxs("span",{className:Y("flex items-center gap-1",y&&"text-destructive font-medium"),children:[y?a.jsx(ta,{className:"w-3 h-3"}):a.jsx(vt,{className:"w-3 h-3"}),new Date(t.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}),y&&a.jsx("span",{className:"text-destructive font-medium",children:"Atrasada"}),t.assignee&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fn,{className:"w-3 h-3"}),t.assignee]})]}),n.subtasks&&b>0&&!m&&a.jsx("div",{className:"flex justify-end mt-2",children:a.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[a.jsx(ra,{className:"w-3 h-3"}),p,"/",b]})}),n.tags&&t.tags&&t.tags.length>0&&!m&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(x=>a.jsx(Ne,{variant:"outline",className:"text-[10px]",children:x},x))})]})})});function Sc(e){const{attributes:t,listeners:n,setNodeRef:r,transform:s,transition:o,isDragging:i}=Xa({id:e.task.id}),l={transform:Ze.Transform.toString(s),transition:o};return a.jsx("div",{ref:r,style:l,...t,...n,children:a.jsx(Vn,{...e,isDragging:i})})}function kc({status:e,tasks:t,isOver:n,cardFields:r,today:s,expandedTasks:o,onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectMap:h}){const m=c.useMemo(()=>t.map(b=>b.id),[t]),{setNodeRef:g}=hr({id:e}),p=Dc[e];return a.jsxs("div",{className:Y("flex flex-col rounded-xl border border-border border-t-4 bg-card/40 min-h-[400px] transition-colors",Nc[e]||"border-t-muted/60",n&&"bg-card/80 ring-2 ring-primary/20"),children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 px-4",children:[a.jsx(p,{className:Y("w-4 h-4",{"text-red-500":e==="pendente","text-blue-500":e==="agendado","text-yellow-500":e==="em_andamento","text-orange-500":e==="em_tramite","text-green-500":e==="concluida","text-muted-foreground":e==="cancelada"})}),a.jsx("span",{className:"text-sm font-medium",children:ft[e]}),a.jsx(Ne,{variant:"secondary",className:"ml-auto text-xs bg-secondary/50 tabular-nums",children:t.length})]}),a.jsxs("div",{ref:g,"data-column-status":e,className:"flex-1 p-3 pt-0 space-y-3",children:[a.jsx(Va,{items:m,strategy:$a,children:t.map(b=>a.jsx(Sc,{task:b,cardFields:r,today:s,isExpanded:o.has(b.id),onToggleExpand:i,onToggleSubtask:l,onEdit:d,onDelete:u,projectName:h.get(b.projectId||"")},b.id))}),t.length===0&&a.jsx("div",{className:"flex flex-col items-center justify-center text-xs text-muted-foreground/50 border-2 border-dashed border-border/50 rounded-xl p-4 text-center gap-1 min-h-[100px]",children:a.jsx("span",{children:"Arraste tarefas para cá"})})]})]})}function _c({projectId:e,clientNameFilter:t,hideHeader:n,forceTab:r}={}){const{tasks:s,setTasks:o,loading:i,error:l,updateTaskStatus:d,deleteTask:u,createTask:h,updateTask:m,createSubtask:g,updateSubtask:p,deleteSubtask:b}=ds(),{projects:y}=us(),[x,j]=c.useState(!1),[N,E]=c.useState(null),k=c.useMemo(()=>t||e?s.filter(f=>{var P;const w=t&&((P=f.client)==null?void 0:P.toLowerCase().includes(t.toLowerCase())),D=e&&f.projectId===e;return t&&e?w||D:t?w:D}):s,[s,t,e]),[O,R]=c.useState("kanban"),[I,A]=c.useState(""),[B,H]=c.useState("all"),[F,te]=c.useState("all"),[ne,le]=c.useState("all"),[ue,We]=c.useState(e||"all"),[C,_]=c.useState(new Set),[q,Ee]=c.useState(jc),[pe,z]=c.useState(null),[ve,Q]=c.useState(null),[Re,fe]=c.useState("deadline"),[Ie,Ae]=c.useState(!1),[xe,W]=c.useState(!1),[Pe,Ce]=c.useState("all"),[Oe,Se]=c.useState("all"),ge=c.useMemo(()=>{const f=new Date;return`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`},[]),Le=c.useMemo(()=>[...new Set(k.map(f=>f.assignee).filter(Boolean))],[k]),Ye=c.useMemo(()=>{const w=!!(e&&t)?"all":e||ue,D=new Date,P=new Date(D);P.setDate(D.getDate()+7);const K=new Date(D.getFullYear(),D.getMonth()+1,0),ye=`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}-${String(P.getDate()).padStart(2,"0")}`,J=`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}`,ke=k.filter(V=>{var _e;if(I&&!V.title.toLowerCase().includes(I.toLowerCase())||B!=="all"&&V.status!==B||F!=="all"&&V.priority!==F||ne!=="all"&&V.client!==ne||Oe!=="all"&&V.assignee!==Oe||w!=="all"&&V.projectId!==w||Ie&&V.status==="concluida"||xe&&V.status==="cancelada")return!1;if(Pe!=="all"){const re=(_e=V.dueDate)==null?void 0:_e.split("T")[0];switch(Pe){case"today":if(re!==ge)return!1;break;case"this_week":if(!re||re<ge||re>ye)return!1;break;case"this_month":if(!re||re<ge||re>J)return!1;break;case"overdue":if(!re||re>=ge||V.status==="concluida"||V.status==="cancelada")return!1;break;case"no_deadline":if(re)return!1;break}}return!0});return Lr(ke,Re)},[k,I,B,F,ne,Oe,ue,Re,Pe,ge,Ie,xe]),Xe=ge,v=c.useMemo(()=>pe?k.find(f=>f.id===pe):null,[pe,k]),S=c.useMemo(()=>[...new Set(k.map(f=>f.client).filter(Boolean))],[k]),M=c.useMemo(()=>{const f=new Map;return y.forEach(w=>f.set(w.id,w.name)),f},[y]),ce=c.useMemo(()=>k.reduce((f,w)=>f+w.subtasks.length,0),[k]),he=c.useCallback(f=>{_(w=>{const D=new Set(w);return D.has(f)?D.delete(f):D.add(f),D})},[]),X=c.useCallback((f,w)=>{o(D=>D.map(P=>P.id===f?{...P,subtasks:P.subtasks.map(K=>K.id===w?{...K,completed:!K.completed}:K)}:P))},[o]),[be,ze]=c.useState(null),Fe=c.useCallback(async()=>{be&&(o(f=>f.filter(w=>w.id!==be)),u(be),ze(null))},[be,u,o]),Qe=c.useCallback(f=>{Ee(w=>({...w,[f]:!w[f]}))},[]),nt=c.useCallback(()=>{E(null),j(!0)},[]),ct=c.useCallback(f=>{E(f),j(!0)},[]),qe=c.useCallback(async(f,w,D)=>{w?await h({title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso}):D&&await m(D,{title:f.title,deadline:f.deadline,priority:f.priority,status:f.status,clientName:f.clientName,projectId:f.projectId,assignee:f.assignee,description:f.description,numeroProcesso:f.numeroProcesso})},[h,m]),Ht=ya(ba(gn,{activationConstraint:{distance:8}}));c.useCallback(f=>{const w=k.find(D=>D.id===f);return w==null?void 0:w.status},[k]);const wn=c.useCallback(f=>{z(f.active.id)},[]),jn=c.useCallback(f=>{const{over:w}=f;if(!w){Q(null);return}const D=w.id,P=k.find(ye=>ye.id===D),K=P?P.status:Xt.includes(D)?D:null;Q(K)},[k]),bt=c.useCallback(f=>{const{active:w,over:D}=f;if(z(null),Q(null),!D)return;const P=w.id,K=D.id;if(P===K)return;const ye=k.find(V=>V.id===P);if(!ye)return;const J=k.find(V=>V.id===K),ke=J?J.status:Xt.includes(K)?K:ye.status;ye.status!==ke&&(o(V=>{const _e=V.map(re=>re.id===P?{...re,status:ke}:re);return Lr(_e,Re)}),d(P,ke))},[k,d,Re]),Kt=c.useCallback(()=>{z(null),Q(null)},[]),Nn=c.useMemo(()=>{const f={};return Xt.forEach(w=>{f[w]=[]}),Ye.forEach(w=>{f[w.status]&&f[w.status].push(w)}),f},[Ye]),yt=c.useMemo(()=>Xt.filter(f=>!(Ie&&f==="concluida"||xe&&f==="cancelada")),[Ie,xe]),Dn=c.useMemo(()=>[{key:"title",label:"Título",width:280,minWidth:150,sticky:!0,sortable:!0,sortFn:(f,w)=>f.title.localeCompare(w.title,"pt-BR"),render:f=>a.jsx("span",{className:"font-medium",children:f.title})},{key:"status",label:"Status",width:140,sortable:!0,sortFn:(f,w)=>f.status.localeCompare(w.status),render:f=>a.jsx(Ne,{variant:"secondary",className:Y("text-[10px]",Wr[f.status]),children:ft[f.status]}),inlineEdit:(f,w)=>a.jsxs(ae,{value:f.status,onValueChange:w,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Object.entries(ft).map(([D,P])=>a.jsx(L,{value:D,children:P},D))})]})},{key:"priority",label:"Prioridade",width:110,sortable:!0,sortFn:(f,w)=>(un[f.priority]??1)-(un[w.priority]??1),render:f=>a.jsx(Ne,{variant:"secondary",className:Y("text-[10px]",Yr[f.priority]),children:Ct[f.priority]}),inlineEdit:(f,w)=>a.jsxs(ae,{value:f.priority,onValueChange:w,children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsx(ie,{children:Object.entries(Ct).map(([D,P])=>a.jsx(L,{value:D,children:P},D))})]})},{key:"dueDate",label:"Prazo",width:150,sortable:!0,sortFn:(f,w)=>!f.dueDate&&!w.dueDate?0:f.dueDate?w.dueDate?w.dueDate.localeCompare(f.dueDate):-1:1,render:f=>f.dueDate?a.jsxs("span",{className:Y("text-xs flex items-center gap-1",f.dueDate<Xe&&f.status!=="concluida"&&"text-destructive font-medium"),children:[a.jsx(vt,{className:"w-3 h-3"}),new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR")]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>a.jsxs(Zt,{children:[a.jsx(Qt,{asChild:!0,children:a.jsxs($e,{variant:"outline",className:Y("h-7 text-xs w-full justify-start font-normal",!f.dueDate&&"text-muted-foreground"),children:[a.jsx(vt,{className:"w-3 h-3 mr-1"}),f.dueDate?new Date(f.dueDate+"T12:00:00").toLocaleDateString("pt-BR"):"Selecionar"]})}),a.jsx(en,{className:"w-auto p-0",align:"start",children:a.jsx(or,{mode:"single",selected:f.dueDate?new Date(f.dueDate+"T12:00:00"):void 0,onSelect:D=>{if(D){const P=D.getFullYear(),K=String(D.getMonth()+1).padStart(2,"0"),ye=String(D.getDate()).padStart(2,"0");w(`${P}-${K}-${ye}`)}else w("")},initialFocus:!0,className:"p-3 pointer-events-auto"})})]})},{key:"assignee",label:"Responsável",width:140,sortable:!0,sortFn:(f,w)=>(f.assignee??"").localeCompare(w.assignee??"","pt-BR"),render:f=>f.assignee?a.jsxs("span",{className:"text-xs flex items-center gap-1",children:[a.jsx(fn,{className:"w-3 h-3"}),f.assignee]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>a.jsxs(ae,{value:f.assignee||"_none_",onValueChange:D=>w(D==="_none_"?"":D),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(L,{value:"_none_",children:"— Sem responsável —"}),Le.map(D=>a.jsx(L,{value:D,children:D},D))]})]})},{key:"client",label:"Cliente",width:140,sortable:!0,sortFn:(f,w)=>(f.client??"").localeCompare(w.client??"","pt-BR"),render:f=>f.client?a.jsx("span",{className:"text-xs",children:f.client}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"}),inlineEdit:(f,w)=>a.jsxs(ae,{value:f.client||"_none_",onValueChange:D=>w(D==="_none_"?"":D),children:[a.jsx(se,{className:"h-7 text-xs w-full",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(L,{value:"_none_",children:"— Sem cliente —"}),S.map(D=>a.jsx(L,{value:D,children:D},D))]})]})},{key:"project",label:"Projeto",width:140,render:f=>{const w=M.get(f.projectId||"");return w?a.jsxs(Ne,{variant:"outline",className:"text-[10px] gap-1",children:[a.jsx(hn,{className:"w-3 h-3"}),w]}):a.jsx("span",{className:"text-muted-foreground text-xs",children:"—"})}}],[Xe,Le,M,S]),Cn=c.useCallback((f,w,D)=>{w==="status"?d(f,D):w==="assignee"?m(f,{responsavel:D||null}):w==="priority"?m(f,{prioridade:D}):w==="client"?m(f,{cliente:D||null}):w==="dueDate"&&m(f,{deadline:D||null})},[d,m]),Sn=c.useCallback(f=>{f.forEach(w=>u(w))},[u]),[ee,we]=c.useState(r||"overview");return a.jsxs(mr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[!r&&a.jsx("div",{className:"flex items-center gap-1 rounded-2xl border border-border bg-muted/40 p-1 w-fit backdrop-blur-sm mb-5",children:[{id:"overview",label:"Visão Geral",icon:Ms},{id:"tarefas",label:"Tarefas",icon:Es,count:Ye.length},{id:"subtarefas",label:"Subtarefas",icon:ra,count:ce}].map(f=>{const w=ee===f.id,D=f.icon;return a.jsxs("button",{onClick:()=>we(f.id),className:Y("relative flex items-center gap-2 rounded-xl px-5 py-2.5 text-sm font-medium transition-all duration-200",w?"text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[w&&a.jsx(mr.div,{layoutId:"tarefas-tab-bg",className:"absolute inset-0 rounded-xl gold-gradient shadow-sm",transition:{type:"spring",bounce:.15,duration:.5}}),a.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[a.jsx(D,{className:"h-4 w-4"}),f.label,"count"in f&&a.jsx("span",{className:Y("inline-flex items-center justify-center rounded-full px-2 py-0.5 text-[10px] font-semibold tabular-nums min-w-[22px] transition-colors",w?"bg-primary-foreground/20 text-primary-foreground":"bg-secondary text-muted-foreground"),children:f.count})]})]},f.id)})}),ee==="overview"&&a.jsx(c.Suspense,{fallback:a.jsxs("div",{className:"space-y-4",children:[a.jsx(_n,{className:"h-10 w-full"}),a.jsx(_n,{className:"h-40 w-full"}),a.jsx(_n,{className:"h-40 w-full"})]}),children:a.jsx(yc,{})}),ee==="tarefas"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-3 glass p-4 rounded-xl border border-border shadow-sm mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[a.jsxs("div",{className:"relative w-full sm:min-w-[220px] sm:max-w-xs",children:[a.jsx(Un,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"}),a.jsx(Jt,{placeholder:"Buscar tarefas...",value:I,onChange:f=>A(f.target.value),className:"pl-9 w-full text-sm"})]}),a.jsxs("div",{className:"flex gap-2 items-center ml-auto flex-wrap",children:[a.jsxs($e,{onClick:nt,className:"gold-gradient text-primary-foreground shadow-md hover:opacity-90 transition-opacity h-9",children:[a.jsx(Qr,{className:"mr-1.5 h-4 w-4"})," Nova Tarefa"]}),a.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden bg-muted/40",children:[a.jsxs("button",{onClick:()=>R("kanban"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="kanban"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(na,{className:"w-4 h-4"})," Kanban"]}),a.jsxs("button",{onClick:()=>R("list"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="list"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(ea,{className:"w-4 h-4"})," Lista"]}),a.jsxs("button",{onClick:()=>R("table"),className:Y("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium transition-colors",O==="table"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a.jsx(zr,{className:"w-4 h-4"})," Tabela"]})]}),l&&a.jsx("span",{className:"text-xs text-destructive",children:"Erro ao carregar"}),a.jsxs(Zt,{children:[a.jsx(Qt,{asChild:!0,children:a.jsx($e,{variant:"outline",size:"icon",className:"h-9 w-9",children:a.jsx(Ps,{className:"w-4 h-4"})})}),a.jsx(en,{className:"w-56",align:"end",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Mostrar nos cards"}),Object.keys(Fr).map(f=>a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx(_s,{htmlFor:`field-${f}`,className:"text-sm cursor-pointer",children:Fr[f]}),a.jsx(St,{id:`field-${f}`,checked:q[f],onCheckedChange:()=>Qe(f)})]},f))]})})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap items-end",children:[a.jsx(Rs,{className:"w-4 h-4 text-muted-foreground shrink-0 mb-2"}),a.jsxs("div",{className:"flex items-end gap-2 flex-wrap flex-1",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Status"}),a.jsxs(ae,{value:B,onValueChange:H,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos Status"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos Status"}),Object.keys(ft).map(f=>a.jsx(L,{value:f,children:ft[f]},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prioridade"}),a.jsxs(ae,{value:F,onValueChange:te,children:[a.jsx(se,{className:"w-[110px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todas"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todas"}),Object.keys(Ct).map(f=>a.jsx(L,{value:f,children:Ct[f]},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Prazo"}),a.jsxs(ae,{value:Pe,onValueChange:f=>Ce(f),children:[a.jsx(se,{className:"w-[110px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsx(ie,{children:Cc.map(f=>a.jsx(L,{value:f.value,children:f.label},f.value))})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Responsável"}),a.jsxs(ae,{value:Oe,onValueChange:Se,children:[a.jsx(se,{className:"w-[120px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos"}),Le.map(f=>a.jsx(L,{value:f,children:f},f))]})]})]}),!e&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Projeto"}),a.jsxs(ae,{value:ue,onValueChange:We,children:[a.jsx(se,{className:"w-[150px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos Projetos"}),y.map(f=>a.jsx(L,{value:f.id,children:f.name},f.id))]})]})]}),S.length>0&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Cliente"}),a.jsxs(ae,{value:ne,onValueChange:le,children:[a.jsx(se,{className:"w-[130px] h-8 text-xs",children:a.jsx(oe,{placeholder:"Todos"})}),a.jsxs(ie,{children:[a.jsx(L,{value:"all",children:"Todos Clientes"}),S.map(f=>a.jsx(L,{value:f,children:f},f))]})]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5",children:"Ordenar por"}),a.jsxs(ae,{value:Re,onValueChange:f=>fe(f),children:[a.jsx(se,{className:"w-[160px] h-8 text-xs",children:a.jsx(oe,{})}),a.jsxs(ie,{children:[a.jsx(L,{value:"deadline",children:"Sem ordenação"}),wc.map(f=>a.jsx(L,{value:f.value,children:f.label},f.value))]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5 ml-auto shrink-0",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar canceladas",a.jsx(St,{checked:xe,onCheckedChange:W,className:"scale-75"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground cursor-pointer select-none justify-end",children:["Ocultar concluídas",a.jsx(St,{checked:Ie,onCheckedChange:Ae,className:"scale-75"})]})]})]})]}),a.jsx(es,{open:x,onOpenChange:j,task:N,onSave:qe,onDelete:f=>ze(f),onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b}),a.jsx(Kr,{open:!!be,onOpenChange:f=>!f&&ze(null),children:a.jsxs(Vr,{children:[a.jsxs(Ur,{children:[a.jsx(Xr,{children:"Remover tarefa?"}),a.jsx(qr,{children:"Esta ação não pode ser desfeita. A tarefa será removida permanentemente."})]}),a.jsxs(Gr,{children:[a.jsx(Jr,{children:"Cancelar"}),a.jsx(Zr,{onClick:Fe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})}),i?O==="list"||O==="table"?a.jsx(ps,{}):a.jsx(gs,{}):O==="table"?a.jsx($r,{data:Ye,columns:Dn,onEdit:ct,onDelete:ze,onBulkDelete:Sn,onInlineChange:Cn,emptyMessage:"Nenhuma tarefa encontrada."}):O==="list"?a.jsx("div",{className:"space-y-3",children:Ye.length===0?a.jsx(Tt,{children:a.jsx(Et,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma tarefa encontrada."})}):Ye.map(f=>a.jsx(Vn,{task:f,cardFields:q,today:Xe,isExpanded:C.has(f.id),onToggleExpand:he,onToggleSubtask:X,onEdit:ct,onDelete:ze,showStatus:!0,projectName:M.get(f.projectId||"")},f.id))}):a.jsxs(Fa,{sensors:Ht,collisionDetection:wa,onDragStart:wn,onDragOver:jn,onDragEnd:bt,onDragCancel:Kt,children:[a.jsx("div",{className:"overflow-x-auto -mx-2 px-2 pb-4",children:a.jsx("div",{className:"flex gap-4",style:{minWidth:`${yt.length*280}px`},children:yt.map(f=>a.jsx("div",{className:"flex-1 min-w-[260px]",children:a.jsx(kc,{status:f,tasks:Nn[f],isOver:ve===f&&pe!==null,cardFields:q,today:Xe,expandedTasks:C,onToggleExpand:he,onToggleSubtask:X,onEdit:ct,onDelete:ze,projectMap:M})},f))})}),a.jsx(Wa,{dropAnimation:{duration:200,easing:"cubic-bezier(0.18, 0.67, 0.6, 1.22)"},children:v?a.jsx("div",{className:"w-[260px]",children:a.jsx(Vn,{task:v,cardFields:q,today:Xe,isExpanded:!1,onToggleExpand:()=>{},onToggleSubtask:()=>{},onDelete:()=>{},isOverlay:!0,projectName:M.get(v.projectId||"")})}):null})]})]}),ee==="subtarefas"&&a.jsx(bc,{tasks:e?k.filter(f=>f.projectId===e):k,projects:y,loading:i,onCreateSubtask:g,onUpdateSubtask:p,onDeleteSubtask:b})]})}const ud=Object.freeze(Object.defineProperty({__proto__:null,default:_c},Symbol.toStringTag,{value:"Module"}));export{_c as A,ra as L,ud as a};
