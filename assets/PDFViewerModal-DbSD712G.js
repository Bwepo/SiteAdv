var Oa=Object.defineProperty;var mo=A=>{throw TypeError(A)};var Na=(A,R,H)=>R in A?Oa(A,R,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[R]=H;var In=(A,R,H)=>Na(A,typeof R!="symbol"?R+"":R,H),mi=(A,R,H)=>R.has(A)||mo("Cannot "+H);var U=(A,R,H)=>(mi(A,R,"read from private field"),H?H.call(A):R.get(A)),ot=(A,R,H)=>R.has(A)?mo("Cannot add the same private member more than once"):R instanceof WeakSet?R.add(A):R.set(A,H),at=(A,R,H,$)=>(mi(A,R,"write to private field"),$?$.call(A,H):R.set(A,H),H),Ge=(A,R,H)=>(mi(A,R,"access private method"),H);var Mr=(A,R,H,$)=>({set _(O){at(A,R,O,H)},get _(){return U(A,R,$)}});import{a as createLucideIcon,l as getAugmentedNamespace,r as reactExports,n as reactDomExports,o as createCollection,b as createContextScope,j as jsxRuntimeExports,u as useComposedRefs,i as useControllableState,p as useCallbackRef,P as Primitive,d as composeEventHandlers,k as useId,q as createPopperScope,s as Anchor,e as Presence,D as DismissableLayer,C as Content,t as Arrow,v as composeRefs,w as dispatchDiscreteCustomEvent,g as Portal$1,h as createSlot,R as Root2$1,c as cn,A as AnimatePresence,m as motion,X,x as toast}from"./index-BUH-3ejq.js";import{F as FileText,B as Button,M as Mail}from"./Layout-BoeTPP-4.js";import{u as useDirection,C as Check,L as LoaderCircle}from"./index-B1xcbd9-.js";import{h as hideOthers,u as useFocusGuards,F as FocusScope,R as ReactRemoveScroll}from"./Combination-CRDP3Jol.js";import{C as ChevronRight,A as Award}from"./chevron-right-DroNYKrY.js";import{E as ExternalLink}from"./external-link-BymuAEL_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link2=createLucideIcon("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share2=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var lib$h={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(R,H){module.exports=R.pdfjsLib=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,R)=>{var yn;Object.defineProperty(R,"__esModule",{value:!0}),R.VerbosityLevel=R.Util=R.UnknownErrorException=R.UnexpectedResponseException=R.TextRenderingMode=R.RenderingIntentFlag=R.PromiseCapability=R.PermissionFlag=R.PasswordResponses=R.PasswordException=R.PageActionEventType=R.OPS=R.MissingPDFException=R.MAX_IMAGE_SIZE_TO_CACHE=R.LINE_FACTOR=R.LINE_DESCENT_FACTOR=R.InvalidPDFException=R.ImageKind=R.IDENTITY_MATRIX=R.FormatError=R.FeatureTest=R.FONT_IDENTITY_MATRIX=R.DocumentActionEventType=R.CMapCompressionType=R.BaseException=R.BASELINE_FACTOR=R.AnnotationType=R.AnnotationReplyType=R.AnnotationPrefix=R.AnnotationMode=R.AnnotationFlag=R.AnnotationFieldFlag=R.AnnotationEditorType=R.AnnotationEditorPrefix=R.AnnotationEditorParamsType=R.AnnotationBorderStyleType=R.AnnotationActionEventType=R.AbortException=void 0,R.assert=Ee,R.bytesToString=st,R.createValidAbsoluteUrl=Be,R.getModificationDate=wt,R.getUuid=Ht,R.getVerbosityLevel=Re,R.info=Ne,R.isArrayBuffer=We,R.isArrayEqual=xt,R.isNodeJS=void 0,R.normalizeUnicode=It,R.objectFromMap=gt,R.objectSize=ht,R.setVerbosityLevel=Oe,R.shadow=ye,R.string32=dt,R.stringToBytes=ct,R.stringToPDFString=rt,R.stringToUTF8String=mt,R.unreachable=qe,R.utf8StringToString=ft,R.warn=Fe;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");R.isNodeJS=H;const $=[1,0,0,1,0,0];R.IDENTITY_MATRIX=$;const O=[.001,0,0,.001,0,0];R.FONT_IDENTITY_MATRIX=O;const B=1e7;R.MAX_IMAGE_SIZE_TO_CACHE=B;const W=1.35;R.LINE_FACTOR=W;const he=.35;R.LINE_DESCENT_FACTOR=he;const de=he/W;R.BASELINE_FACTOR=de;const ue={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};R.RenderingIntentFlag=ue;const V={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};R.AnnotationMode=V;const fe="pdfjs_internal_editor_";R.AnnotationEditorPrefix=fe;const ae={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};R.AnnotationEditorType=ae;const J={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};R.AnnotationEditorParamsType=J;const re={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};R.PermissionFlag=re;const te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};R.TextRenderingMode=te;const G={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};R.ImageKind=G;const ne={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};R.AnnotationType=ne;const oe={GROUP:"Group",REPLY:"R"};R.AnnotationReplyType=oe;const me={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};R.AnnotationFlag=me;const pe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};R.AnnotationFieldFlag=pe;const Q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};R.AnnotationBorderStyleType=Q;const le={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};R.AnnotationActionEventType=le;const ie={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};R.DocumentActionEventType=ie;const se={O:"PageOpen",C:"PageClose"};R.PageActionEventType=se;const ce={ERRORS:0,WARNINGS:1,INFOS:5};R.VerbosityLevel=ce;const Se={NONE:0,BINARY:1};R.CMapCompressionType=Se;const ee={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};R.OPS=ee;const ge={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};R.PasswordResponses=ge;let Ae=ce.WARNINGS;function Oe(vt){Number.isInteger(vt)&&(Ae=vt)}function Re(){return Ae}function Ne(vt){Ae>=ce.INFOS&&console.log(`Info: ${vt}`)}function Fe(vt){Ae>=ce.WARNINGS&&console.log(`Warning: ${vt}`)}function qe(vt){throw new Error(vt)}function Ee(vt,Ze){vt||qe(Ze)}function Te(vt){switch(vt==null?void 0:vt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Be(vt,Ze=null,et=null){if(!vt)return null;try{if(et&&typeof vt=="string"){if(et.addDefaultProtocol&&vt.startsWith("www.")){const Lt=vt.match(/\./g);(Lt==null?void 0:Lt.length)>=2&&(vt=`http://${vt}`)}if(et.tryConvertEncoding)try{vt=mt(vt)}catch{}}const $t=Ze?new URL(vt,Ze):new URL(vt);if(Te($t))return $t}catch{}return null}function ye(vt,Ze,et,$t=!1){return Object.defineProperty(vt,Ze,{value:et,enumerable:!$t,configurable:!0,writable:!1}),et}const q=function(){function Ze(et,$t){this.constructor===Ze&&qe("Cannot initialize BaseException."),this.message=et,this.name=$t}return Ze.prototype=new Error,Ze.constructor=Ze,Ze}();R.BaseException=q;class Y extends q{constructor(Ze,et){super(Ze,"PasswordException"),this.code=et}}R.PasswordException=Y;class ve extends q{constructor(Ze,et){super(Ze,"UnknownErrorException"),this.details=et}}R.UnknownErrorException=ve;class Me extends q{constructor(Ze){super(Ze,"InvalidPDFException")}}R.InvalidPDFException=Me;class xe extends q{constructor(Ze){super(Ze,"MissingPDFException")}}R.MissingPDFException=xe;class Pe extends q{constructor(Ze,et){super(Ze,"UnexpectedResponseException"),this.status=et}}R.UnexpectedResponseException=Pe;class Le extends q{constructor(Ze){super(Ze,"FormatError")}}R.FormatError=Le;class Qe extends q{constructor(Ze){super(Ze,"AbortException")}}R.AbortException=Qe;function st(vt){(typeof vt!="object"||(vt==null?void 0:vt.length)===void 0)&&qe("Invalid argument for bytesToString");const Ze=vt.length,et=8192;if(Ze<et)return String.fromCharCode.apply(null,vt);const $t=[];for(let Lt=0;Lt<Ze;Lt+=et){const qt=Math.min(Lt+et,Ze),$e=vt.subarray(Lt,qt);$t.push(String.fromCharCode.apply(null,$e))}return $t.join("")}function ct(vt){typeof vt!="string"&&qe("Invalid argument for stringToBytes");const Ze=vt.length,et=new Uint8Array(Ze);for(let $t=0;$t<Ze;++$t)et[$t]=vt.charCodeAt($t)&255;return et}function dt(vt){return String.fromCharCode(vt>>24&255,vt>>16&255,vt>>8&255,vt&255)}function ht(vt){return Object.keys(vt).length}function gt(vt){const Ze=Object.create(null);for(const[et,$t]of vt)Ze[et]=$t;return Ze}function Ke(){const vt=new Uint8Array(4);return vt[0]=1,new Uint32Array(vt.buffer,0,1)[0]===1}function Xe(){try{return new Function(""),!0}catch{return!1}}class _e{static get isLittleEndian(){return ye(this,"isLittleEndian",Ke())}static get isEvalSupported(){return ye(this,"isEvalSupported",Xe())}static get isOffscreenCanvasSupported(){return ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ye(this,"platform",{isWin:!1,isMac:!1}):ye(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ze,et;return ye(this,"isCSSRoundSupported",(et=(Ze=globalThis.CSS)==null?void 0:Ze.supports)==null?void 0:et.call(Ze,"width: round(1.5px, 1px)"))}}R.FeatureTest=_e;const we=[...Array(256).keys()].map(vt=>vt.toString(16).padStart(2,"0"));class He{static makeHexColor(Ze,et,$t){return`#${we[Ze]}${we[et]}${we[$t]}`}static scaleMinMax(Ze,et){let $t;Ze[0]?(Ze[0]<0&&($t=et[0],et[0]=et[1],et[1]=$t),et[0]*=Ze[0],et[1]*=Ze[0],Ze[3]<0&&($t=et[2],et[2]=et[3],et[3]=$t),et[2]*=Ze[3],et[3]*=Ze[3]):($t=et[0],et[0]=et[2],et[2]=$t,$t=et[1],et[1]=et[3],et[3]=$t,Ze[1]<0&&($t=et[2],et[2]=et[3],et[3]=$t),et[2]*=Ze[1],et[3]*=Ze[1],Ze[2]<0&&($t=et[0],et[0]=et[1],et[1]=$t),et[0]*=Ze[2],et[1]*=Ze[2]),et[0]+=Ze[4],et[1]+=Ze[4],et[2]+=Ze[5],et[3]+=Ze[5]}static transform(Ze,et){return[Ze[0]*et[0]+Ze[2]*et[1],Ze[1]*et[0]+Ze[3]*et[1],Ze[0]*et[2]+Ze[2]*et[3],Ze[1]*et[2]+Ze[3]*et[3],Ze[0]*et[4]+Ze[2]*et[5]+Ze[4],Ze[1]*et[4]+Ze[3]*et[5]+Ze[5]]}static applyTransform(Ze,et){const $t=Ze[0]*et[0]+Ze[1]*et[2]+et[4],Lt=Ze[0]*et[1]+Ze[1]*et[3]+et[5];return[$t,Lt]}static applyInverseTransform(Ze,et){const $t=et[0]*et[3]-et[1]*et[2],Lt=(Ze[0]*et[3]-Ze[1]*et[2]+et[2]*et[5]-et[4]*et[3])/$t,qt=(-Ze[0]*et[1]+Ze[1]*et[0]+et[4]*et[1]-et[5]*et[0])/$t;return[Lt,qt]}static getAxialAlignedBoundingBox(Ze,et){const $t=this.applyTransform(Ze,et),Lt=this.applyTransform(Ze.slice(2,4),et),qt=this.applyTransform([Ze[0],Ze[3]],et),$e=this.applyTransform([Ze[2],Ze[1]],et);return[Math.min($t[0],Lt[0],qt[0],$e[0]),Math.min($t[1],Lt[1],qt[1],$e[1]),Math.max($t[0],Lt[0],qt[0],$e[0]),Math.max($t[1],Lt[1],qt[1],$e[1])]}static inverseTransform(Ze){const et=Ze[0]*Ze[3]-Ze[1]*Ze[2];return[Ze[3]/et,-Ze[1]/et,-Ze[2]/et,Ze[0]/et,(Ze[2]*Ze[5]-Ze[4]*Ze[3])/et,(Ze[4]*Ze[1]-Ze[5]*Ze[0])/et]}static singularValueDecompose2dScale(Ze){const et=[Ze[0],Ze[2],Ze[1],Ze[3]],$t=Ze[0]*et[0]+Ze[1]*et[2],Lt=Ze[0]*et[1]+Ze[1]*et[3],qt=Ze[2]*et[0]+Ze[3]*et[2],$e=Ze[2]*et[1]+Ze[3]*et[3],pt=($t+$e)/2,Mt=Math.sqrt(($t+$e)**2-4*($t*$e-qt*Lt))/2,Ot=pt+Mt||1,Bt=pt-Mt||1;return[Math.sqrt(Ot),Math.sqrt(Bt)]}static normalizeRect(Ze){const et=Ze.slice(0);return Ze[0]>Ze[2]&&(et[0]=Ze[2],et[2]=Ze[0]),Ze[1]>Ze[3]&&(et[1]=Ze[3],et[3]=Ze[1]),et}static intersect(Ze,et){const $t=Math.max(Math.min(Ze[0],Ze[2]),Math.min(et[0],et[2])),Lt=Math.min(Math.max(Ze[0],Ze[2]),Math.max(et[0],et[2]));if($t>Lt)return null;const qt=Math.max(Math.min(Ze[1],Ze[3]),Math.min(et[1],et[3])),$e=Math.min(Math.max(Ze[1],Ze[3]),Math.max(et[1],et[3]));return qt>$e?null:[$t,qt,Lt,$e]}static bezierBoundingBox(Ze,et,$t,Lt,qt,$e,pt,Mt){const Ot=[],Bt=[[],[]];let Rt,ke,Ce,Ue,lt,ut,bt,St;for(let rn=0;rn<2;++rn){if(rn===0?(ke=6*Ze-12*$t+6*qt,Rt=-3*Ze+9*$t-9*qt+3*pt,Ce=3*$t-3*Ze):(ke=6*et-12*Lt+6*$e,Rt=-3*et+9*Lt-9*$e+3*Mt,Ce=3*Lt-3*et),Math.abs(Rt)<1e-12){if(Math.abs(ke)<1e-12)continue;Ue=-Ce/ke,0<Ue&&Ue<1&&Ot.push(Ue);continue}bt=ke*ke-4*Ce*Rt,St=Math.sqrt(bt),!(bt<0)&&(lt=(-ke+St)/(2*Rt),0<lt&&lt<1&&Ot.push(lt),ut=(-ke-St)/(2*Rt),0<ut&&ut<1&&Ot.push(ut))}let Nt=Ot.length,Ft;const kt=Nt;for(;Nt--;)Ue=Ot[Nt],Ft=1-Ue,Bt[0][Nt]=Ft*Ft*Ft*Ze+3*Ft*Ft*Ue*$t+3*Ft*Ue*Ue*qt+Ue*Ue*Ue*pt,Bt[1][Nt]=Ft*Ft*Ft*et+3*Ft*Ft*Ue*Lt+3*Ft*Ue*Ue*$e+Ue*Ue*Ue*Mt;return Bt[0][kt]=Ze,Bt[1][kt]=et,Bt[0][kt+1]=pt,Bt[1][kt+1]=Mt,Bt[0].length=Bt[1].length=kt+2,[Math.min(...Bt[0]),Math.min(...Bt[1]),Math.max(...Bt[0]),Math.max(...Bt[1])]}}R.Util=He;const Ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function rt(vt){if(vt[0]>="ï"){let et;if(vt[0]==="þ"&&vt[1]==="ÿ"?et="utf-16be":vt[0]==="ÿ"&&vt[1]==="þ"?et="utf-16le":vt[0]==="ï"&&vt[1]==="»"&&vt[2]==="¿"&&(et="utf-8"),et)try{const $t=new TextDecoder(et,{fatal:!0}),Lt=ct(vt);return $t.decode(Lt)}catch($t){Fe(`stringToPDFString: "${$t}".`)}}const Ze=[];for(let et=0,$t=vt.length;et<$t;et++){const Lt=Ye[vt.charCodeAt(et)];Ze.push(Lt?String.fromCharCode(Lt):vt.charAt(et))}return Ze.join("")}function mt(vt){return decodeURIComponent(escape(vt))}function ft(vt){return unescape(encodeURIComponent(vt))}function We(vt){return typeof vt=="object"&&(vt==null?void 0:vt.byteLength)!==void 0}function xt(vt,Ze){if(vt.length!==Ze.length)return!1;for(let et=0,$t=vt.length;et<$t;et++)if(vt[et]!==Ze[et])return!1;return!0}function wt(vt=new Date){return[vt.getUTCFullYear().toString(),(vt.getUTCMonth()+1).toString().padStart(2,"0"),vt.getUTCDate().toString().padStart(2,"0"),vt.getUTCHours().toString().padStart(2,"0"),vt.getUTCMinutes().toString().padStart(2,"0"),vt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Zt{constructor(){ot(this,yn,!1);this.promise=new Promise((Ze,et)=>{this.resolve=$t=>{at(this,yn,!0),Ze($t)},this.reject=$t=>{at(this,yn,!0),et($t)}})}get settled(){return U(this,yn)}}yn=new WeakMap,R.PromiseCapability=Zt;let Gt=null,fn=null;function It(vt){return Gt||(Gt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fn=new Map([["ﬅ","ſt"]])),vt.replaceAll(Gt,(Ze,et,$t)=>et?et.normalize("NFKC"):fn.get($t))}function Ht(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const vt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(vt);else for(let Ze=0;Ze<32;Ze++)vt[Ze]=Math.floor(Math.random()*255);return st(vt)}const an="pdfjs_internal_id_";R.AnnotationPrefix=an},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,$,O,Er,Ur,he,de,ue,V,fe,ae,J,re,te,Vr,ne,oe,gi,pe,Q;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(ie){if(typeof ie=="string"||ie instanceof URL?ie={url:ie}:(0,_util.isArrayBuffer)(ie)&&(ie={data:ie}),typeof ie!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ie.url&&!ie.data&&!ie.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const se=new PDFDocumentLoadingTask,{docId:ce}=se,Se=ie.url?getUrlProp(ie.url):null,ee=ie.data?getDataProp(ie.data):null,ge=ie.httpHeaders||null,Ae=ie.withCredentials===!0,Oe=ie.password??null,Re=ie.range instanceof PDFDataRangeTransport?ie.range:null,Ne=Number.isInteger(ie.rangeChunkSize)&&ie.rangeChunkSize>0?ie.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Fe=ie.worker instanceof PDFWorker?ie.worker:null;const qe=ie.verbosity,Ee=typeof ie.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ie.docBaseUrl)?ie.docBaseUrl:null,Te=typeof ie.cMapUrl=="string"?ie.cMapUrl:null,Be=ie.cMapPacked!==!1,ye=ie.CMapReaderFactory||DefaultCMapReaderFactory,q=typeof ie.standardFontDataUrl=="string"?ie.standardFontDataUrl:null,Y=ie.StandardFontDataFactory||DefaultStandardFontDataFactory,ve=ie.stopAtErrors!==!0,Me=Number.isInteger(ie.maxImageSize)&&ie.maxImageSize>-1?ie.maxImageSize:-1,xe=ie.isEvalSupported!==!1,Pe=typeof ie.isOffscreenCanvasSupported=="boolean"?ie.isOffscreenCanvasSupported:!_util.isNodeJS,Le=Number.isInteger(ie.canvasMaxAreaInBytes)?ie.canvasMaxAreaInBytes:-1,Qe=typeof ie.disableFontFace=="boolean"?ie.disableFontFace:_util.isNodeJS,st=ie.fontExtraProperties===!0,ct=ie.enableXfa===!0,dt=ie.ownerDocument||globalThis.document,ht=ie.disableRange===!0,gt=ie.disableStream===!0,Ke=ie.disableAutoFetch===!0,Xe=ie.pdfBug===!0,_e=Re?Re.length:ie.length??NaN,we=typeof ie.useSystemFonts=="boolean"?ie.useSystemFonts:!_util.isNodeJS&&!Qe,He=typeof ie.useWorkerFetch=="boolean"?ie.useWorkerFetch:ye===_display_utils.DOMCMapReaderFactory&&Y===_display_utils.DOMStandardFontDataFactory&&Te&&q&&(0,_display_utils.isValidFetchUrl)(Te,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(q,document.baseURI),Ye=ie.canvasFactory||new DefaultCanvasFactory({ownerDocument:dt}),rt=ie.filterFactory||new DefaultFilterFactory({docId:ce,ownerDocument:dt}),mt=null;(0,_util.setVerbosityLevel)(qe);const ft={canvasFactory:Ye,filterFactory:rt};if(He||(ft.cMapReaderFactory=new ye({baseUrl:Te,isCompressed:Be}),ft.standardFontDataFactory=new Y({baseUrl:q})),!Fe){const wt={verbosity:qe,port:_worker_options.GlobalWorkerOptions.workerPort};Fe=wt.port?PDFWorker.fromPort(wt):new PDFWorker(wt),se._worker=Fe}const We={docId:ce,apiVersion:"3.11.174",data:ee,password:Oe,disableAutoFetch:Ke,rangeChunkSize:Ne,length:_e,docBaseUrl:Ee,enableXfa:ct,evaluatorOptions:{maxImageSize:Me,disableFontFace:Qe,ignoreErrors:ve,isEvalSupported:xe,isOffscreenCanvasSupported:Pe,canvasMaxAreaInBytes:Le,fontExtraProperties:st,useSystemFonts:we,cMapUrl:He?Te:null,standardFontDataUrl:He?q:null}},xt={ignoreErrors:ve,isEvalSupported:xe,disableFontFace:Qe,fontExtraProperties:st,enableXfa:ct,ownerDocument:dt,disableAutoFetch:Ke,pdfBug:Xe,styleElement:mt};return Fe.promise.then(function(){if(se.destroyed)throw new Error("Loading aborted");const wt=_fetchDocument(Fe,We),Zt=new Promise(function(Gt){let fn;Re?fn=new _transport_stream.PDFDataTransportStream({length:_e,initialData:Re.initialData,progressiveDone:Re.progressiveDone,contentDispositionFilename:Re.contentDispositionFilename,disableRange:ht,disableStream:gt},Re):ee||(fn=(Ht=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Ht):(0,_display_utils.isValidFetchUrl)(Ht.url)?new _displayFetch_stream.PDFFetchStream(Ht):new _displayNetwork.PDFNetworkStream(Ht))({url:Se,length:_e,httpHeaders:ge,withCredentials:Ae,rangeChunkSize:Ne,disableRange:ht,disableStream:gt})),Gt(fn)});return Promise.all([wt,Zt]).then(function([Gt,fn]){if(se.destroyed)throw new Error("Loading aborted");const It=new _message_handler.MessageHandler(ce,Gt,Fe.port),Ht=new WorkerTransport(It,se,fn,xt,ft);se._transport=Ht,It.send("Ready",null)})}).catch(se._capability.reject),se}async function _fetchDocument(ie,se){if(ie.destroyed)throw new Error("Worker was destroyed");const ce=await ie.messageHandler.sendWithPromise("GetDocRequest",se,se.data?[se.data.buffer]:null);if(ie.destroyed)throw new Error("Worker was destroyed");return ce}function getUrlProp(ie){if(ie instanceof URL)return ie.href;try{return new URL(ie,window.location).href}catch{if(_util.isNodeJS&&typeof ie=="string")return ie}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ie){if(_util.isNodeJS&&typeof Buffer<"u"&&ie instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ie instanceof Uint8Array&&ie.byteLength===ie.buffer.byteLength)return ie;if(typeof ie=="string")return(0,_util.stringToBytes)(ie);if(typeof ie=="object"&&!isNaN(ie==null?void 0:ie.length)||(0,_util.isArrayBuffer)(ie))return new Uint8Array(ie);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const R=class R{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Mr(R,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var se,ce,Se;this.destroyed=!0;try{(se=this._worker)!=null&&se.port&&(this._worker._pendingDestroy=!0),await((ce=this._transport)==null?void 0:ce.destroy())}catch(ee){throw(Se=this._worker)!=null&&Se.port&&delete this._worker._pendingDestroy,ee}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,ot(R,A,0);let PDFDocumentLoadingTask=R;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(se,ce,Se=!1,ee=null){this.length=se,this.initialData=ce,this.progressiveDone=Se,this.contentDispositionFilename=ee,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(se){this._rangeListeners.push(se)}addProgressListener(se){this._progressListeners.push(se)}addProgressiveReadListener(se){this._progressiveReadListeners.push(se)}addProgressiveDoneListener(se){this._progressiveDoneListeners.push(se)}onDataRange(se,ce){for(const Se of this._rangeListeners)Se(se,ce)}onDataProgress(se,ce){this._readyCapability.promise.then(()=>{for(const Se of this._progressListeners)Se(se,ce)})}onDataProgressiveRead(se){this._readyCapability.promise.then(()=>{for(const ce of this._progressiveReadListeners)ce(se)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const se of this._progressiveDoneListeners)se()})}transportReady(){this._readyCapability.resolve()}requestDataRange(se,ce){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(se,ce){this._pdfInfo=se,this._transport=ce,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Se=>{if(!Se)return Se;const ee=[];for(const ge in Se)ee.push(...Se[ge]);return ee}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(se){return this._transport.getPage(se)}getPageIndex(se){return this._transport.getPageIndex(se)}getDestinations(){return this._transport.getDestinations()}getDestination(se){return this._transport.getDestination(se)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(se=!1){return this._transport.startCleanup(se||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(se,ce,Se,ee=!1){ot(this,O);ot(this,H,null);ot(this,$,!1);this._pageIndex=se,this._pageInfo=ce,this._transport=Se,this._stats=ee?new _display_utils.StatTimer:null,this._pdfBug=ee,this.commonObjs=Se.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:se,rotation:ce=this.rotate,offsetX:Se=0,offsetY:ee=0,dontFlip:ge=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:se,rotation:ce,offsetX:Se,offsetY:ee,dontFlip:ge})}getAnnotations({intent:se="display"}={}){const ce=this._transport.getRenderingIntent(se);return this._transport.getAnnotations(this._pageIndex,ce.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var se;return((se=this._transport._htmlForXfa)==null?void 0:se.children[this._pageIndex])||null}render({canvasContext:se,viewport:ce,intent:Se="display",annotationMode:ee=_util.AnnotationMode.ENABLE,transform:ge=null,background:Ae=null,optionalContentConfigPromise:Oe=null,annotationCanvasMap:Re=null,pageColors:Ne=null,printAnnotationStorage:Fe=null}){var Y,ve;(Y=this._stats)==null||Y.time("Overall");const qe=this._transport.getRenderingIntent(Se,ee,Fe);at(this,$,!1),Ge(this,O,Ur).call(this),Oe||(Oe=this._transport.getOptionalContentConfig());let Ee=this._intentStates.get(qe.cacheKey);Ee||(Ee=Object.create(null),this._intentStates.set(qe.cacheKey,Ee)),Ee.streamReaderCancelTimeout&&(clearTimeout(Ee.streamReaderCancelTimeout),Ee.streamReaderCancelTimeout=null);const Te=!!(qe.renderingIntent&_util.RenderingIntentFlag.PRINT);Ee.displayReadyCapability||(Ee.displayReadyCapability=new _util.PromiseCapability,Ee.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ve=this._stats)==null||ve.time("Page Request"),this._pumpOperatorList(qe));const Be=Me=>{var xe,Pe;Ee.renderTasks.delete(ye),(this._maybeCleanupAfterRender||Te)&&at(this,$,!0),Ge(this,O,Er).call(this,!Te),Me?(ye.capability.reject(Me),this._abortOperatorList({intentState:Ee,reason:Me instanceof Error?Me:new Error(Me)})):ye.capability.resolve(),(xe=this._stats)==null||xe.timeEnd("Rendering"),(Pe=this._stats)==null||Pe.timeEnd("Overall")},ye=new InternalRenderTask({callback:Be,params:{canvasContext:se,viewport:ce,transform:ge,background:Ae},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Re,operatorList:Ee.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Te,pdfBug:this._pdfBug,pageColors:Ne});(Ee.renderTasks||(Ee.renderTasks=new Set)).add(ye);const q=ye.task;return Promise.all([Ee.displayReadyCapability.promise,Oe]).then(([Me,xe])=>{var Pe;if(this.destroyed){Be();return}(Pe=this._stats)==null||Pe.time("Rendering"),ye.initializeGraphics({transparency:Me,optionalContentConfig:xe}),ye.operatorListChanged()}).catch(Be),q}getOperatorList({intent:se="display",annotationMode:ce=_util.AnnotationMode.ENABLE,printAnnotationStorage:Se=null}={}){var Re;function ee(){Ae.operatorList.lastChunk&&(Ae.opListReadCapability.resolve(Ae.operatorList),Ae.renderTasks.delete(Oe))}const ge=this._transport.getRenderingIntent(se,ce,Se,!0);let Ae=this._intentStates.get(ge.cacheKey);Ae||(Ae=Object.create(null),this._intentStates.set(ge.cacheKey,Ae));let Oe;return Ae.opListReadCapability||(Oe=Object.create(null),Oe.operatorListChanged=ee,Ae.opListReadCapability=new _util.PromiseCapability,(Ae.renderTasks||(Ae.renderTasks=new Set)).add(Oe),Ae.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Re=this._stats)==null||Re.time("Page Request"),this._pumpOperatorList(ge)),Ae.opListReadCapability.promise}streamTextContent({includeMarkedContent:se=!1,disableNormalization:ce=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:se===!0,disableNormalization:ce===!0},{highWaterMark:100,size(ee){return ee.items.length}})}getTextContent(se={}){if(this._transport._htmlForXfa)return this.getXfa().then(Se=>_xfa_text.XfaText.textContent(Se));const ce=this.streamTextContent(se);return new Promise(function(Se,ee){function ge(){Ae.read().then(function({value:Re,done:Ne}){if(Ne){Se(Oe);return}Object.assign(Oe.styles,Re.styles),Oe.items.push(...Re.items),ge()},ee)}const Ae=ce.getReader(),Oe={items:[],styles:Object.create(null)};ge()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const se=[];for(const ce of this._intentStates.values())if(this._abortOperatorList({intentState:ce,reason:new Error("Page was destroyed."),force:!0}),!ce.opListReadCapability)for(const Se of ce.renderTasks)se.push(Se.completed),Se.cancel();return this.objs.clear(),at(this,$,!1),Ge(this,O,Ur).call(this),Promise.all(se)}cleanup(se=!1){at(this,$,!0);const ce=Ge(this,O,Er).call(this,!1);return se&&ce&&this._stats&&(this._stats=new _display_utils.StatTimer),ce}_startRenderPage(se,ce){var ee,ge;const Se=this._intentStates.get(ce);Se&&((ee=this._stats)==null||ee.timeEnd("Page Request"),(ge=Se.displayReadyCapability)==null||ge.resolve(se))}_renderPageChunk(se,ce){for(let Se=0,ee=se.length;Se<ee;Se++)ce.operatorList.fnArray.push(se.fnArray[Se]),ce.operatorList.argsArray.push(se.argsArray[Se]);ce.operatorList.lastChunk=se.lastChunk,ce.operatorList.separateAnnots=se.separateAnnots;for(const Se of ce.renderTasks)Se.operatorListChanged();se.lastChunk&&Ge(this,O,Er).call(this,!0)}_pumpOperatorList({renderingIntent:se,cacheKey:ce,annotationStorageSerializable:Se}){const{map:ee,transfers:ge}=Se,Oe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:se,cacheKey:ce,annotationStorage:ee},ge).getReader(),Re=this._intentStates.get(ce);Re.streamReader=Oe;const Ne=()=>{Oe.read().then(({value:Fe,done:qe})=>{if(qe){Re.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,Re),Ne())},Fe=>{if(Re.streamReader=null,!this._transport.destroyed){if(Re.operatorList){Re.operatorList.lastChunk=!0;for(const qe of Re.renderTasks)qe.operatorListChanged();Ge(this,O,Er).call(this,!0)}if(Re.displayReadyCapability)Re.displayReadyCapability.reject(Fe);else if(Re.opListReadCapability)Re.opListReadCapability.reject(Fe);else throw Fe}})};Ne()}_abortOperatorList({intentState:se,reason:ce,force:Se=!1}){if(se.streamReader){if(se.streamReaderCancelTimeout&&(clearTimeout(se.streamReaderCancelTimeout),se.streamReaderCancelTimeout=null),!Se){if(se.renderTasks.size>0)return;if(ce instanceof _display_utils.RenderingCancelledException){let ee=RENDERING_CANCELLED_TIMEOUT;ce.extraDelay>0&&ce.extraDelay<1e3&&(ee+=ce.extraDelay),se.streamReaderCancelTimeout=setTimeout(()=>{se.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:se,reason:ce,force:!0})},ee);return}}if(se.streamReader.cancel(new _util.AbortException(ce.message)).catch(()=>{}),se.streamReader=null,!this._transport.destroyed){for(const[ee,ge]of this._intentStates)if(ge===se){this._intentStates.delete(ee);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,$=new WeakMap,O=new WeakSet,Er=function(se=!1){if(Ge(this,O,Ur).call(this),!U(this,$)||this.destroyed)return!1;if(se)return at(this,H,setTimeout(()=>{at(this,H,null),Ge(this,O,Er).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ce,operatorList:Se}of this._intentStates.values())if(ce.size>0||!Se.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),at(this,$,!1),!0},Ur=function(){U(this,H)&&(clearTimeout(U(this,H)),at(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ot(this,he,new Set);ot(this,de,Promise.resolve())}postMessage(se,ce){const Se={data:structuredClone(se,ce?{transfer:ce}:null)};U(this,de).then(()=>{for(const ee of U(this,he))ee.call(this,Se)})}addEventListener(se,ce){U(this,he).add(ce)}removeEventListener(se,ce){U(this,he).delete(ce)}terminate(){U(this,he).clear()}}he=new WeakMap,de=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ie=(ue=document==null?void 0:document.currentScript)==null?void 0:ue.src;ie&&(PDFWorkerUtil.fallbackWorkerSrc=ie.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ie,se){let ce;try{if(ce=new URL(ie),!ce.origin||ce.origin==="null")return!1}catch{return!1}const Se=new URL(se,ce);return ce.origin===Se.origin},PDFWorkerUtil.createCDNWrapper=function(ie){const se=`importScripts("${ie}");`;return URL.createObjectURL(new Blob([se]))}}const _PDFWorker=class _PDFWorker{constructor({name:ie=null,port:se=null,verbosity:ce=(0,_util.getVerbosityLevel)()}={}){var Se;if(this.name=ie,this.destroyed=!1,this.verbosity=ce,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,se){if((Se=U(_PDFWorker,V))!=null&&Se.has(se))throw new Error("Cannot use more than one PDFWorker per port.");(U(_PDFWorker,V)||at(_PDFWorker,V,new WeakMap)).set(se,this),this._initializeFromPort(se);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ie){this._port=ie,this._messageHandler=new _message_handler.MessageHandler("main","worker",ie),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ie}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ie)||(ie=PDFWorkerUtil.createCDNWrapper(new URL(ie,window.location).href));const se=new Worker(ie),ce=new _message_handler.MessageHandler("main","worker",se),Se=()=>{se.removeEventListener("error",ee),ce.destroy(),se.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ee=()=>{this._webWorker||Se()};se.addEventListener("error",ee),ce.on("test",Ae=>{if(se.removeEventListener("error",ee),this.destroyed){Se();return}Ae?(this._messageHandler=ce,this._port=se,this._webWorker=se,this._readyCapability.resolve(),ce.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ce.destroy(),se.terminate())}),ce.on("ready",Ae=>{if(se.removeEventListener("error",ee),this.destroyed){Se();return}try{ge()}catch{this._setupFakeWorker()}});const ge=()=>{const Ae=new Uint8Array;ce.send("test",Ae,[Ae.buffer])};ge();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ie=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const se=new LoopbackPort;this._port=se;const ce=`fake${PDFWorkerUtil.fakeWorkerId++}`,Se=new _message_handler.MessageHandler(ce+"_worker",ce,se);ie.setup(Se,se);const ee=new _message_handler.MessageHandler(ce,ce+"_worker",se);this._messageHandler=ee,this._readyCapability.resolve(),ee.send("configure",{verbosity:this.verbosity})}).catch(ie=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ie.message}".`))})}destroy(){var ie;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(ie=U(_PDFWorker,V))==null||ie.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ie){var ce;if(!(ie!=null&&ie.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const se=(ce=U(this,V))==null?void 0:ce.get(ie.port);if(se){if(se._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return se}return new _PDFWorker(ie)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ie;try{return((ie=globalThis.pdfjsWorker)==null?void 0:ie.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};V=new WeakMap,ot(_PDFWorker,V);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(se,ce,Se,ee,ge){ot(this,te);ot(this,fe,new Map);ot(this,ae,new Map);ot(this,J,new Map);ot(this,re,null);this.messageHandler=se,this.loadingTask=ce,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ee.ownerDocument,styleElement:ee.styleElement}),this._params=ee,this.canvasFactory=ge.canvasFactory,this.filterFactory=ge.filterFactory,this.cMapReaderFactory=ge.cMapReaderFactory,this.standardFontDataFactory=ge.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Se,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(se,ce=_util.AnnotationMode.ENABLE,Se=null,ee=!1){let ge=_util.RenderingIntentFlag.DISPLAY,Ae=_annotation_storage.SerializableEmpty;switch(se){case"any":ge=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ge=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${se}`)}switch(ce){case _util.AnnotationMode.DISABLE:ge+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ge+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ge+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ae=(ge&_util.RenderingIntentFlag.PRINT&&Se instanceof _annotation_storage.PrintAnnotationStorage?Se:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ce}`)}return ee&&(ge+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ge,cacheKey:`${ge}_${Ae.hash}`,annotationStorageSerializable:Ae}}destroy(){var Se;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Se=U(this,re))==null||Se.reject(new Error("Worker was destroyed during onPassword callback"));const se=[];for(const ee of U(this,ae).values())se.push(ee._destroy());U(this,ae).clear(),U(this,J).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ce=this.messageHandler.sendWithPromise("Terminate",null);return se.push(ce),Promise.all(se).then(()=>{var ee;this.commonObjs.clear(),this.fontLoader.clear(),U(this,fe).clear(),this.filterFactory.destroy(),(ee=this._networkStream)==null||ee.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:se,loadingTask:ce}=this;se.on("GetReader",(Se,ee)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ge=>{this._lastProgress={loaded:ge.loaded,total:ge.total}},ee.onPull=()=>{this._fullReader.read().then(function({value:ge,done:Ae}){if(Ae){ee.close();return}(0,_util.assert)(ge instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ee.enqueue(new Uint8Array(ge),1,[ge])}).catch(ge=>{ee.error(ge)})},ee.onCancel=ge=>{this._fullReader.cancel(ge),ee.ready.catch(Ae=>{if(!this.destroyed)throw Ae})}}),se.on("ReaderHeadersReady",Se=>{const ee=new _util.PromiseCapability,ge=this._fullReader;return ge.headersReady.then(()=>{var Ae;(!ge.isStreamingSupported||!ge.isRangeSupported)&&(this._lastProgress&&((Ae=ce.onProgress)==null||Ae.call(ce,this._lastProgress)),ge.onProgress=Oe=>{var Re;(Re=ce.onProgress)==null||Re.call(ce,{loaded:Oe.loaded,total:Oe.total})}),ee.resolve({isStreamingSupported:ge.isStreamingSupported,isRangeSupported:ge.isRangeSupported,contentLength:ge.contentLength})},ee.reject),ee.promise}),se.on("GetRangeReader",(Se,ee)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ge=this._networkStream.getRangeReader(Se.begin,Se.end);if(!ge){ee.close();return}ee.onPull=()=>{ge.read().then(function({value:Ae,done:Oe}){if(Oe){ee.close();return}(0,_util.assert)(Ae instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ee.enqueue(new Uint8Array(Ae),1,[Ae])}).catch(Ae=>{ee.error(Ae)})},ee.onCancel=Ae=>{ge.cancel(Ae),ee.ready.catch(Oe=>{if(!this.destroyed)throw Oe})}}),se.on("GetDoc",({pdfInfo:Se})=>{this._numPages=Se.numPages,this._htmlForXfa=Se.htmlForXfa,delete Se.htmlForXfa,ce._capability.resolve(new PDFDocumentProxy(Se,this))}),se.on("DocException",function(Se){let ee;switch(Se.name){case"PasswordException":ee=new _util.PasswordException(Se.message,Se.code);break;case"InvalidPDFException":ee=new _util.InvalidPDFException(Se.message);break;case"MissingPDFException":ee=new _util.MissingPDFException(Se.message);break;case"UnexpectedResponseException":ee=new _util.UnexpectedResponseException(Se.message,Se.status);break;case"UnknownErrorException":ee=new _util.UnknownErrorException(Se.message,Se.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ce._capability.reject(ee)}),se.on("PasswordRequest",Se=>{if(at(this,re,new _util.PromiseCapability),ce.onPassword){const ee=ge=>{ge instanceof Error?U(this,re).reject(ge):U(this,re).resolve({password:ge})};try{ce.onPassword(ee,Se.code)}catch(ge){U(this,re).reject(ge)}}else U(this,re).reject(new _util.PasswordException(Se.message,Se.code));return U(this,re).promise}),se.on("DataLoaded",Se=>{var ee;(ee=ce.onProgress)==null||ee.call(ce,{loaded:Se.length,total:Se.length}),this.downloadInfoCapability.resolve(Se)}),se.on("StartRenderPage",Se=>{if(this.destroyed)return;U(this,ae).get(Se.pageIndex)._startRenderPage(Se.transparency,Se.cacheKey)}),se.on("commonobj",([Se,ee,ge])=>{var Ae;if(!this.destroyed&&!this.commonObjs.has(Se))switch(ee){case"Font":const Oe=this._params;if("error"in ge){const Fe=ge.error;(0,_util.warn)(`Error during font loading: ${Fe}`),this.commonObjs.resolve(Se,Fe);break}const Re=Oe.pdfBug&&((Ae=globalThis.FontInspector)!=null&&Ae.enabled)?(Fe,qe)=>globalThis.FontInspector.fontAdded(Fe,qe):null,Ne=new _font_loader.FontFaceObject(ge,{isEvalSupported:Oe.isEvalSupported,disableFontFace:Oe.disableFontFace,ignoreErrors:Oe.ignoreErrors,inspectFont:Re});this.fontLoader.bind(Ne).catch(Fe=>se.sendWithPromise("FontFallback",{id:Se})).finally(()=>{!Oe.fontExtraProperties&&Ne.data&&(Ne.data=null),this.commonObjs.resolve(Se,Ne)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Se,ge);break;default:throw new Error(`Got unknown common object type ${ee}`)}}),se.on("obj",([Se,ee,ge,Ae])=>{var Re;if(this.destroyed)return;const Oe=U(this,ae).get(ee);if(!Oe.objs.has(Se))switch(ge){case"Image":if(Oe.objs.resolve(Se,Ae),Ae){let Ne;if(Ae.bitmap){const{width:Fe,height:qe}=Ae;Ne=Fe*qe*4}else Ne=((Re=Ae.data)==null?void 0:Re.length)||0;Ne>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Oe._maybeCleanupAfterRender=!0)}break;case"Pattern":Oe.objs.resolve(Se,Ae);break;default:throw new Error(`Got unknown object type ${ge}`)}}),se.on("DocProgress",Se=>{var ee;this.destroyed||(ee=ce.onProgress)==null||ee.call(ce,{loaded:Se.loaded,total:Se.total})}),se.on("FetchBuiltInCMap",Se=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Se):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),se.on("FetchStandardFontData",Se=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Se):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Se;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:se,transfers:ce}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:se,filename:((Se=this._fullReader)==null?void 0:Se.filename)??null},ce).finally(()=>{this.annotationStorage.resetModified()})}getPage(se){if(!Number.isInteger(se)||se<=0||se>this._numPages)return Promise.reject(new Error("Invalid page request."));const ce=se-1,Se=U(this,J).get(ce);if(Se)return Se;const ee=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ce}).then(ge=>{if(this.destroyed)throw new Error("Transport destroyed");const Ae=new PDFPageProxy(ce,ge,this,this._params.pdfBug);return U(this,ae).set(ce,Ae),Ae});return U(this,J).set(ce,ee),ee}getPageIndex(se){return typeof se!="object"||se===null||!Number.isInteger(se.num)||se.num<0||!Number.isInteger(se.gen)||se.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:se.num,gen:se.gen})}getAnnotations(se,ce){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:se,intent:ce})}getFieldObjects(){return Ge(this,te,Vr).call(this,"GetFieldObjects")}hasJSActions(){return Ge(this,te,Vr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(se){return typeof se!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:se})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ge(this,te,Vr).call(this,"GetDocJSActions")}getPageJSActions(se){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:se})}getStructTree(se){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:se})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(se=>new _optional_content_config.OptionalContentConfig(se))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const se="GetMetadata",ce=U(this,fe).get(se);if(ce)return ce;const Se=this.messageHandler.sendWithPromise(se,null).then(ee=>{var ge,Ae;return{info:ee[0],metadata:ee[1]?new _metadata.Metadata(ee[1]):null,contentDispositionFilename:((ge=this._fullReader)==null?void 0:ge.filename)??null,contentLength:((Ae=this._fullReader)==null?void 0:Ae.contentLength)??null}});return U(this,fe).set(se,Se),Se}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(se=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ce of U(this,ae).values())if(!ce.cleanup())throw new Error(`startCleanup: Page ${ce.pageNumber} is currently rendering.`);this.commonObjs.clear(),se||this.fontLoader.clear(),U(this,fe).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:se,enableXfa:ce}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:se,enableXfa:ce})}}fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakSet,Vr=function(se,ce=null){const Se=U(this,fe).get(se);if(Se)return Se;const ee=this.messageHandler.sendWithPromise(se,ce);return U(this,fe).set(se,ee),ee};class PDFObjects{constructor(){ot(this,oe);ot(this,ne,Object.create(null))}get(se,ce=null){if(ce){const ee=Ge(this,oe,gi).call(this,se);return ee.capability.promise.then(()=>ce(ee.data)),null}const Se=U(this,ne)[se];if(!(Se!=null&&Se.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${se}.`);return Se.data}has(se){const ce=U(this,ne)[se];return(ce==null?void 0:ce.capability.settled)||!1}resolve(se,ce=null){const Se=Ge(this,oe,gi).call(this,se);Se.data=ce,Se.capability.resolve()}clear(){var se;for(const ce in U(this,ne)){const{data:Se}=U(this,ne)[ce];(se=Se==null?void 0:Se.bitmap)==null||se.close()}at(this,ne,Object.create(null))}}ne=new WeakMap,oe=new WeakSet,gi=function(se){var ce;return(ce=U(this,ne))[se]||(ce[se]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(se){ot(this,pe,null);at(this,pe,se),this.onContinue=null}get promise(){return U(this,pe).capability.promise}cancel(se=0){U(this,pe).cancel(null,se)}get separateAnnots(){const{separateAnnots:se}=U(this,pe).operatorList;if(!se)return!1;const{annotationCanvasMap:ce}=U(this,pe);return se.form||se.canvas&&(ce==null?void 0:ce.size)>0}}pe=new WeakMap,exports.RenderTask=RenderTask;const le=class le{constructor({callback:se,params:ce,objs:Se,commonObjs:ee,annotationCanvasMap:ge,operatorList:Ae,pageIndex:Oe,canvasFactory:Re,filterFactory:Ne,useRequestAnimationFrame:Fe=!1,pdfBug:qe=!1,pageColors:Ee=null}){this.callback=se,this.params=ce,this.objs=Se,this.commonObjs=ee,this.annotationCanvasMap=ge,this.operatorListIdx=null,this.operatorList=Ae,this._pageIndex=Oe,this.canvasFactory=Re,this.filterFactory=Ne,this._pdfBug=qe,this.pageColors=Ee,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Fe===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ce.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:se=!1,optionalContentConfig:ce}){var Oe,Re;if(this.cancelled)return;if(this._canvas){if(U(le,Q).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");U(le,Q).add(this._canvas)}this._pdfBug&&((Oe=globalThis.StepperManager)!=null&&Oe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Se,viewport:ee,transform:ge,background:Ae}=this.params;this.gfx=new _canvas.CanvasGraphics(Se,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ce},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ge,viewport:ee,transparency:se,background:Ae}),this.operatorListIdx=0,this.graphicsReady=!0,(Re=this.graphicsReadyCallback)==null||Re.call(this)}cancel(se=null,ce=0){var Se;this.running=!1,this.cancelled=!0,(Se=this.gfx)==null||Se.endDrawing(),U(le,Q).delete(this._canvas),this.callback(se||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ce))}operatorListChanged(){var se;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(se=this.stepper)==null||se.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),U(le,Q).delete(this._canvas),this.callback())))}};Q=new WeakMap,ot(le,Q,new WeakSet);let InternalRenderTask=le;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(A,R,H)=>{var ue,V,fe,go,J;Object.defineProperty(R,"__esModule",{value:!0}),R.SerializableEmpty=R.PrintAnnotationStorage=R.AnnotationStorage=void 0;var $=H(1),O=H(4),B=H(8);const W=Object.freeze({map:null,hash:"",transfers:void 0});R.SerializableEmpty=W;class he{constructor(){ot(this,fe);ot(this,ue,!1);ot(this,V,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(te,G){const ne=U(this,V).get(te);return ne===void 0?G:Object.assign(G,ne)}getRawValue(te){return U(this,V).get(te)}remove(te){if(U(this,V).delete(te),U(this,V).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of U(this,V).values())if(G instanceof O.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(te,G){const ne=U(this,V).get(te);let oe=!1;if(ne!==void 0)for(const[me,pe]of Object.entries(G))ne[me]!==pe&&(oe=!0,ne[me]=pe);else oe=!0,U(this,V).set(te,G);oe&&Ge(this,fe,go).call(this),G instanceof O.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(te){return U(this,V).has(te)}getAll(){return U(this,V).size>0?(0,$.objectFromMap)(U(this,V)):null}setAll(te){for(const[G,ne]of Object.entries(te))this.setValue(G,ne)}get size(){return U(this,V).size}resetModified(){U(this,ue)&&(at(this,ue,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new de(this)}get serializable(){if(U(this,V).size===0)return W;const te=new Map,G=new B.MurmurHash3_64,ne=[],oe=Object.create(null);let me=!1;for(const[pe,Q]of U(this,V)){const le=Q instanceof O.AnnotationEditor?Q.serialize(!1,oe):Q;le&&(te.set(pe,le),G.update(`${pe}:${JSON.stringify(le)}`),me||(me=!!le.bitmap))}if(me)for(const pe of te.values())pe.bitmap&&ne.push(pe.bitmap);return te.size>0?{map:te,hash:G.hexdigest(),transfers:ne}:W}}ue=new WeakMap,V=new WeakMap,fe=new WeakSet,go=function(){U(this,ue)||(at(this,ue,!0),typeof this.onSetModified=="function"&&this.onSetModified())},R.AnnotationStorage=he;class de extends he{constructor(G){super();ot(this,J);const{map:ne,hash:oe,transfers:me}=G.serializable,pe=structuredClone(ne,me?{transfer:me}:null);at(this,J,{map:pe,hash:oe,transfers:me})}get print(){(0,$.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return U(this,J)}}J=new WeakMap,R.PrintAnnotationStorage=de},(A,R,H)=>{var de,ue,V,fe,ae,J,re,te,G,ne,oe,me,pe,Q,le,vi,bi,ce,_i,Ei,vo,bo,_o,yi,Eo;Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationEditor=void 0;var $=H(5),O=H(1),B=H(6);const Fe=class Fe{constructor(Ee){ot(this,le);ot(this,de,"");ot(this,ue,!1);ot(this,V,null);ot(this,fe,null);ot(this,ae,null);ot(this,J,!1);ot(this,re,null);ot(this,te,this.focusin.bind(this));ot(this,G,this.focusout.bind(this));ot(this,ne,!1);ot(this,oe,!1);ot(this,me,!1);In(this,"_initialOptions",Object.create(null));In(this,"_uiManager",null);In(this,"_focusEventsAllowed",!0);In(this,"_l10nPromise",null);ot(this,pe,!1);ot(this,Q,Fe._zIndex++);this.constructor===Fe&&(0,O.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ee.parent,this.id=Ee.id,this.width=this.height=null,this.pageIndex=Ee.parent.pageIndex,this.name=Ee.name,this.div=null,this._uiManager=Ee.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ee.isCentered,this._structTreeParentId=null;const{rotation:Te,rawDims:{pageWidth:Be,pageHeight:ye,pageX:q,pageY:Y}}=this.parent.viewport;this.rotation=Te,this.pageRotation=(360+Te-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Be,ye],this.pageTranslation=[q,Y];const[ve,Me]=this.parentDimensions;this.x=Ee.x/ve,this.y=Ee.y/Me,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,O.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ee){const Te=new he({id:Ee.parent.getNextId(),parent:Ee.parent,uiManager:Ee._uiManager});Te.annotationElementId=Ee.annotationElementId,Te.deleted=!0,Te._uiManager.addToAnnotationStorage(Te)}static initialize(Ee,Te=null){if(Fe._l10nPromise||(Fe._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(ye=>[ye,Ee.get(ye)]))),Te!=null&&Te.strings)for(const ye of Te.strings)Fe._l10nPromise.set(ye,Ee.get(ye));if(Fe._borderLineWidth!==-1)return;const Be=getComputedStyle(document.documentElement);Fe._borderLineWidth=parseFloat(Be.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ee,Te){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ee){return!1}static paste(Ee,Te){(0,O.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return U(this,pe)}set _isDraggable(Ee){var Te;at(this,pe,Ee),(Te=this.div)==null||Te.classList.toggle("draggable",Ee)}center(){const[Ee,Te]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Te/(Ee*2),this.y+=this.width*Ee/(Te*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Te/(Ee*2),this.y-=this.width*Ee/(Te*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ee){this._uiManager.addCommands(Ee)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=U(this,Q)}setParent(Ee){Ee!==null&&(this.pageIndex=Ee.pageIndex,this.pageDimensions=Ee.pageDimensions),this.parent=Ee}focusin(Ee){this._focusEventsAllowed&&(U(this,ne)?at(this,ne,!1):this.parent.setSelected(this))}focusout(Ee){var Be;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Te=Ee.relatedTarget;Te!=null&&Te.closest(`#${this.id}`)||(Ee.preventDefault(),(Be=this.parent)!=null&&Be.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ee,Te,Be,ye){const[q,Y]=this.parentDimensions;[Be,ye]=this.screenToPageTranslation(Be,ye),this.x=(Ee+Be)/q,this.y=(Te+ye)/Y,this.fixAndSetPosition()}translate(Ee,Te){Ge(this,le,vi).call(this,this.parentDimensions,Ee,Te)}translateInPage(Ee,Te){Ge(this,le,vi).call(this,this.pageDimensions,Ee,Te),this.div.scrollIntoView({block:"nearest"})}drag(Ee,Te){const[Be,ye]=this.parentDimensions;if(this.x+=Ee/Be,this.y+=Te/ye,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:xe,y:Pe}=this.div.getBoundingClientRect();this.parent.findNewParent(this,xe,Pe)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:q,y:Y}=this;const[ve,Me]=Ge(this,le,bi).call(this);q+=ve,Y+=Me,this.div.style.left=`${(100*q).toFixed(2)}%`,this.div.style.top=`${(100*Y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ee,Te]=this.pageDimensions;let{x:Be,y:ye,width:q,height:Y}=this;switch(q*=Ee,Y*=Te,Be*=Ee,ye*=Te,this.rotation){case 0:Be=Math.max(0,Math.min(Ee-q,Be)),ye=Math.max(0,Math.min(Te-Y,ye));break;case 90:Be=Math.max(0,Math.min(Ee-Y,Be)),ye=Math.min(Te,Math.max(q,ye));break;case 180:Be=Math.min(Ee,Math.max(q,Be)),ye=Math.min(Te,Math.max(Y,ye));break;case 270:Be=Math.min(Ee,Math.max(Y,Be)),ye=Math.max(0,Math.min(Te-q,ye));break}this.x=Be/=Ee,this.y=ye/=Te;const[ve,Me]=Ge(this,le,bi).call(this);Be+=ve,ye+=Me;const{style:xe}=this.div;xe.left=`${(100*Be).toFixed(2)}%`,xe.top=`${(100*ye).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ee,Te){var Be;return Ge(Be=Fe,ce,_i).call(Be,Ee,Te,this.parentRotation)}pageTranslationToScreen(Ee,Te){var Be;return Ge(Be=Fe,ce,_i).call(Be,Ee,Te,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ee,pageDimensions:[Te,Be]}=this,ye=Te*Ee,q=Be*Ee;return O.FeatureTest.isCSSRoundSupported?[Math.round(ye),Math.round(q)]:[ye,q]}setDims(Ee,Te){var q;const[Be,ye]=this.parentDimensions;this.div.style.width=`${(100*Ee/Be).toFixed(2)}%`,U(this,J)||(this.div.style.height=`${(100*Te/ye).toFixed(2)}%`),(q=U(this,V))==null||q.classList.toggle("small",Ee<Fe.SMALL_EDITOR_SIZE||Te<Fe.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ee}=this.div,{height:Te,width:Be}=Ee,ye=Be.endsWith("%"),q=!U(this,J)&&Te.endsWith("%");if(ye&&q)return;const[Y,ve]=this.parentDimensions;ye||(Ee.width=`${(100*parseFloat(Be)/Y).toFixed(2)}%`),!U(this,J)&&!q&&(Ee.height=`${(100*parseFloat(Te)/ve).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(U(this,V))return;const Ee=at(this,V,document.createElement("button"));Ee.className="altText";const Te=await Fe._l10nPromise.get("editor_alt_text_button_label");Ee.textContent=Te,Ee.setAttribute("aria-label",Te),Ee.tabIndex="0",Ee.addEventListener("contextmenu",B.noContextMenu),Ee.addEventListener("pointerdown",Be=>Be.stopPropagation()),Ee.addEventListener("click",Be=>{Be.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ee.addEventListener("keydown",Be=>{Be.target===Ee&&Be.key==="Enter"&&(Be.preventDefault(),this._uiManager.editAltText(this))}),Ge(this,le,yi).call(this),this.div.append(Ee),Fe.SMALL_EDITOR_SIZE||(Fe.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ee.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:U(this,de),decorative:U(this,ue)}}set altTextData({altText:Ee,decorative:Te}){U(this,de)===Ee&&U(this,ue)===Te||(at(this,de,Ee),at(this,ue,Te),Ge(this,le,yi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",U(this,te)),this.div.addEventListener("focusout",U(this,G));const[Ee,Te]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Te/Ee).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ee/Te).toFixed(2)}%`);const[Be,ye]=this.getInitialTranslation();return this.translate(Be,ye),(0,$.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ee){const{isMac:Te}=O.FeatureTest.platform;if(Ee.button!==0||Ee.ctrlKey&&Te){Ee.preventDefault();return}at(this,ne,!0),Ge(this,le,Eo).call(this,Ee)}moveInDOM(){var Ee;(Ee=this.parent)==null||Ee.moveEditorInDOM(this)}_setParentAndPosition(Ee,Te,Be){Ee.changeParent(this),this.x=Te,this.y=Be,this.fixAndSetPosition()}getRect(Ee,Te){const Be=this.parentScale,[ye,q]=this.pageDimensions,[Y,ve]=this.pageTranslation,Me=Ee/Be,xe=Te/Be,Pe=this.x*ye,Le=this.y*q,Qe=this.width*ye,st=this.height*q;switch(this.rotation){case 0:return[Pe+Me+Y,q-Le-xe-st+ve,Pe+Me+Qe+Y,q-Le-xe+ve];case 90:return[Pe+xe+Y,q-Le+Me+ve,Pe+xe+st+Y,q-Le+Me+Qe+ve];case 180:return[Pe-Me-Qe+Y,q-Le+xe+ve,Pe-Me+Y,q-Le+xe+st+ve];case 270:return[Pe-xe-st+Y,q-Le-Me-Qe+ve,Pe-xe+Y,q-Le-Me+ve];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ee,Te){const[Be,ye,q,Y]=Ee,ve=q-Be,Me=Y-ye;switch(this.rotation){case 0:return[Be,Te-Y,ve,Me];case 90:return[Be,Te-ye,Me,ve];case 180:return[q,Te-ye,ve,Me];case 270:return[q,Te-Y,Me,ve];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){at(this,me,!0)}disableEditMode(){at(this,me,!1)}isInEditMode(){return U(this,me)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ee,Te;(Ee=this.div)==null||Ee.addEventListener("focusin",U(this,te)),(Te=this.div)==null||Te.addEventListener("focusout",U(this,G))}serialize(Ee=!1,Te=null){(0,O.unreachable)("An editor must be serializable")}static deserialize(Ee,Te,Be){const ye=new this.prototype.constructor({parent:Te,id:Te.getNextId(),uiManager:Be});ye.rotation=Ee.rotation;const[q,Y]=ye.pageDimensions,[ve,Me,xe,Pe]=ye.getRectInCurrentCoords(Ee.rect,Y);return ye.x=ve/q,ye.y=Me/Y,ye.width=xe/q,ye.height=Pe/Y,ye}remove(){var Ee;this.div.removeEventListener("focusin",U(this,te)),this.div.removeEventListener("focusout",U(this,G)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ee=U(this,V))==null||Ee.remove(),at(this,V,null),at(this,fe,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ge(this,le,vo).call(this),U(this,re).classList.remove("hidden"))}select(){var Ee;this.makeResizable(),(Ee=this.div)==null||Ee.classList.add("selectedEditor")}unselect(){var Ee,Te,Be;(Ee=U(this,re))==null||Ee.classList.add("hidden"),(Te=this.div)==null||Te.classList.remove("selectedEditor"),(Be=this.div)!=null&&Be.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ee,Te){}disableEditing(){U(this,V)&&(U(this,V).hidden=!0)}enableEditing(){U(this,V)&&(U(this,V).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return U(this,oe)}set isEditing(Ee){at(this,oe,Ee),this.parent&&(Ee?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ee,Te){at(this,J,!0);const Be=Ee/Te,{style:ye}=this.div;ye.aspectRatio=Be,ye.height="auto"}static get MIN_SIZE(){return 16}};de=new WeakMap,ue=new WeakMap,V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakMap,oe=new WeakMap,me=new WeakMap,pe=new WeakMap,Q=new WeakMap,le=new WeakSet,vi=function([Ee,Te],Be,ye){[Be,ye]=this.screenToPageTranslation(Be,ye),this.x+=Be/Ee,this.y+=ye/Te,this.fixAndSetPosition()},bi=function(){const[Ee,Te]=this.parentDimensions,{_borderLineWidth:Be}=Fe,ye=Be/Ee,q=Be/Te;switch(this.rotation){case 90:return[-ye,q];case 180:return[ye,q];case 270:return[ye,-q];default:return[-ye,-q]}},ce=new WeakSet,_i=function(Ee,Te,Be){switch(Be){case 90:return[Te,-Ee];case 180:return[-Ee,-Te];case 270:return[-Te,Ee];default:return[Ee,Te]}},Ei=function(Ee){switch(Ee){case 90:{const[Te,Be]=this.pageDimensions;return[0,-Te/Be,Be/Te,0]}case 180:return[-1,0,0,-1];case 270:{const[Te,Be]=this.pageDimensions;return[0,Te/Be,-Be/Te,0]}default:return[1,0,0,1]}},vo=function(){if(U(this,re))return;at(this,re,document.createElement("div")),U(this,re).classList.add("resizers");const Ee=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Ee.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Te of Ee){const Be=document.createElement("div");U(this,re).append(Be),Be.classList.add("resizer",Te),Be.addEventListener("pointerdown",Ge(this,le,bo).bind(this,Te)),Be.addEventListener("contextmenu",B.noContextMenu)}this.div.prepend(U(this,re))},bo=function(Ee,Te){Te.preventDefault();const{isMac:Be}=O.FeatureTest.platform;if(Te.button!==0||Te.ctrlKey&&Be)return;const ye=Ge(this,le,_o).bind(this,Ee),q=this._isDraggable;this._isDraggable=!1;const Y={passive:!0,capture:!0};window.addEventListener("pointermove",ye,Y);const ve=this.x,Me=this.y,xe=this.width,Pe=this.height,Le=this.parent.div.style.cursor,Qe=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Te.target).cursor;const st=()=>{this._isDraggable=q,window.removeEventListener("pointerup",st),window.removeEventListener("blur",st),window.removeEventListener("pointermove",ye,Y),this.parent.div.style.cursor=Le,this.div.style.cursor=Qe;const ct=this.x,dt=this.y,ht=this.width,gt=this.height;ct===ve&&dt===Me&&ht===xe&&gt===Pe||this.addCommands({cmd:()=>{this.width=ht,this.height=gt,this.x=ct,this.y=dt;const[Ke,Xe]=this.parentDimensions;this.setDims(Ke*ht,Xe*gt),this.fixAndSetPosition()},undo:()=>{this.width=xe,this.height=Pe,this.x=ve,this.y=Me;const[Ke,Xe]=this.parentDimensions;this.setDims(Ke*xe,Xe*Pe),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",st),window.addEventListener("blur",st)},_o=function(Ee,Te){const[Be,ye]=this.parentDimensions,q=this.x,Y=this.y,ve=this.width,Me=this.height,xe=Fe.MIN_SIZE/Be,Pe=Fe.MIN_SIZE/ye,Le=It=>Math.round(It*1e4)/1e4,Qe=Ge(this,le,Ei).call(this,this.rotation),st=(It,Ht)=>[Qe[0]*It+Qe[2]*Ht,Qe[1]*It+Qe[3]*Ht],ct=Ge(this,le,Ei).call(this,360-this.rotation),dt=(It,Ht)=>[ct[0]*It+ct[2]*Ht,ct[1]*It+ct[3]*Ht];let ht,gt,Ke=!1,Xe=!1;switch(Ee){case"topLeft":Ke=!0,ht=(It,Ht)=>[0,0],gt=(It,Ht)=>[It,Ht];break;case"topMiddle":ht=(It,Ht)=>[It/2,0],gt=(It,Ht)=>[It/2,Ht];break;case"topRight":Ke=!0,ht=(It,Ht)=>[It,0],gt=(It,Ht)=>[0,Ht];break;case"middleRight":Xe=!0,ht=(It,Ht)=>[It,Ht/2],gt=(It,Ht)=>[0,Ht/2];break;case"bottomRight":Ke=!0,ht=(It,Ht)=>[It,Ht],gt=(It,Ht)=>[0,0];break;case"bottomMiddle":ht=(It,Ht)=>[It/2,Ht],gt=(It,Ht)=>[It/2,0];break;case"bottomLeft":Ke=!0,ht=(It,Ht)=>[0,Ht],gt=(It,Ht)=>[It,0];break;case"middleLeft":Xe=!0,ht=(It,Ht)=>[0,Ht/2],gt=(It,Ht)=>[It,Ht/2];break}const _e=ht(ve,Me),we=gt(ve,Me);let He=st(...we);const Ye=Le(q+He[0]),rt=Le(Y+He[1]);let mt=1,ft=1,[We,xt]=this.screenToPageTranslation(Te.movementX,Te.movementY);if([We,xt]=dt(We/Be,xt/ye),Ke){const It=Math.hypot(ve,Me);mt=ft=Math.max(Math.min(Math.hypot(we[0]-_e[0]-We,we[1]-_e[1]-xt)/It,1/ve,1/Me),xe/ve,Pe/Me)}else Xe?mt=Math.max(xe,Math.min(1,Math.abs(we[0]-_e[0]-We)))/ve:ft=Math.max(Pe,Math.min(1,Math.abs(we[1]-_e[1]-xt)))/Me;const wt=Le(ve*mt),Zt=Le(Me*ft);He=st(...gt(wt,Zt));const Gt=Ye-He[0],fn=rt-He[1];this.width=wt,this.height=Zt,this.x=Gt,this.y=fn,this.setDims(Be*wt,ye*Zt),this.fixAndSetPosition()},yi=async function(){var Be;const Ee=U(this,V);if(!Ee)return;if(!U(this,de)&&!U(this,ue)){Ee.classList.remove("done"),(Be=U(this,fe))==null||Be.remove();return}Fe._l10nPromise.get("editor_alt_text_edit_button_label").then(ye=>{Ee.setAttribute("aria-label",ye)});let Te=U(this,fe);if(!Te){at(this,fe,Te=document.createElement("span")),Te.className="tooltip",Te.setAttribute("role","tooltip");const ye=Te.id=`alt-text-tooltip-${this.id}`;Ee.setAttribute("aria-describedby",ye);const q=100;Ee.addEventListener("mouseenter",()=>{at(this,ae,setTimeout(()=>{at(this,ae,null),U(this,fe).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},q))}),Ee.addEventListener("mouseleave",()=>{var Y;clearTimeout(U(this,ae)),at(this,ae,null),(Y=U(this,fe))==null||Y.classList.remove("show")})}Ee.classList.add("done"),Te.innerText=U(this,ue)?await Fe._l10nPromise.get("editor_alt_text_decorative_tooltip"):U(this,de),Te.parentNode||Ee.append(Te)},Eo=function(Ee){if(!this._isDraggable)return;const Te=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Be,ye;Te&&(Be={passive:!0,capture:!0},ye=Y=>{const[ve,Me]=this.screenToPageTranslation(Y.movementX,Y.movementY);this._uiManager.dragSelectedEditors(ve,Me)},window.addEventListener("pointermove",ye,Be));const q=()=>{if(window.removeEventListener("pointerup",q),window.removeEventListener("blur",q),Te&&window.removeEventListener("pointermove",ye,Be),at(this,ne,!1),!this._uiManager.endDragSession()){const{isMac:Y}=O.FeatureTest.platform;Ee.ctrlKey&&!Y||Ee.shiftKey||Ee.metaKey&&Y?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",q),window.addEventListener("blur",q)},ot(Fe,ce),In(Fe,"_borderLineWidth",-1),In(Fe,"_colorManager",new $.ColorManager),In(Fe,"_zIndex",1),In(Fe,"SMALL_EDITOR_SIZE",0);let W=Fe;R.AnnotationEditor=W;class he extends W{constructor(Ee){super(Ee),this.annotationElementId=Ee.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,R,H)=>{var J,re,te,G,ne,Si,pe,Q,le,ie,se,yo,ee,ge,Ae,Oe,Re,Ne,Fe,qe,Ee,Te,Be,ye,q,Y,ve,Me,xe,Pe,Le,Qe,st,ct,dt,ht,gt,Ke,Xe,_e,we,He,Ye,rt,mt,ft,We,So,wi,xi,Wr,Ci,Ai,tr,Pr,wo,xo,Mi,kr,Pi;Object.defineProperty(R,"__esModule",{value:!0}),R.KeyboardManager=R.CommandManager=R.ColorManager=R.AnnotationEditorUIManager=void 0,R.bindEvents=B,R.opacityToHex=W;var $=H(1),O=H(6);function B(qt,$e,pt){for(const Mt of pt)$e.addEventListener(Mt,qt[Mt].bind(qt))}function W(qt){return Math.round(Math.min(255,Math.max(1,255*qt))).toString(16).padStart(2,"0")}class he{constructor(){ot(this,J,0)}getId(){return`${$.AnnotationEditorPrefix}${Mr(this,J)._++}`}}J=new WeakMap;const me=class me{constructor(){ot(this,ne);ot(this,re,(0,$.getUuid)());ot(this,te,0);ot(this,G,null)}static get _isSVGFittingCanvas(){const $e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Mt=new OffscreenCanvas(1,3).getContext("2d"),Ot=new Image;Ot.src=$e;const Bt=Ot.decode().then(()=>(Mt.drawImage(Ot,0,0,1,1,0,0,1,3),new Uint32Array(Mt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,$.shadow)(this,"_isSVGFittingCanvas",Bt)}async getFromFile($e){const{lastModified:pt,name:Mt,size:Ot,type:Bt}=$e;return Ge(this,ne,Si).call(this,`${pt}_${Mt}_${Ot}_${Bt}`,$e)}async getFromUrl($e){return Ge(this,ne,Si).call(this,$e,$e)}async getFromId($e){U(this,G)||at(this,G,new Map);const pt=U(this,G).get($e);return pt?pt.bitmap?(pt.refCounter+=1,pt):pt.file?this.getFromFile(pt.file):this.getFromUrl(pt.url):null}getSvgUrl($e){const pt=U(this,G).get($e);return pt!=null&&pt.isSvg?pt.svgUrl:null}deleteId($e){U(this,G)||at(this,G,new Map);const pt=U(this,G).get($e);pt&&(pt.refCounter-=1,pt.refCounter===0&&(pt.bitmap=null))}isValidId($e){return $e.startsWith(`image_${U(this,re)}_`)}};re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakSet,Si=async function($e,pt){U(this,G)||at(this,G,new Map);let Mt=U(this,G).get($e);if(Mt===null)return null;if(Mt!=null&&Mt.bitmap)return Mt.refCounter+=1,Mt;try{Mt||(Mt={bitmap:null,id:`image_${U(this,re)}_${Mr(this,te)._++}`,refCounter:0,isSvg:!1});let Ot;if(typeof pt=="string"){Mt.url=pt;const Bt=await fetch(pt);if(!Bt.ok)throw new Error(Bt.statusText);Ot=await Bt.blob()}else Ot=Mt.file=pt;if(Ot.type==="image/svg+xml"){const Bt=me._isSVGFittingCanvas,Rt=new FileReader,ke=new Image,Ce=new Promise((Ue,lt)=>{ke.onload=()=>{Mt.bitmap=ke,Mt.isSvg=!0,Ue()},Rt.onload=async()=>{const ut=Mt.svgUrl=Rt.result;ke.src=await Bt?`${ut}#svgView(preserveAspectRatio(none))`:ut},ke.onerror=Rt.onerror=lt});Rt.readAsDataURL(Ot),await Ce}else Mt.bitmap=await createImageBitmap(Ot);Mt.refCounter=1}catch(Ot){console.error(Ot),Mt=null}return U(this,G).set($e,Mt),Mt&&U(this,G).set(Mt.id,Mt),Mt};let de=me;class ue{constructor($e=128){ot(this,pe,[]);ot(this,Q,!1);ot(this,le);ot(this,ie,-1);at(this,le,$e)}add({cmd:$e,undo:pt,mustExec:Mt,type:Ot=NaN,overwriteIfSameType:Bt=!1,keepUndo:Rt=!1}){if(Mt&&$e(),U(this,Q))return;const ke={cmd:$e,undo:pt,type:Ot};if(U(this,ie)===-1){U(this,pe).length>0&&(U(this,pe).length=0),at(this,ie,0),U(this,pe).push(ke);return}if(Bt&&U(this,pe)[U(this,ie)].type===Ot){Rt&&(ke.undo=U(this,pe)[U(this,ie)].undo),U(this,pe)[U(this,ie)]=ke;return}const Ce=U(this,ie)+1;Ce===U(this,le)?U(this,pe).splice(0,1):(at(this,ie,Ce),Ce<U(this,pe).length&&U(this,pe).splice(Ce)),U(this,pe).push(ke)}undo(){U(this,ie)!==-1&&(at(this,Q,!0),U(this,pe)[U(this,ie)].undo(),at(this,Q,!1),at(this,ie,U(this,ie)-1))}redo(){U(this,ie)<U(this,pe).length-1&&(at(this,ie,U(this,ie)+1),at(this,Q,!0),U(this,pe)[U(this,ie)].cmd(),at(this,Q,!1))}hasSomethingToUndo(){return U(this,ie)!==-1}hasSomethingToRedo(){return U(this,ie)<U(this,pe).length-1}destroy(){at(this,pe,null)}}pe=new WeakMap,Q=new WeakMap,le=new WeakMap,ie=new WeakMap,R.CommandManager=ue;class V{constructor($e){ot(this,se);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pt}=$.FeatureTest.platform;for(const[Mt,Ot,Bt={}]of $e)for(const Rt of Mt){const ke=Rt.startsWith("mac+");pt&&ke?(this.callbacks.set(Rt.slice(4),{callback:Ot,options:Bt}),this.allKeys.add(Rt.split("+").at(-1))):!pt&&!ke&&(this.callbacks.set(Rt,{callback:Ot,options:Bt}),this.allKeys.add(Rt.split("+").at(-1)))}}exec($e,pt){if(!this.allKeys.has(pt.key))return;const Mt=this.callbacks.get(Ge(this,se,yo).call(this,pt));if(!Mt)return;const{callback:Ot,options:{bubbles:Bt=!1,args:Rt=[],checker:ke=null}}=Mt;ke&&!ke($e,pt)||(Ot.bind($e,...Rt)(),Bt||(pt.stopPropagation(),pt.preventDefault()))}}se=new WeakSet,yo=function($e){$e.altKey&&this.buffer.push("alt"),$e.ctrlKey&&this.buffer.push("ctrl"),$e.metaKey&&this.buffer.push("meta"),$e.shiftKey&&this.buffer.push("shift"),this.buffer.push($e.key);const pt=this.buffer.join("+");return this.buffer.length=0,pt},R.KeyboardManager=V;const Se=class Se{get _colors(){const $e=new Map([["CanvasText",null],["Canvas",null]]);return(0,O.getColorValues)($e),(0,$.shadow)(this,"_colors",$e)}convert($e){const pt=(0,O.getRGB)($e);if(!window.matchMedia("(forced-colors: active)").matches)return pt;for(const[Mt,Ot]of this._colors)if(Ot.every((Bt,Rt)=>Bt===pt[Rt]))return Se._colorsMapping.get(Mt);return pt}getHexCode($e){const pt=this._colors.get($e);return pt?$.Util.makeHexColor(...pt):$e}};In(Se,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let fe=Se;R.ColorManager=fe;const Lt=class Lt{constructor($e,pt,Mt,Ot,Bt,Rt){ot(this,We);ot(this,ee,null);ot(this,ge,new Map);ot(this,Ae,new Map);ot(this,Oe,null);ot(this,Re,null);ot(this,Ne,new ue);ot(this,Fe,0);ot(this,qe,new Set);ot(this,Ee,null);ot(this,Te,null);ot(this,Be,new Set);ot(this,ye,null);ot(this,q,new he);ot(this,Y,!1);ot(this,ve,!1);ot(this,Me,null);ot(this,xe,$.AnnotationEditorType.NONE);ot(this,Pe,new Set);ot(this,Le,null);ot(this,Qe,this.blur.bind(this));ot(this,st,this.focus.bind(this));ot(this,ct,this.copy.bind(this));ot(this,dt,this.cut.bind(this));ot(this,ht,this.paste.bind(this));ot(this,gt,this.keydown.bind(this));ot(this,Ke,this.onEditingAction.bind(this));ot(this,Xe,this.onPageChanging.bind(this));ot(this,_e,this.onScaleChanging.bind(this));ot(this,we,this.onRotationChanging.bind(this));ot(this,He,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ot(this,Ye,[0,0]);ot(this,rt,null);ot(this,mt,null);ot(this,ft,null);at(this,mt,$e),at(this,ft,pt),at(this,Oe,Mt),this._eventBus=Ot,this._eventBus._on("editingaction",U(this,Ke)),this._eventBus._on("pagechanging",U(this,Xe)),this._eventBus._on("scalechanging",U(this,_e)),this._eventBus._on("rotationchanging",U(this,we)),at(this,Re,Bt.annotationStorage),at(this,ye,Bt.filterFactory),at(this,Le,Rt),this.viewParameters={realScale:O.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const $e=Lt.prototype,pt=Bt=>{const{activeElement:Rt}=document;return Rt&&U(Bt,mt).contains(Rt)&&Bt.hasSomethingToControl()},Mt=this.TRANSLATE_SMALL,Ot=this.TRANSLATE_BIG;return(0,$.shadow)(this,"_keyboardManager",new V([[["ctrl+a","mac+meta+a"],$e.selectAll],[["ctrl+z","mac+meta+z"],$e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$e.delete],[["Escape","mac+Escape"],$e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$e.translateSelectedEditors,{args:[-Mt,0],checker:pt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$e.translateSelectedEditors,{args:[-Ot,0],checker:pt}],[["ArrowRight","mac+ArrowRight"],$e.translateSelectedEditors,{args:[Mt,0],checker:pt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$e.translateSelectedEditors,{args:[Ot,0],checker:pt}],[["ArrowUp","mac+ArrowUp"],$e.translateSelectedEditors,{args:[0,-Mt],checker:pt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$e.translateSelectedEditors,{args:[0,-Ot],checker:pt}],[["ArrowDown","mac+ArrowDown"],$e.translateSelectedEditors,{args:[0,Mt],checker:pt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$e.translateSelectedEditors,{args:[0,Ot],checker:pt}]]))}destroy(){Ge(this,We,Wr).call(this),Ge(this,We,wi).call(this),this._eventBus._off("editingaction",U(this,Ke)),this._eventBus._off("pagechanging",U(this,Xe)),this._eventBus._off("scalechanging",U(this,_e)),this._eventBus._off("rotationchanging",U(this,we));for(const $e of U(this,Ae).values())$e.destroy();U(this,Ae).clear(),U(this,ge).clear(),U(this,Be).clear(),at(this,ee,null),U(this,Pe).clear(),U(this,Ne).destroy(),U(this,Oe).destroy()}get hcmFilter(){return(0,$.shadow)(this,"hcmFilter",U(this,Le)?U(this,ye).addHCMFilter(U(this,Le).foreground,U(this,Le).background):"none")}get direction(){return(0,$.shadow)(this,"direction",getComputedStyle(U(this,mt)).direction)}editAltText($e){var pt;(pt=U(this,Oe))==null||pt.editAltText(this,$e)}onPageChanging({pageNumber:$e}){at(this,Fe,$e-1)}focusMainContainer(){U(this,mt).focus()}findParent($e,pt){for(const Mt of U(this,Ae).values()){const{x:Ot,y:Bt,width:Rt,height:ke}=Mt.div.getBoundingClientRect();if($e>=Ot&&$e<=Ot+Rt&&pt>=Bt&&pt<=Bt+ke)return Mt}return null}disableUserSelect($e=!1){U(this,ft).classList.toggle("noUserSelect",$e)}addShouldRescale($e){U(this,Be).add($e)}removeShouldRescale($e){U(this,Be).delete($e)}onScaleChanging({scale:$e}){this.commitOrRemove(),this.viewParameters.realScale=$e*O.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pt of U(this,Be))pt.onScaleChanging()}onRotationChanging({pagesRotation:$e}){this.commitOrRemove(),this.viewParameters.rotation=$e}addToAnnotationStorage($e){!$e.isEmpty()&&U(this,Re)&&!U(this,Re).has($e.id)&&U(this,Re).setValue($e.id,$e)}blur(){if(!this.hasSelection)return;const{activeElement:$e}=document;for(const pt of U(this,Pe))if(pt.div.contains($e)){at(this,Me,[pt,$e]),pt._focusEventsAllowed=!1;break}}focus(){if(!U(this,Me))return;const[$e,pt]=U(this,Me);at(this,Me,null),pt.addEventListener("focusin",()=>{$e._focusEventsAllowed=!0},{once:!0}),pt.focus()}addEditListeners(){Ge(this,We,xi).call(this),Ge(this,We,Ci).call(this)}removeEditListeners(){Ge(this,We,Wr).call(this),Ge(this,We,Ai).call(this)}copy($e){var Mt;if($e.preventDefault(),(Mt=U(this,ee))==null||Mt.commitOrRemove(),!this.hasSelection)return;const pt=[];for(const Ot of U(this,Pe)){const Bt=Ot.serialize(!0);Bt&&pt.push(Bt)}pt.length!==0&&$e.clipboardData.setData("application/pdfjs",JSON.stringify(pt))}cut($e){this.copy($e),this.delete()}paste($e){$e.preventDefault();const{clipboardData:pt}=$e;for(const Bt of pt.items)for(const Rt of U(this,Te))if(Rt.isHandlingMimeForPasting(Bt.type)){Rt.paste(Bt,this.currentLayer);return}let Mt=pt.getData("application/pdfjs");if(!Mt)return;try{Mt=JSON.parse(Mt)}catch(Bt){(0,$.warn)(`paste: "${Bt.message}".`);return}if(!Array.isArray(Mt))return;this.unselectAll();const Ot=this.currentLayer;try{const Bt=[];for(const Ce of Mt){const Ue=Ot.deserialize(Ce);if(!Ue)return;Bt.push(Ue)}const Rt=()=>{for(const Ce of Bt)Ge(this,We,Mi).call(this,Ce);Ge(this,We,Pi).call(this,Bt)},ke=()=>{for(const Ce of Bt)Ce.remove()};this.addCommands({cmd:Rt,undo:ke,mustExec:!0})}catch(Bt){(0,$.warn)(`paste: "${Bt.message}".`)}}keydown($e){var pt;(pt=this.getActive())!=null&&pt.shouldGetKeyboardEvents()||Lt._keyboardManager.exec(this,$e)}onEditingAction($e){["undo","redo","delete","selectAll"].includes($e.name)&&this[$e.name]()}setEditingState($e){$e?(Ge(this,We,So).call(this),Ge(this,We,xi).call(this),Ge(this,We,Ci).call(this),Ge(this,We,tr).call(this,{isEditing:U(this,xe)!==$.AnnotationEditorType.NONE,isEmpty:Ge(this,We,kr).call(this),hasSomethingToUndo:U(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:U(this,Ne).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ge(this,We,wi).call(this),Ge(this,We,Wr).call(this),Ge(this,We,Ai).call(this),Ge(this,We,tr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($e){if(!U(this,Te)){at(this,Te,$e);for(const pt of U(this,Te))Ge(this,We,Pr).call(this,pt.defaultPropertiesToUpdate)}}getId(){return U(this,q).getId()}get currentLayer(){return U(this,Ae).get(U(this,Fe))}getLayer($e){return U(this,Ae).get($e)}get currentPageIndex(){return U(this,Fe)}addLayer($e){U(this,Ae).set($e.pageIndex,$e),U(this,Y)?$e.enable():$e.disable()}removeLayer($e){U(this,Ae).delete($e.pageIndex)}updateMode($e,pt=null){if(U(this,xe)!==$e){if(at(this,xe,$e),$e===$.AnnotationEditorType.NONE){this.setEditingState(!1),Ge(this,We,xo).call(this);return}this.setEditingState(!0),Ge(this,We,wo).call(this),this.unselectAll();for(const Mt of U(this,Ae).values())Mt.updateMode($e);if(pt){for(const Mt of U(this,ge).values())if(Mt.annotationElementId===pt){this.setSelected(Mt),Mt.enterInEditMode();break}}}}updateToolbar($e){$e!==U(this,xe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$e})}updateParams($e,pt){if(U(this,Te)){if($e===$.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor($e);return}for(const Mt of U(this,Pe))Mt.updateParams($e,pt);for(const Mt of U(this,Te))Mt.updateDefaultParams($e,pt)}}enableWaiting($e=!1){if(U(this,ve)!==$e){at(this,ve,$e);for(const pt of U(this,Ae).values())$e?pt.disableClick():pt.enableClick(),pt.div.classList.toggle("waiting",$e)}}getEditors($e){const pt=[];for(const Mt of U(this,ge).values())Mt.pageIndex===$e&&pt.push(Mt);return pt}getEditor($e){return U(this,ge).get($e)}addEditor($e){U(this,ge).set($e.id,$e)}removeEditor($e){var pt;U(this,ge).delete($e.id),this.unselect($e),(!$e.annotationElementId||!U(this,qe).has($e.annotationElementId))&&((pt=U(this,Re))==null||pt.remove($e.id))}addDeletedAnnotationElement($e){U(this,qe).add($e.annotationElementId),$e.deleted=!0}isDeletedAnnotationElement($e){return U(this,qe).has($e)}removeDeletedAnnotationElement($e){U(this,qe).delete($e.annotationElementId),$e.deleted=!1}setActiveEditor($e){U(this,ee)!==$e&&(at(this,ee,$e),$e&&Ge(this,We,Pr).call(this,$e.propertiesToUpdate))}toggleSelected($e){if(U(this,Pe).has($e)){U(this,Pe).delete($e),$e.unselect(),Ge(this,We,tr).call(this,{hasSelectedEditor:this.hasSelection});return}U(this,Pe).add($e),$e.select(),Ge(this,We,Pr).call(this,$e.propertiesToUpdate),Ge(this,We,tr).call(this,{hasSelectedEditor:!0})}setSelected($e){for(const pt of U(this,Pe))pt!==$e&&pt.unselect();U(this,Pe).clear(),U(this,Pe).add($e),$e.select(),Ge(this,We,Pr).call(this,$e.propertiesToUpdate),Ge(this,We,tr).call(this,{hasSelectedEditor:!0})}isSelected($e){return U(this,Pe).has($e)}unselect($e){$e.unselect(),U(this,Pe).delete($e),Ge(this,We,tr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return U(this,Pe).size!==0}undo(){U(this,Ne).undo(),Ge(this,We,tr).call(this,{hasSomethingToUndo:U(this,Ne).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ge(this,We,kr).call(this)})}redo(){U(this,Ne).redo(),Ge(this,We,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:U(this,Ne).hasSomethingToRedo(),isEmpty:Ge(this,We,kr).call(this)})}addCommands($e){U(this,Ne).add($e),Ge(this,We,tr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ge(this,We,kr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $e=[...U(this,Pe)],pt=()=>{for(const Ot of $e)Ot.remove()},Mt=()=>{for(const Ot of $e)Ge(this,We,Mi).call(this,Ot)};this.addCommands({cmd:pt,undo:Mt,mustExec:!0})}commitOrRemove(){var $e;($e=U(this,ee))==null||$e.commitOrRemove()}hasSomethingToControl(){return U(this,ee)||this.hasSelection}selectAll(){for(const $e of U(this,Pe))$e.commit();Ge(this,We,Pi).call(this,U(this,ge).values())}unselectAll(){if(U(this,ee)){U(this,ee).commitOrRemove();return}if(this.hasSelection){for(const $e of U(this,Pe))$e.unselect();U(this,Pe).clear(),Ge(this,We,tr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($e,pt,Mt=!1){if(Mt||this.commitOrRemove(),!this.hasSelection)return;U(this,Ye)[0]+=$e,U(this,Ye)[1]+=pt;const[Ot,Bt]=U(this,Ye),Rt=[...U(this,Pe)],ke=1e3;U(this,rt)&&clearTimeout(U(this,rt)),at(this,rt,setTimeout(()=>{at(this,rt,null),U(this,Ye)[0]=U(this,Ye)[1]=0,this.addCommands({cmd:()=>{for(const Ce of Rt)U(this,ge).has(Ce.id)&&Ce.translateInPage(Ot,Bt)},undo:()=>{for(const Ce of Rt)U(this,ge).has(Ce.id)&&Ce.translateInPage(-Ot,-Bt)},mustExec:!1})},ke));for(const Ce of Rt)Ce.translateInPage($e,pt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),at(this,Ee,new Map);for(const $e of U(this,Pe))U(this,Ee).set($e,{savedX:$e.x,savedY:$e.y,savedPageIndex:$e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!U(this,Ee))return!1;this.disableUserSelect(!1);const $e=U(this,Ee);at(this,Ee,null);let pt=!1;for(const[{x:Ot,y:Bt,pageIndex:Rt},ke]of $e)ke.newX=Ot,ke.newY=Bt,ke.newPageIndex=Rt,pt||(pt=Ot!==ke.savedX||Bt!==ke.savedY||Rt!==ke.savedPageIndex);if(!pt)return!1;const Mt=(Ot,Bt,Rt,ke)=>{if(U(this,ge).has(Ot.id)){const Ce=U(this,Ae).get(ke);Ce?Ot._setParentAndPosition(Ce,Bt,Rt):(Ot.pageIndex=ke,Ot.x=Bt,Ot.y=Rt)}};return this.addCommands({cmd:()=>{for(const[Ot,{newX:Bt,newY:Rt,newPageIndex:ke}]of $e)Mt(Ot,Bt,Rt,ke)},undo:()=>{for(const[Ot,{savedX:Bt,savedY:Rt,savedPageIndex:ke}]of $e)Mt(Ot,Bt,Rt,ke)},mustExec:!0}),!0}dragSelectedEditors($e,pt){if(U(this,Ee))for(const Mt of U(this,Ee).keys())Mt.drag($e,pt)}rebuild($e){if($e.parent===null){const pt=this.getLayer($e.pageIndex);pt?(pt.changeParent($e),pt.addOrRebuild($e)):(this.addEditor($e),this.addToAnnotationStorage($e),$e.rebuild())}else $e.parent.addOrRebuild($e)}isActive($e){return U(this,ee)===$e}getActive(){return U(this,ee)}getMode(){return U(this,xe)}get imageManager(){return(0,$.shadow)(this,"imageManager",new de)}};ee=new WeakMap,ge=new WeakMap,Ae=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,qe=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Be=new WeakMap,ye=new WeakMap,q=new WeakMap,Y=new WeakMap,ve=new WeakMap,Me=new WeakMap,xe=new WeakMap,Pe=new WeakMap,Le=new WeakMap,Qe=new WeakMap,st=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,gt=new WeakMap,Ke=new WeakMap,Xe=new WeakMap,_e=new WeakMap,we=new WeakMap,He=new WeakMap,Ye=new WeakMap,rt=new WeakMap,mt=new WeakMap,ft=new WeakMap,We=new WeakSet,So=function(){window.addEventListener("focus",U(this,st)),window.addEventListener("blur",U(this,Qe))},wi=function(){window.removeEventListener("focus",U(this,st)),window.removeEventListener("blur",U(this,Qe))},xi=function(){window.addEventListener("keydown",U(this,gt),{capture:!0})},Wr=function(){window.removeEventListener("keydown",U(this,gt),{capture:!0})},Ci=function(){document.addEventListener("copy",U(this,ct)),document.addEventListener("cut",U(this,dt)),document.addEventListener("paste",U(this,ht))},Ai=function(){document.removeEventListener("copy",U(this,ct)),document.removeEventListener("cut",U(this,dt)),document.removeEventListener("paste",U(this,ht))},tr=function($e){Object.entries($e).some(([Mt,Ot])=>U(this,He)[Mt]!==Ot)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(U(this,He),$e)})},Pr=function($e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$e})},wo=function(){if(!U(this,Y)){at(this,Y,!0);for(const $e of U(this,Ae).values())$e.enable()}},xo=function(){if(this.unselectAll(),U(this,Y)){at(this,Y,!1);for(const $e of U(this,Ae).values())$e.disable()}},Mi=function($e){const pt=U(this,Ae).get($e.pageIndex);pt?pt.addOrRebuild($e):this.addEditor($e)},kr=function(){if(U(this,ge).size===0)return!0;if(U(this,ge).size===1)for(const $e of U(this,ge).values())return $e.isEmpty();return!1},Pi=function($e){U(this,Pe).clear();for(const pt of $e)pt.isEmpty()||(U(this,Pe).add(pt),pt.select());Ge(this,We,tr).call(this,{hasSelectedEditor:!0})},In(Lt,"TRANSLATE_SMALL",1),In(Lt,"TRANSLATE_BIG",10);let ae=Lt;R.AnnotationEditorUIManager=ae},(A,R,H)=>{var Fe,qe,Ee,Te,Be,ye,q,Y,ve,Me,xe,Pe,yr,Sr,ki,Gr,qr,Tr,Rr;Object.defineProperty(R,"__esModule",{value:!0}),R.StatTimer=R.RenderingCancelledException=R.PixelsPerInch=R.PageViewport=R.PDFDateString=R.DOMStandardFontDataFactory=R.DOMSVGFactory=R.DOMFilterFactory=R.DOMCanvasFactory=R.DOMCMapReaderFactory=void 0,R.deprecated=ie,R.getColorValues=ge,R.getCurrentTransform=Ae,R.getCurrentTransformInverse=Oe,R.getFilenameFromUrl=ne,R.getPdfFilenameFromUrl=oe,R.getRGB=ee,R.getXfaPageViewport=Se,R.isDataScheme=te,R.isPdfFile=G,R.isValidFetchUrl=pe,R.loadScript=le,R.noContextMenu=Q,R.setLayerDimensions=Re;var $=H(7),O=H(1);const B="http://www.w3.org/2000/svg",Ne=class Ne{};In(Ne,"CSS",96),In(Ne,"PDF",72),In(Ne,"PDF_TO_CSS_UNITS",Ne.CSS/Ne.PDF);let W=Ne;R.PixelsPerInch=W;class he extends $.BaseFilterFactory{constructor({docId:_e,ownerDocument:we=globalThis.document}={}){super();ot(this,Pe);ot(this,Fe);ot(this,qe);ot(this,Ee);ot(this,Te);ot(this,Be);ot(this,ye);ot(this,q);ot(this,Y);ot(this,ve);ot(this,Me);ot(this,xe,0);at(this,Ee,_e),at(this,Te,we)}addFilter(_e){if(!_e)return"none";let we=U(this,Pe,yr).get(_e);if(we)return we;let He,Ye,rt,mt;if(_e.length===1){const wt=_e[0],Zt=new Array(256);for(let Gt=0;Gt<256;Gt++)Zt[Gt]=wt[Gt]/255;mt=He=Ye=rt=Zt.join(",")}else{const[wt,Zt,Gt]=_e,fn=new Array(256),It=new Array(256),Ht=new Array(256);for(let an=0;an<256;an++)fn[an]=wt[an]/255,It[an]=Zt[an]/255,Ht[an]=Gt[an]/255;He=fn.join(","),Ye=It.join(","),rt=Ht.join(","),mt=`${He}${Ye}${rt}`}if(we=U(this,Pe,yr).get(mt),we)return U(this,Pe,yr).set(_e,we),we;const ft=`g_${U(this,Ee)}_transfer_map_${Mr(this,xe)._++}`,We=`url(#${ft})`;U(this,Pe,yr).set(_e,We),U(this,Pe,yr).set(mt,We);const xt=Ge(this,Pe,Gr).call(this,ft);return Ge(this,Pe,Tr).call(this,He,Ye,rt,xt),We}addHCMFilter(_e,we){var Zt;const He=`${_e}-${we}`;if(U(this,ye)===He)return U(this,q);if(at(this,ye,He),at(this,q,"none"),(Zt=U(this,Be))==null||Zt.remove(),!_e||!we)return U(this,q);const Ye=Ge(this,Pe,Rr).call(this,_e);_e=O.Util.makeHexColor(...Ye);const rt=Ge(this,Pe,Rr).call(this,we);if(we=O.Util.makeHexColor(...rt),U(this,Pe,Sr).style.color="",_e==="#000000"&&we==="#ffffff"||_e===we)return U(this,q);const mt=new Array(256);for(let Gt=0;Gt<=255;Gt++){const fn=Gt/255;mt[Gt]=fn<=.03928?fn/12.92:((fn+.055)/1.055)**2.4}const ft=mt.join(","),We=`g_${U(this,Ee)}_hcm_filter`,xt=at(this,Y,Ge(this,Pe,Gr).call(this,We));Ge(this,Pe,Tr).call(this,ft,ft,ft,xt),Ge(this,Pe,ki).call(this,xt);const wt=(Gt,fn)=>{const It=Ye[Gt]/255,Ht=rt[Gt]/255,an=new Array(fn+1);for(let yn=0;yn<=fn;yn++)an[yn]=It+yn/fn*(Ht-It);return an.join(",")};return Ge(this,Pe,Tr).call(this,wt(0,5),wt(1,5),wt(2,5),xt),at(this,q,`url(#${We})`),U(this,q)}addHighlightHCMFilter(_e,we,He,Ye){var Ht;const rt=`${_e}-${we}-${He}-${Ye}`;if(U(this,ve)===rt)return U(this,Me);if(at(this,ve,rt),at(this,Me,"none"),(Ht=U(this,Y))==null||Ht.remove(),!_e||!we)return U(this,Me);const[mt,ft]=[_e,we].map(Ge(this,Pe,Rr).bind(this));let We=Math.round(.2126*mt[0]+.7152*mt[1]+.0722*mt[2]),xt=Math.round(.2126*ft[0]+.7152*ft[1]+.0722*ft[2]),[wt,Zt]=[He,Ye].map(Ge(this,Pe,Rr).bind(this));xt<We&&([We,xt,wt,Zt]=[xt,We,Zt,wt]),U(this,Pe,Sr).style.color="";const Gt=(an,yn,vt)=>{const Ze=new Array(256),et=(xt-We)/vt,$t=an/255,Lt=(yn-an)/(255*vt);let qt=0;for(let $e=0;$e<=vt;$e++){const pt=Math.round(We+$e*et),Mt=$t+$e*Lt;for(let Ot=qt;Ot<=pt;Ot++)Ze[Ot]=Mt;qt=pt+1}for(let $e=qt;$e<256;$e++)Ze[$e]=Ze[qt-1];return Ze.join(",")},fn=`g_${U(this,Ee)}_hcm_highlight_filter`,It=at(this,Y,Ge(this,Pe,Gr).call(this,fn));return Ge(this,Pe,ki).call(this,It),Ge(this,Pe,Tr).call(this,Gt(wt[0],Zt[0],5),Gt(wt[1],Zt[1],5),Gt(wt[2],Zt[2],5),It),at(this,Me,`url(#${fn})`),U(this,Me)}destroy(_e=!1){_e&&(U(this,q)||U(this,Me))||(U(this,qe)&&(U(this,qe).parentNode.parentNode.remove(),at(this,qe,null)),U(this,Fe)&&(U(this,Fe).clear(),at(this,Fe,null)),at(this,xe,0))}}Fe=new WeakMap,qe=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Be=new WeakMap,ye=new WeakMap,q=new WeakMap,Y=new WeakMap,ve=new WeakMap,Me=new WeakMap,xe=new WeakMap,Pe=new WeakSet,yr=function(){return U(this,Fe)||at(this,Fe,new Map)},Sr=function(){if(!U(this,qe)){const _e=U(this,Te).createElement("div"),{style:we}=_e;we.visibility="hidden",we.contain="strict",we.width=we.height=0,we.position="absolute",we.top=we.left=0,we.zIndex=-1;const He=U(this,Te).createElementNS(B,"svg");He.setAttribute("width",0),He.setAttribute("height",0),at(this,qe,U(this,Te).createElementNS(B,"defs")),_e.append(He),He.append(U(this,qe)),U(this,Te).body.append(_e)}return U(this,qe)},ki=function(_e){const we=U(this,Te).createElementNS(B,"feColorMatrix");we.setAttribute("type","matrix"),we.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_e.append(we)},Gr=function(_e){const we=U(this,Te).createElementNS(B,"filter");return we.setAttribute("color-interpolation-filters","sRGB"),we.setAttribute("id",_e),U(this,Pe,Sr).append(we),we},qr=function(_e,we,He){const Ye=U(this,Te).createElementNS(B,we);Ye.setAttribute("type","discrete"),Ye.setAttribute("tableValues",He),_e.append(Ye)},Tr=function(_e,we,He,Ye){const rt=U(this,Te).createElementNS(B,"feComponentTransfer");Ye.append(rt),Ge(this,Pe,qr).call(this,rt,"feFuncR",_e),Ge(this,Pe,qr).call(this,rt,"feFuncG",we),Ge(this,Pe,qr).call(this,rt,"feFuncB",He)},Rr=function(_e){return U(this,Pe,Sr).style.color=_e,ee(getComputedStyle(U(this,Pe,Sr)).getPropertyValue("color"))},R.DOMFilterFactory=he;class de extends $.BaseCanvasFactory{constructor({ownerDocument:Xe=globalThis.document}={}){super(),this._document=Xe}_createCanvas(Xe,_e){const we=this._document.createElement("canvas");return we.width=Xe,we.height=_e,we}}R.DOMCanvasFactory=de;async function ue(Ke,Xe=!1){if(pe(Ke,document.baseURI)){const _e=await fetch(Ke);if(!_e.ok)throw new Error(_e.statusText);return Xe?new Uint8Array(await _e.arrayBuffer()):(0,O.stringToBytes)(await _e.text())}return new Promise((_e,we)=>{const He=new XMLHttpRequest;He.open("GET",Ke,!0),Xe&&(He.responseType="arraybuffer"),He.onreadystatechange=()=>{if(He.readyState===XMLHttpRequest.DONE){if(He.status===200||He.status===0){let Ye;if(Xe&&He.response?Ye=new Uint8Array(He.response):!Xe&&He.responseText&&(Ye=(0,O.stringToBytes)(He.responseText)),Ye){_e(Ye);return}}we(new Error(He.statusText))}},He.send(null)})}class V extends $.BaseCMapReaderFactory{_fetchData(Xe,_e){return ue(Xe,this.isCompressed).then(we=>({cMapData:we,compressionType:_e}))}}R.DOMCMapReaderFactory=V;class fe extends $.BaseStandardFontDataFactory{_fetchData(Xe){return ue(Xe,!0)}}R.DOMStandardFontDataFactory=fe;class ae extends $.BaseSVGFactory{_createSVG(Xe){return document.createElementNS(B,Xe)}}R.DOMSVGFactory=ae;class J{constructor({viewBox:Xe,scale:_e,rotation:we,offsetX:He=0,offsetY:Ye=0,dontFlip:rt=!1}){this.viewBox=Xe,this.scale=_e,this.rotation=we,this.offsetX=He,this.offsetY=Ye;const mt=(Xe[2]+Xe[0])/2,ft=(Xe[3]+Xe[1])/2;let We,xt,wt,Zt;switch(we%=360,we<0&&(we+=360),we){case 180:We=-1,xt=0,wt=0,Zt=1;break;case 90:We=0,xt=1,wt=1,Zt=0;break;case 270:We=0,xt=-1,wt=-1,Zt=0;break;case 0:We=1,xt=0,wt=0,Zt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}rt&&(wt=-wt,Zt=-Zt);let Gt,fn,It,Ht;We===0?(Gt=Math.abs(ft-Xe[1])*_e+He,fn=Math.abs(mt-Xe[0])*_e+Ye,It=(Xe[3]-Xe[1])*_e,Ht=(Xe[2]-Xe[0])*_e):(Gt=Math.abs(mt-Xe[0])*_e+He,fn=Math.abs(ft-Xe[1])*_e+Ye,It=(Xe[2]-Xe[0])*_e,Ht=(Xe[3]-Xe[1])*_e),this.transform=[We*_e,xt*_e,wt*_e,Zt*_e,Gt-We*_e*mt-wt*_e*ft,fn-xt*_e*mt-Zt*_e*ft],this.width=It,this.height=Ht}get rawDims(){const{viewBox:Xe}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:Xe[2]-Xe[0],pageHeight:Xe[3]-Xe[1],pageX:Xe[0],pageY:Xe[1]})}clone({scale:Xe=this.scale,rotation:_e=this.rotation,offsetX:we=this.offsetX,offsetY:He=this.offsetY,dontFlip:Ye=!1}={}){return new J({viewBox:this.viewBox.slice(),scale:Xe,rotation:_e,offsetX:we,offsetY:He,dontFlip:Ye})}convertToViewportPoint(Xe,_e){return O.Util.applyTransform([Xe,_e],this.transform)}convertToViewportRectangle(Xe){const _e=O.Util.applyTransform([Xe[0],Xe[1]],this.transform),we=O.Util.applyTransform([Xe[2],Xe[3]],this.transform);return[_e[0],_e[1],we[0],we[1]]}convertToPdfPoint(Xe,_e){return O.Util.applyInverseTransform([Xe,_e],this.transform)}}R.PageViewport=J;class re extends O.BaseException{constructor(Xe,_e=0){super(Xe,"RenderingCancelledException"),this.extraDelay=_e}}R.RenderingCancelledException=re;function te(Ke){const Xe=Ke.length;let _e=0;for(;_e<Xe&&Ke[_e].trim()==="";)_e++;return Ke.substring(_e,_e+5).toLowerCase()==="data:"}function G(Ke){return typeof Ke=="string"&&/\.pdf$/i.test(Ke)}function ne(Ke,Xe=!1){return Xe||([Ke]=Ke.split(/[#?]/,1)),Ke.substring(Ke.lastIndexOf("/")+1)}function oe(Ke,Xe="document.pdf"){if(typeof Ke!="string")return Xe;if(te(Ke))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Xe;const _e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,we=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,He=_e.exec(Ke);let Ye=we.exec(He[1])||we.exec(He[2])||we.exec(He[3]);if(Ye&&(Ye=Ye[0],Ye.includes("%")))try{Ye=we.exec(decodeURIComponent(Ye))[0]}catch{}return Ye||Xe}class me{constructor(){In(this,"started",Object.create(null));In(this,"times",[])}time(Xe){Xe in this.started&&(0,O.warn)(`Timer is already running for ${Xe}`),this.started[Xe]=Date.now()}timeEnd(Xe){Xe in this.started||(0,O.warn)(`Timer has not been started for ${Xe}`),this.times.push({name:Xe,start:this.started[Xe],end:Date.now()}),delete this.started[Xe]}toString(){const Xe=[];let _e=0;for(const{name:we}of this.times)_e=Math.max(we.length,_e);for(const{name:we,start:He,end:Ye}of this.times)Xe.push(`${we.padEnd(_e)} ${Ye-He}ms
`);return Xe.join("")}}R.StatTimer=me;function pe(Ke,Xe){try{const{protocol:_e}=Xe?new URL(Ke,Xe):new URL(Ke);return _e==="http:"||_e==="https:"}catch{return!1}}function Q(Ke){Ke.preventDefault()}function le(Ke,Xe=!1){return new Promise((_e,we)=>{const He=document.createElement("script");He.src=Ke,He.onload=function(Ye){Xe&&He.remove(),_e(Ye)},He.onerror=function(){we(new Error(`Cannot load script at: ${He.src}`))},(document.head||document.documentElement).append(He)})}function ie(Ke){console.log("Deprecated API usage: "+Ke)}let se;class ce{static toDateObject(Xe){if(!Xe||typeof Xe!="string")return null;se||(se=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _e=se.exec(Xe);if(!_e)return null;const we=parseInt(_e[1],10);let He=parseInt(_e[2],10);He=He>=1&&He<=12?He-1:0;let Ye=parseInt(_e[3],10);Ye=Ye>=1&&Ye<=31?Ye:1;let rt=parseInt(_e[4],10);rt=rt>=0&&rt<=23?rt:0;let mt=parseInt(_e[5],10);mt=mt>=0&&mt<=59?mt:0;let ft=parseInt(_e[6],10);ft=ft>=0&&ft<=59?ft:0;const We=_e[7]||"Z";let xt=parseInt(_e[8],10);xt=xt>=0&&xt<=23?xt:0;let wt=parseInt(_e[9],10)||0;return wt=wt>=0&&wt<=59?wt:0,We==="-"?(rt+=xt,mt+=wt):We==="+"&&(rt-=xt,mt-=wt),new Date(Date.UTC(we,He,Ye,rt,mt,ft))}}R.PDFDateString=ce;function Se(Ke,{scale:Xe=1,rotation:_e=0}){const{width:we,height:He}=Ke.attributes.style,Ye=[0,0,parseInt(we),parseInt(He)];return new J({viewBox:Ye,scale:Xe,rotation:_e})}function ee(Ke){if(Ke.startsWith("#")){const Xe=parseInt(Ke.slice(1),16);return[(Xe&16711680)>>16,(Xe&65280)>>8,Xe&255]}return Ke.startsWith("rgb(")?Ke.slice(4,-1).split(",").map(Xe=>parseInt(Xe)):Ke.startsWith("rgba(")?Ke.slice(5,-1).split(",").map(Xe=>parseInt(Xe)).slice(0,3):((0,O.warn)(`Not a valid color format: "${Ke}"`),[0,0,0])}function ge(Ke){const Xe=document.createElement("span");Xe.style.visibility="hidden",document.body.append(Xe);for(const _e of Ke.keys()){Xe.style.color=_e;const we=window.getComputedStyle(Xe).color;Ke.set(_e,ee(we))}Xe.remove()}function Ae(Ke){const{a:Xe,b:_e,c:we,d:He,e:Ye,f:rt}=Ke.getTransform();return[Xe,_e,we,He,Ye,rt]}function Oe(Ke){const{a:Xe,b:_e,c:we,d:He,e:Ye,f:rt}=Ke.getTransform().invertSelf();return[Xe,_e,we,He,Ye,rt]}function Re(Ke,Xe,_e=!1,we=!0){if(Xe instanceof J){const{pageWidth:He,pageHeight:Ye}=Xe.rawDims,{style:rt}=Ke,mt=O.FeatureTest.isCSSRoundSupported,ft=`var(--scale-factor) * ${He}px`,We=`var(--scale-factor) * ${Ye}px`,xt=mt?`round(${ft}, 1px)`:`calc(${ft})`,wt=mt?`round(${We}, 1px)`:`calc(${We})`;!_e||Xe.rotation%180===0?(rt.width=xt,rt.height=wt):(rt.width=wt,rt.height=xt)}we&&Ke.setAttribute("data-main-rotation",Xe.rotation)}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.BaseStandardFontDataFactory=R.BaseSVGFactory=R.BaseFilterFactory=R.BaseCanvasFactory=R.BaseCMapReaderFactory=void 0;var $=H(1);class O{constructor(){this.constructor===O&&(0,$.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(V){return"none"}addHCMFilter(V,fe){return"none"}addHighlightHCMFilter(V,fe,ae,J){return"none"}destroy(V=!1){}}R.BaseFilterFactory=O;class B{constructor(){this.constructor===B&&(0,$.unreachable)("Cannot initialize BaseCanvasFactory.")}create(V,fe){if(V<=0||fe<=0)throw new Error("Invalid canvas size");const ae=this._createCanvas(V,fe);return{canvas:ae,context:ae.getContext("2d")}}reset(V,fe,ae){if(!V.canvas)throw new Error("Canvas is not specified");if(fe<=0||ae<=0)throw new Error("Invalid canvas size");V.canvas.width=fe,V.canvas.height=ae}destroy(V){if(!V.canvas)throw new Error("Canvas is not specified");V.canvas.width=0,V.canvas.height=0,V.canvas=null,V.context=null}_createCanvas(V,fe){(0,$.unreachable)("Abstract method `_createCanvas` called.")}}R.BaseCanvasFactory=B;class W{constructor({baseUrl:V=null,isCompressed:fe=!0}){this.constructor===W&&(0,$.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=V,this.isCompressed=fe}async fetch({name:V}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!V)throw new Error("CMap name must be specified.");const fe=this.baseUrl+V+(this.isCompressed?".bcmap":""),ae=this.isCompressed?$.CMapCompressionType.BINARY:$.CMapCompressionType.NONE;return this._fetchData(fe,ae).catch(J=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${fe}`)})}_fetchData(V,fe){(0,$.unreachable)("Abstract method `_fetchData` called.")}}R.BaseCMapReaderFactory=W;class he{constructor({baseUrl:V=null}){this.constructor===he&&(0,$.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=V}async fetch({filename:V}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!V)throw new Error("Font filename must be specified.");const fe=`${this.baseUrl}${V}`;return this._fetchData(fe).catch(ae=>{throw new Error(`Unable to load font data at: ${fe}`)})}_fetchData(V){(0,$.unreachable)("Abstract method `_fetchData` called.")}}R.BaseStandardFontDataFactory=he;class de{constructor(){this.constructor===de&&(0,$.unreachable)("Cannot initialize BaseSVGFactory.")}create(V,fe,ae=!1){if(V<=0||fe<=0)throw new Error("Invalid SVG dimensions");const J=this._createSVG("svg:svg");return J.setAttribute("version","1.1"),ae||(J.setAttribute("width",`${V}px`),J.setAttribute("height",`${fe}px`)),J.setAttribute("preserveAspectRatio","none"),J.setAttribute("viewBox",`0 0 ${V} ${fe}`),J}createElement(V){if(typeof V!="string")throw new Error("Invalid SVG element type");return this._createSVG(V)}_createSVG(V){(0,$.unreachable)("Abstract method `_createSVG` called.")}}R.BaseSVGFactory=de},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MurmurHash3_64=void 0;var $=H(1);const O=3285377520,B=4294901760,W=65535;class he{constructor(ue){this.h1=ue?ue&4294967295:O,this.h2=ue?ue&4294967295:O}update(ue){let V,fe;if(typeof ue=="string"){V=new Uint8Array(ue.length*2),fe=0;for(let ie=0,se=ue.length;ie<se;ie++){const ce=ue.charCodeAt(ie);ce<=255?V[fe++]=ce:(V[fe++]=ce>>>8,V[fe++]=ce&255)}}else if((0,$.isArrayBuffer)(ue))V=ue.slice(),fe=V.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ae=fe>>2,J=fe-ae*4,re=new Uint32Array(V.buffer,0,ae);let te=0,G=0,ne=this.h1,oe=this.h2;const me=3432918353,pe=461845907,Q=me&W,le=pe&W;for(let ie=0;ie<ae;ie++)ie&1?(te=re[ie],te=te*me&B|te*Q&W,te=te<<15|te>>>17,te=te*pe&B|te*le&W,ne^=te,ne=ne<<13|ne>>>19,ne=ne*5+3864292196):(G=re[ie],G=G*me&B|G*Q&W,G=G<<15|G>>>17,G=G*pe&B|G*le&W,oe^=G,oe=oe<<13|oe>>>19,oe=oe*5+3864292196);switch(te=0,J){case 3:te^=V[ae*4+2]<<16;case 2:te^=V[ae*4+1]<<8;case 1:te^=V[ae*4],te=te*me&B|te*Q&W,te=te<<15|te>>>17,te=te*pe&B|te*le&W,ae&1?ne^=te:oe^=te}this.h1=ne,this.h2=oe}hexdigest(){let ue=this.h1,V=this.h2;return ue^=V>>>1,ue=ue*3981806797&B|ue*36045&W,V=V*4283543511&B|((V<<16|ue>>>16)*2950163797&B)>>>16,ue^=V>>>1,ue=ue*444984403&B|ue*60499&W,V=V*3301882366&B|((V<<16|ue>>>16)*3120437893&B)>>>16,ue^=V>>>1,(ue>>>0).toString(16).padStart(8,"0")+(V>>>0).toString(16).padStart(8,"0")}}R.MurmurHash3_64=he},(A,R,H)=>{var W;Object.defineProperty(R,"__esModule",{value:!0}),R.FontLoader=R.FontFaceObject=void 0;var $=H(1);class O{constructor({ownerDocument:de=globalThis.document,styleElement:ue=null}){ot(this,W,new Set);this._document=de,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(de){this.nativeFontFaces.add(de),this._document.fonts.add(de)}removeNativeFontFace(de){this.nativeFontFaces.delete(de),this._document.fonts.delete(de)}insertRule(de){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ue=this.styleElement.sheet;ue.insertRule(de,ue.cssRules.length)}clear(){for(const de of this.nativeFontFaces)this._document.fonts.delete(de);this.nativeFontFaces.clear(),U(this,W).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(de){if(!(!de||U(this,W).has(de.loadedName))){if((0,$.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ue,src:V,style:fe}=de,ae=new FontFace(ue,V,fe);this.addNativeFontFace(ae);try{await ae.load(),U(this,W).add(ue)}catch{(0,$.warn)(`Cannot load system font: ${de.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ae)}return}(0,$.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(de){if(de.attached||de.missingFile&&!de.systemFontInfo)return;if(de.attached=!0,de.systemFontInfo){await this.loadSystemFont(de.systemFontInfo);return}if(this.isFontLoadingAPISupported){const V=de.createNativeFontFace();if(V){this.addNativeFontFace(V);try{await V.loaded}catch(fe){throw(0,$.warn)(`Failed to load font '${V.family}': '${fe}'.`),de.disableFontFace=!0,fe}}return}const ue=de.createFontFaceRule();if(ue){if(this.insertRule(ue),this.isSyncFontLoadingSupported)return;await new Promise(V=>{const fe=this._queueLoadingCallback(V);this._prepareFontLoadEvent(de,fe)})}}get isFontLoadingAPISupported(){var ue;const de=!!((ue=this._document)!=null&&ue.fonts);return(0,$.shadow)(this,"isFontLoadingAPISupported",de)}get isSyncFontLoadingSupported(){let de=!1;return($.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(de=!0),(0,$.shadow)(this,"isSyncFontLoadingSupported",de)}_queueLoadingCallback(de){function ue(){for((0,$.assert)(!fe.done,"completeRequest() cannot be called twice."),fe.done=!0;V.length>0&&V[0].done;){const ae=V.shift();setTimeout(ae.callback,0)}}const{loadingRequests:V}=this,fe={done:!1,complete:ue,callback:de};return V.push(fe),fe}get _loadTestFont(){const de=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,$.shadow)(this,"_loadTestFont",de)}_prepareFontLoadEvent(de,ue){function V(ee,ge){return ee.charCodeAt(ge)<<24|ee.charCodeAt(ge+1)<<16|ee.charCodeAt(ge+2)<<8|ee.charCodeAt(ge+3)&255}function fe(ee,ge,Ae,Oe){const Re=ee.substring(0,ge),Ne=ee.substring(ge+Ae);return Re+Oe+Ne}let ae,J;const re=this._document.createElement("canvas");re.width=1,re.height=1;const te=re.getContext("2d");let G=0;function ne(ee,ge){if(++G>30){(0,$.warn)("Load test font never loaded."),ge();return}if(te.font="30px "+ee,te.fillText(".",0,20),te.getImageData(0,0,1,1).data[3]>0){ge();return}setTimeout(ne.bind(null,ee,ge))}const oe=`lt${Date.now()}${this.loadTestFontId++}`;let me=this._loadTestFont;me=fe(me,976,oe.length,oe);const Q=16,le=1482184792;let ie=V(me,Q);for(ae=0,J=oe.length-3;ae<J;ae+=4)ie=ie-le+V(oe,ae)|0;ae<oe.length&&(ie=ie-le+V(oe+"XXX",ae)|0),me=fe(me,Q,4,(0,$.string32)(ie));const se=`url(data:font/opentype;base64,${btoa(me)});`,ce=`@font-face {font-family:"${oe}";src:${se}}`;this.insertRule(ce);const Se=this._document.createElement("div");Se.style.visibility="hidden",Se.style.width=Se.style.height="10px",Se.style.position="absolute",Se.style.top=Se.style.left="0px";for(const ee of[de.loadedName,oe]){const ge=this._document.createElement("span");ge.textContent="Hi",ge.style.fontFamily=ee,Se.append(ge)}this._document.body.append(Se),ne(oe,()=>{Se.remove(),ue.complete()})}}W=new WeakMap,R.FontLoader=O;class B{constructor(de,{isEvalSupported:ue=!0,disableFontFace:V=!1,ignoreErrors:fe=!1,inspectFont:ae=null}){this.compiledGlyphs=Object.create(null);for(const J in de)this[J]=de[J];this.isEvalSupported=ue!==!1,this.disableFontFace=V===!0,this.ignoreErrors=fe===!0,this._inspectFont=ae}createNativeFontFace(){var ue;if(!this.data||this.disableFontFace)return null;let de;if(!this.cssFontInfo)de=new FontFace(this.loadedName,this.data,{});else{const V={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(V.style=`oblique ${this.cssFontInfo.italicAngle}deg`),de=new FontFace(this.cssFontInfo.fontFamily,this.data,V)}return(ue=this._inspectFont)==null||ue.call(this,this),de}createFontFaceRule(){var fe;if(!this.data||this.disableFontFace)return null;const de=(0,$.bytesToString)(this.data),ue=`url(data:${this.mimetype};base64,${btoa(de)});`;let V;if(!this.cssFontInfo)V=`@font-face {font-family:"${this.loadedName}";src:${ue}}`;else{let ae=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ae+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),V=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ae}src:${ue}}`}return(fe=this._inspectFont)==null||fe.call(this,this,ue),V}getPathGenerator(de,ue){if(this.compiledGlyphs[ue]!==void 0)return this.compiledGlyphs[ue];let V;try{V=de.get(this.loadedName+"_path_"+ue)}catch(fe){if(!this.ignoreErrors)throw fe;return(0,$.warn)(`getPathGenerator - ignoring character: "${fe}".`),this.compiledGlyphs[ue]=function(ae,J){}}if(this.isEvalSupported&&$.FeatureTest.isEvalSupported){const fe=[];for(const ae of V){const J=ae.args!==void 0?ae.args.join(","):"";fe.push("c.",ae.cmd,"(",J,`);
`)}return this.compiledGlyphs[ue]=new Function("c","size",fe.join(""))}return this.compiledGlyphs[ue]=function(fe,ae){for(const J of V)J.cmd==="scale"&&(J.args=[ae,-ae]),fe[J.cmd].apply(fe,J.args)}}}R.FontFaceObject=B},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.NodeStandardFontDataFactory=R.NodeFilterFactory=R.NodeCanvasFactory=R.NodeCMapReaderFactory=void 0;var $=H(7);H(1);const O=function(ue){return new Promise((V,fe)=>{require$$5.readFile(ue,(J,re)=>{if(J||!re){fe(new Error(J));return}V(new Uint8Array(re))})})};class B extends $.BaseFilterFactory{}R.NodeFilterFactory=B;class W extends $.BaseCanvasFactory{_createCanvas(V,fe){return require$$5.createCanvas(V,fe)}}R.NodeCanvasFactory=W;class he extends $.BaseCMapReaderFactory{_fetchData(V,fe){return O(V).then(ae=>({cMapData:ae,compressionType:fe}))}}R.NodeCMapReaderFactory=he;class de extends $.BaseStandardFontDataFactory{_fetchData(V){return O(V)}}R.NodeStandardFontDataFactory=de},(A,R,H)=>{var qe,Ti,Ri;Object.defineProperty(R,"__esModule",{value:!0}),R.CanvasGraphics=void 0;var $=H(1),O=H(6),B=H(12),W=H(13);const he=16,de=100,ue=4096,V=15,fe=10,ae=1e3,J=16;function re(ye,q){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){q.save(),this.__originalSave()},ye.restore=function(){q.restore(),this.__originalRestore()},ye.translate=function(ve,Me){q.translate(ve,Me),this.__originalTranslate(ve,Me)},ye.scale=function(ve,Me){q.scale(ve,Me),this.__originalScale(ve,Me)},ye.transform=function(ve,Me,xe,Pe,Le,Qe){q.transform(ve,Me,xe,Pe,Le,Qe),this.__originalTransform(ve,Me,xe,Pe,Le,Qe)},ye.setTransform=function(ve,Me,xe,Pe,Le,Qe){q.setTransform(ve,Me,xe,Pe,Le,Qe),this.__originalSetTransform(ve,Me,xe,Pe,Le,Qe)},ye.resetTransform=function(){q.resetTransform(),this.__originalResetTransform()},ye.rotate=function(ve){q.rotate(ve),this.__originalRotate(ve)},ye.clip=function(ve){q.clip(ve),this.__originalClip(ve)},ye.moveTo=function(Y,ve){q.moveTo(Y,ve),this.__originalMoveTo(Y,ve)},ye.lineTo=function(Y,ve){q.lineTo(Y,ve),this.__originalLineTo(Y,ve)},ye.bezierCurveTo=function(Y,ve,Me,xe,Pe,Le){q.bezierCurveTo(Y,ve,Me,xe,Pe,Le),this.__originalBezierCurveTo(Y,ve,Me,xe,Pe,Le)},ye.rect=function(Y,ve,Me,xe){q.rect(Y,ve,Me,xe),this.__originalRect(Y,ve,Me,xe)},ye.closePath=function(){q.closePath(),this.__originalClosePath()},ye.beginPath=function(){q.beginPath(),this.__originalBeginPath()}}class te{constructor(q){this.canvasFactory=q,this.cache=Object.create(null)}getCanvas(q,Y,ve){let Me;return this.cache[q]!==void 0?(Me=this.cache[q],this.canvasFactory.reset(Me,Y,ve)):(Me=this.canvasFactory.create(Y,ve),this.cache[q]=Me),Me}delete(q){delete this.cache[q]}clear(){for(const q in this.cache){const Y=this.cache[q];this.canvasFactory.destroy(Y),delete this.cache[q]}}}function G(ye,q,Y,ve,Me,xe,Pe,Le,Qe,st){const[ct,dt,ht,gt,Ke,Xe]=(0,O.getCurrentTransform)(ye);if(dt===0&&ht===0){const He=Pe*ct+Ke,Ye=Math.round(He),rt=Le*gt+Xe,mt=Math.round(rt),ft=(Pe+Qe)*ct+Ke,We=Math.abs(Math.round(ft)-Ye)||1,xt=(Le+st)*gt+Xe,wt=Math.abs(Math.round(xt)-mt)||1;return ye.setTransform(Math.sign(ct),0,0,Math.sign(gt),Ye,mt),ye.drawImage(q,Y,ve,Me,xe,0,0,We,wt),ye.setTransform(ct,dt,ht,gt,Ke,Xe),[We,wt]}if(ct===0&&gt===0){const He=Le*ht+Ke,Ye=Math.round(He),rt=Pe*dt+Xe,mt=Math.round(rt),ft=(Le+st)*ht+Ke,We=Math.abs(Math.round(ft)-Ye)||1,xt=(Pe+Qe)*dt+Xe,wt=Math.abs(Math.round(xt)-mt)||1;return ye.setTransform(0,Math.sign(dt),Math.sign(ht),0,Ye,mt),ye.drawImage(q,Y,ve,Me,xe,0,0,wt,We),ye.setTransform(ct,dt,ht,gt,Ke,Xe),[wt,We]}ye.drawImage(q,Y,ve,Me,xe,Pe,Le,Qe,st);const _e=Math.hypot(ct,dt),we=Math.hypot(ht,gt);return[_e*Qe,we*st]}function ne(ye){const{width:q,height:Y}=ye;if(q>ae||Y>ae)return null;const ve=1e3,Me=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),xe=q+1;let Pe=new Uint8Array(xe*(Y+1)),Le,Qe,st;const ct=q+7&-8;let dt=new Uint8Array(ct*Y),ht=0;for(const we of ye.data){let He=128;for(;He>0;)dt[ht++]=we&He?0:255,He>>=1}let gt=0;for(ht=0,dt[ht]!==0&&(Pe[0]=1,++gt),Qe=1;Qe<q;Qe++)dt[ht]!==dt[ht+1]&&(Pe[Qe]=dt[ht]?2:1,++gt),ht++;for(dt[ht]!==0&&(Pe[Qe]=2,++gt),Le=1;Le<Y;Le++){ht=Le*ct,st=Le*xe,dt[ht-ct]!==dt[ht]&&(Pe[st]=dt[ht]?1:8,++gt);let we=(dt[ht]?4:0)+(dt[ht-ct]?8:0);for(Qe=1;Qe<q;Qe++)we=(we>>2)+(dt[ht+1]?4:0)+(dt[ht-ct+1]?8:0),Me[we]&&(Pe[st+Qe]=Me[we],++gt),ht++;if(dt[ht-ct]!==dt[ht]&&(Pe[st+Qe]=dt[ht]?2:4,++gt),gt>ve)return null}for(ht=ct*(Y-1),st=Le*xe,dt[ht]!==0&&(Pe[st]=8,++gt),Qe=1;Qe<q;Qe++)dt[ht]!==dt[ht+1]&&(Pe[st+Qe]=dt[ht]?4:8,++gt),ht++;if(dt[ht]!==0&&(Pe[st+Qe]=4,++gt),gt>ve)return null;const Ke=new Int32Array([0,xe,-1,0,-xe,0,0,0,1]),Xe=new Path2D;for(Le=0;gt&&Le<=Y;Le++){let we=Le*xe;const He=we+q;for(;we<He&&!Pe[we];)we++;if(we===He)continue;Xe.moveTo(we%xe,Le);const Ye=we;let rt=Pe[we];do{const mt=Ke[rt];do we+=mt;while(!Pe[we]);const ft=Pe[we];ft!==5&&ft!==10?(rt=ft,Pe[we]=0):(rt=ft&51*rt>>4,Pe[we]&=rt>>2|rt<<2),Xe.lineTo(we%xe,we/xe|0),Pe[we]||--gt}while(Ye!==we);--Le}return dt=null,Pe=null,function(we){we.save(),we.scale(1/q,-1/Y),we.translate(0,-Y),we.fill(Xe),we.beginPath(),we.restore()}}class oe{constructor(q,Y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=$.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=$.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,q,Y])}clone(){const q=Object.create(this);return q.clipBox=this.clipBox.slice(),q}setCurrentPoint(q,Y){this.x=q,this.y=Y}updatePathMinMax(q,Y,ve){[Y,ve]=$.Util.applyTransform([Y,ve],q),this.minX=Math.min(this.minX,Y),this.minY=Math.min(this.minY,ve),this.maxX=Math.max(this.maxX,Y),this.maxY=Math.max(this.maxY,ve)}updateRectMinMax(q,Y){const ve=$.Util.applyTransform(Y,q),Me=$.Util.applyTransform(Y.slice(2),q);this.minX=Math.min(this.minX,ve[0],Me[0]),this.minY=Math.min(this.minY,ve[1],Me[1]),this.maxX=Math.max(this.maxX,ve[0],Me[0]),this.maxY=Math.max(this.maxY,ve[1],Me[1])}updateScalingPathMinMax(q,Y){$.Util.scaleMinMax(q,Y),this.minX=Math.min(this.minX,Y[0]),this.maxX=Math.max(this.maxX,Y[1]),this.minY=Math.min(this.minY,Y[2]),this.maxY=Math.max(this.maxY,Y[3])}updateCurvePathMinMax(q,Y,ve,Me,xe,Pe,Le,Qe,st,ct){const dt=$.Util.bezierBoundingBox(Y,ve,Me,xe,Pe,Le,Qe,st);if(ct){ct[0]=Math.min(ct[0],dt[0],dt[2]),ct[1]=Math.max(ct[1],dt[0],dt[2]),ct[2]=Math.min(ct[2],dt[1],dt[3]),ct[3]=Math.max(ct[3],dt[1],dt[3]);return}this.updateRectMinMax(q,dt)}getPathBoundingBox(q=B.PathType.FILL,Y=null){const ve=[this.minX,this.minY,this.maxX,this.maxY];if(q===B.PathType.STROKE){Y||(0,$.unreachable)("Stroke bounding box must include transform.");const Me=$.Util.singularValueDecompose2dScale(Y),xe=Me[0]*this.lineWidth/2,Pe=Me[1]*this.lineWidth/2;ve[0]-=xe,ve[1]-=Pe,ve[2]+=xe,ve[3]+=Pe}return ve}updateClipFromPath(){const q=$.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(q||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(q){this.clipBox=q,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(q=B.PathType.FILL,Y=null){return $.Util.intersect(this.clipBox,this.getPathBoundingBox(q,Y))}}function me(ye,q){if(typeof ImageData<"u"&&q instanceof ImageData){ye.putImageData(q,0,0);return}const Y=q.height,ve=q.width,Me=Y%J,xe=(Y-Me)/J,Pe=Me===0?xe:xe+1,Le=ye.createImageData(ve,J);let Qe=0,st;const ct=q.data,dt=Le.data;let ht,gt,Ke,Xe;if(q.kind===$.ImageKind.GRAYSCALE_1BPP){const _e=ct.byteLength,we=new Uint32Array(dt.buffer,0,dt.byteLength>>2),He=we.length,Ye=ve+7>>3,rt=4294967295,mt=$.FeatureTest.isLittleEndian?4278190080:255;for(ht=0;ht<Pe;ht++){for(Ke=ht<xe?J:Me,st=0,gt=0;gt<Ke;gt++){const ft=_e-Qe;let We=0;const xt=ft>Ye?ve:ft*8-7,wt=xt&-8;let Zt=0,Gt=0;for(;We<wt;We+=8)Gt=ct[Qe++],we[st++]=Gt&128?rt:mt,we[st++]=Gt&64?rt:mt,we[st++]=Gt&32?rt:mt,we[st++]=Gt&16?rt:mt,we[st++]=Gt&8?rt:mt,we[st++]=Gt&4?rt:mt,we[st++]=Gt&2?rt:mt,we[st++]=Gt&1?rt:mt;for(;We<xt;We++)Zt===0&&(Gt=ct[Qe++],Zt=128),we[st++]=Gt&Zt?rt:mt,Zt>>=1}for(;st<He;)we[st++]=0;ye.putImageData(Le,0,ht*J)}}else if(q.kind===$.ImageKind.RGBA_32BPP){for(gt=0,Xe=ve*J*4,ht=0;ht<xe;ht++)dt.set(ct.subarray(Qe,Qe+Xe)),Qe+=Xe,ye.putImageData(Le,0,gt),gt+=J;ht<Pe&&(Xe=ve*Me*4,dt.set(ct.subarray(Qe,Qe+Xe)),ye.putImageData(Le,0,gt))}else if(q.kind===$.ImageKind.RGB_24BPP)for(Ke=J,Xe=ve*Ke,ht=0;ht<Pe;ht++){for(ht>=xe&&(Ke=Me,Xe=ve*Ke),st=0,gt=Xe;gt--;)dt[st++]=ct[Qe++],dt[st++]=ct[Qe++],dt[st++]=ct[Qe++],dt[st++]=255;ye.putImageData(Le,0,ht*J)}else throw new Error(`bad image kind: ${q.kind}`)}function pe(ye,q){if(q.bitmap){ye.drawImage(q.bitmap,0,0);return}const Y=q.height,ve=q.width,Me=Y%J,xe=(Y-Me)/J,Pe=Me===0?xe:xe+1,Le=ye.createImageData(ve,J);let Qe=0;const st=q.data,ct=Le.data;for(let dt=0;dt<Pe;dt++){const ht=dt<xe?J:Me;({srcPos:Qe}=(0,W.convertBlackAndWhiteToRGBA)({src:st,srcPos:Qe,dest:ct,width:ve,height:ht,nonBlackColor:0})),ye.putImageData(Le,0,dt*J)}}function Q(ye,q){const Y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ve of Y)ye[ve]!==void 0&&(q[ve]=ye[ve]);ye.setLineDash!==void 0&&(q.setLineDash(ye.getLineDash()),q.lineDashOffset=ye.lineDashOffset)}function le(ye){if(ye.strokeStyle=ye.fillStyle="#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",ye.setLineDash!==void 0&&(ye.setLineDash([]),ye.lineDashOffset=0),!$.isNodeJS){const{filter:q}=ye;q!=="none"&&q!==""&&(ye.filter="none")}}function ie(ye,q,Y,ve){const Me=ye.length;for(let xe=3;xe<Me;xe+=4){const Pe=ye[xe];if(Pe===0)ye[xe-3]=q,ye[xe-2]=Y,ye[xe-1]=ve;else if(Pe<255){const Le=255-Pe;ye[xe-3]=ye[xe-3]*Pe+q*Le>>8,ye[xe-2]=ye[xe-2]*Pe+Y*Le>>8,ye[xe-1]=ye[xe-1]*Pe+ve*Le>>8}}}function se(ye,q,Y){const ve=ye.length,Me=1/255;for(let xe=3;xe<ve;xe+=4){const Pe=Y?Y[ye[xe]]:ye[xe];q[xe]=q[xe]*Pe*Me|0}}function ce(ye,q,Y){const ve=ye.length;for(let Me=3;Me<ve;Me+=4){const xe=ye[Me-3]*77+ye[Me-2]*152+ye[Me-1]*28;q[Me]=Y?q[Me]*Y[xe>>8]>>8:q[Me]*xe>>16}}function Se(ye,q,Y,ve,Me,xe,Pe,Le,Qe,st,ct){const dt=!!xe,ht=dt?xe[0]:0,gt=dt?xe[1]:0,Ke=dt?xe[2]:0,Xe=Me==="Luminosity"?ce:se,we=Math.min(ve,Math.ceil(1048576/Y));for(let He=0;He<ve;He+=we){const Ye=Math.min(we,ve-He),rt=ye.getImageData(Le-st,He+(Qe-ct),Y,Ye),mt=q.getImageData(Le,He+Qe,Y,Ye);dt&&ie(rt.data,ht,gt,Ke),Xe(rt.data,mt.data,Pe),q.putImageData(mt,Le,He+Qe)}}function ee(ye,q,Y,ve){const Me=ve[0],xe=ve[1],Pe=ve[2]-Me,Le=ve[3]-xe;Pe===0||Le===0||(Se(q.context,Y,Pe,Le,q.subtype,q.backdrop,q.transferMap,Me,xe,q.offsetX,q.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(Y.canvas,0,0),ye.restore())}function ge(ye,q){const Y=$.Util.singularValueDecompose2dScale(ye);Y[0]=Math.fround(Y[0]),Y[1]=Math.fround(Y[1]);const ve=Math.fround((globalThis.devicePixelRatio||1)*O.PixelsPerInch.PDF_TO_CSS_UNITS);return q!==void 0?q:Y[0]<=ve||Y[1]<=ve}const Ae=["butt","round","square"],Oe=["miter","round","bevel"],Re={},Ne={},Be=class Be{constructor(q,Y,ve,Me,xe,{optionalContentConfig:Pe,markedContentStack:Le=null},Qe,st){ot(this,qe);this.ctx=q,this.current=new oe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Y,this.objs=ve,this.canvasFactory=Me,this.filterFactory=xe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Le||[],this.optionalContentConfig=Pe,this.cachedCanvases=new te(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Qe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=st,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(q,Y=null){return typeof q=="string"?q.startsWith("g_")?this.commonObjs.get(q):this.objs.get(q):Y}beginDrawing({transform:q,viewport:Y,transparency:ve=!1,background:Me=null}){const xe=this.ctx.canvas.width,Pe=this.ctx.canvas.height,Le=this.ctx.fillStyle;if(this.ctx.fillStyle=Me||"#ffffff",this.ctx.fillRect(0,0,xe,Pe),this.ctx.fillStyle=Le,ve){const Qe=this.cachedCanvases.getCanvas("transparent",xe,Pe);this.compositeCtx=this.ctx,this.transparentCanvas=Qe.canvas,this.ctx=Qe.context,this.ctx.save(),this.ctx.transform(...(0,O.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),le(this.ctx),q&&(this.ctx.transform(...q),this.outputScaleX=q[0],this.outputScaleY=q[0]),this.ctx.transform(...Y.transform),this.viewportScale=Y.scale,this.baseTransform=(0,O.getCurrentTransform)(this.ctx)}executeOperatorList(q,Y,ve,Me){const xe=q.argsArray,Pe=q.fnArray;let Le=Y||0;const Qe=xe.length;if(Qe===Le)return Le;const st=Qe-Le>fe&&typeof ve=="function",ct=st?Date.now()+V:0;let dt=0;const ht=this.commonObjs,gt=this.objs;let Ke;for(;;){if(Me!==void 0&&Le===Me.nextBreakPoint)return Me.breakIt(Le,ve),Le;if(Ke=Pe[Le],Ke!==$.OPS.dependency)this[Ke].apply(this,xe[Le]);else for(const Xe of xe[Le]){const _e=Xe.startsWith("g_")?ht:gt;if(!_e.has(Xe))return _e.get(Xe,ve),Le}if(Le++,Le===Qe)return Le;if(st&&++dt>fe){if(Date.now()>ct)return ve(),Le;dt=0}}}endDrawing(){Ge(this,qe,Ti).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const q of this._cachedBitmapsMap.values()){for(const Y of q.values())typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement&&(Y.width=Y.height=0);q.clear()}this._cachedBitmapsMap.clear(),Ge(this,qe,Ri).call(this)}_scaleImage(q,Y){const ve=q.width,Me=q.height;let xe=Math.max(Math.hypot(Y[0],Y[1]),1),Pe=Math.max(Math.hypot(Y[2],Y[3]),1),Le=ve,Qe=Me,st="prescale1",ct,dt;for(;xe>2&&Le>1||Pe>2&&Qe>1;){let ht=Le,gt=Qe;xe>2&&Le>1&&(ht=Le>=16384?Math.floor(Le/2)-1||1:Math.ceil(Le/2),xe/=Le/ht),Pe>2&&Qe>1&&(gt=Qe>=16384?Math.floor(Qe/2)-1||1:Math.ceil(Qe)/2,Pe/=Qe/gt),ct=this.cachedCanvases.getCanvas(st,ht,gt),dt=ct.context,dt.clearRect(0,0,ht,gt),dt.drawImage(q,0,0,Le,Qe,0,0,ht,gt),q=ct.canvas,Le=ht,Qe=gt,st=st==="prescale1"?"prescale2":"prescale1"}return{img:q,paintWidth:Le,paintHeight:Qe}}_createMaskCanvas(q){const Y=this.ctx,{width:ve,height:Me}=q,xe=this.current.fillColor,Pe=this.current.patternFill,Le=(0,O.getCurrentTransform)(Y);let Qe,st,ct,dt;if((q.bitmap||q.data)&&q.count>1){const We=q.bitmap||q.data.buffer;st=JSON.stringify(Pe?Le:[Le.slice(0,4),xe]),Qe=this._cachedBitmapsMap.get(We),Qe||(Qe=new Map,this._cachedBitmapsMap.set(We,Qe));const xt=Qe.get(st);if(xt&&!Pe){const wt=Math.round(Math.min(Le[0],Le[2])+Le[4]),Zt=Math.round(Math.min(Le[1],Le[3])+Le[5]);return{canvas:xt,offsetX:wt,offsetY:Zt}}ct=xt}ct||(dt=this.cachedCanvases.getCanvas("maskCanvas",ve,Me),pe(dt.context,q));let ht=$.Util.transform(Le,[1/ve,0,0,-1/Me,0,0]);ht=$.Util.transform(ht,[1,0,0,1,0,-Me]);const gt=$.Util.applyTransform([0,0],ht),Ke=$.Util.applyTransform([ve,Me],ht),Xe=$.Util.normalizeRect([gt[0],gt[1],Ke[0],Ke[1]]),_e=Math.round(Xe[2]-Xe[0])||1,we=Math.round(Xe[3]-Xe[1])||1,He=this.cachedCanvases.getCanvas("fillCanvas",_e,we),Ye=He.context,rt=Math.min(gt[0],Ke[0]),mt=Math.min(gt[1],Ke[1]);Ye.translate(-rt,-mt),Ye.transform(...ht),ct||(ct=this._scaleImage(dt.canvas,(0,O.getCurrentTransformInverse)(Ye)),ct=ct.img,Qe&&Pe&&Qe.set(st,ct)),Ye.imageSmoothingEnabled=ge((0,O.getCurrentTransform)(Ye),q.interpolate),G(Ye,ct,0,0,ct.width,ct.height,0,0,ve,Me),Ye.globalCompositeOperation="source-in";const ft=$.Util.transform((0,O.getCurrentTransformInverse)(Ye),[1,0,0,1,-rt,-mt]);return Ye.fillStyle=Pe?xe.getPattern(Y,this,ft,B.PathType.FILL):xe,Ye.fillRect(0,0,ve,Me),Qe&&!Pe&&(this.cachedCanvases.delete("fillCanvas"),Qe.set(st,He.canvas)),{canvas:He.canvas,offsetX:Math.round(rt),offsetY:Math.round(mt)}}setLineWidth(q){q!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=q,this.ctx.lineWidth=q}setLineCap(q){this.ctx.lineCap=Ae[q]}setLineJoin(q){this.ctx.lineJoin=Oe[q]}setMiterLimit(q){this.ctx.miterLimit=q}setDash(q,Y){const ve=this.ctx;ve.setLineDash!==void 0&&(ve.setLineDash(q),ve.lineDashOffset=Y)}setRenderingIntent(q){}setFlatness(q){}setGState(q){for(const[Y,ve]of q)switch(Y){case"LW":this.setLineWidth(ve);break;case"LC":this.setLineCap(ve);break;case"LJ":this.setLineJoin(ve);break;case"ML":this.setMiterLimit(ve);break;case"D":this.setDash(ve[0],ve[1]);break;case"RI":this.setRenderingIntent(ve);break;case"FL":this.setFlatness(ve);break;case"Font":this.setFont(ve[0],ve[1]);break;case"CA":this.current.strokeAlpha=ve;break;case"ca":this.current.fillAlpha=ve,this.ctx.globalAlpha=ve;break;case"BM":this.ctx.globalCompositeOperation=ve;break;case"SMask":this.current.activeSMask=ve?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ve);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const q=this.inSMaskMode;this.current.activeSMask&&!q?this.beginSMaskMode():!this.current.activeSMask&&q&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const q=this.ctx.canvas.width,Y=this.ctx.canvas.height,ve="smaskGroupAt"+this.groupLevel,Me=this.cachedCanvases.getCanvas(ve,q,Y);this.suspendedCtx=this.ctx,this.ctx=Me.context;const xe=this.ctx;xe.setTransform(...(0,O.getCurrentTransform)(this.suspendedCtx)),Q(this.suspendedCtx,xe),re(xe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Q(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(q){if(!this.current.activeSMask)return;q?(q[0]=Math.floor(q[0]),q[1]=Math.floor(q[1]),q[2]=Math.ceil(q[2]),q[3]=Math.ceil(q[3])):q=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Y=this.current.activeSMask,ve=this.suspendedCtx;ee(ve,Y,this.ctx,q),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Q(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const q=this.current;this.stateStack.push(q),this.current=q.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Q(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(q,Y,ve,Me,xe,Pe){this.ctx.transform(q,Y,ve,Me,xe,Pe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(q,Y,ve){const Me=this.ctx,xe=this.current;let Pe=xe.x,Le=xe.y,Qe,st;const ct=(0,O.getCurrentTransform)(Me),dt=ct[0]===0&&ct[3]===0||ct[1]===0&&ct[2]===0,ht=dt?ve.slice(0):null;for(let gt=0,Ke=0,Xe=q.length;gt<Xe;gt++)switch(q[gt]|0){case $.OPS.rectangle:Pe=Y[Ke++],Le=Y[Ke++];const _e=Y[Ke++],we=Y[Ke++],He=Pe+_e,Ye=Le+we;Me.moveTo(Pe,Le),_e===0||we===0?Me.lineTo(He,Ye):(Me.lineTo(He,Le),Me.lineTo(He,Ye),Me.lineTo(Pe,Ye)),dt||xe.updateRectMinMax(ct,[Pe,Le,He,Ye]),Me.closePath();break;case $.OPS.moveTo:Pe=Y[Ke++],Le=Y[Ke++],Me.moveTo(Pe,Le),dt||xe.updatePathMinMax(ct,Pe,Le);break;case $.OPS.lineTo:Pe=Y[Ke++],Le=Y[Ke++],Me.lineTo(Pe,Le),dt||xe.updatePathMinMax(ct,Pe,Le);break;case $.OPS.curveTo:Qe=Pe,st=Le,Pe=Y[Ke+4],Le=Y[Ke+5],Me.bezierCurveTo(Y[Ke],Y[Ke+1],Y[Ke+2],Y[Ke+3],Pe,Le),xe.updateCurvePathMinMax(ct,Qe,st,Y[Ke],Y[Ke+1],Y[Ke+2],Y[Ke+3],Pe,Le,ht),Ke+=6;break;case $.OPS.curveTo2:Qe=Pe,st=Le,Me.bezierCurveTo(Pe,Le,Y[Ke],Y[Ke+1],Y[Ke+2],Y[Ke+3]),xe.updateCurvePathMinMax(ct,Qe,st,Pe,Le,Y[Ke],Y[Ke+1],Y[Ke+2],Y[Ke+3],ht),Pe=Y[Ke+2],Le=Y[Ke+3],Ke+=4;break;case $.OPS.curveTo3:Qe=Pe,st=Le,Pe=Y[Ke+2],Le=Y[Ke+3],Me.bezierCurveTo(Y[Ke],Y[Ke+1],Pe,Le,Pe,Le),xe.updateCurvePathMinMax(ct,Qe,st,Y[Ke],Y[Ke+1],Pe,Le,Pe,Le,ht),Ke+=4;break;case $.OPS.closePath:Me.closePath();break}dt&&xe.updateScalingPathMinMax(ct,ht),xe.setCurrentPoint(Pe,Le)}closePath(){this.ctx.closePath()}stroke(q=!0){const Y=this.ctx,ve=this.current.strokeColor;Y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ve=="object"&&(ve!=null&&ve.getPattern)?(Y.save(),Y.strokeStyle=ve.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.STROKE),this.rescaleAndStroke(!1),Y.restore()):this.rescaleAndStroke(!0)),q&&this.consumePath(this.current.getClippedPathBoundingBox()),Y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(q=!0){const Y=this.ctx,ve=this.current.fillColor,Me=this.current.patternFill;let xe=!1;Me&&(Y.save(),Y.fillStyle=ve.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.FILL),xe=!0);const Pe=this.current.getClippedPathBoundingBox();this.contentVisible&&Pe!==null&&(this.pendingEOFill?(Y.fill("evenodd"),this.pendingEOFill=!1):Y.fill()),xe&&Y.restore(),q&&this.consumePath(Pe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Re}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=$.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const q=this.pendingTextPaths,Y=this.ctx;if(q===void 0){Y.beginPath();return}Y.save(),Y.beginPath();for(const ve of q)Y.setTransform(...ve.transform),Y.translate(ve.x,ve.y),ve.addToPath(Y,ve.fontSize);Y.restore(),Y.clip(),Y.beginPath(),delete this.pendingTextPaths}setCharSpacing(q){this.current.charSpacing=q}setWordSpacing(q){this.current.wordSpacing=q}setHScale(q){this.current.textHScale=q/100}setLeading(q){this.current.leading=-q}setFont(q,Y){var ct;const ve=this.commonObjs.get(q),Me=this.current;if(!ve)throw new Error(`Can't find font for ${q}`);if(Me.fontMatrix=ve.fontMatrix||$.FONT_IDENTITY_MATRIX,(Me.fontMatrix[0]===0||Me.fontMatrix[3]===0)&&(0,$.warn)("Invalid font matrix for font "+q),Y<0?(Y=-Y,Me.fontDirection=-1):Me.fontDirection=1,this.current.font=ve,this.current.fontSize=Y,ve.isType3Font)return;const xe=ve.loadedName||"sans-serif",Pe=((ct=ve.systemFontInfo)==null?void 0:ct.css)||`"${xe}", ${ve.fallbackName}`;let Le="normal";ve.black?Le="900":ve.bold&&(Le="bold");const Qe=ve.italic?"italic":"normal";let st=Y;Y<he?st=he:Y>de&&(st=de),this.current.fontSizeScale=Y/st,this.ctx.font=`${Qe} ${Le} ${st}px ${Pe}`}setTextRenderingMode(q){this.current.textRenderingMode=q}setTextRise(q){this.current.textRise=q}moveText(q,Y){this.current.x=this.current.lineX+=q,this.current.y=this.current.lineY+=Y}setLeadingMoveText(q,Y){this.setLeading(-Y),this.moveText(q,Y)}setTextMatrix(q,Y,ve,Me,xe,Pe){this.current.textMatrix=[q,Y,ve,Me,xe,Pe],this.current.textMatrixScale=Math.hypot(q,Y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(q,Y,ve,Me){const xe=this.ctx,Pe=this.current,Le=Pe.font,Qe=Pe.textRenderingMode,st=Pe.fontSize/Pe.fontSizeScale,ct=Qe&$.TextRenderingMode.FILL_STROKE_MASK,dt=!!(Qe&$.TextRenderingMode.ADD_TO_PATH_FLAG),ht=Pe.patternFill&&!Le.missingFile;let gt;(Le.disableFontFace||dt||ht)&&(gt=Le.getPathGenerator(this.commonObjs,q)),Le.disableFontFace||ht?(xe.save(),xe.translate(Y,ve),xe.beginPath(),gt(xe,st),Me&&xe.setTransform(...Me),(ct===$.TextRenderingMode.FILL||ct===$.TextRenderingMode.FILL_STROKE)&&xe.fill(),(ct===$.TextRenderingMode.STROKE||ct===$.TextRenderingMode.FILL_STROKE)&&xe.stroke(),xe.restore()):((ct===$.TextRenderingMode.FILL||ct===$.TextRenderingMode.FILL_STROKE)&&xe.fillText(q,Y,ve),(ct===$.TextRenderingMode.STROKE||ct===$.TextRenderingMode.FILL_STROKE)&&xe.strokeText(q,Y,ve)),dt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,O.getCurrentTransform)(xe),x:Y,y:ve,fontSize:st,addToPath:gt})}get isFontSubpixelAAEnabled(){const{context:q}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);q.scale(1.5,1),q.fillText("I",0,10);const Y=q.getImageData(0,0,10,10).data;let ve=!1;for(let Me=3;Me<Y.length;Me+=4)if(Y[Me]>0&&Y[Me]<255){ve=!0;break}return(0,$.shadow)(this,"isFontSubpixelAAEnabled",ve)}showText(q){const Y=this.current,ve=Y.font;if(ve.isType3Font)return this.showType3Text(q);const Me=Y.fontSize;if(Me===0)return;const xe=this.ctx,Pe=Y.fontSizeScale,Le=Y.charSpacing,Qe=Y.wordSpacing,st=Y.fontDirection,ct=Y.textHScale*st,dt=q.length,ht=ve.vertical,gt=ht?1:-1,Ke=ve.defaultVMetrics,Xe=Me*Y.fontMatrix[0],_e=Y.textRenderingMode===$.TextRenderingMode.FILL&&!ve.disableFontFace&&!Y.patternFill;xe.save(),xe.transform(...Y.textMatrix),xe.translate(Y.x,Y.y+Y.textRise),st>0?xe.scale(ct,-1):xe.scale(ct,1);let we;if(Y.patternFill){xe.save();const ft=Y.fillColor.getPattern(xe,this,(0,O.getCurrentTransformInverse)(xe),B.PathType.FILL);we=(0,O.getCurrentTransform)(xe),xe.restore(),xe.fillStyle=ft}let He=Y.lineWidth;const Ye=Y.textMatrixScale;if(Ye===0||He===0){const ft=Y.textRenderingMode&$.TextRenderingMode.FILL_STROKE_MASK;(ft===$.TextRenderingMode.STROKE||ft===$.TextRenderingMode.FILL_STROKE)&&(He=this.getSinglePixelWidth())}else He/=Ye;if(Pe!==1&&(xe.scale(Pe,Pe),He/=Pe),xe.lineWidth=He,ve.isInvalidPDFjsFont){const ft=[];let We=0;for(const xt of q)ft.push(xt.unicode),We+=xt.width;xe.fillText(ft.join(""),0,0),Y.x+=We*Xe*ct,xe.restore(),this.compose();return}let rt=0,mt;for(mt=0;mt<dt;++mt){const ft=q[mt];if(typeof ft=="number"){rt+=gt*ft*Me/1e3;continue}let We=!1;const xt=(ft.isSpace?Qe:0)+Le,wt=ft.fontChar,Zt=ft.accent;let Gt,fn,It=ft.width;if(ht){const an=ft.vmetric||Ke,yn=-(ft.vmetric?an[1]:It*.5)*Xe,vt=an[2]*Xe;It=an?-an[0]:It,Gt=yn/Pe,fn=(rt+vt)/Pe}else Gt=rt/Pe,fn=0;if(ve.remeasure&&It>0){const an=xe.measureText(wt).width*1e3/Me*Pe;if(It<an&&this.isFontSubpixelAAEnabled){const yn=It/an;We=!0,xe.save(),xe.scale(yn,1),Gt/=yn}else It!==an&&(Gt+=(It-an)/2e3*Me/Pe)}if(this.contentVisible&&(ft.isInFont||ve.missingFile)){if(_e&&!Zt)xe.fillText(wt,Gt,fn);else if(this.paintChar(wt,Gt,fn,we),Zt){const an=Gt+Me*Zt.offset.x/Pe,yn=fn-Me*Zt.offset.y/Pe;this.paintChar(Zt.fontChar,an,yn,we)}}const Ht=ht?It*Xe-xt*st:It*Xe+xt*st;rt+=Ht,We&&xe.restore()}ht?Y.y-=rt:Y.x+=rt*ct,xe.restore(),this.compose()}showType3Text(q){const Y=this.ctx,ve=this.current,Me=ve.font,xe=ve.fontSize,Pe=ve.fontDirection,Le=Me.vertical?1:-1,Qe=ve.charSpacing,st=ve.wordSpacing,ct=ve.textHScale*Pe,dt=ve.fontMatrix||$.FONT_IDENTITY_MATRIX,ht=q.length,gt=ve.textRenderingMode===$.TextRenderingMode.INVISIBLE;let Ke,Xe,_e,we;if(!(gt||xe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Y.save(),Y.transform(...ve.textMatrix),Y.translate(ve.x,ve.y),Y.scale(ct,Pe),Ke=0;Ke<ht;++Ke){if(Xe=q[Ke],typeof Xe=="number"){we=Le*Xe*xe/1e3,this.ctx.translate(we,0),ve.x+=we*ct;continue}const He=(Xe.isSpace?st:0)+Qe,Ye=Me.charProcOperatorList[Xe.operatorListId];if(!Ye){(0,$.warn)(`Type3 character "${Xe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xe,this.save(),Y.scale(xe,xe),Y.transform(...dt),this.executeOperatorList(Ye),this.restore()),_e=$.Util.applyTransform([Xe.width,0],dt)[0]*xe+He,Y.translate(_e,0),ve.x+=_e*ct}Y.restore(),this.processingType3=null}}setCharWidth(q,Y){}setCharWidthAndBounds(q,Y,ve,Me,xe,Pe){this.ctx.rect(ve,Me,xe-ve,Pe-Me),this.ctx.clip(),this.endPath()}getColorN_Pattern(q){let Y;if(q[0]==="TilingPattern"){const ve=q[1],Me=this.baseTransform||(0,O.getCurrentTransform)(this.ctx),xe={createCanvasGraphics:Pe=>new Be(Pe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Y=new B.TilingPattern(q,ve,this.ctx,xe,Me)}else Y=this._getPattern(q[1],q[2]);return Y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(q,Y,ve){const Me=$.Util.makeHexColor(q,Y,ve);this.ctx.strokeStyle=Me,this.current.strokeColor=Me}setFillRGBColor(q,Y,ve){const Me=$.Util.makeHexColor(q,Y,ve);this.ctx.fillStyle=Me,this.current.fillColor=Me,this.current.patternFill=!1}_getPattern(q,Y=null){let ve;return this.cachedPatterns.has(q)?ve=this.cachedPatterns.get(q):(ve=(0,B.getShadingPattern)(this.getObject(q)),this.cachedPatterns.set(q,ve)),Y&&(ve.matrix=Y),ve}shadingFill(q){if(!this.contentVisible)return;const Y=this.ctx;this.save();const ve=this._getPattern(q);Y.fillStyle=ve.getPattern(Y,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.SHADING);const Me=(0,O.getCurrentTransformInverse)(Y);if(Me){const{width:xe,height:Pe}=Y.canvas,[Le,Qe,st,ct]=$.Util.getAxialAlignedBoundingBox([0,0,xe,Pe],Me);this.ctx.fillRect(Le,Qe,st-Le,ct-Qe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,$.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,$.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(q,Y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(q)&&q.length===6&&this.transform(...q),this.baseTransform=(0,O.getCurrentTransform)(this.ctx),Y)){const ve=Y[2]-Y[0],Me=Y[3]-Y[1];this.ctx.rect(Y[0],Y[1],ve,Me),this.current.updateRectMinMax((0,O.getCurrentTransform)(this.ctx),Y),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(q){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Y=this.ctx;q.isolated||(0,$.info)("TODO: Support non-isolated groups."),q.knockout&&(0,$.warn)("Knockout groups not supported.");const ve=(0,O.getCurrentTransform)(Y);if(q.matrix&&Y.transform(...q.matrix),!q.bbox)throw new Error("Bounding box is required.");let Me=$.Util.getAxialAlignedBoundingBox(q.bbox,(0,O.getCurrentTransform)(Y));const xe=[0,0,Y.canvas.width,Y.canvas.height];Me=$.Util.intersect(Me,xe)||[0,0,0,0];const Pe=Math.floor(Me[0]),Le=Math.floor(Me[1]);let Qe=Math.max(Math.ceil(Me[2])-Pe,1),st=Math.max(Math.ceil(Me[3])-Le,1),ct=1,dt=1;Qe>ue&&(ct=Qe/ue,Qe=ue),st>ue&&(dt=st/ue,st=ue),this.current.startNewPathAndClipBox([0,0,Qe,st]);let ht="groupAt"+this.groupLevel;q.smask&&(ht+="_smask_"+this.smaskCounter++%2);const gt=this.cachedCanvases.getCanvas(ht,Qe,st),Ke=gt.context;Ke.scale(1/ct,1/dt),Ke.translate(-Pe,-Le),Ke.transform(...ve),q.smask?this.smaskStack.push({canvas:gt.canvas,context:Ke,offsetX:Pe,offsetY:Le,scaleX:ct,scaleY:dt,subtype:q.smask.subtype,backdrop:q.smask.backdrop,transferMap:q.smask.transferMap||null,startTransformInverse:null}):(Y.setTransform(1,0,0,1,0,0),Y.translate(Pe,Le),Y.scale(ct,dt),Y.save()),Q(Y,Ke),this.ctx=Ke,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Y),this.groupLevel++}endGroup(q){if(!this.contentVisible)return;this.groupLevel--;const Y=this.ctx,ve=this.groupStack.pop();if(this.ctx=ve,this.ctx.imageSmoothingEnabled=!1,q.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Me=(0,O.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Me);const xe=$.Util.getAxialAlignedBoundingBox([0,0,Y.canvas.width,Y.canvas.height],Me);this.ctx.drawImage(Y.canvas,0,0),this.ctx.restore(),this.compose(xe)}}beginAnnotation(q,Y,ve,Me,xe){if(Ge(this,qe,Ti).call(this),le(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Y)&&Y.length===4){const Pe=Y[2]-Y[0],Le=Y[3]-Y[1];if(xe&&this.annotationCanvasMap){ve=ve.slice(),ve[4]-=Y[0],ve[5]-=Y[1],Y=Y.slice(),Y[0]=Y[1]=0,Y[2]=Pe,Y[3]=Le;const[Qe,st]=$.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(this.ctx)),{viewportScale:ct}=this,dt=Math.ceil(Pe*this.outputScaleX*ct),ht=Math.ceil(Le*this.outputScaleY*ct);this.annotationCanvas=this.canvasFactory.create(dt,ht);const{canvas:gt,context:Ke}=this.annotationCanvas;this.annotationCanvasMap.set(q,gt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ke,this.ctx.save(),this.ctx.setTransform(Qe,0,0,-st,0,Le*st),le(this.ctx)}else le(this.ctx),this.ctx.rect(Y[0],Y[1],Pe,Le),this.ctx.clip(),this.endPath()}this.current=new oe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ve),this.transform(...Me)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ge(this,qe,Ri).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(q){if(!this.contentVisible)return;const Y=q.count;q=this.getObject(q.data,q),q.count=Y;const ve=this.ctx,Me=this.processingType3;if(Me&&(Me.compiled===void 0&&(Me.compiled=ne(q)),Me.compiled)){Me.compiled(ve);return}const xe=this._createMaskCanvas(q),Pe=xe.canvas;ve.save(),ve.setTransform(1,0,0,1,0,0),ve.drawImage(Pe,xe.offsetX,xe.offsetY),ve.restore(),this.compose()}paintImageMaskXObjectRepeat(q,Y,ve=0,Me=0,xe,Pe){if(!this.contentVisible)return;q=this.getObject(q.data,q);const Le=this.ctx;Le.save();const Qe=(0,O.getCurrentTransform)(Le);Le.transform(Y,ve,Me,xe,0,0);const st=this._createMaskCanvas(q);Le.setTransform(1,0,0,1,st.offsetX-Qe[4],st.offsetY-Qe[5]);for(let ct=0,dt=Pe.length;ct<dt;ct+=2){const ht=$.Util.transform(Qe,[Y,ve,Me,xe,Pe[ct],Pe[ct+1]]),[gt,Ke]=$.Util.applyTransform([0,0],ht);Le.drawImage(st.canvas,gt,Ke)}Le.restore(),this.compose()}paintImageMaskXObjectGroup(q){if(!this.contentVisible)return;const Y=this.ctx,ve=this.current.fillColor,Me=this.current.patternFill;for(const xe of q){const{data:Pe,width:Le,height:Qe,transform:st}=xe,ct=this.cachedCanvases.getCanvas("maskCanvas",Le,Qe),dt=ct.context;dt.save();const ht=this.getObject(Pe,xe);pe(dt,ht),dt.globalCompositeOperation="source-in",dt.fillStyle=Me?ve.getPattern(dt,this,(0,O.getCurrentTransformInverse)(Y),B.PathType.FILL):ve,dt.fillRect(0,0,Le,Qe),dt.restore(),Y.save(),Y.transform(...st),Y.scale(1,-1),G(Y,ct.canvas,0,0,Le,Qe,0,-1,1,1),Y.restore()}this.compose()}paintImageXObject(q){if(!this.contentVisible)return;const Y=this.getObject(q);if(!Y){(0,$.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Y)}paintImageXObjectRepeat(q,Y,ve,Me){if(!this.contentVisible)return;const xe=this.getObject(q);if(!xe){(0,$.warn)("Dependent image isn't ready yet");return}const Pe=xe.width,Le=xe.height,Qe=[];for(let st=0,ct=Me.length;st<ct;st+=2)Qe.push({transform:[Y,0,0,ve,Me[st],Me[st+1]],x:0,y:0,w:Pe,h:Le});this.paintInlineImageXObjectGroup(xe,Qe)}applyTransferMapsToCanvas(q){return this.current.transferMaps!=="none"&&(q.filter=this.current.transferMaps,q.drawImage(q.canvas,0,0),q.filter="none"),q.canvas}applyTransferMapsToBitmap(q){if(this.current.transferMaps==="none")return q.bitmap;const{bitmap:Y,width:ve,height:Me}=q,xe=this.cachedCanvases.getCanvas("inlineImage",ve,Me),Pe=xe.context;return Pe.filter=this.current.transferMaps,Pe.drawImage(Y,0,0),Pe.filter="none",xe.canvas}paintInlineImageXObject(q){if(!this.contentVisible)return;const Y=q.width,ve=q.height,Me=this.ctx;if(this.save(),!$.isNodeJS){const{filter:Le}=Me;Le!=="none"&&Le!==""&&(Me.filter="none")}Me.scale(1/Y,-1/ve);let xe;if(q.bitmap)xe=this.applyTransferMapsToBitmap(q);else if(typeof HTMLElement=="function"&&q instanceof HTMLElement||!q.data)xe=q;else{const Qe=this.cachedCanvases.getCanvas("inlineImage",Y,ve).context;me(Qe,q),xe=this.applyTransferMapsToCanvas(Qe)}const Pe=this._scaleImage(xe,(0,O.getCurrentTransformInverse)(Me));Me.imageSmoothingEnabled=ge((0,O.getCurrentTransform)(Me),q.interpolate),G(Me,Pe.img,0,0,Pe.paintWidth,Pe.paintHeight,0,-ve,Y,ve),this.compose(),this.restore()}paintInlineImageXObjectGroup(q,Y){if(!this.contentVisible)return;const ve=this.ctx;let Me;if(q.bitmap)Me=q.bitmap;else{const xe=q.width,Pe=q.height,Qe=this.cachedCanvases.getCanvas("inlineImage",xe,Pe).context;me(Qe,q),Me=this.applyTransferMapsToCanvas(Qe)}for(const xe of Y)ve.save(),ve.transform(...xe.transform),ve.scale(1,-1),G(ve,Me,xe.x,xe.y,xe.w,xe.h,0,-1,1,1),ve.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(q){}markPointProps(q,Y){}beginMarkedContent(q){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(q,Y){q==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(q){const Y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(q);const ve=this.ctx;this.pendingClip&&(Y||(this.pendingClip===Ne?ve.clip("evenodd"):ve.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ve.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const q=(0,O.getCurrentTransform)(this.ctx);if(q[1]===0&&q[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(q[0]),Math.abs(q[3]));else{const Y=Math.abs(q[0]*q[3]-q[2]*q[1]),ve=Math.hypot(q[0],q[2]),Me=Math.hypot(q[1],q[3]);this._cachedGetSinglePixelWidth=Math.max(ve,Me)/Y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:q}=this.current,{a:Y,b:ve,c:Me,d:xe}=this.ctx.getTransform();let Pe,Le;if(ve===0&&Me===0){const Qe=Math.abs(Y),st=Math.abs(xe);if(Qe===st)if(q===0)Pe=Le=1/Qe;else{const ct=Qe*q;Pe=Le=ct<1?1/ct:1}else if(q===0)Pe=1/Qe,Le=1/st;else{const ct=Qe*q,dt=st*q;Pe=ct<1?1/ct:1,Le=dt<1?1/dt:1}}else{const Qe=Math.abs(Y*xe-ve*Me),st=Math.hypot(Y,ve),ct=Math.hypot(Me,xe);if(q===0)Pe=ct/Qe,Le=st/Qe;else{const dt=q*Qe;Pe=ct>dt?ct/dt:1,Le=st>dt?st/dt:1}}this._cachedScaleForStroking[0]=Pe,this._cachedScaleForStroking[1]=Le}return this._cachedScaleForStroking}rescaleAndStroke(q){const{ctx:Y}=this,{lineWidth:ve}=this.current,[Me,xe]=this.getScaleForStroking();if(Y.lineWidth=ve||1,Me===1&&xe===1){Y.stroke();return}const Pe=Y.getLineDash();if(q&&Y.save(),Y.scale(Me,xe),Pe.length>0){const Le=Math.max(Me,xe);Y.setLineDash(Pe.map(Qe=>Qe/Le)),Y.lineDashOffset/=Le}Y.stroke(),q&&Y.restore()}isContentVisible(){for(let q=this.markedContentStack.length-1;q>=0;q--)if(!this.markedContentStack[q].visible)return!1;return!0}};qe=new WeakSet,Ti=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ri=function(){if(this.pageColors){const q=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(q!=="none"){const Y=this.ctx.filter;this.ctx.filter=q,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Y}}};let Fe=Be;R.CanvasGraphics=Fe;for(const ye in $.OPS)Fe.prototype[ye]!==void 0&&(Fe.prototype[$.OPS[ye]]=Fe.prototype[ye])},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TilingPattern=R.PathType=void 0,R.getShadingPattern=J;var $=H(1),O=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};R.PathType=B;function W(ne,oe){if(!oe)return;const me=oe[2]-oe[0],pe=oe[3]-oe[1],Q=new Path2D;Q.rect(oe[0],oe[1],me,pe),ne.clip(Q)}class he{constructor(){this.constructor===he&&(0,$.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,$.unreachable)("Abstract method `getPattern` called.")}}class de extends he{constructor(oe){super(),this._type=oe[1],this._bbox=oe[2],this._colorStops=oe[3],this._p0=oe[4],this._p1=oe[5],this._r0=oe[6],this._r1=oe[7],this.matrix=null}_createGradient(oe){let me;this._type==="axial"?me=oe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(me=oe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const pe of this._colorStops)me.addColorStop(pe[0],pe[1]);return me}getPattern(oe,me,pe,Q){let le;if(Q===B.STROKE||Q===B.FILL){const ie=me.current.getClippedPathBoundingBox(Q,(0,O.getCurrentTransform)(oe))||[0,0,0,0],se=Math.ceil(ie[2]-ie[0])||1,ce=Math.ceil(ie[3]-ie[1])||1,Se=me.cachedCanvases.getCanvas("pattern",se,ce,!0),ee=Se.context;ee.clearRect(0,0,ee.canvas.width,ee.canvas.height),ee.beginPath(),ee.rect(0,0,ee.canvas.width,ee.canvas.height),ee.translate(-ie[0],-ie[1]),pe=$.Util.transform(pe,[1,0,0,1,ie[0],ie[1]]),ee.transform(...me.baseTransform),this.matrix&&ee.transform(...this.matrix),W(ee,this._bbox),ee.fillStyle=this._createGradient(ee),ee.fill(),le=oe.createPattern(Se.canvas,"no-repeat");const ge=new DOMMatrix(pe);le.setTransform(ge)}else W(oe,this._bbox),le=this._createGradient(oe);return le}}function ue(ne,oe,me,pe,Q,le,ie,se){const ce=oe.coords,Se=oe.colors,ee=ne.data,ge=ne.width*4;let Ae;ce[me+1]>ce[pe+1]&&(Ae=me,me=pe,pe=Ae,Ae=le,le=ie,ie=Ae),ce[pe+1]>ce[Q+1]&&(Ae=pe,pe=Q,Q=Ae,Ae=ie,ie=se,se=Ae),ce[me+1]>ce[pe+1]&&(Ae=me,me=pe,pe=Ae,Ae=le,le=ie,ie=Ae);const Oe=(ce[me]+oe.offsetX)*oe.scaleX,Re=(ce[me+1]+oe.offsetY)*oe.scaleY,Ne=(ce[pe]+oe.offsetX)*oe.scaleX,Fe=(ce[pe+1]+oe.offsetY)*oe.scaleY,qe=(ce[Q]+oe.offsetX)*oe.scaleX,Ee=(ce[Q+1]+oe.offsetY)*oe.scaleY;if(Re>=Ee)return;const Te=Se[le],Be=Se[le+1],ye=Se[le+2],q=Se[ie],Y=Se[ie+1],ve=Se[ie+2],Me=Se[se],xe=Se[se+1],Pe=Se[se+2],Le=Math.round(Re),Qe=Math.round(Ee);let st,ct,dt,ht,gt,Ke,Xe,_e;for(let we=Le;we<=Qe;we++){if(we<Fe){const ft=we<Re?0:(Re-we)/(Re-Fe);st=Oe-(Oe-Ne)*ft,ct=Te-(Te-q)*ft,dt=Be-(Be-Y)*ft,ht=ye-(ye-ve)*ft}else{let ft;we>Ee?ft=1:Fe===Ee?ft=0:ft=(Fe-we)/(Fe-Ee),st=Ne-(Ne-qe)*ft,ct=q-(q-Me)*ft,dt=Y-(Y-xe)*ft,ht=ve-(ve-Pe)*ft}let He;we<Re?He=0:we>Ee?He=1:He=(Re-we)/(Re-Ee),gt=Oe-(Oe-qe)*He,Ke=Te-(Te-Me)*He,Xe=Be-(Be-xe)*He,_e=ye-(ye-Pe)*He;const Ye=Math.round(Math.min(st,gt)),rt=Math.round(Math.max(st,gt));let mt=ge*we+Ye*4;for(let ft=Ye;ft<=rt;ft++)He=(st-ft)/(st-gt),He<0?He=0:He>1&&(He=1),ee[mt++]=ct-(ct-Ke)*He|0,ee[mt++]=dt-(dt-Xe)*He|0,ee[mt++]=ht-(ht-_e)*He|0,ee[mt++]=255}}function V(ne,oe,me){const pe=oe.coords,Q=oe.colors;let le,ie;switch(oe.type){case"lattice":const se=oe.verticesPerRow,ce=Math.floor(pe.length/se)-1,Se=se-1;for(le=0;le<ce;le++){let ee=le*se;for(let ge=0;ge<Se;ge++,ee++)ue(ne,me,pe[ee],pe[ee+1],pe[ee+se],Q[ee],Q[ee+1],Q[ee+se]),ue(ne,me,pe[ee+se+1],pe[ee+1],pe[ee+se],Q[ee+se+1],Q[ee+1],Q[ee+se])}break;case"triangles":for(le=0,ie=pe.length;le<ie;le+=3)ue(ne,me,pe[le],pe[le+1],pe[le+2],Q[le],Q[le+1],Q[le+2]);break;default:throw new Error("illegal figure")}}class fe extends he{constructor(oe){super(),this._coords=oe[2],this._colors=oe[3],this._figures=oe[4],this._bounds=oe[5],this._bbox=oe[7],this._background=oe[8],this.matrix=null}_createMeshCanvas(oe,me,pe){const se=Math.floor(this._bounds[0]),ce=Math.floor(this._bounds[1]),Se=Math.ceil(this._bounds[2])-se,ee=Math.ceil(this._bounds[3])-ce,ge=Math.min(Math.ceil(Math.abs(Se*oe[0]*1.1)),3e3),Ae=Math.min(Math.ceil(Math.abs(ee*oe[1]*1.1)),3e3),Oe=Se/ge,Re=ee/Ae,Ne={coords:this._coords,colors:this._colors,offsetX:-se,offsetY:-ce,scaleX:1/Oe,scaleY:1/Re},Fe=ge+2*2,qe=Ae+2*2,Ee=pe.getCanvas("mesh",Fe,qe,!1),Te=Ee.context,Be=Te.createImageData(ge,Ae);if(me){const q=Be.data;for(let Y=0,ve=q.length;Y<ve;Y+=4)q[Y]=me[0],q[Y+1]=me[1],q[Y+2]=me[2],q[Y+3]=255}for(const q of this._figures)V(Be,q,Ne);return Te.putImageData(Be,2,2),{canvas:Ee.canvas,offsetX:se-2*Oe,offsetY:ce-2*Re,scaleX:Oe,scaleY:Re}}getPattern(oe,me,pe,Q){W(oe,this._bbox);let le;if(Q===B.SHADING)le=$.Util.singularValueDecompose2dScale((0,O.getCurrentTransform)(oe));else if(le=$.Util.singularValueDecompose2dScale(me.baseTransform),this.matrix){const se=$.Util.singularValueDecompose2dScale(this.matrix);le=[le[0]*se[0],le[1]*se[1]]}const ie=this._createMeshCanvas(le,Q===B.SHADING?null:this._background,me.cachedCanvases);return Q!==B.SHADING&&(oe.setTransform(...me.baseTransform),this.matrix&&oe.transform(...this.matrix)),oe.translate(ie.offsetX,ie.offsetY),oe.scale(ie.scaleX,ie.scaleY),oe.createPattern(ie.canvas,"no-repeat")}}class ae extends he{getPattern(){return"hotpink"}}function J(ne){switch(ne[0]){case"RadialAxial":return new de(ne);case"Mesh":return new fe(ne);case"Dummy":return new ae}throw new Error(`Unknown IR type: ${ne[0]}`)}const re={COLORED:1,UNCOLORED:2},G=class G{constructor(oe,me,pe,Q,le){this.operatorList=oe[2],this.matrix=oe[3]||[1,0,0,1,0,0],this.bbox=oe[4],this.xstep=oe[5],this.ystep=oe[6],this.paintType=oe[7],this.tilingType=oe[8],this.color=me,this.ctx=pe,this.canvasGraphicsFactory=Q,this.baseTransform=le}createPatternCanvas(oe){const me=this.operatorList,pe=this.bbox,Q=this.xstep,le=this.ystep,ie=this.paintType,se=this.tilingType,ce=this.color,Se=this.canvasGraphicsFactory;(0,$.info)("TilingType: "+se);const ee=pe[0],ge=pe[1],Ae=pe[2],Oe=pe[3],Re=$.Util.singularValueDecompose2dScale(this.matrix),Ne=$.Util.singularValueDecompose2dScale(this.baseTransform),Fe=[Re[0]*Ne[0],Re[1]*Ne[1]],qe=this.getSizeAndScale(Q,this.ctx.canvas.width,Fe[0]),Ee=this.getSizeAndScale(le,this.ctx.canvas.height,Fe[1]),Te=oe.cachedCanvases.getCanvas("pattern",qe.size,Ee.size,!0),Be=Te.context,ye=Se.createCanvasGraphics(Be);ye.groupLevel=oe.groupLevel,this.setFillAndStrokeStyleToContext(ye,ie,ce);let q=ee,Y=ge,ve=Ae,Me=Oe;return ee<0&&(q=0,ve+=Math.abs(ee)),ge<0&&(Y=0,Me+=Math.abs(ge)),Be.translate(-(qe.scale*q),-(Ee.scale*Y)),ye.transform(qe.scale,0,0,Ee.scale,0,0),Be.save(),this.clipBbox(ye,q,Y,ve,Me),ye.baseTransform=(0,O.getCurrentTransform)(ye.ctx),ye.executeOperatorList(me),ye.endDrawing(),{canvas:Te.canvas,scaleX:qe.scale,scaleY:Ee.scale,offsetX:q,offsetY:Y}}getSizeAndScale(oe,me,pe){oe=Math.abs(oe);const Q=Math.max(G.MAX_PATTERN_SIZE,me);let le=Math.ceil(oe*pe);return le>=Q?le=Q:pe=le/oe,{scale:pe,size:le}}clipBbox(oe,me,pe,Q,le){const ie=Q-me,se=le-pe;oe.ctx.rect(me,pe,ie,se),oe.current.updateRectMinMax((0,O.getCurrentTransform)(oe.ctx),[me,pe,Q,le]),oe.clip(),oe.endPath()}setFillAndStrokeStyleToContext(oe,me,pe){const Q=oe.ctx,le=oe.current;switch(me){case re.COLORED:const ie=this.ctx;Q.fillStyle=ie.fillStyle,Q.strokeStyle=ie.strokeStyle,le.fillColor=ie.fillStyle,le.strokeColor=ie.strokeStyle;break;case re.UNCOLORED:const se=$.Util.makeHexColor(pe[0],pe[1],pe[2]);Q.fillStyle=se,Q.strokeStyle=se,le.fillColor=se,le.strokeColor=se;break;default:throw new $.FormatError(`Unsupported paint type: ${me}`)}}getPattern(oe,me,pe,Q){let le=pe;Q!==B.SHADING&&(le=$.Util.transform(le,me.baseTransform),this.matrix&&(le=$.Util.transform(le,this.matrix)));const ie=this.createPatternCanvas(me);let se=new DOMMatrix(le);se=se.translate(ie.offsetX,ie.offsetY),se=se.scale(1/ie.scaleX,1/ie.scaleY);const ce=oe.createPattern(ie.canvas,"repeat");return ce.setTransform(se),ce}};In(G,"MAX_PATTERN_SIZE",3e3);let te=G;R.TilingPattern=te},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.convertBlackAndWhiteToRGBA=B,R.convertToRGBA=O,R.grayToRGBA=he;var $=H(1);function O(de){switch(de.kind){case $.ImageKind.GRAYSCALE_1BPP:return B(de);case $.ImageKind.RGB_24BPP:return W(de)}return null}function B({src:de,srcPos:ue=0,dest:V,width:fe,height:ae,nonBlackColor:J=4294967295,inverseDecode:re=!1}){const te=$.FeatureTest.isLittleEndian?4278190080:255,[G,ne]=re?[J,te]:[te,J],oe=fe>>3,me=fe&7,pe=de.length;V=new Uint32Array(V.buffer);let Q=0;for(let le=0;le<ae;le++){for(const se=ue+oe;ue<se;ue++){const ce=ue<pe?de[ue]:255;V[Q++]=ce&128?ne:G,V[Q++]=ce&64?ne:G,V[Q++]=ce&32?ne:G,V[Q++]=ce&16?ne:G,V[Q++]=ce&8?ne:G,V[Q++]=ce&4?ne:G,V[Q++]=ce&2?ne:G,V[Q++]=ce&1?ne:G}if(me===0)continue;const ie=ue<pe?de[ue++]:255;for(let se=0;se<me;se++)V[Q++]=ie&1<<7-se?ne:G}return{srcPos:ue,destPos:Q}}function W({src:de,srcPos:ue=0,dest:V,destPos:fe=0,width:ae,height:J}){let re=0;const te=de.length>>2,G=new Uint32Array(de.buffer,ue,te);if($.FeatureTest.isLittleEndian){for(;re<te-2;re+=3,fe+=4){const ne=G[re],oe=G[re+1],me=G[re+2];V[fe]=ne|4278190080,V[fe+1]=ne>>>24|oe<<8|4278190080,V[fe+2]=oe>>>16|me<<16|4278190080,V[fe+3]=me>>>8|4278190080}for(let ne=re*4,oe=de.length;ne<oe;ne+=3)V[fe++]=de[ne]|de[ne+1]<<8|de[ne+2]<<16|4278190080}else{for(;re<te-2;re+=3,fe+=4){const ne=G[re],oe=G[re+1],me=G[re+2];V[fe]=ne|255,V[fe+1]=ne<<24|oe>>>8|255,V[fe+2]=oe<<16|me>>>16|255,V[fe+3]=me<<8|255}for(let ne=re*4,oe=de.length;ne<oe;ne+=3)V[fe++]=de[ne]<<24|de[ne+1]<<16|de[ne+2]<<8|255}return{srcPos:ue,destPos:fe}}function he(de,ue){if($.FeatureTest.isLittleEndian)for(let V=0,fe=de.length;V<fe;V++)ue[V]=de[V]*65793|4278190080;else for(let V=0,fe=de.length;V<fe;V++)ue[V]=de[V]*16843008|255}},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.GlobalWorkerOptions=void 0;const H=Object.create(null);R.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,R,H)=>{var de,Co,Ao,Kr;Object.defineProperty(R,"__esModule",{value:!0}),R.MessageHandler=void 0;var $=H(1);const O={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function W(ae){switch(ae instanceof Error||typeof ae=="object"&&ae!==null||(0,$.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ae.name){case"AbortException":return new $.AbortException(ae.message);case"MissingPDFException":return new $.MissingPDFException(ae.message);case"PasswordException":return new $.PasswordException(ae.message,ae.code);case"UnexpectedResponseException":return new $.UnexpectedResponseException(ae.message,ae.status);case"UnknownErrorException":return new $.UnknownErrorException(ae.message,ae.details);default:return new $.UnknownErrorException(ae.message,ae.toString())}}class he{constructor(J,re,te){ot(this,de);this.sourceName=J,this.targetName=re,this.comObj=te,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=G=>{const ne=G.data;if(ne.targetName!==this.sourceName)return;if(ne.stream){Ge(this,de,Ao).call(this,ne);return}if(ne.callback){const me=ne.callbackId,pe=this.callbackCapabilities[me];if(!pe)throw new Error(`Cannot resolve callback ${me}`);if(delete this.callbackCapabilities[me],ne.callback===O.DATA)pe.resolve(ne.data);else if(ne.callback===O.ERROR)pe.reject(W(ne.reason));else throw new Error("Unexpected callback case");return}const oe=this.actionHandler[ne.action];if(!oe)throw new Error(`Unknown action from worker: ${ne.action}`);if(ne.callbackId){const me=this.sourceName,pe=ne.sourceName;new Promise(function(Q){Q(oe(ne.data))}).then(function(Q){te.postMessage({sourceName:me,targetName:pe,callback:O.DATA,callbackId:ne.callbackId,data:Q})},function(Q){te.postMessage({sourceName:me,targetName:pe,callback:O.ERROR,callbackId:ne.callbackId,reason:W(Q)})});return}if(ne.streamId){Ge(this,de,Co).call(this,ne);return}oe(ne.data)},te.addEventListener("message",this._onComObjOnMessage)}on(J,re){const te=this.actionHandler;if(te[J])throw new Error(`There is already an actionName called "${J}"`);te[J]=re}send(J,re,te){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,data:re},te)}sendWithPromise(J,re,te){const G=this.callbackId++,ne=new $.PromiseCapability;this.callbackCapabilities[G]=ne;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:J,callbackId:G,data:re},te)}catch(oe){ne.reject(oe)}return ne.promise}sendWithStream(J,re,te,G){const ne=this.streamId++,oe=this.sourceName,me=this.targetName,pe=this.comObj;return new ReadableStream({start:Q=>{const le=new $.PromiseCapability;return this.streamControllers[ne]={controller:Q,startCall:le,pullCall:null,cancelCall:null,isClosed:!1},pe.postMessage({sourceName:oe,targetName:me,action:J,streamId:ne,data:re,desiredSize:Q.desiredSize},G),le.promise},pull:Q=>{const le=new $.PromiseCapability;return this.streamControllers[ne].pullCall=le,pe.postMessage({sourceName:oe,targetName:me,stream:B.PULL,streamId:ne,desiredSize:Q.desiredSize}),le.promise},cancel:Q=>{(0,$.assert)(Q instanceof Error,"cancel must have a valid reason");const le=new $.PromiseCapability;return this.streamControllers[ne].cancelCall=le,this.streamControllers[ne].isClosed=!0,pe.postMessage({sourceName:oe,targetName:me,stream:B.CANCEL,streamId:ne,reason:W(Q)}),le.promise}},te)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}de=new WeakSet,Co=function(J){const re=J.streamId,te=this.sourceName,G=J.sourceName,ne=this.comObj,oe=this,me=this.actionHandler[J.action],pe={enqueue(Q,le=1,ie){if(this.isCancelled)return;const se=this.desiredSize;this.desiredSize-=le,se>0&&this.desiredSize<=0&&(this.sinkCapability=new $.PromiseCapability,this.ready=this.sinkCapability.promise),ne.postMessage({sourceName:te,targetName:G,stream:B.ENQUEUE,streamId:re,chunk:Q},ie)},close(){this.isCancelled||(this.isCancelled=!0,ne.postMessage({sourceName:te,targetName:G,stream:B.CLOSE,streamId:re}),delete oe.streamSinks[re])},error(Q){(0,$.assert)(Q instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ne.postMessage({sourceName:te,targetName:G,stream:B.ERROR,streamId:re,reason:W(Q)}))},sinkCapability:new $.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:J.desiredSize,ready:null};pe.sinkCapability.resolve(),pe.ready=pe.sinkCapability.promise,this.streamSinks[re]=pe,new Promise(function(Q){Q(me(J.data,pe))}).then(function(){ne.postMessage({sourceName:te,targetName:G,stream:B.START_COMPLETE,streamId:re,success:!0})},function(Q){ne.postMessage({sourceName:te,targetName:G,stream:B.START_COMPLETE,streamId:re,reason:W(Q)})})},Ao=function(J){const re=J.streamId,te=this.sourceName,G=J.sourceName,ne=this.comObj,oe=this.streamControllers[re],me=this.streamSinks[re];switch(J.stream){case B.START_COMPLETE:J.success?oe.startCall.resolve():oe.startCall.reject(W(J.reason));break;case B.PULL_COMPLETE:J.success?oe.pullCall.resolve():oe.pullCall.reject(W(J.reason));break;case B.PULL:if(!me){ne.postMessage({sourceName:te,targetName:G,stream:B.PULL_COMPLETE,streamId:re,success:!0});break}me.desiredSize<=0&&J.desiredSize>0&&me.sinkCapability.resolve(),me.desiredSize=J.desiredSize,new Promise(function(pe){var Q;pe((Q=me.onPull)==null?void 0:Q.call(me))}).then(function(){ne.postMessage({sourceName:te,targetName:G,stream:B.PULL_COMPLETE,streamId:re,success:!0})},function(pe){ne.postMessage({sourceName:te,targetName:G,stream:B.PULL_COMPLETE,streamId:re,reason:W(pe)})});break;case B.ENQUEUE:if((0,$.assert)(oe,"enqueue should have stream controller"),oe.isClosed)break;oe.controller.enqueue(J.chunk);break;case B.CLOSE:if((0,$.assert)(oe,"close should have stream controller"),oe.isClosed)break;oe.isClosed=!0,oe.controller.close(),Ge(this,de,Kr).call(this,oe,re);break;case B.ERROR:(0,$.assert)(oe,"error should have stream controller"),oe.controller.error(W(J.reason)),Ge(this,de,Kr).call(this,oe,re);break;case B.CANCEL_COMPLETE:J.success?oe.cancelCall.resolve():oe.cancelCall.reject(W(J.reason)),Ge(this,de,Kr).call(this,oe,re);break;case B.CANCEL:if(!me)break;new Promise(function(pe){var Q;pe((Q=me.onCancel)==null?void 0:Q.call(me,W(J.reason)))}).then(function(){ne.postMessage({sourceName:te,targetName:G,stream:B.CANCEL_COMPLETE,streamId:re,success:!0})},function(pe){ne.postMessage({sourceName:te,targetName:G,stream:B.CANCEL_COMPLETE,streamId:re,reason:W(pe)})}),me.sinkCapability.reject(W(J.reason)),me.isCancelled=!0,delete this.streamSinks[re];break;default:throw new Error("Unexpected stream case")}},Kr=async function(J,re){var te,G,ne;await Promise.allSettled([(te=J.startCall)==null?void 0:te.promise,(G=J.pullCall)==null?void 0:G.promise,(ne=J.cancelCall)==null?void 0:ne.promise]),delete this.streamControllers[re]},R.MessageHandler=he},(A,R,H)=>{var B,W;Object.defineProperty(R,"__esModule",{value:!0}),R.Metadata=void 0;var $=H(1);class O{constructor({parsedData:de,rawData:ue}){ot(this,B);ot(this,W);at(this,B,de),at(this,W,ue)}getRaw(){return U(this,W)}get(de){return U(this,B).get(de)??null}getAll(){return(0,$.objectFromMap)(U(this,B))}has(de){return U(this,B).has(de)}}B=new WeakMap,W=new WeakMap,R.Metadata=O},(A,R,H)=>{var de,ue,V,fe,ae,J,$i;Object.defineProperty(R,"__esModule",{value:!0}),R.OptionalContentConfig=void 0;var $=H(1),O=H(8);const B=Symbol("INTERNAL");class W{constructor(G,ne){ot(this,de,!0);this.name=G,this.intent=ne}get visible(){return U(this,de)}_setVisible(G,ne){G!==B&&(0,$.unreachable)("Internal method `_setVisible` called."),at(this,de,ne)}}de=new WeakMap;class he{constructor(G){ot(this,J);ot(this,ue,null);ot(this,V,new Map);ot(this,fe,null);ot(this,ae,null);if(this.name=null,this.creator=null,G!==null){this.name=G.name,this.creator=G.creator,at(this,ae,G.order);for(const ne of G.groups)U(this,V).set(ne.id,new W(ne.name,ne.intent));if(G.baseState==="OFF")for(const ne of U(this,V).values())ne._setVisible(B,!1);for(const ne of G.on)U(this,V).get(ne)._setVisible(B,!0);for(const ne of G.off)U(this,V).get(ne)._setVisible(B,!1);at(this,fe,this.getHash())}}isVisible(G){if(U(this,V).size===0)return!0;if(!G)return(0,$.warn)("Optional content group not defined."),!0;if(G.type==="OCG")return U(this,V).has(G.id)?U(this,V).get(G.id).visible:((0,$.warn)(`Optional content group not found: ${G.id}`),!0);if(G.type==="OCMD"){if(G.expression)return Ge(this,J,$i).call(this,G.expression);if(!G.policy||G.policy==="AnyOn"){for(const ne of G.ids){if(!U(this,V).has(ne))return(0,$.warn)(`Optional content group not found: ${ne}`),!0;if(U(this,V).get(ne).visible)return!0}return!1}else if(G.policy==="AllOn"){for(const ne of G.ids){if(!U(this,V).has(ne))return(0,$.warn)(`Optional content group not found: ${ne}`),!0;if(!U(this,V).get(ne).visible)return!1}return!0}else if(G.policy==="AnyOff"){for(const ne of G.ids){if(!U(this,V).has(ne))return(0,$.warn)(`Optional content group not found: ${ne}`),!0;if(!U(this,V).get(ne).visible)return!0}return!1}else if(G.policy==="AllOff"){for(const ne of G.ids){if(!U(this,V).has(ne))return(0,$.warn)(`Optional content group not found: ${ne}`),!0;if(U(this,V).get(ne).visible)return!1}return!0}return(0,$.warn)(`Unknown optional content policy ${G.policy}.`),!0}return(0,$.warn)(`Unknown group type ${G.type}.`),!0}setVisibility(G,ne=!0){if(!U(this,V).has(G)){(0,$.warn)(`Optional content group not found: ${G}`);return}U(this,V).get(G)._setVisible(B,!!ne),at(this,ue,null)}get hasInitialVisibility(){return U(this,fe)===null||this.getHash()===U(this,fe)}getOrder(){return U(this,V).size?U(this,ae)?U(this,ae).slice():[...U(this,V).keys()]:null}getGroups(){return U(this,V).size>0?(0,$.objectFromMap)(U(this,V)):null}getGroup(G){return U(this,V).get(G)||null}getHash(){if(U(this,ue)!==null)return U(this,ue);const G=new O.MurmurHash3_64;for(const[ne,oe]of U(this,V))G.update(`${ne}:${oe.visible}`);return at(this,ue,G.hexdigest())}}ue=new WeakMap,V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakSet,$i=function(G){const ne=G.length;if(ne<2)return!0;const oe=G[0];for(let me=1;me<ne;me++){const pe=G[me];let Q;if(Array.isArray(pe))Q=Ge(this,J,$i).call(this,pe);else if(U(this,V).has(pe))Q=U(this,V).get(pe).visible;else return(0,$.warn)(`Optional content group not found: ${pe}`),!0;switch(oe){case"And":if(!Q)return!1;break;case"Or":if(Q)return!0;break;case"Not":return!Q;default:return!0}}return oe==="And"},R.OptionalContentConfig=he},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFDataTransportStream=void 0;var $=H(1),O=H(6);class B{constructor({length:ue,initialData:V,progressiveDone:fe=!1,contentDispositionFilename:ae=null,disableRange:J=!1,disableStream:re=!1},te){if((0,$.assert)(te,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=fe,this._contentDispositionFilename=ae,(V==null?void 0:V.length)>0){const G=V instanceof Uint8Array&&V.byteLength===V.buffer.byteLength?V.buffer:new Uint8Array(V).buffer;this._queuedChunks.push(G)}this._pdfDataRangeTransport=te,this._isStreamingSupported=!re,this._isRangeSupported=!J,this._contentLength=ue,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((G,ne)=>{this._onReceiveData({begin:G,chunk:ne})}),this._pdfDataRangeTransport.addProgressListener((G,ne)=>{this._onProgress({loaded:G,total:ne})}),this._pdfDataRangeTransport.addProgressiveReadListener(G=>{this._onReceiveData({chunk:G})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ue,chunk:V}){const fe=V instanceof Uint8Array&&V.byteLength===V.buffer.byteLength?V.buffer:new Uint8Array(V).buffer;if(ue===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(fe):this._queuedChunks.push(fe);else{const ae=this._rangeReaders.some(function(J){return J._begin!==ue?!1:(J._enqueue(fe),!0)});(0,$.assert)(ae,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ue;return((ue=this._fullRequestReader)==null?void 0:ue._loaded)??0}_onProgress(ue){var V,fe,ae,J;ue.total===void 0?(fe=(V=this._rangeReaders[0])==null?void 0:V.onProgress)==null||fe.call(V,{loaded:ue.loaded}):(J=(ae=this._fullRequestReader)==null?void 0:ae.onProgress)==null||J.call(ae,{loaded:ue.loaded,total:ue.total})}_onProgressiveDone(){var ue;(ue=this._fullRequestReader)==null||ue.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ue){const V=this._rangeReaders.indexOf(ue);V>=0&&this._rangeReaders.splice(V,1)}getFullReader(){(0,$.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ue=this._queuedChunks;return this._queuedChunks=null,new W(this,ue,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ue,V){if(V<=this._progressiveDataLength)return null;const fe=new he(this,ue,V);return this._pdfDataRangeTransport.requestDataRange(ue,V),this._rangeReaders.push(fe),fe}cancelAllRequests(ue){var V;(V=this._fullRequestReader)==null||V.cancel(ue);for(const fe of this._rangeReaders.slice(0))fe.cancel(ue);this._pdfDataRangeTransport.abort()}}R.PDFDataTransportStream=B;class W{constructor(ue,V,fe=!1,ae=null){this._stream=ue,this._done=fe||!1,this._filename=(0,O.isPdfFile)(ae)?ae:null,this._queuedChunks=V||[],this._loaded=0;for(const J of this._queuedChunks)this._loaded+=J.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ue._fullRequestReader=this,this.onProgress=null}_enqueue(ue){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ue,done:!1}):this._queuedChunks.push(ue),this._loaded+=ue.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ue=new $.PromiseCapability;return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class he{constructor(ue,V,fe){this._stream=ue,this._begin=V,this._end=fe,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ue){if(!this._done){if(this._requests.length===0)this._queuedChunk=ue;else{this._requests.shift().resolve({value:ue,done:!1});for(const fe of this._requests)fe.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const V=this._queuedChunk;return this._queuedChunk=null,{value:V,done:!1}}if(this._done)return{value:void 0,done:!0};const ue=new $.PromiseCapability;return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFFetchStream=void 0;var $=H(1),O=H(20);function B(fe,ae,J){return{method:"GET",headers:fe,signal:J.signal,mode:"cors",credentials:ae?"include":"same-origin",redirect:"follow"}}function W(fe){const ae=new Headers;for(const J in fe){const re=fe[J];re!==void 0&&ae.append(J,re)}return ae}function he(fe){return fe instanceof Uint8Array?fe.buffer:fe instanceof ArrayBuffer?fe:((0,$.warn)(`getArrayBuffer - unexpected data format: ${fe}`),new Uint8Array(fe).buffer)}class de{constructor(ae){this.source=ae,this.isHttp=/^https?:/i.test(ae.url),this.httpHeaders=this.isHttp&&ae.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ae;return((ae=this._fullRequestReader)==null?void 0:ae._loaded)??0}getFullReader(){return(0,$.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ue(this),this._fullRequestReader}getRangeReader(ae,J){if(J<=this._progressiveDataLength)return null;const re=new V(this,ae,J);return this._rangeRequestReaders.push(re),re}cancelAllRequests(ae){var J;(J=this._fullRequestReader)==null||J.cancel(ae);for(const re of this._rangeRequestReaders.slice(0))re.cancel(ae)}}R.PDFFetchStream=de;class ue{constructor(ae){this._stream=ae,this._reader=null,this._loaded=0,this._filename=null;const J=ae.source;this._withCredentials=J.withCredentials||!1,this._contentLength=J.length,this._headersCapability=new $.PromiseCapability,this._disableRange=J.disableRange||!1,this._rangeChunkSize=J.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!J.disableStream,this._isRangeSupported=!J.disableRange,this._headers=W(this._stream.httpHeaders);const re=J.url;fetch(re,B(this._headers,this._withCredentials,this._abortController)).then(te=>{if(!(0,O.validateResponseStatus)(te.status))throw(0,O.createResponseStatusError)(te.status,re);this._reader=te.body.getReader(),this._headersCapability.resolve();const G=me=>te.headers.get(me),{allowRangeRequests:ne,suggestedLength:oe}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ne,this._contentLength=oe||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(G),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._headersCapability.promise;const{value:ae,done:J}=await this._reader.read();return J?{value:ae,done:J}:(this._loaded+=ae.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded,total:this._contentLength}),{value:he(ae),done:!1})}cancel(ae){var J;(J=this._reader)==null||J.cancel(ae),this._abortController.abort()}}class V{constructor(ae,J,re){this._stream=ae,this._reader=null,this._loaded=0;const te=ae.source;this._withCredentials=te.withCredentials||!1,this._readCapability=new $.PromiseCapability,this._isStreamingSupported=!te.disableStream,this._abortController=new AbortController,this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${J}-${re-1}`);const G=te.url;fetch(G,B(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,O.validateResponseStatus)(ne.status))throw(0,O.createResponseStatusError)(ne.status,G);this._readCapability.resolve(),this._reader=ne.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var re;await this._readCapability.promise;const{value:ae,done:J}=await this._reader.read();return J?{value:ae,done:J}:(this._loaded+=ae.byteLength,(re=this.onProgress)==null||re.call(this,{loaded:this._loaded}),{value:he(ae),done:!1})}cancel(ae){var J;(J=this._reader)==null||J.cancel(ae),this._abortController.abort()}}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.createResponseStatusError=de,R.extractFilenameFromHeader=he,R.validateRangeRequestCapabilities=W,R.validateResponseStatus=ue;var $=H(1),O=H(21),B=H(6);function W({getResponseHeader:V,isHttp:fe,rangeChunkSize:ae,disableRange:J}){const re={allowRangeRequests:!1,suggestedLength:void 0},te=parseInt(V("Content-Length"),10);return!Number.isInteger(te)||(re.suggestedLength=te,te<=2*ae)||J||!fe||V("Accept-Ranges")!=="bytes"||(V("Content-Encoding")||"identity")!=="identity"||(re.allowRangeRequests=!0),re}function he(V){const fe=V("Content-Disposition");if(fe){let ae=(0,O.getFilenameFromContentDispositionHeader)(fe);if(ae.includes("%"))try{ae=decodeURIComponent(ae)}catch{}if((0,B.isPdfFile)(ae))return ae}return null}function de(V,fe){return V===404||V===0&&fe.startsWith("file:")?new $.MissingPDFException('Missing PDF "'+fe+'".'):new $.UnexpectedResponseException(`Unexpected server response (${V}) while retrieving PDF "${fe}".`,V)}function ue(V){return V===200||V===206}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.getFilenameFromContentDispositionHeader=O;var $=H(1);function O(B){let W=!0,he=de("filename\\*","i").exec(B);if(he){he=he[1];let te=ae(he);return te=unescape(te),te=J(te),te=re(te),V(te)}if(he=fe(B),he){const te=re(he);return V(te)}if(he=de("filename","i").exec(B),he){he=he[1];let te=ae(he);return te=re(te),V(te)}function de(te,G){return new RegExp("(?:^|;)\\s*"+te+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',G)}function ue(te,G){if(te){if(!/^[\x00-\xFF]+$/.test(G))return G;try{const ne=new TextDecoder(te,{fatal:!0}),oe=(0,$.stringToBytes)(G);G=ne.decode(oe),W=!1}catch{}}return G}function V(te){return W&&/[\x80-\xff]/.test(te)&&(te=ue("utf-8",te),W&&(te=ue("iso-8859-1",te))),te}function fe(te){const G=[];let ne;const oe=de("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ne=oe.exec(te))!==null;){let[,pe,Q,le]=ne;if(pe=parseInt(pe,10),pe in G){if(pe===0)break;continue}G[pe]=[Q,le]}const me=[];for(let pe=0;pe<G.length&&pe in G;++pe){let[Q,le]=G[pe];le=ae(le),Q&&(le=unescape(le),pe===0&&(le=J(le))),me.push(le)}return me.join("")}function ae(te){if(te.startsWith('"')){const G=te.slice(1).split('\\"');for(let ne=0;ne<G.length;++ne){const oe=G[ne].indexOf('"');oe!==-1&&(G[ne]=G[ne].slice(0,oe),G.length=ne+1),G[ne]=G[ne].replaceAll(/\\(.)/g,"$1")}te=G.join('"')}return te}function J(te){const G=te.indexOf("'");if(G===-1)return te;const ne=te.slice(0,G),me=te.slice(G+1).replace(/^[^']*'/,"");return ue(ne,me)}function re(te){return!te.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(te)?te:te.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(G,ne,oe,me){if(oe==="q"||oe==="Q")return me=me.replaceAll("_"," "),me=me.replaceAll(/=([0-9a-fA-F]{2})/g,function(pe,Q){return String.fromCharCode(parseInt(Q,16))}),ue(ne,me);try{me=atob(me)}catch{}return ue(ne,me)})}return""}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNetworkStream=void 0;var $=H(1),O=H(20);const B=200,W=206;function he(ae){const J=ae.response;return typeof J!="string"?J:(0,$.stringToBytes)(J).buffer}class de{constructor(J,re={}){this.url=J,this.isHttp=/^https?:/i.test(J),this.httpHeaders=this.isHttp&&re.httpHeaders||Object.create(null),this.withCredentials=re.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(J,re,te){const G={begin:J,end:re};for(const ne in te)G[ne]=te[ne];return this.request(G)}requestFull(J){return this.request(J)}request(J){const re=new XMLHttpRequest,te=this.currXhrId++,G=this.pendingRequests[te]={xhr:re};re.open("GET",this.url),re.withCredentials=this.withCredentials;for(const ne in this.httpHeaders){const oe=this.httpHeaders[ne];oe!==void 0&&re.setRequestHeader(ne,oe)}return this.isHttp&&"begin"in J&&"end"in J?(re.setRequestHeader("Range",`bytes=${J.begin}-${J.end-1}`),G.expectedStatus=W):G.expectedStatus=B,re.responseType="arraybuffer",J.onError&&(re.onerror=function(ne){J.onError(re.status)}),re.onreadystatechange=this.onStateChange.bind(this,te),re.onprogress=this.onProgress.bind(this,te),G.onHeadersReceived=J.onHeadersReceived,G.onDone=J.onDone,G.onError=J.onError,G.onProgress=J.onProgress,re.send(null),te}onProgress(J,re){var G;const te=this.pendingRequests[J];te&&((G=te.onProgress)==null||G.call(te,re))}onStateChange(J,re){var pe,Q,le;const te=this.pendingRequests[J];if(!te)return;const G=te.xhr;if(G.readyState>=2&&te.onHeadersReceived&&(te.onHeadersReceived(),delete te.onHeadersReceived),G.readyState!==4||!(J in this.pendingRequests))return;if(delete this.pendingRequests[J],G.status===0&&this.isHttp){(pe=te.onError)==null||pe.call(te,G.status);return}const ne=G.status||B;if(!(ne===B&&te.expectedStatus===W)&&ne!==te.expectedStatus){(Q=te.onError)==null||Q.call(te,G.status);return}const me=he(G);if(ne===W){const ie=G.getResponseHeader("Content-Range"),se=/bytes (\d+)-(\d+)\/(\d+)/.exec(ie);te.onDone({begin:parseInt(se[1],10),chunk:me})}else me?te.onDone({begin:0,chunk:me}):(le=te.onError)==null||le.call(te,G.status)}getRequestXhr(J){return this.pendingRequests[J].xhr}isPendingRequest(J){return J in this.pendingRequests}abortRequest(J){const re=this.pendingRequests[J].xhr;delete this.pendingRequests[J],re.abort()}}class ue{constructor(J){this._source=J,this._manager=new de(J.url,{httpHeaders:J.httpHeaders,withCredentials:J.withCredentials}),this._rangeChunkSize=J.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(J){const re=this._rangeRequestReaders.indexOf(J);re>=0&&this._rangeRequestReaders.splice(re,1)}getFullReader(){return(0,$.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V(this._manager,this._source),this._fullRequestReader}getRangeReader(J,re){const te=new fe(this._manager,J,re);return te.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(te),te}cancelAllRequests(J){var re;(re=this._fullRequestReader)==null||re.cancel(J);for(const te of this._rangeRequestReaders.slice(0))te.cancel(J)}}R.PDFNetworkStream=ue;class V{constructor(J,re){this._manager=J;const te={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._fullRequestId=J.requestFull(te),this._headersReceivedCapability=new $.PromiseCapability,this._disableRange=re.disableRange||!1,this._contentLength=re.length,this._rangeChunkSize=re.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const J=this._fullRequestId,re=this._manager.getRequestXhr(J),te=oe=>re.getResponseHeader(oe),{allowRangeRequests:G,suggestedLength:ne}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:te,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});G&&(this._isRangeSupported=!0),this._contentLength=ne||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(te),this._isRangeSupported&&this._manager.abortRequest(J),this._headersReceivedCapability.resolve()}_onDone(J){if(J&&(this._requests.length>0?this._requests.shift().resolve({value:J.chunk,done:!1}):this._cachedChunks.push(J.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(J){this._storedError=(0,O.createResponseStatusError)(J,this._url),this._headersReceivedCapability.reject(this._storedError);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(J){var re;(re=this.onProgress)==null||re.call(this,{loaded:J.loaded,total:J.lengthComputable?J.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const J=new $.PromiseCapability;return this._requests.push(J),J.promise}cancel(J){this._done=!0,this._headersReceivedCapability.reject(J);for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fe{constructor(J,re,te){this._manager=J;const G={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=J.url,this._requestId=J.requestRange(re,te,G),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var J;(J=this.onClosed)==null||J.call(this,this)}_onDone(J){const re=J.chunk;this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunk=re,this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(J){this._storedError=(0,O.createResponseStatusError)(J,this._url);for(const re of this._requests)re.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(J){var re;this.isStreamingSupported||(re=this.onProgress)==null||re.call(this,{loaded:J.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const J=new $.PromiseCapability;return this._requests.push(J),J.promise}cancel(J){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNodeStream=void 0;var $=H(1),O=H(20);const B=/^file:\/\/\/[a-zA-Z]:\//;function W(te){const G=require$$5,ne=G.parse(te);return ne.protocol==="file:"||ne.host?ne:/^[a-z]:[/\\]/i.test(te)?G.parse(`file:///${te}`):(ne.host||(ne.protocol="file:"),ne)}class he{constructor(G){this.source=G,this.url=W(G.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&G.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var G;return((G=this._fullRequestReader)==null?void 0:G._loaded)??0}getFullReader(){return(0,$.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new J(this):new fe(this),this._fullRequestReader}getRangeReader(G,ne){if(ne<=this._progressiveDataLength)return null;const oe=this.isFsUrl?new re(this,G,ne):new ae(this,G,ne);return this._rangeRequestReaders.push(oe),oe}cancelAllRequests(G){var ne;(ne=this._fullRequestReader)==null||ne.cancel(G);for(const oe of this._rangeRequestReaders.slice(0))oe.cancel(G)}}R.PDFNodeStream=he;class de{constructor(G){this._url=G.url,this._done=!1,this._storedError=null,this.onProgress=null;const ne=G.source;this._contentLength=ne.length,this._loaded=0,this._filename=null,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._readableStream=null,this._readCapability=new $.PromiseCapability,this._headersCapability=new $.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var oe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const G=this._readableStream.read();return G===null?(this._readCapability=new $.PromiseCapability,this.read()):(this._loaded+=G.length,(oe=this.onProgress)==null||oe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(G).buffer,done:!1})}cancel(G){if(!this._readableStream){this._error(G);return}this._readableStream.destroy(G)}_error(G){this._storedError=G,this._readCapability.resolve()}_setReadableStream(G){this._readableStream=G,G.on("readable",()=>{this._readCapability.resolve()}),G.on("end",()=>{G.destroy(),this._done=!0,this._readCapability.resolve()}),G.on("error",ne=>{this._error(ne)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ue{constructor(G){this._url=G.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new $.PromiseCapability;const ne=G.source;this._isStreamingSupported=!ne.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var oe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const G=this._readableStream.read();return G===null?(this._readCapability=new $.PromiseCapability,this.read()):(this._loaded+=G.length,(oe=this.onProgress)==null||oe.call(this,{loaded:this._loaded}),{value:new Uint8Array(G).buffer,done:!1})}cancel(G){if(!this._readableStream){this._error(G);return}this._readableStream.destroy(G)}_error(G){this._storedError=G,this._readCapability.resolve()}_setReadableStream(G){this._readableStream=G,G.on("readable",()=>{this._readCapability.resolve()}),G.on("end",()=>{G.destroy(),this._done=!0,this._readCapability.resolve()}),G.on("error",ne=>{this._error(ne)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function V(te,G){return{protocol:te.protocol,auth:te.auth,host:te.hostname,port:te.port,path:te.path,method:"GET",headers:G}}class fe extends de{constructor(G){super(G);const ne=oe=>{if(oe.statusCode===404){const le=new $.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=le,this._headersCapability.reject(le);return}this._headersCapability.resolve(),this._setReadableStream(oe);const me=le=>this._readableStream.headers[le.toLowerCase()],{allowRangeRequests:pe,suggestedLength:Q}=(0,O.validateRangeRequestCapabilities)({getResponseHeader:me,isHttp:G.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pe,this._contentLength=Q||this._contentLength,this._filename=(0,O.extractFilenameFromHeader)(me)};if(this._request=null,this._url.protocol==="http:"){const oe=require$$5;this._request=oe.request(V(this._url,G.httpHeaders),ne)}else{const oe=require$$5;this._request=oe.request(V(this._url,G.httpHeaders),ne)}this._request.on("error",oe=>{this._storedError=oe,this._headersCapability.reject(oe)}),this._request.end()}}class ae extends ue{constructor(G,ne,oe){super(G),this._httpHeaders={};for(const pe in G.httpHeaders){const Q=G.httpHeaders[pe];Q!==void 0&&(this._httpHeaders[pe]=Q)}this._httpHeaders.Range=`bytes=${ne}-${oe-1}`;const me=pe=>{if(pe.statusCode===404){const Q=new $.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Q;return}this._setReadableStream(pe)};if(this._request=null,this._url.protocol==="http:"){const pe=require$$5;this._request=pe.request(V(this._url,this._httpHeaders),me)}else{const pe=require$$5;this._request=pe.request(V(this._url,this._httpHeaders),me)}this._request.on("error",pe=>{this._storedError=pe}),this._request.end()}}class J extends de{constructor(G){super(G);let ne=decodeURIComponent(this._url.path);B.test(this._url.href)&&(ne=ne.replace(/^\//,""));const oe=require$$5;oe.lstat(ne,(me,pe)=>{if(me){me.code==="ENOENT"&&(me=new $.MissingPDFException(`Missing PDF "${ne}".`)),this._storedError=me,this._headersCapability.reject(me);return}this._contentLength=pe.size,this._setReadableStream(oe.createReadStream(ne)),this._headersCapability.resolve()})}}class re extends ue{constructor(G,ne,oe){super(G);let me=decodeURIComponent(this._url.path);B.test(this._url.href)&&(me=me.replace(/^\//,""));const pe=require$$5;this._setReadableStream(pe.createReadStream(me,{start:ne,end:oe-1}))}}},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.SVGGraphics=void 0;var $=H(6),O=H(1);const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},W="http://www.w3.org/XML/1998/namespace",he="http://www.w3.org/1999/xlink",de=["butt","round","square"],ue=["miter","round","bevel"],V=function(pe,Q="",le=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!le)return URL.createObjectURL(new Blob([pe],{type:Q}));const ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let se=`data:${Q};base64,`;for(let ce=0,Se=pe.length;ce<Se;ce+=3){const ee=pe[ce]&255,ge=pe[ce+1]&255,Ae=pe[ce+2]&255,Oe=ee>>2,Re=(ee&3)<<4|ge>>4,Ne=ce+1<Se?(ge&15)<<2|Ae>>6:64,Fe=ce+2<Se?Ae&63:64;se+=ie[Oe]+ie[Re]+ie[Ne]+ie[Fe]}return se},fe=function(){const pe=new Uint8Array([137,80,78,71,13,10,26,10]),Q=12,le=new Int32Array(256);for(let Ae=0;Ae<256;Ae++){let Oe=Ae;for(let Re=0;Re<8;Re++)Oe=Oe&1?3988292384^Oe>>1&2147483647:Oe>>1&2147483647;le[Ae]=Oe}function ie(Ae,Oe,Re){let Ne=-1;for(let Fe=Oe;Fe<Re;Fe++){const qe=(Ne^Ae[Fe])&255,Ee=le[qe];Ne=Ne>>>8^Ee}return Ne^-1}function se(Ae,Oe,Re,Ne){let Fe=Ne;const qe=Oe.length;Re[Fe]=qe>>24&255,Re[Fe+1]=qe>>16&255,Re[Fe+2]=qe>>8&255,Re[Fe+3]=qe&255,Fe+=4,Re[Fe]=Ae.charCodeAt(0)&255,Re[Fe+1]=Ae.charCodeAt(1)&255,Re[Fe+2]=Ae.charCodeAt(2)&255,Re[Fe+3]=Ae.charCodeAt(3)&255,Fe+=4,Re.set(Oe,Fe),Fe+=Oe.length;const Ee=ie(Re,Ne+4,Fe);Re[Fe]=Ee>>24&255,Re[Fe+1]=Ee>>16&255,Re[Fe+2]=Ee>>8&255,Re[Fe+3]=Ee&255}function ce(Ae,Oe,Re){let Ne=1,Fe=0;for(let qe=Oe;qe<Re;++qe)Ne=(Ne+(Ae[qe]&255))%65521,Fe=(Fe+Ne)%65521;return Fe<<16|Ne}function Se(Ae){if(!O.isNodeJS)return ee(Ae);try{const Oe=parseInt(process.versions.node)>=8?Ae:Buffer.from(Ae),Re=require$$5.deflateSync(Oe,{level:9});return Re instanceof Uint8Array?Re:new Uint8Array(Re)}catch(Oe){(0,O.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Oe)}return ee(Ae)}function ee(Ae){let Oe=Ae.length;const Re=65535,Ne=Math.ceil(Oe/Re),Fe=new Uint8Array(2+Oe+Ne*5+4);let qe=0;Fe[qe++]=120,Fe[qe++]=156;let Ee=0;for(;Oe>Re;)Fe[qe++]=0,Fe[qe++]=255,Fe[qe++]=255,Fe[qe++]=0,Fe[qe++]=0,Fe.set(Ae.subarray(Ee,Ee+Re),qe),qe+=Re,Ee+=Re,Oe-=Re;Fe[qe++]=1,Fe[qe++]=Oe&255,Fe[qe++]=Oe>>8&255,Fe[qe++]=~Oe&65535&255,Fe[qe++]=(~Oe&65535)>>8&255,Fe.set(Ae.subarray(Ee),qe),qe+=Ae.length-Ee;const Te=ce(Ae,0,Ae.length);return Fe[qe++]=Te>>24&255,Fe[qe++]=Te>>16&255,Fe[qe++]=Te>>8&255,Fe[qe++]=Te&255,Fe}function ge(Ae,Oe,Re,Ne){const Fe=Ae.width,qe=Ae.height;let Ee,Te,Be;const ye=Ae.data;switch(Oe){case O.ImageKind.GRAYSCALE_1BPP:Te=0,Ee=1,Be=Fe+7>>3;break;case O.ImageKind.RGB_24BPP:Te=2,Ee=8,Be=Fe*3;break;case O.ImageKind.RGBA_32BPP:Te=6,Ee=8,Be=Fe*4;break;default:throw new Error("invalid format")}const q=new Uint8Array((1+Be)*qe);let Y=0,ve=0;for(let st=0;st<qe;++st)q[Y++]=0,q.set(ye.subarray(ve,ve+Be),Y),ve+=Be,Y+=Be;if(Oe===O.ImageKind.GRAYSCALE_1BPP&&Ne){Y=0;for(let st=0;st<qe;st++){Y++;for(let ct=0;ct<Be;ct++)q[Y++]^=255}}const Me=new Uint8Array([Fe>>24&255,Fe>>16&255,Fe>>8&255,Fe&255,qe>>24&255,qe>>16&255,qe>>8&255,qe&255,Ee,Te,0,0,0]),xe=Se(q),Pe=pe.length+Q*3+Me.length+xe.length,Le=new Uint8Array(Pe);let Qe=0;return Le.set(pe,Qe),Qe+=pe.length,se("IHDR",Me,Le,Qe),Qe+=Q+Me.length,se("IDATA",xe,Le,Qe),Qe+=Q+xe.length,se("IEND",new Uint8Array(0),Le,Qe),V(Le,"image/png",Re)}return function(Oe,Re,Ne){const Fe=Oe.kind===void 0?O.ImageKind.GRAYSCALE_1BPP:Oe.kind;return ge(Oe,Fe,Re,Ne)}}();class ae{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=O.IDENTITY_MATRIX,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=O.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Q,le){this.x=Q,this.y=le}}function J(pe){let Q=[];const le=[];for(const ie of pe){if(ie.fn==="save"){Q.push({fnId:92,fn:"group",items:[]}),le.push(Q),Q=Q.at(-1).items;continue}ie.fn==="restore"?Q=le.pop():Q.push(ie)}return Q}function re(pe){if(Number.isInteger(pe))return pe.toString();const Q=pe.toFixed(10);let le=Q.length-1;if(Q[le]!=="0")return Q;do le--;while(Q[le]==="0");return Q.substring(0,Q[le]==="."?le:le+1)}function te(pe){if(pe[4]===0&&pe[5]===0){if(pe[1]===0&&pe[2]===0)return pe[0]===1&&pe[3]===1?"":`scale(${re(pe[0])} ${re(pe[3])})`;if(pe[0]===pe[3]&&pe[1]===-pe[2]){const Q=Math.acos(pe[0])*180/Math.PI;return`rotate(${re(Q)})`}}else if(pe[0]===1&&pe[1]===0&&pe[2]===0&&pe[3]===1)return`translate(${re(pe[4])} ${re(pe[5])})`;return`matrix(${re(pe[0])} ${re(pe[1])} ${re(pe[2])} ${re(pe[3])} ${re(pe[4])} ${re(pe[5])})`}let G=0,ne=0,oe=0;class me{constructor(Q,le,ie=!1){(0,$.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new $.DOMSVGFactory,this.current=new ae,this.transformMatrix=O.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Q,this.objs=le,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ie,this._operatorIdMapping=[];for(const se in O.OPS)this._operatorIdMapping[O.OPS[se]]=se}getObject(Q,le=null){return typeof Q=="string"?Q.startsWith("g_")?this.commonObjs.get(Q):this.objs.get(Q):le}save(){this.transformStack.push(this.transformMatrix);const Q=this.current;this.extraStack.push(Q),this.current=Q.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Q){this.save(),this.executeOpTree(Q),this.restore()}loadDependencies(Q){const le=Q.fnArray,ie=Q.argsArray;for(let se=0,ce=le.length;se<ce;se++)if(le[se]===O.OPS.dependency)for(const Se of ie[se]){const ee=Se.startsWith("g_")?this.commonObjs:this.objs,ge=new Promise(Ae=>{ee.get(Se,Ae)});this.current.dependencies.push(ge)}return Promise.all(this.current.dependencies)}transform(Q,le,ie,se,ce,Se){const ee=[Q,le,ie,se,ce,Se];this.transformMatrix=O.Util.transform(this.transformMatrix,ee),this.tgrp=null}getSVG(Q,le){this.viewport=le;const ie=this._initialize(le);return this.loadDependencies(Q).then(()=>(this.transformMatrix=O.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Q)),ie))}convertOpList(Q){const le=this._operatorIdMapping,ie=Q.argsArray,se=Q.fnArray,ce=[];for(let Se=0,ee=se.length;Se<ee;Se++){const ge=se[Se];ce.push({fnId:ge,fn:le[ge],args:ie[Se]})}return J(ce)}executeOpTree(Q){for(const le of Q){const ie=le.fn,se=le.fnId,ce=le.args;switch(se|0){case O.OPS.beginText:this.beginText();break;case O.OPS.dependency:break;case O.OPS.setLeading:this.setLeading(ce);break;case O.OPS.setLeadingMoveText:this.setLeadingMoveText(ce[0],ce[1]);break;case O.OPS.setFont:this.setFont(ce);break;case O.OPS.showText:this.showText(ce[0]);break;case O.OPS.showSpacedText:this.showText(ce[0]);break;case O.OPS.endText:this.endText();break;case O.OPS.moveText:this.moveText(ce[0],ce[1]);break;case O.OPS.setCharSpacing:this.setCharSpacing(ce[0]);break;case O.OPS.setWordSpacing:this.setWordSpacing(ce[0]);break;case O.OPS.setHScale:this.setHScale(ce[0]);break;case O.OPS.setTextMatrix:this.setTextMatrix(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case O.OPS.setTextRise:this.setTextRise(ce[0]);break;case O.OPS.setTextRenderingMode:this.setTextRenderingMode(ce[0]);break;case O.OPS.setLineWidth:this.setLineWidth(ce[0]);break;case O.OPS.setLineJoin:this.setLineJoin(ce[0]);break;case O.OPS.setLineCap:this.setLineCap(ce[0]);break;case O.OPS.setMiterLimit:this.setMiterLimit(ce[0]);break;case O.OPS.setFillRGBColor:this.setFillRGBColor(ce[0],ce[1],ce[2]);break;case O.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ce[0],ce[1],ce[2]);break;case O.OPS.setStrokeColorN:this.setStrokeColorN(ce);break;case O.OPS.setFillColorN:this.setFillColorN(ce);break;case O.OPS.shadingFill:this.shadingFill(ce[0]);break;case O.OPS.setDash:this.setDash(ce[0],ce[1]);break;case O.OPS.setRenderingIntent:this.setRenderingIntent(ce[0]);break;case O.OPS.setFlatness:this.setFlatness(ce[0]);break;case O.OPS.setGState:this.setGState(ce[0]);break;case O.OPS.fill:this.fill();break;case O.OPS.eoFill:this.eoFill();break;case O.OPS.stroke:this.stroke();break;case O.OPS.fillStroke:this.fillStroke();break;case O.OPS.eoFillStroke:this.eoFillStroke();break;case O.OPS.clip:this.clip("nonzero");break;case O.OPS.eoClip:this.clip("evenodd");break;case O.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case O.OPS.paintImageXObject:this.paintImageXObject(ce[0]);break;case O.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ce[0]);break;case O.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ce[0]);break;case O.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ce[0],ce[1]);break;case O.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case O.OPS.closePath:this.closePath();break;case O.OPS.closeStroke:this.closeStroke();break;case O.OPS.closeFillStroke:this.closeFillStroke();break;case O.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case O.OPS.nextLine:this.nextLine();break;case O.OPS.transform:this.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]);break;case O.OPS.constructPath:this.constructPath(ce[0],ce[1]);break;case O.OPS.endPath:this.endPath();break;case 92:this.group(le.items);break;default:(0,O.warn)(`Unimplemented operator ${ie}`);break}}}setWordSpacing(Q){this.current.wordSpacing=Q}setCharSpacing(Q){this.current.charSpacing=Q}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Q,le,ie,se,ce,Se){const ee=this.current;ee.textMatrix=ee.lineMatrix=[Q,le,ie,se,ce,Se],ee.textMatrixScale=Math.hypot(Q,le),ee.x=ee.lineX=0,ee.y=ee.lineY=0,ee.xcoords=[],ee.ycoords=[],ee.tspan=this.svgFactory.createElement("svg:tspan"),ee.tspan.setAttributeNS(null,"font-family",ee.fontFamily),ee.tspan.setAttributeNS(null,"font-size",`${re(ee.fontSize)}px`),ee.tspan.setAttributeNS(null,"y",re(-ee.y)),ee.txtElement=this.svgFactory.createElement("svg:text"),ee.txtElement.append(ee.tspan)}beginText(){const Q=this.current;Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.textMatrix=O.IDENTITY_MATRIX,Q.lineMatrix=O.IDENTITY_MATRIX,Q.textMatrixScale=1,Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtgrp=this.svgFactory.createElement("svg:g"),Q.xcoords=[],Q.ycoords=[]}moveText(Q,le){const ie=this.current;ie.x=ie.lineX+=Q,ie.y=ie.lineY+=le,ie.xcoords=[],ie.ycoords=[],ie.tspan=this.svgFactory.createElement("svg:tspan"),ie.tspan.setAttributeNS(null,"font-family",ie.fontFamily),ie.tspan.setAttributeNS(null,"font-size",`${re(ie.fontSize)}px`),ie.tspan.setAttributeNS(null,"y",re(-ie.y))}showText(Q){const le=this.current,ie=le.font,se=le.fontSize;if(se===0)return;const ce=le.fontSizeScale,Se=le.charSpacing,ee=le.wordSpacing,ge=le.fontDirection,Ae=le.textHScale*ge,Oe=ie.vertical,Re=Oe?1:-1,Ne=ie.defaultVMetrics,Fe=se*le.fontMatrix[0];let qe=0;for(const Be of Q){if(Be===null){qe+=ge*ee;continue}else if(typeof Be=="number"){qe+=Re*Be*se/1e3;continue}const ye=(Be.isSpace?ee:0)+Se,q=Be.fontChar;let Y,ve,Me=Be.width;if(Oe){let Pe;const Le=Be.vmetric||Ne;Pe=Be.vmetric?Le[1]:Me*.5,Pe=-Pe*Fe;const Qe=Le[2]*Fe;Me=Le?-Le[0]:Me,Y=Pe/ce,ve=(qe+Qe)/ce}else Y=qe/ce,ve=0;(Be.isInFont||ie.missingFile)&&(le.xcoords.push(le.x+Y),Oe&&le.ycoords.push(-le.y+ve),le.tspan.textContent+=q);const xe=Oe?Me*Fe-ye*ge:Me*Fe+ye*ge;qe+=xe}le.tspan.setAttributeNS(null,"x",le.xcoords.map(re).join(" ")),Oe?le.tspan.setAttributeNS(null,"y",le.ycoords.map(re).join(" ")):le.tspan.setAttributeNS(null,"y",re(-le.y)),Oe?le.y-=qe:le.x+=qe*Ae,le.tspan.setAttributeNS(null,"font-family",le.fontFamily),le.tspan.setAttributeNS(null,"font-size",`${re(le.fontSize)}px`),le.fontStyle!==B.fontStyle&&le.tspan.setAttributeNS(null,"font-style",le.fontStyle),le.fontWeight!==B.fontWeight&&le.tspan.setAttributeNS(null,"font-weight",le.fontWeight);const Ee=le.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;if(Ee===O.TextRenderingMode.FILL||Ee===O.TextRenderingMode.FILL_STROKE?(le.fillColor!==B.fillColor&&le.tspan.setAttributeNS(null,"fill",le.fillColor),le.fillAlpha<1&&le.tspan.setAttributeNS(null,"fill-opacity",le.fillAlpha)):le.textRenderingMode===O.TextRenderingMode.ADD_TO_PATH?le.tspan.setAttributeNS(null,"fill","transparent"):le.tspan.setAttributeNS(null,"fill","none"),Ee===O.TextRenderingMode.STROKE||Ee===O.TextRenderingMode.FILL_STROKE){const Be=1/(le.textMatrixScale||1);this._setStrokeAttributes(le.tspan,Be)}let Te=le.textMatrix;le.textRise!==0&&(Te=Te.slice(),Te[5]+=le.textRise),le.txtElement.setAttributeNS(null,"transform",`${te(Te)} scale(${re(Ae)}, -1)`),le.txtElement.setAttributeNS(W,"xml:space","preserve"),le.txtElement.append(le.tspan),le.txtgrp.append(le.txtElement),this._ensureTransformGroup().append(le.txtElement)}setLeadingMoveText(Q,le){this.setLeading(-le),this.moveText(Q,le)}addFontStyle(Q){if(!Q.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const le=V(Q.data,Q.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Q.loadedName}"; src: url(${le}); }
`}setFont(Q){const le=this.current,ie=this.commonObjs.get(Q[0]);let se=Q[1];le.font=ie,this.embedFonts&&!ie.missingFile&&!this.embeddedFonts[ie.loadedName]&&(this.addFontStyle(ie),this.embeddedFonts[ie.loadedName]=ie),le.fontMatrix=ie.fontMatrix||O.FONT_IDENTITY_MATRIX;let ce="normal";ie.black?ce="900":ie.bold&&(ce="bold");const Se=ie.italic?"italic":"normal";se<0?(se=-se,le.fontDirection=-1):le.fontDirection=1,le.fontSize=se,le.fontFamily=ie.loadedName,le.fontWeight=ce,le.fontStyle=Se,le.tspan=this.svgFactory.createElement("svg:tspan"),le.tspan.setAttributeNS(null,"y",re(-le.y)),le.xcoords=[],le.ycoords=[]}endText(){var le;const Q=this.current;Q.textRenderingMode&O.TextRenderingMode.ADD_TO_PATH_FLAG&&((le=Q.txtElement)!=null&&le.hasChildNodes())&&(Q.element=Q.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Q){Q>0&&(this.current.lineWidth=Q)}setLineCap(Q){this.current.lineCap=de[Q]}setLineJoin(Q){this.current.lineJoin=ue[Q]}setMiterLimit(Q){this.current.miterLimit=Q}setStrokeAlpha(Q){this.current.strokeAlpha=Q}setStrokeRGBColor(Q,le,ie){this.current.strokeColor=O.Util.makeHexColor(Q,le,ie)}setFillAlpha(Q){this.current.fillAlpha=Q}setFillRGBColor(Q,le,ie){this.current.fillColor=O.Util.makeHexColor(Q,le,ie),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Q){this.current.strokeColor=this._makeColorN_Pattern(Q)}setFillColorN(Q){this.current.fillColor=this._makeColorN_Pattern(Q)}shadingFill(Q){const{width:le,height:ie}=this.viewport,se=O.Util.inverseTransform(this.transformMatrix),[ce,Se,ee,ge]=O.Util.getAxialAlignedBoundingBox([0,0,le,ie],se),Ae=this.svgFactory.createElement("svg:rect");Ae.setAttributeNS(null,"x",ce),Ae.setAttributeNS(null,"y",Se),Ae.setAttributeNS(null,"width",ee-ce),Ae.setAttributeNS(null,"height",ge-Se),Ae.setAttributeNS(null,"fill",this._makeShadingPattern(Q)),this.current.fillAlpha<1&&Ae.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ae)}_makeColorN_Pattern(Q){return Q[0]==="TilingPattern"?this._makeTilingPattern(Q):this._makeShadingPattern(Q)}_makeTilingPattern(Q){const le=Q[1],ie=Q[2],se=Q[3]||O.IDENTITY_MATRIX,[ce,Se,ee,ge]=Q[4],Ae=Q[5],Oe=Q[6],Re=Q[7],Ne=`shading${oe++}`,[Fe,qe,Ee,Te]=O.Util.normalizeRect([...O.Util.applyTransform([ce,Se],se),...O.Util.applyTransform([ee,ge],se)]),[Be,ye]=O.Util.singularValueDecompose2dScale(se),q=Ae*Be,Y=Oe*ye,ve=this.svgFactory.createElement("svg:pattern");ve.setAttributeNS(null,"id",Ne),ve.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ve.setAttributeNS(null,"width",q),ve.setAttributeNS(null,"height",Y),ve.setAttributeNS(null,"x",`${Fe}`),ve.setAttributeNS(null,"y",`${qe}`);const Me=this.svg,xe=this.transformMatrix,Pe=this.current.fillColor,Le=this.current.strokeColor,Qe=this.svgFactory.create(Ee-Fe,Te-qe);if(this.svg=Qe,this.transformMatrix=se,Re===2){const st=O.Util.makeHexColor(...le);this.current.fillColor=st,this.current.strokeColor=st}return this.executeOpTree(this.convertOpList(ie)),this.svg=Me,this.transformMatrix=xe,this.current.fillColor=Pe,this.current.strokeColor=Le,ve.append(Qe.childNodes[0]),this.defs.append(ve),`url(#${Ne})`}_makeShadingPattern(Q){switch(typeof Q=="string"&&(Q=this.objs.get(Q)),Q[0]){case"RadialAxial":const le=`shading${oe++}`,ie=Q[3];let se;switch(Q[1]){case"axial":const ce=Q[4],Se=Q[5];se=this.svgFactory.createElement("svg:linearGradient"),se.setAttributeNS(null,"id",le),se.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),se.setAttributeNS(null,"x1",ce[0]),se.setAttributeNS(null,"y1",ce[1]),se.setAttributeNS(null,"x2",Se[0]),se.setAttributeNS(null,"y2",Se[1]);break;case"radial":const ee=Q[4],ge=Q[5],Ae=Q[6],Oe=Q[7];se=this.svgFactory.createElement("svg:radialGradient"),se.setAttributeNS(null,"id",le),se.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),se.setAttributeNS(null,"cx",ge[0]),se.setAttributeNS(null,"cy",ge[1]),se.setAttributeNS(null,"r",Oe),se.setAttributeNS(null,"fx",ee[0]),se.setAttributeNS(null,"fy",ee[1]),se.setAttributeNS(null,"fr",Ae);break;default:throw new Error(`Unknown RadialAxial type: ${Q[1]}`)}for(const ce of ie){const Se=this.svgFactory.createElement("svg:stop");Se.setAttributeNS(null,"offset",ce[0]),Se.setAttributeNS(null,"stop-color",ce[1]),se.append(Se)}return this.defs.append(se),`url(#${le})`;case"Mesh":return(0,O.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Q[0]}`)}}setDash(Q,le){this.current.dashArray=Q,this.current.dashPhase=le}constructPath(Q,le){const ie=this.current;let se=ie.x,ce=ie.y,Se=[],ee=0;for(const ge of Q)switch(ge|0){case O.OPS.rectangle:se=le[ee++],ce=le[ee++];const Ae=le[ee++],Oe=le[ee++],Re=se+Ae,Ne=ce+Oe;Se.push("M",re(se),re(ce),"L",re(Re),re(ce),"L",re(Re),re(Ne),"L",re(se),re(Ne),"Z");break;case O.OPS.moveTo:se=le[ee++],ce=le[ee++],Se.push("M",re(se),re(ce));break;case O.OPS.lineTo:se=le[ee++],ce=le[ee++],Se.push("L",re(se),re(ce));break;case O.OPS.curveTo:se=le[ee+4],ce=le[ee+5],Se.push("C",re(le[ee]),re(le[ee+1]),re(le[ee+2]),re(le[ee+3]),re(se),re(ce)),ee+=6;break;case O.OPS.curveTo2:Se.push("C",re(se),re(ce),re(le[ee]),re(le[ee+1]),re(le[ee+2]),re(le[ee+3])),se=le[ee+2],ce=le[ee+3],ee+=4;break;case O.OPS.curveTo3:se=le[ee+2],ce=le[ee+3],Se.push("C",re(le[ee]),re(le[ee+1]),re(se),re(ce),re(se),re(ce)),ee+=4;break;case O.OPS.closePath:Se.push("Z");break}Se=Se.join(" "),ie.path&&Q.length>0&&Q[0]!==O.OPS.rectangle&&Q[0]!==O.OPS.moveTo?Se=ie.path.getAttributeNS(null,"d")+Se:(ie.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ie.path)),ie.path.setAttributeNS(null,"d",Se),ie.path.setAttributeNS(null,"fill","none"),ie.element=ie.path,ie.setCurrentPoint(se,ce)}endPath(){const Q=this.current;if(Q.path=null,!this.pendingClip)return;if(!Q.element){this.pendingClip=null;return}const le=`clippath${G++}`,ie=this.svgFactory.createElement("svg:clipPath");ie.setAttributeNS(null,"id",le),ie.setAttributeNS(null,"transform",te(this.transformMatrix));const se=Q.element.cloneNode(!0);if(this.pendingClip==="evenodd"?se.setAttributeNS(null,"clip-rule","evenodd"):se.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ie.append(se),this.defs.append(ie),Q.activeClipUrl){Q.clipGroup=null;for(const ce of this.extraStack)ce.clipGroup=null;ie.setAttributeNS(null,"clip-path",Q.activeClipUrl)}Q.activeClipUrl=`url(#${le})`,this.tgrp=null}clip(Q){this.pendingClip=Q}closePath(){const Q=this.current;if(Q.path){const le=`${Q.path.getAttributeNS(null,"d")}Z`;Q.path.setAttributeNS(null,"d",le)}}setLeading(Q){this.current.leading=-Q}setTextRise(Q){this.current.textRise=Q}setTextRenderingMode(Q){this.current.textRenderingMode=Q}setHScale(Q){this.current.textHScale=Q/100}setRenderingIntent(Q){}setFlatness(Q){}setGState(Q){for(const[le,ie]of Q)switch(le){case"LW":this.setLineWidth(ie);break;case"LC":this.setLineCap(ie);break;case"LJ":this.setLineJoin(ie);break;case"ML":this.setMiterLimit(ie);break;case"D":this.setDash(ie[0],ie[1]);break;case"RI":this.setRenderingIntent(ie);break;case"FL":this.setFlatness(ie);break;case"Font":this.setFont(ie);break;case"CA":this.setStrokeAlpha(ie);break;case"ca":this.setFillAlpha(ie);break;default:(0,O.warn)(`Unimplemented graphic state operator ${le}`);break}}fill(){const Q=this.current;Q.element&&(Q.element.setAttributeNS(null,"fill",Q.fillColor),Q.element.setAttributeNS(null,"fill-opacity",Q.fillAlpha),this.endPath())}stroke(){const Q=this.current;Q.element&&(this._setStrokeAttributes(Q.element),Q.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Q,le=1){const ie=this.current;let se=ie.dashArray;le!==1&&se.length>0&&(se=se.map(function(ce){return le*ce})),Q.setAttributeNS(null,"stroke",ie.strokeColor),Q.setAttributeNS(null,"stroke-opacity",ie.strokeAlpha),Q.setAttributeNS(null,"stroke-miterlimit",re(ie.miterLimit)),Q.setAttributeNS(null,"stroke-linecap",ie.lineCap),Q.setAttributeNS(null,"stroke-linejoin",ie.lineJoin),Q.setAttributeNS(null,"stroke-width",re(le*ie.lineWidth)+"px"),Q.setAttributeNS(null,"stroke-dasharray",se.map(re).join(" ")),Q.setAttributeNS(null,"stroke-dashoffset",re(le*ie.dashPhase)+"px")}eoFill(){var Q;(Q=this.current.element)==null||Q.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Q;(Q=this.current.element)==null||Q.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width","1px"),Q.setAttributeNS(null,"height","1px"),Q.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Q)}paintImageXObject(Q){const le=this.getObject(Q);if(!le){(0,O.warn)(`Dependent image with object ID ${Q} is not ready yet`);return}this.paintInlineImageXObject(le)}paintInlineImageXObject(Q,le){const ie=Q.width,se=Q.height,ce=fe(Q,this.forceDataSchema,!!le),Se=this.svgFactory.createElement("svg:rect");Se.setAttributeNS(null,"x","0"),Se.setAttributeNS(null,"y","0"),Se.setAttributeNS(null,"width",re(ie)),Se.setAttributeNS(null,"height",re(se)),this.current.element=Se,this.clip("nonzero");const ee=this.svgFactory.createElement("svg:image");ee.setAttributeNS(he,"xlink:href",ce),ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y",re(-se)),ee.setAttributeNS(null,"width",re(ie)+"px"),ee.setAttributeNS(null,"height",re(se)+"px"),ee.setAttributeNS(null,"transform",`scale(${re(1/ie)} ${re(-1/se)})`),le?le.append(ee):this._ensureTransformGroup().append(ee)}paintImageMaskXObject(Q){const le=this.getObject(Q.data,Q);if(le.bitmap){(0,O.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ie=this.current,se=le.width,ce=le.height,Se=ie.fillColor;ie.maskId=`mask${ne++}`;const ee=this.svgFactory.createElement("svg:mask");ee.setAttributeNS(null,"id",ie.maskId);const ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x","0"),ge.setAttributeNS(null,"y","0"),ge.setAttributeNS(null,"width",re(se)),ge.setAttributeNS(null,"height",re(ce)),ge.setAttributeNS(null,"fill",Se),ge.setAttributeNS(null,"mask",`url(#${ie.maskId})`),this.defs.append(ee),this._ensureTransformGroup().append(ge),this.paintInlineImageXObject(le,ee)}paintFormXObjectBegin(Q,le){if(Array.isArray(Q)&&Q.length===6&&this.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),le){const ie=le[2]-le[0],se=le[3]-le[1],ce=this.svgFactory.createElement("svg:rect");ce.setAttributeNS(null,"x",le[0]),ce.setAttributeNS(null,"y",le[1]),ce.setAttributeNS(null,"width",re(ie)),ce.setAttributeNS(null,"height",re(se)),this.current.element=ce,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Q){const le=this.svgFactory.create(Q.width,Q.height),ie=this.svgFactory.createElement("svg:defs");le.append(ie),this.defs=ie;const se=this.svgFactory.createElement("svg:g");return se.setAttributeNS(null,"transform",te(Q.transform)),le.append(se),this.svg=se,le}_ensureClipGroup(){if(!this.current.clipGroup){const Q=this.svgFactory.createElement("svg:g");Q.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Q),this.current.clipGroup=Q}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",te(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}R.SVGGraphics=me},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaText=void 0;class H{static textContent(O){const B=[],W={items:B,styles:Object.create(null)};function he(de){var fe;if(!de)return;let ue=null;const V=de.name;if(V==="#text")ue=de.value;else if(H.shouldBuildText(V))(fe=de==null?void 0:de.attributes)!=null&&fe.textContent?ue=de.attributes.textContent:de.value&&(ue=de.value);else return;if(ue!==null&&B.push({str:ue}),!!de.children)for(const ae of de.children)he(ae)}return he(O),W}static shouldBuildText(O){return!(O==="textarea"||O==="input"||O==="option"||O==="select")}}R.XfaText=H},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TextLayerRenderTask=void 0,R.renderTextLayer=te,R.updateTextLayer=G;var $=H(1),O=H(6);const B=1e5,W=30,he=.8,de=new Map;function ue(ne,oe){let me;if(oe&&$.FeatureTest.isOffscreenCanvasSupported)me=new OffscreenCanvas(ne,ne).getContext("2d",{alpha:!1});else{const pe=document.createElement("canvas");pe.width=pe.height=ne,me=pe.getContext("2d",{alpha:!1})}return me}function V(ne,oe){const me=de.get(ne);if(me)return me;const pe=ue(W,oe);pe.font=`${W}px ${ne}`;const Q=pe.measureText("");let le=Q.fontBoundingBoxAscent,ie=Math.abs(Q.fontBoundingBoxDescent);if(le){const ce=le/(le+ie);return de.set(ne,ce),pe.canvas.width=pe.canvas.height=0,ce}pe.strokeStyle="red",pe.clearRect(0,0,W,W),pe.strokeText("g",0,0);let se=pe.getImageData(0,0,W,W).data;ie=0;for(let ce=se.length-1-3;ce>=0;ce-=4)if(se[ce]>0){ie=Math.ceil(ce/4/W);break}pe.clearRect(0,0,W,W),pe.strokeText("A",0,W),se=pe.getImageData(0,0,W,W).data,le=0;for(let ce=0,Se=se.length;ce<Se;ce+=4)if(se[ce]>0){le=W-Math.floor(ce/4/W);break}if(pe.canvas.width=pe.canvas.height=0,le){const ce=le/(le+ie);return de.set(ne,ce),ce}return de.set(ne,he),he}function fe(ne,oe,me){const pe=document.createElement("span"),Q={angle:0,canvasWidth:0,hasText:oe.str!=="",hasEOL:oe.hasEOL,fontSize:0};ne._textDivs.push(pe);const le=$.Util.transform(ne._transform,oe.transform);let ie=Math.atan2(le[1],le[0]);const se=me[oe.fontName];se.vertical&&(ie+=Math.PI/2);const ce=Math.hypot(le[2],le[3]),Se=ce*V(se.fontFamily,ne._isOffscreenCanvasSupported);let ee,ge;ie===0?(ee=le[4],ge=le[5]-Se):(ee=le[4]+Se*Math.sin(ie),ge=le[5]-Se*Math.cos(ie));const Ae="calc(var(--scale-factor)*",Oe=pe.style;ne._container===ne._rootContainer?(Oe.left=`${(100*ee/ne._pageWidth).toFixed(2)}%`,Oe.top=`${(100*ge/ne._pageHeight).toFixed(2)}%`):(Oe.left=`${Ae}${ee.toFixed(2)}px)`,Oe.top=`${Ae}${ge.toFixed(2)}px)`),Oe.fontSize=`${Ae}${ce.toFixed(2)}px)`,Oe.fontFamily=se.fontFamily,Q.fontSize=ce,pe.setAttribute("role","presentation"),pe.textContent=oe.str,pe.dir=oe.dir,ne._fontInspectorEnabled&&(pe.dataset.fontName=oe.fontName),ie!==0&&(Q.angle=ie*(180/Math.PI));let Re=!1;if(oe.str.length>1)Re=!0;else if(oe.str!==" "&&oe.transform[0]!==oe.transform[3]){const Ne=Math.abs(oe.transform[0]),Fe=Math.abs(oe.transform[3]);Ne!==Fe&&Math.max(Ne,Fe)/Math.min(Ne,Fe)>1.5&&(Re=!0)}Re&&(Q.canvasWidth=se.vertical?oe.height:oe.width),ne._textDivProperties.set(pe,Q),ne._isReadableStream&&ne._layoutText(pe)}function ae(ne){const{div:oe,scale:me,properties:pe,ctx:Q,prevFontSize:le,prevFontFamily:ie}=ne,{style:se}=oe;let ce="";if(pe.canvasWidth!==0&&pe.hasText){const{fontFamily:Se}=se,{canvasWidth:ee,fontSize:ge}=pe;(le!==ge||ie!==Se)&&(Q.font=`${ge*me}px ${Se}`,ne.prevFontSize=ge,ne.prevFontFamily=Se);const{width:Ae}=Q.measureText(oe.textContent);Ae>0&&(ce=`scaleX(${ee*me/Ae})`)}pe.angle!==0&&(ce=`rotate(${pe.angle}deg) ${ce}`),ce.length>0&&(se.transform=ce)}function J(ne){if(ne._canceled)return;const oe=ne._textDivs,me=ne._capability;if(oe.length>B){me.resolve();return}if(!ne._isReadableStream)for(const Q of oe)ne._layoutText(Q);me.resolve()}class re{constructor({textContentSource:oe,container:me,viewport:pe,textDivs:Q,textDivProperties:le,textContentItemsStr:ie,isOffscreenCanvasSupported:se}){var Ae;this._textContentSource=oe,this._isReadableStream=oe instanceof ReadableStream,this._container=this._rootContainer=me,this._textDivs=Q||[],this._textContentItemsStr=ie||[],this._isOffscreenCanvasSupported=se,this._fontInspectorEnabled=!!((Ae=globalThis.FontInspector)!=null&&Ae.enabled),this._reader=null,this._textDivProperties=le||new WeakMap,this._canceled=!1,this._capability=new $.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ue(0,se)};const{pageWidth:ce,pageHeight:Se,pageX:ee,pageY:ge}=pe.rawDims;this._transform=[1,0,0,-1,-ee,ge+Se],this._pageWidth=ce,this._pageHeight=Se,(0,O.setLayerDimensions)(me,pe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new $.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new $.AbortException("TextLayer task cancelled."))}_processItems(oe,me){for(const pe of oe){if(pe.str===void 0){if(pe.type==="beginMarkedContentProps"||pe.type==="beginMarkedContent"){const Q=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pe.id!==null&&this._container.setAttribute("id",`${pe.id}`),Q.append(this._container)}else pe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pe.str),fe(this,pe,me)}}_layoutText(oe){const me=this._layoutTextParams.properties=this._textDivProperties.get(oe);if(this._layoutTextParams.div=oe,ae(this._layoutTextParams),me.hasText&&this._container.append(oe),me.hasEOL){const pe=document.createElement("br");pe.setAttribute("role","presentation"),this._container.append(pe)}}_render(){const oe=new $.PromiseCapability;let me=Object.create(null);if(this._isReadableStream){const pe=()=>{this._reader.read().then(({value:Q,done:le})=>{if(le){oe.resolve();return}Object.assign(me,Q.styles),this._processItems(Q.items,me),pe()},oe.reject)};this._reader=this._textContentSource.getReader(),pe()}else if(this._textContentSource){const{items:pe,styles:Q}=this._textContentSource;this._processItems(pe,Q),oe.resolve()}else throw new Error('No "textContentSource" parameter specified.');oe.promise.then(()=>{me=null,J(this)},this._capability.reject)}}R.TextLayerRenderTask=re;function te(ne){!ne.textContentSource&&(ne.textContent||ne.textContentStream)&&((0,O.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ne.textContentSource=ne.textContent||ne.textContentStream);const{container:oe,viewport:me}=ne,pe=getComputedStyle(oe),Q=pe.getPropertyValue("visibility"),le=parseFloat(pe.getPropertyValue("--scale-factor"));Q==="visible"&&(!le||Math.abs(le-me.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const ie=new re(ne);return ie._render(),ie}function G({container:ne,viewport:oe,textDivs:me,textDivProperties:pe,isOffscreenCanvasSupported:Q,mustRotate:le=!0,mustRescale:ie=!0}){if(le&&(0,O.setLayerDimensions)(ne,{rotation:oe.rotation}),ie){const se=ue(0,Q),Se={prevFontSize:null,prevFontFamily:null,div:null,scale:oe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:se};for(const ee of me)Se.properties=pe.get(ee),Se.div=ee,ae(Se)}}},(A,R,H)=>{var V,fe,ae,J,re,te,G,ne,oe,me,pe,Ii,Xr,Fi,Di;Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationEditorLayer=void 0;var $=H(1),O=H(4),B=H(28),W=H(33),he=H(6),de=H(34);const ce=class ce{constructor({uiManager:ee,pageIndex:ge,div:Ae,accessibilityManager:Oe,annotationLayer:Re,viewport:Ne,l10n:Fe}){ot(this,pe);ot(this,V);ot(this,fe,!1);ot(this,ae,null);ot(this,J,this.pointerup.bind(this));ot(this,re,this.pointerdown.bind(this));ot(this,te,new Map);ot(this,G,!1);ot(this,ne,!1);ot(this,oe,!1);ot(this,me);const qe=[B.FreeTextEditor,W.InkEditor,de.StampEditor];if(!ce._initialized){ce._initialized=!0;for(const Ee of qe)Ee.initialize(Fe)}ee.registerEditorTypes(qe),at(this,me,ee),this.pageIndex=ge,this.div=Ae,at(this,V,Oe),at(this,ae,Re),this.viewport=Ne,U(this,me).addLayer(this)}get isEmpty(){return U(this,te).size===0}updateToolbar(ee){U(this,me).updateToolbar(ee)}updateMode(ee=U(this,me).getMode()){Ge(this,pe,Di).call(this),ee===$.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ee!==$.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ee===$.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ee===$.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ee===$.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ee){if(!ee&&U(this,me).getMode()!==$.AnnotationEditorType.INK)return;if(!ee){for(const Ae of U(this,te).values())if(Ae.isEmpty()){Ae.setInBackground();return}}Ge(this,pe,Xr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(ee){U(this,me).setEditingState(ee)}addCommands(ee){U(this,me).addCommands(ee)}enable(){this.div.style.pointerEvents="auto";const ee=new Set;for(const Ae of U(this,te).values())Ae.enableEditing(),Ae.annotationElementId&&ee.add(Ae.annotationElementId);if(!U(this,ae))return;const ge=U(this,ae).getEditableAnnotations();for(const Ae of ge){if(Ae.hide(),U(this,me).isDeletedAnnotationElement(Ae.data.id)||ee.has(Ae.data.id))continue;const Oe=this.deserialize(Ae);Oe&&(this.addOrRebuild(Oe),Oe.enableEditing())}}disable(){var ge;at(this,oe,!0),this.div.style.pointerEvents="none";const ee=new Set;for(const Ae of U(this,te).values()){if(Ae.disableEditing(),!Ae.annotationElementId||Ae.serialize()!==null){ee.add(Ae.annotationElementId);continue}(ge=this.getEditableAnnotation(Ae.annotationElementId))==null||ge.show(),Ae.remove()}if(U(this,ae)){const Ae=U(this,ae).getEditableAnnotations();for(const Oe of Ae){const{id:Re}=Oe.data;ee.has(Re)||U(this,me).isDeletedAnnotationElement(Re)||Oe.show()}}Ge(this,pe,Di).call(this),this.isEmpty&&(this.div.hidden=!0),at(this,oe,!1)}getEditableAnnotation(ee){var ge;return((ge=U(this,ae))==null?void 0:ge.getEditableAnnotation(ee))||null}setActiveEditor(ee){U(this,me).getActive()!==ee&&U(this,me).setActiveEditor(ee)}enableClick(){this.div.addEventListener("pointerdown",U(this,re)),this.div.addEventListener("pointerup",U(this,J))}disableClick(){this.div.removeEventListener("pointerdown",U(this,re)),this.div.removeEventListener("pointerup",U(this,J))}attach(ee){U(this,te).set(ee.id,ee);const{annotationElementId:ge}=ee;ge&&U(this,me).isDeletedAnnotationElement(ge)&&U(this,me).removeDeletedAnnotationElement(ee)}detach(ee){var ge;U(this,te).delete(ee.id),(ge=U(this,V))==null||ge.removePointerInTextLayer(ee.contentDiv),!U(this,oe)&&ee.annotationElementId&&U(this,me).addDeletedAnnotationElement(ee)}remove(ee){this.detach(ee),U(this,me).removeEditor(ee),ee.div.contains(document.activeElement)&&setTimeout(()=>{U(this,me).focusMainContainer()},0),ee.div.remove(),ee.isAttachedToDOM=!1,U(this,ne)||this.addInkEditorIfNeeded(!1)}changeParent(ee){var ge;ee.parent!==this&&(ee.annotationElementId&&(U(this,me).addDeletedAnnotationElement(ee.annotationElementId),O.AnnotationEditor.deleteAnnotationElement(ee),ee.annotationElementId=null),this.attach(ee),(ge=ee.parent)==null||ge.detach(ee),ee.setParent(this),ee.div&&ee.isAttachedToDOM&&(ee.div.remove(),this.div.append(ee.div)))}add(ee){if(this.changeParent(ee),U(this,me).addEditor(ee),this.attach(ee),!ee.isAttachedToDOM){const ge=ee.render();this.div.append(ge),ee.isAttachedToDOM=!0}ee.fixAndSetPosition(),ee.onceAdded(),U(this,me).addToAnnotationStorage(ee)}moveEditorInDOM(ee){var Ae;if(!ee.isAttachedToDOM)return;const{activeElement:ge}=document;ee.div.contains(ge)&&(ee._focusEventsAllowed=!1,setTimeout(()=>{ee.div.contains(document.activeElement)?ee._focusEventsAllowed=!0:(ee.div.addEventListener("focusin",()=>{ee._focusEventsAllowed=!0},{once:!0}),ge.focus())},0)),ee._structTreeParentId=(Ae=U(this,V))==null?void 0:Ae.moveElementInDOM(this.div,ee.div,ee.contentDiv,!0)}addOrRebuild(ee){ee.needsToBeRebuilt()?ee.rebuild():this.add(ee)}addUndoableEditor(ee){const ge=()=>ee._uiManager.rebuild(ee),Ae=()=>{ee.remove()};this.addCommands({cmd:ge,undo:Ae,mustExec:!1})}getNextId(){return U(this,me).getId()}pasteEditor(ee,ge){U(this,me).updateToolbar(ee),U(this,me).updateMode(ee);const{offsetX:Ae,offsetY:Oe}=Ge(this,pe,Fi).call(this),Re=this.getNextId(),Ne=Ge(this,pe,Ii).call(this,{parent:this,id:Re,x:Ae,y:Oe,uiManager:U(this,me),isCentered:!0,...ge});Ne&&this.add(Ne)}deserialize(ee){switch(ee.annotationType??ee.annotationEditorType){case $.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(ee,this,U(this,me));case $.AnnotationEditorType.INK:return W.InkEditor.deserialize(ee,this,U(this,me));case $.AnnotationEditorType.STAMP:return de.StampEditor.deserialize(ee,this,U(this,me))}return null}addNewEditor(){Ge(this,pe,Xr).call(this,Ge(this,pe,Fi).call(this),!0)}setSelected(ee){U(this,me).setSelected(ee)}toggleSelected(ee){U(this,me).toggleSelected(ee)}isSelected(ee){return U(this,me).isSelected(ee)}unselect(ee){U(this,me).unselect(ee)}pointerup(ee){const{isMac:ge}=$.FeatureTest.platform;if(!(ee.button!==0||ee.ctrlKey&&ge)&&ee.target===this.div&&U(this,G)){if(at(this,G,!1),!U(this,fe)){at(this,fe,!0);return}if(U(this,me).getMode()===$.AnnotationEditorType.STAMP){U(this,me).unselectAll();return}Ge(this,pe,Xr).call(this,ee,!1)}}pointerdown(ee){if(U(this,G)){at(this,G,!1);return}const{isMac:ge}=$.FeatureTest.platform;if(ee.button!==0||ee.ctrlKey&&ge||ee.target!==this.div)return;at(this,G,!0);const Ae=U(this,me).getActive();at(this,fe,!Ae||Ae.isEmpty())}findNewParent(ee,ge,Ae){const Oe=U(this,me).findParent(ge,Ae);return Oe===null||Oe===this?!1:(Oe.changeParent(ee),!0)}destroy(){var ee,ge;((ee=U(this,me).getActive())==null?void 0:ee.parent)===this&&(U(this,me).commitOrRemove(),U(this,me).setActiveEditor(null));for(const Ae of U(this,te).values())(ge=U(this,V))==null||ge.removePointerInTextLayer(Ae.contentDiv),Ae.setParent(null),Ae.isAttachedToDOM=!1,Ae.div.remove();this.div=null,U(this,te).clear(),U(this,me).removeLayer(this)}render({viewport:ee}){this.viewport=ee,(0,he.setLayerDimensions)(this.div,ee);for(const ge of U(this,me).getEditors(this.pageIndex))this.add(ge);this.updateMode()}update({viewport:ee}){U(this,me).commitOrRemove(),this.viewport=ee,(0,he.setLayerDimensions)(this.div,{rotation:ee.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ee,pageHeight:ge}=this.viewport.rawDims;return[ee,ge]}};V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakMap,oe=new WeakMap,me=new WeakMap,pe=new WeakSet,Ii=function(ee){switch(U(this,me).getMode()){case $.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(ee);case $.AnnotationEditorType.INK:return new W.InkEditor(ee);case $.AnnotationEditorType.STAMP:return new de.StampEditor(ee)}return null},Xr=function(ee,ge){const Ae=this.getNextId(),Oe=Ge(this,pe,Ii).call(this,{parent:this,id:Ae,x:ee.offsetX,y:ee.offsetY,uiManager:U(this,me),isCentered:ge});return Oe&&this.add(Oe),Oe},Fi=function(){const{x:ee,y:ge,width:Ae,height:Oe}=this.div.getBoundingClientRect(),Re=Math.max(0,ee),Ne=Math.max(0,ge),Fe=Math.min(window.innerWidth,ee+Ae),qe=Math.min(window.innerHeight,ge+Oe),Ee=(Re+Fe)/2-ee,Te=(Ne+qe)/2-ge,[Be,ye]=this.viewport.rotation%180===0?[Ee,Te]:[Te,Ee];return{offsetX:Be,offsetY:ye}},Di=function(){at(this,ne,!0);for(const ee of U(this,te).values())ee.isEmpty()&&ee.remove();at(this,ne,!1)},In(ce,"_initialized",!1);let ue=ce;R.AnnotationEditorLayer=ue},(A,R,H)=>{var de,ue,V,fe,ae,J,re,te,G,ne,Mo,Po,ko,$r,Li,To,Oi;Object.defineProperty(R,"__esModule",{value:!0}),R.FreeTextEditor=void 0;var $=H(1),O=H(5),B=H(4),W=H(29);const ce=class ce extends B.AnnotationEditor{constructor(ge){super({...ge,name:"freeTextEditor"});ot(this,ne);ot(this,de,this.editorDivBlur.bind(this));ot(this,ue,this.editorDivFocus.bind(this));ot(this,V,this.editorDivInput.bind(this));ot(this,fe,this.editorDivKeydown.bind(this));ot(this,ae);ot(this,J,"");ot(this,re,`${this.id}-editor`);ot(this,te);ot(this,G,null);at(this,ae,ge.color||ce._defaultColor||B.AnnotationEditor._defaultLineColor),at(this,te,ge.fontSize||ce._defaultFontSize)}static get _keyboardManager(){const ge=ce.prototype,Ae=Ne=>Ne.isEmpty(),Oe=O.AnnotationEditorUIManager.TRANSLATE_SMALL,Re=O.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,$.shadow)(this,"_keyboardManager",new O.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ge.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ge.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ge._translateEmpty,{args:[-Oe,0],checker:Ae}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ge._translateEmpty,{args:[-Re,0],checker:Ae}],[["ArrowRight","mac+ArrowRight"],ge._translateEmpty,{args:[Oe,0],checker:Ae}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ge._translateEmpty,{args:[Re,0],checker:Ae}],[["ArrowUp","mac+ArrowUp"],ge._translateEmpty,{args:[0,-Oe],checker:Ae}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ge._translateEmpty,{args:[0,-Re],checker:Ae}],[["ArrowDown","mac+ArrowDown"],ge._translateEmpty,{args:[0,Oe],checker:Ae}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ge._translateEmpty,{args:[0,Re],checker:Ae}]]))}static initialize(ge){B.AnnotationEditor.initialize(ge,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ae=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ae.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ge,Ae){switch(ge){case $.AnnotationEditorParamsType.FREETEXT_SIZE:ce._defaultFontSize=Ae;break;case $.AnnotationEditorParamsType.FREETEXT_COLOR:ce._defaultColor=Ae;break}}updateParams(ge,Ae){switch(ge){case $.AnnotationEditorParamsType.FREETEXT_SIZE:Ge(this,ne,Mo).call(this,Ae);break;case $.AnnotationEditorParamsType.FREETEXT_COLOR:Ge(this,ne,Po).call(this,Ae);break}}static get defaultPropertiesToUpdate(){return[[$.AnnotationEditorParamsType.FREETEXT_SIZE,ce._defaultFontSize],[$.AnnotationEditorParamsType.FREETEXT_COLOR,ce._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[$.AnnotationEditorParamsType.FREETEXT_SIZE,U(this,te)],[$.AnnotationEditorParamsType.FREETEXT_COLOR,U(this,ae)]]}_translateEmpty(ge,Ae){this._uiManager.translateSelectedEditors(ge,Ae,!0)}getInitialTranslation(){const ge=this.parentScale;return[-ce._internalPadding*ge,-(ce._internalPadding+U(this,te))*ge]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar($.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",U(this,fe)),this.editorDiv.addEventListener("focus",U(this,ue)),this.editorDiv.addEventListener("blur",U(this,de)),this.editorDiv.addEventListener("input",U(this,V)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",U(this,re)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",U(this,fe)),this.editorDiv.removeEventListener("focus",U(this,ue)),this.editorDiv.removeEventListener("blur",U(this,de)),this.editorDiv.removeEventListener("input",U(this,V)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ge){this._focusEventsAllowed&&(super.focusin(ge),ge.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ge;if(this.width){Ge(this,ne,Oi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ge=this._initialOptions)!=null&&ge.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ge=U(this,J),Ae=at(this,J,Ge(this,ne,ko).call(this).trimEnd());if(ge===Ae)return;const Oe=Re=>{if(at(this,J,Re),!Re){this.remove();return}Ge(this,ne,Li).call(this),this._uiManager.rebuild(this),Ge(this,ne,$r).call(this)};this.addCommands({cmd:()=>{Oe(Ae)},undo:()=>{Oe(ge)},mustExec:!1}),Ge(this,ne,$r).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ge){this.enterInEditMode()}keydown(ge){ge.target===this.div&&ge.key==="Enter"&&(this.enterInEditMode(),ge.preventDefault())}editorDivKeydown(ge){ce._keyboardManager.exec(this,ge)}editorDivFocus(ge){this.isEditing=!0}editorDivBlur(ge){this.isEditing=!1}editorDivInput(ge){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ge,Ae;this.width&&(ge=this.x,Ae=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",U(this,re)),this.enableEditing(),B.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Re=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("aria-label",Re)}),B.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Re=>{var Ne;return(Ne=this.editorDiv)==null?void 0:Ne.setAttribute("default-content",Re)}),this.editorDiv.contentEditable=!0;const{style:Oe}=this.editorDiv;if(Oe.fontSize=`calc(${U(this,te)}px * var(--scale-factor))`,Oe.color=U(this,ae),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,O.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Re,Ne]=this.parentDimensions;if(this.annotationElementId){const{position:Fe}=U(this,G);let[qe,Ee]=this.getInitialTranslation();[qe,Ee]=this.pageTranslationToScreen(qe,Ee);const[Te,Be]=this.pageDimensions,[ye,q]=this.pageTranslation;let Y,ve;switch(this.rotation){case 0:Y=ge+(Fe[0]-ye)/Te,ve=Ae+this.height-(Fe[1]-q)/Be;break;case 90:Y=ge+(Fe[0]-ye)/Te,ve=Ae-(Fe[1]-q)/Be,[qe,Ee]=[Ee,-qe];break;case 180:Y=ge-this.width+(Fe[0]-ye)/Te,ve=Ae-(Fe[1]-q)/Be,[qe,Ee]=[-qe,-Ee];break;case 270:Y=ge+(Fe[0]-ye-this.height*Be)/Te,ve=Ae+(Fe[1]-q-this.width*Te)/Be,[qe,Ee]=[-Ee,qe];break}this.setAt(Y*Re,ve*Ne,qe,Ee)}else this.setAt(ge*Re,Ae*Ne,this.width*Re,this.height*Ne);Ge(this,ne,Li).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ge,Ae,Oe){let Re=null;if(ge instanceof W.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Fe,fontColor:qe},rect:Ee,rotation:Te,id:Be},textContent:ye,textPosition:q,parent:{page:{pageNumber:Y}}}=ge;if(!ye||ye.length===0)return null;Re=ge={annotationType:$.AnnotationEditorType.FREETEXT,color:Array.from(qe),fontSize:Fe,value:ye.join(`
`),position:q,pageIndex:Y-1,rect:Ee,rotation:Te,id:Be,deleted:!1}}const Ne=super.deserialize(ge,Ae,Oe);return at(Ne,te,ge.fontSize),at(Ne,ae,$.Util.makeHexColor(...ge.color)),at(Ne,J,ge.value),Ne.annotationElementId=ge.id||null,at(Ne,G,Re),Ne}serialize(ge=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ae=ce._internalPadding*this.parentScale,Oe=this.getRect(Ae,Ae),Re=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:U(this,ae)),Ne={annotationType:$.AnnotationEditorType.FREETEXT,color:Re,fontSize:U(this,te),value:U(this,J),pageIndex:this.pageIndex,rect:Oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ge?Ne:this.annotationElementId&&!Ge(this,ne,To).call(this,Ne)?null:(Ne.id=this.annotationElementId,Ne)}};de=new WeakMap,ue=new WeakMap,V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakSet,Mo=function(ge){const Ae=Re=>{this.editorDiv.style.fontSize=`calc(${Re}px * var(--scale-factor))`,this.translate(0,-(Re-U(this,te))*this.parentScale),at(this,te,Re),Ge(this,ne,$r).call(this)},Oe=U(this,te);this.addCommands({cmd:()=>{Ae(ge)},undo:()=>{Ae(Oe)},mustExec:!0,type:$.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Po=function(ge){const Ae=U(this,ae);this.addCommands({cmd:()=>{at(this,ae,this.editorDiv.style.color=ge)},undo:()=>{at(this,ae,this.editorDiv.style.color=Ae)},mustExec:!0,type:$.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ko=function(){const ge=this.editorDiv.getElementsByTagName("div");if(ge.length===0)return this.editorDiv.innerText;const Ae=[];for(const Oe of ge)Ae.push(Oe.innerText.replace(/\r\n?|\n/,""));return Ae.join(`
`)},$r=function(){const[ge,Ae]=this.parentDimensions;let Oe;if(this.isAttachedToDOM)Oe=this.div.getBoundingClientRect();else{const{currentLayer:Re,div:Ne}=this,Fe=Ne.style.display;Ne.style.display="hidden",Re.div.append(this.div),Oe=Ne.getBoundingClientRect(),Ne.remove(),Ne.style.display=Fe}this.rotation%180===this.parentRotation%180?(this.width=Oe.width/ge,this.height=Oe.height/Ae):(this.width=Oe.height/ge,this.height=Oe.width/Ae),this.fixAndSetPosition()},Li=function(){if(this.editorDiv.replaceChildren(),!!U(this,J))for(const ge of U(this,J).split(`
`)){const Ae=document.createElement("div");Ae.append(ge?document.createTextNode(ge):document.createElement("br")),this.editorDiv.append(Ae)}},To=function(ge){const{value:Ae,fontSize:Oe,color:Re,rect:Ne,pageIndex:Fe}=U(this,G);return ge.value!==Ae||ge.fontSize!==Oe||ge.rect.some((qe,Ee)=>Math.abs(qe-Ne[Ee])>=1)||ge.color.some((qe,Ee)=>qe!==Re[Ee])||ge.pageIndex!==Fe},Oi=function(ge=!1){if(!this.annotationElementId)return;if(Ge(this,ne,$r).call(this),!ge&&(this.width===0||this.height===0)){setTimeout(()=>Ge(this,ne,Oi).call(this,!0),0);return}const Ae=ce._internalPadding*this.parentScale;U(this,G).rect=this.getRect(Ae,Ae)},In(ce,"_freeTextDefaultContent",""),In(ce,"_internalPadding",0),In(ce,"_defaultColor",null),In(ce,"_defaultFontSize",10),In(ce,"_type","freetext");let he=ce;R.FreeTextEditor=he},(A,R,H)=>{var ve,xe,gr,Ro,Qe,st,ct,dt,ht,gt,Ke,Xe,_e,we,He,Ye,rt,mt,ft,We,xt,wt,$o,Yr,Ni,ji,Ht,an,yn,vt,Ze,et,$t,Bi,qt,$e,pt,Mt,Io,zi;Object.defineProperty(R,"__esModule",{value:!0}),R.StampAnnotationElement=R.InkAnnotationElement=R.FreeTextAnnotationElement=R.AnnotationLayer=void 0;var $=H(1),O=H(6),B=H(3),W=H(30),he=H(31),de=H(32);const ue=1e3,V=9,fe=new WeakSet;function ae(Rt){return{width:Rt[2]-Rt[0],height:Rt[3]-Rt[1]}}class J{static create(ke){switch(ke.data.annotationType){case $.AnnotationType.LINK:return new te(ke);case $.AnnotationType.TEXT:return new G(ke);case $.AnnotationType.WIDGET:switch(ke.data.fieldType){case"Tx":return new oe(ke);case"Btn":return ke.data.radioButton?new Q(ke):ke.data.checkBox?new pe(ke):new le(ke);case"Ch":return new ie(ke);case"Sig":return new me(ke)}return new ne(ke);case $.AnnotationType.POPUP:return new se(ke);case $.AnnotationType.FREETEXT:return new Se(ke);case $.AnnotationType.LINE:return new ee(ke);case $.AnnotationType.SQUARE:return new ge(ke);case $.AnnotationType.CIRCLE:return new Ae(ke);case $.AnnotationType.POLYLINE:return new Oe(ke);case $.AnnotationType.CARET:return new Ne(ke);case $.AnnotationType.INK:return new Fe(ke);case $.AnnotationType.POLYGON:return new Re(ke);case $.AnnotationType.HIGHLIGHT:return new qe(ke);case $.AnnotationType.UNDERLINE:return new Ee(ke);case $.AnnotationType.SQUIGGLY:return new Te(ke);case $.AnnotationType.STRIKEOUT:return new Be(ke);case $.AnnotationType.STAMP:return new ye(ke);case $.AnnotationType.FILEATTACHMENT:return new q(ke);default:return new re(ke)}}}const Me=class Me{constructor(ke,{isRenderable:Ce=!1,ignoreBorder:Ue=!1,createQuadrilaterals:lt=!1}={}){ot(this,ve,!1);this.isRenderable=Ce,this.data=ke.data,this.layer=ke.layer,this.linkService=ke.linkService,this.downloadManager=ke.downloadManager,this.imageResourcesPath=ke.imageResourcesPath,this.renderForms=ke.renderForms,this.svgFactory=ke.svgFactory,this.annotationStorage=ke.annotationStorage,this.enableScripting=ke.enableScripting,this.hasJSActions=ke.hasJSActions,this._fieldObjects=ke.fieldObjects,this.parent=ke.parent,Ce&&(this.container=this._createContainer(Ue)),lt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ke,contentsObj:Ce,richText:Ue}){return!!(ke!=null&&ke.str||Ce!=null&&Ce.str||Ue!=null&&Ue.str)}get hasPopupData(){return Me._hasPopupData(this.data)}_createContainer(ke){const{data:Ce,parent:{page:Ue,viewport:lt}}=this,ut=document.createElement("section");ut.setAttribute("data-annotation-id",Ce.id),this instanceof ne||(ut.tabIndex=ue),ut.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ut.setAttribute("aria-haspopup","dialog"),Ce.noRotate&&ut.classList.add("norotate");const{pageWidth:bt,pageHeight:St,pageX:Nt,pageY:Ft}=lt.rawDims;if(!Ce.rect||this instanceof se){const{rotation:Jt}=Ce;return!Ce.hasOwnCanvas&&Jt!==0&&this.setRotation(Jt,ut),ut}const{width:kt,height:rn}=ae(Ce.rect),Dt=$.Util.normalizeRect([Ce.rect[0],Ue.view[3]-Ce.rect[1]+Ue.view[1],Ce.rect[2],Ue.view[3]-Ce.rect[3]+Ue.view[1]]);if(!ke&&Ce.borderStyle.width>0){ut.style.borderWidth=`${Ce.borderStyle.width}px`;const Jt=Ce.borderStyle.horizontalCornerRadius,un=Ce.borderStyle.verticalCornerRadius;if(Jt>0||un>0){const Mn=`calc(${Jt}px * var(--scale-factor)) / calc(${un}px * var(--scale-factor))`;ut.style.borderRadius=Mn}else if(this instanceof Q){const Mn=`calc(${kt}px * var(--scale-factor)) / calc(${rn}px * var(--scale-factor))`;ut.style.borderRadius=Mn}switch(Ce.borderStyle.style){case $.AnnotationBorderStyleType.SOLID:ut.style.borderStyle="solid";break;case $.AnnotationBorderStyleType.DASHED:ut.style.borderStyle="dashed";break;case $.AnnotationBorderStyleType.BEVELED:(0,$.warn)("Unimplemented border style: beveled");break;case $.AnnotationBorderStyleType.INSET:(0,$.warn)("Unimplemented border style: inset");break;case $.AnnotationBorderStyleType.UNDERLINE:ut.style.borderBottomStyle="solid";break}const bn=Ce.borderColor||null;bn?(at(this,ve,!0),ut.style.borderColor=$.Util.makeHexColor(bn[0]|0,bn[1]|0,bn[2]|0)):ut.style.borderWidth=0}ut.style.left=`${100*(Dt[0]-Nt)/bt}%`,ut.style.top=`${100*(Dt[1]-Ft)/St}%`;const{rotation:zt}=Ce;return Ce.hasOwnCanvas||zt===0?(ut.style.width=`${100*kt/bt}%`,ut.style.height=`${100*rn/St}%`):this.setRotation(zt,ut),ut}setRotation(ke,Ce=this.container){if(!this.data.rect)return;const{pageWidth:Ue,pageHeight:lt}=this.parent.viewport.rawDims,{width:ut,height:bt}=ae(this.data.rect);let St,Nt;ke%180===0?(St=100*ut/Ue,Nt=100*bt/lt):(St=100*bt/Ue,Nt=100*ut/lt),Ce.style.width=`${St}%`,Ce.style.height=`${Nt}%`,Ce.setAttribute("data-main-rotation",(360-ke)%360)}get _commonActions(){const ke=(Ce,Ue,lt)=>{const ut=lt.detail[Ce],bt=ut[0],St=ut.slice(1);lt.target.style[Ue]=W.ColorConverters[`${bt}_HTML`](St),this.annotationStorage.setValue(this.data.id,{[Ue]:W.ColorConverters[`${bt}_rgb`](St)})};return(0,$.shadow)(this,"_commonActions",{display:Ce=>{const{display:Ue}=Ce.detail,lt=Ue%2===1;this.container.style.visibility=lt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:lt,noPrint:Ue===1||Ue===2})},print:Ce=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ce.detail.print})},hidden:Ce=>{const{hidden:Ue}=Ce.detail;this.container.style.visibility=Ue?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ue,noView:Ue})},focus:Ce=>{setTimeout(()=>Ce.target.focus({preventScroll:!1}),0)},userName:Ce=>{Ce.target.title=Ce.detail.userName},readonly:Ce=>{Ce.target.disabled=Ce.detail.readonly},required:Ce=>{this._setRequired(Ce.target,Ce.detail.required)},bgColor:Ce=>{ke("bgColor","backgroundColor",Ce)},fillColor:Ce=>{ke("fillColor","backgroundColor",Ce)},fgColor:Ce=>{ke("fgColor","color",Ce)},textColor:Ce=>{ke("textColor","color",Ce)},borderColor:Ce=>{ke("borderColor","borderColor",Ce)},strokeColor:Ce=>{ke("strokeColor","borderColor",Ce)},rotation:Ce=>{const Ue=Ce.detail.rotation;this.setRotation(Ue),this.annotationStorage.setValue(this.data.id,{rotation:Ue})}})}_dispatchEventFromSandbox(ke,Ce){const Ue=this._commonActions;for(const lt of Object.keys(Ce.detail)){const ut=ke[lt]||Ue[lt];ut==null||ut(Ce)}}_setDefaultPropertiesFromJS(ke){if(!this.enableScripting)return;const Ce=this.annotationStorage.getRawValue(this.data.id);if(!Ce)return;const Ue=this._commonActions;for(const[lt,ut]of Object.entries(Ce)){const bt=Ue[lt];if(bt){const St={detail:{[lt]:ut},target:ke};bt(St),delete Ce[lt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ke}=this.data;if(!ke)return;const[Ce,Ue,lt,ut]=this.data.rect;if(ke.length===1){const[,{x:un,y:bn},{x:Mn,y:Wn}]=ke[0];if(lt===un&&ut===bn&&Ce===Mn&&Ue===Wn)return}const{style:bt}=this.container;let St;if(U(this,ve)){const{borderColor:un,borderWidth:bn}=bt;bt.borderWidth=0,St=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${un}" stroke-width="${bn}">`],this.container.classList.add("hasBorder")}const Nt=lt-Ce,Ft=ut-Ue,{svgFactory:kt}=this,rn=kt.createElement("svg");rn.classList.add("quadrilateralsContainer"),rn.setAttribute("width",0),rn.setAttribute("height",0);const Dt=kt.createElement("defs");rn.append(Dt);const zt=kt.createElement("clipPath"),Jt=`clippath_${this.data.id}`;zt.setAttribute("id",Jt),zt.setAttribute("clipPathUnits","objectBoundingBox"),Dt.append(zt);for(const[,{x:un,y:bn},{x:Mn,y:Wn}]of ke){const Nn=kt.createElement("rect"),nr=(Mn-Ce)/Nt,ir=(ut-bn)/Ft,or=(un-Mn)/Nt,Dr=(bn-Wn)/Ft;Nn.setAttribute("x",nr),Nn.setAttribute("y",ir),Nn.setAttribute("width",or),Nn.setAttribute("height",Dr),zt.append(Nn),St==null||St.push(`<rect vector-effect="non-scaling-stroke" x="${nr}" y="${ir}" width="${or}" height="${Dr}"/>`)}U(this,ve)&&(St.push("</g></svg>')"),bt.backgroundImage=St.join("")),this.container.append(rn),this.container.style.clipPath=`url(#${Jt})`}_createPopup(){const{container:ke,data:Ce}=this;ke.setAttribute("aria-haspopup","dialog");const Ue=new se({data:{color:Ce.color,titleObj:Ce.titleObj,modificationDate:Ce.modificationDate,contentsObj:Ce.contentsObj,richText:Ce.richText,parentRect:Ce.rect,borderStyle:0,id:`popup_${Ce.id}`,rotation:Ce.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Ue.render())}render(){(0,$.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ke,Ce=null){const Ue=[];if(this._fieldObjects){const lt=this._fieldObjects[ke];if(lt)for(const{page:ut,id:bt,exportValues:St}of lt){if(ut===-1||bt===Ce)continue;const Nt=typeof St=="string"?St:null,Ft=document.querySelector(`[data-element-id="${bt}"]`);if(Ft&&!fe.has(Ft)){(0,$.warn)(`_getElementsByName - element not allowed: ${bt}`);continue}Ue.push({id:bt,exportValue:Nt,domElement:Ft})}return Ue}for(const lt of document.getElementsByName(ke)){const{exportValue:ut}=lt,bt=lt.getAttribute("data-element-id");bt!==Ce&&fe.has(lt)&&Ue.push({id:bt,exportValue:ut,domElement:lt})}return Ue}show(){var ke;this.container&&(this.container.hidden=!1),(ke=this.popup)==null||ke.maybeShow()}hide(){var ke;this.container&&(this.container.hidden=!0),(ke=this.popup)==null||ke.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ke=this.getElementsToTriggerPopup();if(Array.isArray(ke))for(const Ce of ke)Ce.classList.add("highlightArea");else ke.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ke,data:{id:Ce}}=this;this.container.addEventListener("dblclick",()=>{var Ue;(Ue=this.linkService.eventBus)==null||Ue.dispatch("switchannotationeditormode",{source:this,mode:ke,editId:Ce})})}};ve=new WeakMap;let re=Me;class te extends re{constructor(Ce,Ue=null){super(Ce,{isRenderable:!0,ignoreBorder:!!(Ue!=null&&Ue.ignoreBorder),createQuadrilaterals:!0});ot(this,xe);this.isTooltipOnly=Ce.data.isTooltipOnly}render(){const{data:Ce,linkService:Ue}=this,lt=document.createElement("a");lt.setAttribute("data-element-id",Ce.id);let ut=!1;return Ce.url?(Ue.addLinkAttributes(lt,Ce.url,Ce.newWindow),ut=!0):Ce.action?(this._bindNamedAction(lt,Ce.action),ut=!0):Ce.attachment?(this._bindAttachment(lt,Ce.attachment),ut=!0):Ce.setOCGState?(Ge(this,xe,Ro).call(this,lt,Ce.setOCGState),ut=!0):Ce.dest?(this._bindLink(lt,Ce.dest),ut=!0):(Ce.actions&&(Ce.actions.Action||Ce.actions["Mouse Up"]||Ce.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(lt,Ce),ut=!0),Ce.resetForm?(this._bindResetFormAction(lt,Ce.resetForm),ut=!0):this.isTooltipOnly&&!ut&&(this._bindLink(lt,""),ut=!0)),this.container.classList.add("linkAnnotation"),ut&&this.container.append(lt),this.container}_bindLink(Ce,Ue){Ce.href=this.linkService.getDestinationHash(Ue),Ce.onclick=()=>(Ue&&this.linkService.goToDestination(Ue),!1),(Ue||Ue==="")&&Ge(this,xe,gr).call(this)}_bindNamedAction(Ce,Ue){Ce.href=this.linkService.getAnchorUrl(""),Ce.onclick=()=>(this.linkService.executeNamedAction(Ue),!1),Ge(this,xe,gr).call(this)}_bindAttachment(Ce,Ue){Ce.href=this.linkService.getAnchorUrl(""),Ce.onclick=()=>{var lt;return(lt=this.downloadManager)==null||lt.openOrDownloadData(this.container,Ue.content,Ue.filename),!1},Ge(this,xe,gr).call(this)}_bindJSAction(Ce,Ue){Ce.href=this.linkService.getAnchorUrl("");const lt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ut of Object.keys(Ue.actions)){const bt=lt.get(ut);bt&&(Ce[bt]=()=>{var St;return(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ue.id,name:ut}}),!1})}Ce.onclick||(Ce.onclick=()=>!1),Ge(this,xe,gr).call(this)}_bindResetFormAction(Ce,Ue){const lt=Ce.onclick;if(lt||(Ce.href=this.linkService.getAnchorUrl("")),Ge(this,xe,gr).call(this),!this._fieldObjects){(0,$.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),lt||(Ce.onclick=()=>!1);return}Ce.onclick=()=>{var rn;lt==null||lt();const{fields:ut,refs:bt,include:St}=Ue,Nt=[];if(ut.length!==0||bt.length!==0){const Dt=new Set(bt);for(const zt of ut){const Jt=this._fieldObjects[zt]||[];for(const{id:un}of Jt)Dt.add(un)}for(const zt of Object.values(this._fieldObjects))for(const Jt of zt)Dt.has(Jt.id)===St&&Nt.push(Jt)}else for(const Dt of Object.values(this._fieldObjects))Nt.push(...Dt);const Ft=this.annotationStorage,kt=[];for(const Dt of Nt){const{id:zt}=Dt;switch(kt.push(zt),Dt.type){case"text":{const un=Dt.defaultValue||"";Ft.setValue(zt,{value:un});break}case"checkbox":case"radiobutton":{const un=Dt.defaultValue===Dt.exportValues;Ft.setValue(zt,{value:un});break}case"combobox":case"listbox":{const un=Dt.defaultValue||"";Ft.setValue(zt,{value:un});break}default:continue}const Jt=document.querySelector(`[data-element-id="${zt}"]`);if(Jt){if(!fe.has(Jt)){(0,$.warn)(`_bindResetFormAction - element not allowed: ${zt}`);continue}}else continue;Jt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:kt,name:"ResetForm"}})),!1}}}xe=new WeakSet,gr=function(){this.container.setAttribute("data-internal-link","")},Ro=function(Ce,Ue){Ce.href=this.linkService.getAnchorUrl(""),Ce.onclick=()=>(this.linkService.executeSetOCGState(Ue),!1),Ge(this,xe,gr).call(this)};class G extends re{constructor(ke){super(ke,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ke=document.createElement("img");return ke.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ke.alt="[{{type}} Annotation]",ke.dataset.l10nId="text_annotation_type",ke.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ke),this.container}}class ne extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ke){var Ce;this.data.hasOwnCanvas&&(((Ce=ke.previousSibling)==null?void 0:Ce.nodeName)==="CANVAS"&&(ke.previousSibling.hidden=!0),ke.hidden=!1)}_getKeyModifier(ke){const{isWin:Ce,isMac:Ue}=$.FeatureTest.platform;return Ce&&ke.ctrlKey||Ue&&ke.metaKey}_setEventListener(ke,Ce,Ue,lt,ut){Ue.includes("mouse")?ke.addEventListener(Ue,bt=>{var St;(St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ut(bt),shift:bt.shiftKey,modifier:this._getKeyModifier(bt)}})}):ke.addEventListener(Ue,bt=>{var St;if(Ue==="blur"){if(!Ce.focused||!bt.relatedTarget)return;Ce.focused=!1}else if(Ue==="focus"){if(Ce.focused)return;Ce.focused=!0}ut&&((St=this.linkService.eventBus)==null||St.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:lt,value:ut(bt)}}))})}_setEventListeners(ke,Ce,Ue,lt){var ut,bt,St;for(const[Nt,Ft]of Ue)(Ft==="Action"||(ut=this.data.actions)!=null&&ut[Ft])&&((Ft==="Focus"||Ft==="Blur")&&(Ce||(Ce={focused:!1})),this._setEventListener(ke,Ce,Nt,Ft,lt),Ft==="Focus"&&!((bt=this.data.actions)!=null&&bt.Blur)?this._setEventListener(ke,Ce,"blur","Blur",null):Ft==="Blur"&&!((St=this.data.actions)!=null&&St.Focus)&&this._setEventListener(ke,Ce,"focus","Focus",null))}_setBackgroundColor(ke){const Ce=this.data.backgroundColor||null;ke.style.backgroundColor=Ce===null?"transparent":$.Util.makeHexColor(Ce[0],Ce[1],Ce[2])}_setTextStyle(ke){const Ce=["left","center","right"],{fontColor:Ue}=this.data.defaultAppearanceData,lt=this.data.defaultAppearanceData.fontSize||V,ut=ke.style;let bt;const St=2,Nt=Ft=>Math.round(10*Ft)/10;if(this.data.multiLine){const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-St),kt=Math.round(Ft/($.LINE_FACTOR*lt))||1,rn=Ft/kt;bt=Math.min(lt,Nt(rn/$.LINE_FACTOR))}else{const Ft=Math.abs(this.data.rect[3]-this.data.rect[1]-St);bt=Math.min(lt,Nt(Ft/$.LINE_FACTOR))}ut.fontSize=`calc(${bt}px * var(--scale-factor))`,ut.color=$.Util.makeHexColor(Ue[0],Ue[1],Ue[2]),this.data.textAlignment!==null&&(ut.textAlign=Ce[this.data.textAlignment])}_setRequired(ke,Ce){Ce?ke.setAttribute("required",!0):ke.removeAttribute("required"),ke.setAttribute("aria-required",Ce)}}class oe extends ne{constructor(ke){const Ce=ke.renderForms||!ke.data.hasAppearance&&!!ke.data.fieldValue;super(ke,{isRenderable:Ce})}setPropertyOnSiblings(ke,Ce,Ue,lt){const ut=this.annotationStorage;for(const bt of this._getElementsByName(ke.name,ke.id))bt.domElement&&(bt.domElement[Ce]=Ue),ut.setValue(bt.id,{[lt]:Ue})}render(){var lt,ut;const ke=this.annotationStorage,Ce=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ue=null;if(this.renderForms){const bt=ke.getValue(Ce,{value:this.data.fieldValue});let St=bt.value||"";const Nt=ke.getValue(Ce,{charLimit:this.data.maxLen}).charLimit;Nt&&St.length>Nt&&(St=St.slice(0,Nt));let Ft=bt.formattedValue||((lt=this.data.textContent)==null?void 0:lt.join(`
`))||null;Ft&&this.data.comb&&(Ft=Ft.replaceAll(/\s+/g,""));const kt={userValue:St,formattedValue:Ft,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ue=document.createElement("textarea"),Ue.textContent=Ft??St,this.data.doNotScroll&&(Ue.style.overflowY="hidden")):(Ue=document.createElement("input"),Ue.type="text",Ue.setAttribute("value",Ft??St),this.data.doNotScroll&&(Ue.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ue.hidden=!0),fe.add(Ue),Ue.setAttribute("data-element-id",Ce),Ue.disabled=this.data.readOnly,Ue.name=this.data.fieldName,Ue.tabIndex=ue,this._setRequired(Ue,this.data.required),Nt&&(Ue.maxLength=Nt),Ue.addEventListener("input",Dt=>{ke.setValue(Ce,{value:Dt.target.value}),this.setPropertyOnSiblings(Ue,"value",Dt.target.value,"value"),kt.formattedValue=null}),Ue.addEventListener("resetform",Dt=>{const zt=this.data.defaultFieldValue??"";Ue.value=kt.userValue=zt,kt.formattedValue=null});let rn=Dt=>{const{formattedValue:zt}=kt;zt!=null&&(Dt.target.value=zt),Dt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ue.addEventListener("focus",zt=>{if(kt.focused)return;const{target:Jt}=zt;kt.userValue&&(Jt.value=kt.userValue),kt.lastCommittedValue=Jt.value,kt.commitKey=1,kt.focused=!0}),Ue.addEventListener("updatefromsandbox",zt=>{this.showElementAndHideCanvas(zt.target);const Jt={value(un){kt.userValue=un.detail.value??"",ke.setValue(Ce,{value:kt.userValue.toString()}),un.target.value=kt.userValue},formattedValue(un){const{formattedValue:bn}=un.detail;kt.formattedValue=bn,bn!=null&&un.target!==document.activeElement&&(un.target.value=bn),ke.setValue(Ce,{formattedValue:bn})},selRange(un){un.target.setSelectionRange(...un.detail.selRange)},charLimit:un=>{var Nn;const{charLimit:bn}=un.detail,{target:Mn}=un;if(bn===0){Mn.removeAttribute("maxLength");return}Mn.setAttribute("maxLength",bn);let Wn=kt.userValue;!Wn||Wn.length<=bn||(Wn=Wn.slice(0,bn),Mn.value=kt.userValue=Wn,ke.setValue(Ce,{value:Wn}),(Nn=this.linkService.eventBus)==null||Nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:Wn,willCommit:!0,commitKey:1,selStart:Mn.selectionStart,selEnd:Mn.selectionEnd}}))}};this._dispatchEventFromSandbox(Jt,zt)}),Ue.addEventListener("keydown",zt=>{var bn;kt.commitKey=1;let Jt=-1;if(zt.key==="Escape"?Jt=0:zt.key==="Enter"&&!this.data.multiLine?Jt=2:zt.key==="Tab"&&(kt.commitKey=3),Jt===-1)return;const{value:un}=zt.target;kt.lastCommittedValue!==un&&(kt.lastCommittedValue=un,kt.userValue=un,(bn=this.linkService.eventBus)==null||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:un,willCommit:!0,commitKey:Jt,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}}))});const Dt=rn;rn=null,Ue.addEventListener("blur",zt=>{var un;if(!kt.focused||!zt.relatedTarget)return;kt.focused=!1;const{value:Jt}=zt.target;kt.userValue=Jt,kt.lastCommittedValue!==Jt&&((un=this.linkService.eventBus)==null||un.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:Jt,willCommit:!0,commitKey:kt.commitKey,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}})),Dt(zt)}),(ut=this.data.actions)!=null&&ut.Keystroke&&Ue.addEventListener("beforeinput",zt=>{var ir;kt.lastCommittedValue=null;const{data:Jt,target:un}=zt,{value:bn,selectionStart:Mn,selectionEnd:Wn}=un;let Nn=Mn,nr=Wn;switch(zt.inputType){case"deleteWordBackward":{const or=bn.substring(0,Mn).match(/\w*[^\w]*$/);or&&(Nn-=or[0].length);break}case"deleteWordForward":{const or=bn.substring(Mn).match(/^[^\w]*\w*/);or&&(nr+=or[0].length);break}case"deleteContentBackward":Mn===Wn&&(Nn-=1);break;case"deleteContentForward":Mn===Wn&&(nr+=1);break}zt.preventDefault(),(ir=this.linkService.eventBus)==null||ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:bn,change:Jt||"",willCommit:!1,selStart:Nn,selEnd:nr}})}),this._setEventListeners(Ue,kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zt=>zt.target.value)}if(rn&&Ue.addEventListener("blur",rn),this.data.comb){const zt=(this.data.rect[2]-this.data.rect[0])/Nt;Ue.classList.add("comb"),Ue.style.letterSpacing=`calc(${zt}px * var(--scale-factor) - 1ch)`}}else Ue=document.createElement("div"),Ue.textContent=this.data.fieldValue,Ue.style.verticalAlign="middle",Ue.style.display="table-cell";return this._setTextStyle(Ue),this._setBackgroundColor(Ue),this._setDefaultPropertiesFromJS(Ue),this.container.append(Ue),this.container}}class me extends ne{constructor(ke){super(ke,{isRenderable:!!ke.data.hasOwnCanvas})}}class pe extends ne{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){const ke=this.annotationStorage,Ce=this.data,Ue=Ce.id;let lt=ke.getValue(Ue,{value:Ce.exportValue===Ce.fieldValue}).value;typeof lt=="string"&&(lt=lt!=="Off",ke.setValue(Ue,{value:lt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ut=document.createElement("input");return fe.add(ut),ut.setAttribute("data-element-id",Ue),ut.disabled=Ce.readOnly,this._setRequired(ut,this.data.required),ut.type="checkbox",ut.name=Ce.fieldName,lt&&ut.setAttribute("checked",!0),ut.setAttribute("exportValue",Ce.exportValue),ut.tabIndex=ue,ut.addEventListener("change",bt=>{const{name:St,checked:Nt}=bt.target;for(const Ft of this._getElementsByName(St,Ue)){const kt=Nt&&Ft.exportValue===Ce.exportValue;Ft.domElement&&(Ft.domElement.checked=kt),ke.setValue(Ft.id,{value:kt})}ke.setValue(Ue,{value:Nt})}),ut.addEventListener("resetform",bt=>{const St=Ce.defaultFieldValue||"Off";bt.target.checked=St===Ce.exportValue}),this.enableScripting&&this.hasJSActions&&(ut.addEventListener("updatefromsandbox",bt=>{const St={value(Nt){Nt.target.checked=Nt.detail.value!=="Off",ke.setValue(Ue,{value:Nt.target.checked})}};this._dispatchEventFromSandbox(St,bt)}),this._setEventListeners(ut,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bt=>bt.target.checked)),this._setBackgroundColor(ut),this._setDefaultPropertiesFromJS(ut),this.container.append(ut),this.container}}class Q extends ne{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ke=this.annotationStorage,Ce=this.data,Ue=Ce.id;let lt=ke.getValue(Ue,{value:Ce.fieldValue===Ce.buttonValue}).value;typeof lt=="string"&&(lt=lt!==Ce.buttonValue,ke.setValue(Ue,{value:lt}));const ut=document.createElement("input");if(fe.add(ut),ut.setAttribute("data-element-id",Ue),ut.disabled=Ce.readOnly,this._setRequired(ut,this.data.required),ut.type="radio",ut.name=Ce.fieldName,lt&&ut.setAttribute("checked",!0),ut.tabIndex=ue,ut.addEventListener("change",bt=>{const{name:St,checked:Nt}=bt.target;for(const Ft of this._getElementsByName(St,Ue))ke.setValue(Ft.id,{value:!1});ke.setValue(Ue,{value:Nt})}),ut.addEventListener("resetform",bt=>{const St=Ce.defaultFieldValue;bt.target.checked=St!=null&&St===Ce.buttonValue}),this.enableScripting&&this.hasJSActions){const bt=Ce.buttonValue;ut.addEventListener("updatefromsandbox",St=>{const Nt={value:Ft=>{const kt=bt===Ft.detail.value;for(const rn of this._getElementsByName(Ft.target.name)){const Dt=kt&&rn.id===Ue;rn.domElement&&(rn.domElement.checked=Dt),ke.setValue(rn.id,{value:Dt})}}};this._dispatchEventFromSandbox(Nt,St)}),this._setEventListeners(ut,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.checked)}return this._setBackgroundColor(ut),this._setDefaultPropertiesFromJS(ut),this.container.append(ut),this.container}}class le extends te{constructor(ke){super(ke,{ignoreBorder:ke.data.hasAppearance})}render(){const ke=super.render();ke.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ke.title=this.data.alternativeText);const Ce=ke.lastChild;return this.enableScripting&&this.hasJSActions&&Ce&&(this._setDefaultPropertiesFromJS(Ce),Ce.addEventListener("updatefromsandbox",Ue=>{this._dispatchEventFromSandbox({},Ue)})),ke}}class ie extends ne{constructor(ke){super(ke,{isRenderable:ke.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ke=this.annotationStorage,Ce=this.data.id,Ue=ke.getValue(Ce,{value:this.data.fieldValue}),lt=document.createElement("select");fe.add(lt),lt.setAttribute("data-element-id",Ce),lt.disabled=this.data.readOnly,this._setRequired(lt,this.data.required),lt.name=this.data.fieldName,lt.tabIndex=ue;let ut=this.data.combo&&this.data.options.length>0;this.data.combo||(lt.size=this.data.options.length,this.data.multiSelect&&(lt.multiple=!0)),lt.addEventListener("resetform",kt=>{const rn=this.data.defaultFieldValue;for(const Dt of lt.options)Dt.selected=Dt.value===rn});for(const kt of this.data.options){const rn=document.createElement("option");rn.textContent=kt.displayValue,rn.value=kt.exportValue,Ue.value.includes(kt.exportValue)&&(rn.setAttribute("selected",!0),ut=!1),lt.append(rn)}let bt=null;if(ut){const kt=document.createElement("option");kt.value=" ",kt.setAttribute("hidden",!0),kt.setAttribute("selected",!0),lt.prepend(kt),bt=()=>{kt.remove(),lt.removeEventListener("input",bt),bt=null},lt.addEventListener("input",bt)}const St=kt=>{const rn=kt?"value":"textContent",{options:Dt,multiple:zt}=lt;return zt?Array.prototype.filter.call(Dt,Jt=>Jt.selected).map(Jt=>Jt[rn]):Dt.selectedIndex===-1?null:Dt[Dt.selectedIndex][rn]};let Nt=St(!1);const Ft=kt=>{const rn=kt.target.options;return Array.prototype.map.call(rn,Dt=>({displayValue:Dt.textContent,exportValue:Dt.value}))};return this.enableScripting&&this.hasJSActions?(lt.addEventListener("updatefromsandbox",kt=>{const rn={value(Dt){bt==null||bt();const zt=Dt.detail.value,Jt=new Set(Array.isArray(zt)?zt:[zt]);for(const un of lt.options)un.selected=Jt.has(un.value);ke.setValue(Ce,{value:St(!0)}),Nt=St(!1)},multipleSelection(Dt){lt.multiple=!0},remove(Dt){const zt=lt.options,Jt=Dt.detail.remove;zt[Jt].selected=!1,lt.remove(Jt),zt.length>0&&Array.prototype.findIndex.call(zt,bn=>bn.selected)===-1&&(zt[0].selected=!0),ke.setValue(Ce,{value:St(!0),items:Ft(Dt)}),Nt=St(!1)},clear(Dt){for(;lt.length!==0;)lt.remove(0);ke.setValue(Ce,{value:null,items:[]}),Nt=St(!1)},insert(Dt){const{index:zt,displayValue:Jt,exportValue:un}=Dt.detail.insert,bn=lt.children[zt],Mn=document.createElement("option");Mn.textContent=Jt,Mn.value=un,bn?bn.before(Mn):lt.append(Mn),ke.setValue(Ce,{value:St(!0),items:Ft(Dt)}),Nt=St(!1)},items(Dt){const{items:zt}=Dt.detail;for(;lt.length!==0;)lt.remove(0);for(const Jt of zt){const{displayValue:un,exportValue:bn}=Jt,Mn=document.createElement("option");Mn.textContent=un,Mn.value=bn,lt.append(Mn)}lt.options.length>0&&(lt.options[0].selected=!0),ke.setValue(Ce,{value:St(!0),items:Ft(Dt)}),Nt=St(!1)},indices(Dt){const zt=new Set(Dt.detail.indices);for(const Jt of Dt.target.options)Jt.selected=zt.has(Jt.index);ke.setValue(Ce,{value:St(!0)}),Nt=St(!1)},editable(Dt){Dt.target.disabled=!Dt.detail.editable}};this._dispatchEventFromSandbox(rn,kt)}),lt.addEventListener("input",kt=>{var Dt;const rn=St(!0);ke.setValue(Ce,{value:rn}),kt.preventDefault(),(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce,name:"Keystroke",value:Nt,changeEx:rn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(lt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],kt=>kt.target.value)):lt.addEventListener("input",function(kt){ke.setValue(Ce,{value:St(!0)})}),this.data.combo&&this._setTextStyle(lt),this._setBackgroundColor(lt),this._setDefaultPropertiesFromJS(lt),this.container.append(lt),this.container}}class se extends re{constructor(ke){const{data:Ce,elements:Ue}=ke;super(ke,{isRenderable:re._hasPopupData(Ce)}),this.elements=Ue}render(){this.container.classList.add("popupAnnotation");const ke=new ce({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Ce=[];for(const Ue of this.elements)Ue.popup=ke,Ce.push(Ue.data.id),Ue.addHighlightArea();return this.container.setAttribute("aria-controls",Ce.map(Ue=>`${$.AnnotationPrefix}${Ue}`).join(",")),this.container}}class ce{constructor({container:ke,color:Ce,elements:Ue,titleObj:lt,modificationDate:ut,contentsObj:bt,richText:St,parent:Nt,rect:Ft,parentRect:kt,open:rn}){ot(this,wt);ot(this,Qe,null);ot(this,st,Ge(this,wt,$o).bind(this));ot(this,ct,Ge(this,wt,ji).bind(this));ot(this,dt,Ge(this,wt,Ni).bind(this));ot(this,ht,Ge(this,wt,Yr).bind(this));ot(this,gt,null);ot(this,Ke,null);ot(this,Xe,null);ot(this,_e,null);ot(this,we,null);ot(this,He,null);ot(this,Ye,!1);ot(this,rt,null);ot(this,mt,null);ot(this,ft,null);ot(this,We,null);ot(this,xt,!1);var zt;at(this,Ke,ke),at(this,We,lt),at(this,Xe,bt),at(this,ft,St),at(this,we,Nt),at(this,gt,Ce),at(this,mt,Ft),at(this,He,kt),at(this,_e,Ue);const Dt=O.PDFDateString.toDateObject(ut);Dt&&at(this,Qe,Nt.l10n.get("annotation_date_string",{date:Dt.toLocaleDateString(),time:Dt.toLocaleTimeString()})),this.trigger=Ue.flatMap(Jt=>Jt.getElementsToTriggerPopup());for(const Jt of this.trigger)Jt.addEventListener("click",U(this,ht)),Jt.addEventListener("mouseenter",U(this,dt)),Jt.addEventListener("mouseleave",U(this,ct)),Jt.classList.add("popupTriggerArea");for(const Jt of Ue)(zt=Jt.container)==null||zt.addEventListener("keydown",U(this,st));U(this,Ke).hidden=!0,rn&&Ge(this,wt,Yr).call(this)}render(){if(U(this,rt))return;const{page:{view:ke},viewport:{rawDims:{pageWidth:Ce,pageHeight:Ue,pageX:lt,pageY:ut}}}=U(this,we),bt=at(this,rt,document.createElement("div"));if(bt.className="popup",U(this,gt)){const Nn=bt.style.outlineColor=$.Util.makeHexColor(...U(this,gt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?bt.style.backgroundColor=`color-mix(in srgb, ${Nn} 30%, white)`:bt.style.backgroundColor=$.Util.makeHexColor(...U(this,gt).map(ir=>Math.floor(.7*(255-ir)+ir)))}const St=document.createElement("span");St.className="header";const Nt=document.createElement("h1");if(St.append(Nt),{dir:Nt.dir,str:Nt.textContent}=U(this,We),bt.append(St),U(this,Qe)){const Nn=document.createElement("span");Nn.classList.add("popupDate"),U(this,Qe).then(nr=>{Nn.textContent=nr}),St.append(Nn)}const Ft=U(this,Xe),kt=U(this,ft);if(kt!=null&&kt.str&&(!(Ft!=null&&Ft.str)||Ft.str===kt.str))de.XfaLayer.render({xfaHtml:kt.html,intent:"richText",div:bt}),bt.lastChild.classList.add("richText","popupContent");else{const Nn=this._formatContents(Ft);bt.append(Nn)}let rn=!!U(this,He),Dt=rn?U(this,He):U(this,mt);for(const Nn of U(this,_e))if(!Dt||$.Util.intersect(Nn.data.rect,Dt)!==null){Dt=Nn.data.rect,rn=!0;break}const zt=$.Util.normalizeRect([Dt[0],ke[3]-Dt[1]+ke[1],Dt[2],ke[3]-Dt[3]+ke[1]]),un=rn?Dt[2]-Dt[0]+5:0,bn=zt[0]+un,Mn=zt[1],{style:Wn}=U(this,Ke);Wn.left=`${100*(bn-lt)/Ce}%`,Wn.top=`${100*(Mn-ut)/Ue}%`,U(this,Ke).append(bt)}_formatContents({str:ke,dir:Ce}){const Ue=document.createElement("p");Ue.classList.add("popupContent"),Ue.dir=Ce;const lt=ke.split(/(?:\r\n?|\n)/);for(let ut=0,bt=lt.length;ut<bt;++ut){const St=lt[ut];Ue.append(document.createTextNode(St)),ut<bt-1&&Ue.append(document.createElement("br"))}return Ue}forceHide(){at(this,xt,this.isVisible),U(this,xt)&&(U(this,Ke).hidden=!0)}maybeShow(){U(this,xt)&&(at(this,xt,!1),U(this,Ke).hidden=!1)}get isVisible(){return U(this,Ke).hidden===!1}}Qe=new WeakMap,st=new WeakMap,ct=new WeakMap,dt=new WeakMap,ht=new WeakMap,gt=new WeakMap,Ke=new WeakMap,Xe=new WeakMap,_e=new WeakMap,we=new WeakMap,He=new WeakMap,Ye=new WeakMap,rt=new WeakMap,mt=new WeakMap,ft=new WeakMap,We=new WeakMap,xt=new WeakMap,wt=new WeakSet,$o=function(ke){ke.altKey||ke.shiftKey||ke.ctrlKey||ke.metaKey||(ke.key==="Enter"||ke.key==="Escape"&&U(this,Ye))&&Ge(this,wt,Yr).call(this)},Yr=function(){at(this,Ye,!U(this,Ye)),U(this,Ye)?(Ge(this,wt,Ni).call(this),U(this,Ke).addEventListener("click",U(this,ht)),U(this,Ke).addEventListener("keydown",U(this,st))):(Ge(this,wt,ji).call(this),U(this,Ke).removeEventListener("click",U(this,ht)),U(this,Ke).removeEventListener("keydown",U(this,st)))},Ni=function(){U(this,rt)||this.render(),this.isVisible?U(this,Ye)&&U(this,Ke).classList.add("focused"):(U(this,Ke).hidden=!1,U(this,Ke).style.zIndex=parseInt(U(this,Ke).style.zIndex)+1e3)},ji=function(){U(this,Ke).classList.remove("focused"),!(U(this,Ye)||!this.isVisible)&&(U(this,Ke).hidden=!0,U(this,Ke).style.zIndex=parseInt(U(this,Ke).style.zIndex)-1e3)};class Se extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ke.data.textContent,this.textPosition=ke.data.textPosition,this.annotationEditorType=$.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ke=document.createElement("div");ke.classList.add("annotationTextContent"),ke.setAttribute("role","comment");for(const Ce of this.textContent){const Ue=document.createElement("span");Ue.textContent=Ce,ke.append(Ue)}this.container.append(ke)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}R.FreeTextAnnotationElement=Se;class ee extends re{constructor(Ce){super(Ce,{isRenderable:!0,ignoreBorder:!0});ot(this,Ht,null)}render(){this.container.classList.add("lineAnnotation");const Ce=this.data,{width:Ue,height:lt}=ae(Ce.rect),ut=this.svgFactory.create(Ue,lt,!0),bt=at(this,Ht,this.svgFactory.createElement("svg:line"));return bt.setAttribute("x1",Ce.rect[2]-Ce.lineCoordinates[0]),bt.setAttribute("y1",Ce.rect[3]-Ce.lineCoordinates[1]),bt.setAttribute("x2",Ce.rect[2]-Ce.lineCoordinates[2]),bt.setAttribute("y2",Ce.rect[3]-Ce.lineCoordinates[3]),bt.setAttribute("stroke-width",Ce.borderStyle.width||1),bt.setAttribute("stroke","transparent"),bt.setAttribute("fill","transparent"),ut.append(bt),this.container.append(ut),!Ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return U(this,Ht)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ht=new WeakMap;class ge extends re{constructor(Ce){super(Ce,{isRenderable:!0,ignoreBorder:!0});ot(this,an,null)}render(){this.container.classList.add("squareAnnotation");const Ce=this.data,{width:Ue,height:lt}=ae(Ce.rect),ut=this.svgFactory.create(Ue,lt,!0),bt=Ce.borderStyle.width,St=at(this,an,this.svgFactory.createElement("svg:rect"));return St.setAttribute("x",bt/2),St.setAttribute("y",bt/2),St.setAttribute("width",Ue-bt),St.setAttribute("height",lt-bt),St.setAttribute("stroke-width",bt||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!Ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return U(this,an)}addHighlightArea(){this.container.classList.add("highlightArea")}}an=new WeakMap;class Ae extends re{constructor(Ce){super(Ce,{isRenderable:!0,ignoreBorder:!0});ot(this,yn,null)}render(){this.container.classList.add("circleAnnotation");const Ce=this.data,{width:Ue,height:lt}=ae(Ce.rect),ut=this.svgFactory.create(Ue,lt,!0),bt=Ce.borderStyle.width,St=at(this,yn,this.svgFactory.createElement("svg:ellipse"));return St.setAttribute("cx",Ue/2),St.setAttribute("cy",lt/2),St.setAttribute("rx",Ue/2-bt/2),St.setAttribute("ry",lt/2-bt/2),St.setAttribute("stroke-width",bt||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!Ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return U(this,yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}yn=new WeakMap;class Oe extends re{constructor(Ce){super(Ce,{isRenderable:!0,ignoreBorder:!0});ot(this,vt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Ce=this.data,{width:Ue,height:lt}=ae(Ce.rect),ut=this.svgFactory.create(Ue,lt,!0);let bt=[];for(const Nt of Ce.vertices){const Ft=Nt.x-Ce.rect[0],kt=Ce.rect[3]-Nt.y;bt.push(Ft+","+kt)}bt=bt.join(" ");const St=at(this,vt,this.svgFactory.createElement(this.svgElementName));return St.setAttribute("points",bt),St.setAttribute("stroke-width",Ce.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),ut.append(St),this.container.append(ut),!Ce.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return U(this,vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}vt=new WeakMap;class Re extends Oe{constructor(ke){super(ke),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ne extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Fe extends re{constructor(Ce){super(Ce,{isRenderable:!0,ignoreBorder:!0});ot(this,Ze,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=$.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Ce=this.data,{width:Ue,height:lt}=ae(Ce.rect),ut=this.svgFactory.create(Ue,lt,!0);for(const bt of Ce.inkLists){let St=[];for(const Ft of bt){const kt=Ft.x-Ce.rect[0],rn=Ce.rect[3]-Ft.y;St.push(`${kt},${rn}`)}St=St.join(" ");const Nt=this.svgFactory.createElement(this.svgElementName);U(this,Ze).push(Nt),Nt.setAttribute("points",St),Nt.setAttribute("stroke-width",Ce.borderStyle.width||1),Nt.setAttribute("stroke","transparent"),Nt.setAttribute("fill","transparent"),!Ce.popupRef&&this.hasPopupData&&this._createPopup(),ut.append(Nt)}return this.container.append(ut),this.container}getElementsToTriggerPopup(){return U(this,Ze)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ze=new WeakMap,R.InkAnnotationElement=Fe;class qe extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ee extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Te extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Be extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ye extends re{constructor(ke){super(ke,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}R.StampAnnotationElement=ye;class q extends re{constructor(Ce){var ut;super(Ce,{isRenderable:!0});ot(this,$t);ot(this,et,null);const{filename:Ue,content:lt}=this.data.file;this.filename=(0,O.getFilenameFromUrl)(Ue,!0),this.content=lt,(ut=this.linkService.eventBus)==null||ut.dispatch("fileattachmentannotation",{source:this,filename:Ue,content:lt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ce,data:Ue}=this;let lt;Ue.hasAppearance||Ue.fillAlpha===0?lt=document.createElement("div"):(lt=document.createElement("img"),lt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ue.name)?"paperclip":"pushpin"}.svg`,Ue.fillAlpha&&Ue.fillAlpha<1&&(lt.style=`filter: opacity(${Math.round(Ue.fillAlpha*100)}%);`)),lt.addEventListener("dblclick",Ge(this,$t,Bi).bind(this)),at(this,et,lt);const{isMac:ut}=$.FeatureTest.platform;return Ce.addEventListener("keydown",bt=>{bt.key==="Enter"&&(ut?bt.metaKey:bt.ctrlKey)&&Ge(this,$t,Bi).call(this)}),!Ue.popupRef&&this.hasPopupData?this._createPopup():lt.classList.add("popupTriggerArea"),Ce.append(lt),Ce}getElementsToTriggerPopup(){return U(this,et)}addHighlightArea(){this.container.classList.add("highlightArea")}}et=new WeakMap,$t=new WeakSet,Bi=function(){var Ce;(Ce=this.downloadManager)==null||Ce.openOrDownloadData(this.container,this.content,this.filename)};class Y{constructor({div:ke,accessibilityManager:Ce,annotationCanvasMap:Ue,l10n:lt,page:ut,viewport:bt}){ot(this,Mt);ot(this,qt,null);ot(this,$e,null);ot(this,pt,new Map);this.div=ke,at(this,qt,Ce),at(this,$e,Ue),this.l10n=lt,this.page=ut,this.viewport=bt,this.zIndex=0,this.l10n||(this.l10n=he.NullL10n)}async render(ke){const{annotations:Ce}=ke,Ue=this.div;(0,O.setLayerDimensions)(Ue,this.viewport);const lt=new Map,ut={data:null,layer:Ue,linkService:ke.linkService,downloadManager:ke.downloadManager,imageResourcesPath:ke.imageResourcesPath||"",renderForms:ke.renderForms!==!1,svgFactory:new O.DOMSVGFactory,annotationStorage:ke.annotationStorage||new B.AnnotationStorage,enableScripting:ke.enableScripting===!0,hasJSActions:ke.hasJSActions,fieldObjects:ke.fieldObjects,parent:this,elements:null};for(const bt of Ce){if(bt.noHTML)continue;const St=bt.annotationType===$.AnnotationType.POPUP;if(St){const kt=lt.get(bt.id);if(!kt)continue;ut.elements=kt}else{const{width:kt,height:rn}=ae(bt.rect);if(kt<=0||rn<=0)continue}ut.data=bt;const Nt=J.create(ut);if(!Nt.isRenderable)continue;if(!St&&bt.popupRef){const kt=lt.get(bt.popupRef);kt?kt.push(Nt):lt.set(bt.popupRef,[Nt])}Nt.annotationEditorType>0&&U(this,pt).set(Nt.data.id,Nt);const Ft=Nt.render();bt.hidden&&(Ft.style.visibility="hidden"),Ge(this,Mt,Io).call(this,Ft,bt.id)}Ge(this,Mt,zi).call(this),await this.l10n.translate(Ue)}update({viewport:ke}){const Ce=this.div;this.viewport=ke,(0,O.setLayerDimensions)(Ce,{rotation:ke.rotation}),Ge(this,Mt,zi).call(this),Ce.hidden=!1}getEditableAnnotations(){return Array.from(U(this,pt).values())}getEditableAnnotation(ke){return U(this,pt).get(ke)}}qt=new WeakMap,$e=new WeakMap,pt=new WeakMap,Mt=new WeakSet,Io=function(ke,Ce){var lt;const Ue=ke.firstChild||ke;Ue.id=`${$.AnnotationPrefix}${Ce}`,this.div.append(ke),(lt=U(this,qt))==null||lt.moveElementInDOM(this.div,ke,Ue,!1)},zi=function(){if(!U(this,$e))return;const ke=this.div;for(const[Ce,Ue]of U(this,$e)){const lt=ke.querySelector(`[data-annotation-id="${Ce}"]`);if(!lt)continue;const{firstChild:ut}=lt;ut?ut.nodeName==="CANVAS"?ut.replaceWith(Ue):ut.before(Ue):lt.append(Ue)}U(this,$e).clear()},R.AnnotationLayer=Y},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.ColorConverters=void 0;function H(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}function $(B){return Math.max(0,Math.min(255,255*B))}class O{static CMYK_G([W,he,de,ue]){return["G",1-Math.min(1,.3*W+.59*de+.11*he+ue)]}static G_CMYK([W]){return["CMYK",0,0,0,1-W]}static G_RGB([W]){return["RGB",W,W,W]}static G_rgb([W]){return W=$(W),[W,W,W]}static G_HTML([W]){const he=H(W);return`#${he}${he}${he}`}static RGB_G([W,he,de]){return["G",.3*W+.59*he+.11*de]}static RGB_rgb(W){return W.map($)}static RGB_HTML(W){return`#${W.map(H).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([W,he,de,ue]){return["RGB",1-Math.min(1,W+ue),1-Math.min(1,de+ue),1-Math.min(1,he+ue)]}static CMYK_rgb([W,he,de,ue]){return[$(1-Math.min(1,W+ue)),$(1-Math.min(1,de+ue)),$(1-Math.min(1,he+ue))]}static CMYK_HTML(W){const he=this.CMYK_RGB(W).slice(1);return this.RGB_HTML(he)}static RGB_CMYK([W,he,de]){const ue=1-W,V=1-he,fe=1-de,ae=Math.min(ue,V,fe);return["CMYK",ue,V,fe,ae]}}R.ColorConverters=O},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.NullL10n=void 0,R.getL10nFallback=$;const H={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};H.print_progress_percent="{{progress}}%";function $(W,he){switch(W){case"find_match_count":W=`find_match_count[${he.total===1?"one":"other"}]`;break;case"find_match_count_limit":W=`find_match_count_limit[${he.limit===1?"one":"other"}]`;break}return H[W]||""}function O(W,he){return he?W.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(de,ue)=>ue in he?he[ue]:"{{"+ue+"}}"):W}const B={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(W,he=null,de=$(W,he)){return O(de,he)},async translate(W){}};R.NullL10n=B},(A,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaLayer=void 0;var $=H(25);class O{static setupStorage(W,he,de,ue,V){const fe=ue.getValue(he,{value:null});switch(de.name){case"textarea":if(fe.value!==null&&(W.textContent=fe.value),V==="print")break;W.addEventListener("input",ae=>{ue.setValue(he,{value:ae.target.value})});break;case"input":if(de.attributes.type==="radio"||de.attributes.type==="checkbox"){if(fe.value===de.attributes.xfaOn?W.setAttribute("checked",!0):fe.value===de.attributes.xfaOff&&W.removeAttribute("checked"),V==="print")break;W.addEventListener("change",ae=>{ue.setValue(he,{value:ae.target.checked?ae.target.getAttribute("xfaOn"):ae.target.getAttribute("xfaOff")})})}else{if(fe.value!==null&&W.setAttribute("value",fe.value),V==="print")break;W.addEventListener("input",ae=>{ue.setValue(he,{value:ae.target.value})})}break;case"select":if(fe.value!==null){W.setAttribute("value",fe.value);for(const ae of de.children)ae.attributes.value===fe.value?ae.attributes.selected=!0:ae.attributes.hasOwnProperty("selected")&&delete ae.attributes.selected}W.addEventListener("input",ae=>{const J=ae.target.options,re=J.selectedIndex===-1?"":J[J.selectedIndex].value;ue.setValue(he,{value:re})});break}}static setAttributes({html:W,element:he,storage:de=null,intent:ue,linkService:V}){const{attributes:fe}=he,ae=W instanceof HTMLAnchorElement;fe.type==="radio"&&(fe.name=`${fe.name}-${ue}`);for(const[J,re]of Object.entries(fe))if(re!=null)switch(J){case"class":re.length&&W.setAttribute(J,re.join(" "));break;case"dataId":break;case"id":W.setAttribute("data-element-id",re);break;case"style":Object.assign(W.style,re);break;case"textContent":W.textContent=re;break;default:(!ae||J!=="href"&&J!=="newWindow")&&W.setAttribute(J,re)}ae&&V.addLinkAttributes(W,fe.href,fe.newWindow),de&&fe.dataId&&this.setupStorage(W,fe.dataId,he,de)}static render(W){var te;const he=W.annotationStorage,de=W.linkService,ue=W.xfaHtml,V=W.intent||"display",fe=document.createElement(ue.name);ue.attributes&&this.setAttributes({html:fe,element:ue,intent:V,linkService:de});const ae=[[ue,-1,fe]],J=W.div;if(J.append(fe),W.viewport){const G=`matrix(${W.viewport.transform.join(",")})`;J.style.transform=G}V!=="richText"&&J.setAttribute("class","xfaLayer xfaFont");const re=[];for(;ae.length>0;){const[G,ne,oe]=ae.at(-1);if(ne+1===G.children.length){ae.pop();continue}const me=G.children[++ae.at(-1)[1]];if(me===null)continue;const{name:pe}=me;if(pe==="#text"){const le=document.createTextNode(me.value);re.push(le),oe.append(le);continue}const Q=(te=me==null?void 0:me.attributes)!=null&&te.xmlns?document.createElementNS(me.attributes.xmlns,pe):document.createElement(pe);if(oe.append(Q),me.attributes&&this.setAttributes({html:Q,element:me,storage:he,intent:V,linkService:de}),me.children&&me.children.length>0)ae.push([me,-1,Q]);else if(me.value){const le=document.createTextNode(me.value);$.XfaText.shouldBuildText(pe)&&re.push(le),Q.append(le)}}for(const G of J.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))G.setAttribute("readOnly",!0);return{textDivs:re}}static update(W){const he=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=he,W.div.hidden=!1}}R.XfaLayer=O},(A,R,H)=>{var ue,V,fe,ae,J,re,te,G,ne,oe,me,pe,Q,le,ie,Fo,Do,Lo,Oo,Hi,No,Ui,jo,Bo,zo,Ho,Uo,cr,Vi,Zr,Jr,wr,Wi,Qr,xe,Vo,Gi,Wo,Go,qi,ei,xr;Object.defineProperty(R,"__esModule",{value:!0}),R.InkEditor=void 0;var $=H(1),O=H(4),B=H(29),W=H(6),he=H(5);const gt=class gt extends O.AnnotationEditor{constructor(_e){super({..._e,name:"inkEditor"});ot(this,ie);ot(this,ue,0);ot(this,V,0);ot(this,fe,this.canvasPointermove.bind(this));ot(this,ae,this.canvasPointerleave.bind(this));ot(this,J,this.canvasPointerup.bind(this));ot(this,re,this.canvasPointerdown.bind(this));ot(this,te,new Path2D);ot(this,G,!1);ot(this,ne,!1);ot(this,oe,!1);ot(this,me,null);ot(this,pe,0);ot(this,Q,0);ot(this,le,null);this.color=_e.color||null,this.thickness=_e.thickness||null,this.opacity=_e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_e){O.AnnotationEditor.initialize(_e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_e,we){switch(_e){case $.AnnotationEditorParamsType.INK_THICKNESS:gt._defaultThickness=we;break;case $.AnnotationEditorParamsType.INK_COLOR:gt._defaultColor=we;break;case $.AnnotationEditorParamsType.INK_OPACITY:gt._defaultOpacity=we/100;break}}updateParams(_e,we){switch(_e){case $.AnnotationEditorParamsType.INK_THICKNESS:Ge(this,ie,Fo).call(this,we);break;case $.AnnotationEditorParamsType.INK_COLOR:Ge(this,ie,Do).call(this,we);break;case $.AnnotationEditorParamsType.INK_OPACITY:Ge(this,ie,Lo).call(this,we);break}}static get defaultPropertiesToUpdate(){return[[$.AnnotationEditorParamsType.INK_THICKNESS,gt._defaultThickness],[$.AnnotationEditorParamsType.INK_COLOR,gt._defaultColor||O.AnnotationEditor._defaultLineColor],[$.AnnotationEditorParamsType.INK_OPACITY,Math.round(gt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[$.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||gt._defaultThickness],[$.AnnotationEditorParamsType.INK_COLOR,this.color||gt._defaultColor||O.AnnotationEditor._defaultLineColor],[$.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??gt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ge(this,ie,Zr).call(this),Ge(this,ie,Jr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ge(this,ie,wr).call(this)),Ge(this,ie,xr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,U(this,me).disconnect(),at(this,me,null),super.remove())}setParent(_e){!this.parent&&_e?this._uiManager.removeShouldRescale(this):this.parent&&_e===null&&this._uiManager.addShouldRescale(this),super.setParent(_e)}onScaleChanging(){const[_e,we]=this.parentDimensions,He=this.width*_e,Ye=this.height*we;this.setDimensions(He,Ye)}enableEditMode(){U(this,G)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",U(this,re)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",U(this,re)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){U(this,G)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),at(this,G,!0),this.div.classList.add("disabled"),Ge(this,ie,xr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),this.enableEditMode())}canvasPointerdown(_e){_e.button!==0||!this.isInEditMode()||U(this,G)||(this.setInForeground(),_e.preventDefault(),_e.type!=="mouse"&&this.div.focus(),Ge(this,ie,No).call(this,_e.offsetX,_e.offsetY))}canvasPointermove(_e){_e.preventDefault(),Ge(this,ie,Ui).call(this,_e.offsetX,_e.offsetY)}canvasPointerup(_e){_e.preventDefault(),Ge(this,ie,Vi).call(this,_e)}canvasPointerleave(_e){Ge(this,ie,Vi).call(this,_e)}get isResizable(){return!this.isEmpty()&&U(this,G)}render(){if(this.div)return this.div;let _e,we;this.width&&(_e=this.x,we=this.y),super.render(),O.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ft=>{var We;return(We=this.div)==null?void 0:We.setAttribute("aria-label",ft)});const[He,Ye,rt,mt]=Ge(this,ie,Oo).call(this);if(this.setAt(He,Ye,0,0),this.setDims(rt,mt),Ge(this,ie,Zr).call(this),this.width){const[ft,We]=this.parentDimensions;this.setAspectRatio(this.width*ft,this.height*We),this.setAt(_e*ft,we*We,this.width*ft,this.height*We),at(this,oe,!0),Ge(this,ie,wr).call(this),this.setDims(this.width*ft,this.height*We),Ge(this,ie,cr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ge(this,ie,Jr).call(this),this.div}setDimensions(_e,we){const He=Math.round(_e),Ye=Math.round(we);if(U(this,pe)===He&&U(this,Q)===Ye)return;at(this,pe,He),at(this,Q,Ye),this.canvas.style.visibility="hidden";const[rt,mt]=this.parentDimensions;this.width=_e/rt,this.height=we/mt,this.fixAndSetPosition(),U(this,G)&&Ge(this,ie,Wi).call(this,_e,we),Ge(this,ie,wr).call(this),Ge(this,ie,cr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_e,we,He){var Ht,an,yn;if(_e instanceof B.InkAnnotationElement)return null;const Ye=super.deserialize(_e,we,He);Ye.thickness=_e.thickness,Ye.color=$.Util.makeHexColor(..._e.color),Ye.opacity=_e.opacity;const[rt,mt]=Ye.pageDimensions,ft=Ye.width*rt,We=Ye.height*mt,xt=Ye.parentScale,wt=_e.thickness/2;at(Ye,G,!0),at(Ye,pe,Math.round(ft)),at(Ye,Q,Math.round(We));const{paths:Zt,rect:Gt,rotation:fn}=_e;for(let{bezier:vt}of Zt){vt=Ge(Ht=gt,xe,Wo).call(Ht,vt,Gt,fn);const Ze=[];Ye.paths.push(Ze);let et=xt*(vt[0]-wt),$t=xt*(vt[1]-wt);for(let qt=2,$e=vt.length;qt<$e;qt+=6){const pt=xt*(vt[qt]-wt),Mt=xt*(vt[qt+1]-wt),Ot=xt*(vt[qt+2]-wt),Bt=xt*(vt[qt+3]-wt),Rt=xt*(vt[qt+4]-wt),ke=xt*(vt[qt+5]-wt);Ze.push([[et,$t],[pt,Mt],[Ot,Bt],[Rt,ke]]),et=Rt,$t=ke}const Lt=Ge(this,xe,Vo).call(this,Ze);Ye.bezierPath2D.push(Lt)}const It=Ge(an=Ye,ie,qi).call(an);return at(Ye,V,Math.max(O.AnnotationEditor.MIN_SIZE,It[2]-It[0])),at(Ye,ue,Math.max(O.AnnotationEditor.MIN_SIZE,It[3]-It[1])),Ge(yn=Ye,ie,Wi).call(yn,ft,We),Ye}serialize(){if(this.isEmpty())return null;const _e=this.getRect(0,0),we=O.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:$.AnnotationEditorType.INK,color:we,thickness:this.thickness,opacity:this.opacity,paths:Ge(this,ie,Go).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_e),pageIndex:this.pageIndex,rect:_e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ue=new WeakMap,V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakMap,oe=new WeakMap,me=new WeakMap,pe=new WeakMap,Q=new WeakMap,le=new WeakMap,ie=new WeakSet,Fo=function(_e){const we=this.thickness;this.addCommands({cmd:()=>{this.thickness=_e,Ge(this,ie,xr).call(this)},undo:()=>{this.thickness=we,Ge(this,ie,xr).call(this)},mustExec:!0,type:$.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Do=function(_e){const we=this.color;this.addCommands({cmd:()=>{this.color=_e,Ge(this,ie,cr).call(this)},undo:()=>{this.color=we,Ge(this,ie,cr).call(this)},mustExec:!0,type:$.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Lo=function(_e){_e/=100;const we=this.opacity;this.addCommands({cmd:()=>{this.opacity=_e,Ge(this,ie,cr).call(this)},undo:()=>{this.opacity=we,Ge(this,ie,cr).call(this)},mustExec:!0,type:$.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Oo=function(){const{parentRotation:_e,parentDimensions:[we,He]}=this;switch(_e){case 90:return[0,He,He,we];case 180:return[we,He,we,He];case 270:return[we,0,He,we];default:return[0,0,we,He]}},Hi=function(){const{ctx:_e,color:we,opacity:He,thickness:Ye,parentScale:rt,scaleFactor:mt}=this;_e.lineWidth=Ye*rt/mt,_e.lineCap="round",_e.lineJoin="round",_e.miterLimit=10,_e.strokeStyle=`${we}${(0,he.opacityToHex)(He)}`},No=function(_e,we){this.canvas.addEventListener("contextmenu",W.noContextMenu),this.canvas.addEventListener("pointerleave",U(this,ae)),this.canvas.addEventListener("pointermove",U(this,fe)),this.canvas.addEventListener("pointerup",U(this,J)),this.canvas.removeEventListener("pointerdown",U(this,re)),this.isEditing=!0,U(this,oe)||(at(this,oe,!0),Ge(this,ie,wr).call(this),this.thickness||(this.thickness=gt._defaultThickness),this.color||(this.color=gt._defaultColor||O.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=gt._defaultOpacity)),this.currentPath.push([_e,we]),at(this,ne,!1),Ge(this,ie,Hi).call(this),at(this,le,()=>{Ge(this,ie,zo).call(this),U(this,le)&&window.requestAnimationFrame(U(this,le))}),window.requestAnimationFrame(U(this,le))},Ui=function(_e,we){const[He,Ye]=this.currentPath.at(-1);if(this.currentPath.length>1&&_e===He&&we===Ye)return;const rt=this.currentPath;let mt=U(this,te);if(rt.push([_e,we]),at(this,ne,!0),rt.length<=2){mt.moveTo(...rt[0]),mt.lineTo(_e,we);return}rt.length===3&&(at(this,te,mt=new Path2D),mt.moveTo(...rt[0])),Ge(this,ie,Ho).call(this,mt,...rt.at(-3),...rt.at(-2),_e,we)},jo=function(){if(this.currentPath.length===0)return;const _e=this.currentPath.at(-1);U(this,te).lineTo(..._e)},Bo=function(_e,we){at(this,le,null),_e=Math.min(Math.max(_e,0),this.canvas.width),we=Math.min(Math.max(we,0),this.canvas.height),Ge(this,ie,Ui).call(this,_e,we),Ge(this,ie,jo).call(this);let He;if(this.currentPath.length!==1)He=Ge(this,ie,Uo).call(this);else{const We=[_e,we];He=[[We,We.slice(),We.slice(),We]]}const Ye=U(this,te),rt=this.currentPath;this.currentPath=[],at(this,te,new Path2D);const mt=()=>{this.allRawPaths.push(rt),this.paths.push(He),this.bezierPath2D.push(Ye),this.rebuild()},ft=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ge(this,ie,Zr).call(this),Ge(this,ie,Jr).call(this)),Ge(this,ie,xr).call(this))};this.addCommands({cmd:mt,undo:ft,mustExec:!0})},zo=function(){if(!U(this,ne))return;at(this,ne,!1);const _e=Math.ceil(this.thickness*this.parentScale),we=this.currentPath.slice(-3),He=we.map(mt=>mt[0]),Ye=we.map(mt=>mt[1]);Math.min(...He)-_e,Math.max(...He)+_e,Math.min(...Ye)-_e,Math.max(...Ye)+_e;const{ctx:rt}=this;rt.save(),rt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const mt of this.bezierPath2D)rt.stroke(mt);rt.stroke(U(this,te)),rt.restore()},Ho=function(_e,we,He,Ye,rt,mt,ft){const We=(we+Ye)/2,xt=(He+rt)/2,wt=(Ye+mt)/2,Zt=(rt+ft)/2;_e.bezierCurveTo(We+2*(Ye-We)/3,xt+2*(rt-xt)/3,wt+2*(Ye-wt)/3,Zt+2*(rt-Zt)/3,wt,Zt)},Uo=function(){const _e=this.currentPath;if(_e.length<=2)return[[_e[0],_e[0],_e.at(-1),_e.at(-1)]];const we=[];let He,[Ye,rt]=_e[0];for(He=1;He<_e.length-2;He++){const[Gt,fn]=_e[He],[It,Ht]=_e[He+1],an=(Gt+It)/2,yn=(fn+Ht)/2,vt=[Ye+2*(Gt-Ye)/3,rt+2*(fn-rt)/3],Ze=[an+2*(Gt-an)/3,yn+2*(fn-yn)/3];we.push([[Ye,rt],vt,Ze,[an,yn]]),[Ye,rt]=[an,yn]}const[mt,ft]=_e[He],[We,xt]=_e[He+1],wt=[Ye+2*(mt-Ye)/3,rt+2*(ft-rt)/3],Zt=[We+2*(mt-We)/3,xt+2*(ft-xt)/3];return we.push([[Ye,rt],wt,Zt,[We,xt]]),we},cr=function(){if(this.isEmpty()){Ge(this,ie,Qr).call(this);return}Ge(this,ie,Hi).call(this);const{canvas:_e,ctx:we}=this;we.setTransform(1,0,0,1,0,0),we.clearRect(0,0,_e.width,_e.height),Ge(this,ie,Qr).call(this);for(const He of this.bezierPath2D)we.stroke(He)},Vi=function(_e){this.canvas.removeEventListener("pointerleave",U(this,ae)),this.canvas.removeEventListener("pointermove",U(this,fe)),this.canvas.removeEventListener("pointerup",U(this,J)),this.canvas.addEventListener("pointerdown",U(this,re)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",W.noContextMenu)},10),Ge(this,ie,Bo).call(this,_e.offsetX,_e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",O.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_e=>{var we;return(we=this.canvas)==null?void 0:we.setAttribute("aria-label",_e)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Jr=function(){at(this,me,new ResizeObserver(_e=>{const we=_e[0].contentRect;we.width&&we.height&&this.setDimensions(we.width,we.height)})),U(this,me).observe(this.div)},wr=function(){if(!U(this,oe))return;const[_e,we]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_e),this.canvas.height=Math.ceil(this.height*we),Ge(this,ie,Qr).call(this)},Wi=function(_e,we){const He=Ge(this,ie,ei).call(this),Ye=(_e-He)/U(this,V),rt=(we-He)/U(this,ue);this.scaleFactor=Math.min(Ye,rt)},Qr=function(){const _e=Ge(this,ie,ei).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_e,this.translationY*this.scaleFactor+_e)},xe=new WeakSet,Vo=function(_e){const we=new Path2D;for(let He=0,Ye=_e.length;He<Ye;He++){const[rt,mt,ft,We]=_e[He];He===0&&we.moveTo(...rt),we.bezierCurveTo(mt[0],mt[1],ft[0],ft[1],We[0],We[1])}return we},Gi=function(_e,we,He){const[Ye,rt,mt,ft]=we;switch(He){case 0:for(let We=0,xt=_e.length;We<xt;We+=2)_e[We]+=Ye,_e[We+1]=ft-_e[We+1];break;case 90:for(let We=0,xt=_e.length;We<xt;We+=2){const wt=_e[We];_e[We]=_e[We+1]+Ye,_e[We+1]=wt+rt}break;case 180:for(let We=0,xt=_e.length;We<xt;We+=2)_e[We]=mt-_e[We],_e[We+1]+=rt;break;case 270:for(let We=0,xt=_e.length;We<xt;We+=2){const wt=_e[We];_e[We]=mt-_e[We+1],_e[We+1]=ft-wt}break;default:throw new Error("Invalid rotation")}return _e},Wo=function(_e,we,He){const[Ye,rt,mt,ft]=we;switch(He){case 0:for(let We=0,xt=_e.length;We<xt;We+=2)_e[We]-=Ye,_e[We+1]=ft-_e[We+1];break;case 90:for(let We=0,xt=_e.length;We<xt;We+=2){const wt=_e[We];_e[We]=_e[We+1]-rt,_e[We+1]=wt-Ye}break;case 180:for(let We=0,xt=_e.length;We<xt;We+=2)_e[We]=mt-_e[We],_e[We+1]-=rt;break;case 270:for(let We=0,xt=_e.length;We<xt;We+=2){const wt=_e[We];_e[We]=ft-_e[We+1],_e[We+1]=mt-wt}break;default:throw new Error("Invalid rotation")}return _e},Go=function(_e,we,He,Ye){var xt,wt;const rt=[],mt=this.thickness/2,ft=_e*we+mt,We=_e*He+mt;for(const Zt of this.paths){const Gt=[],fn=[];for(let It=0,Ht=Zt.length;It<Ht;It++){const[an,yn,vt,Ze]=Zt[It],et=_e*an[0]+ft,$t=_e*an[1]+We,Lt=_e*yn[0]+ft,qt=_e*yn[1]+We,$e=_e*vt[0]+ft,pt=_e*vt[1]+We,Mt=_e*Ze[0]+ft,Ot=_e*Ze[1]+We;It===0&&(Gt.push(et,$t),fn.push(et,$t)),Gt.push(Lt,qt,$e,pt,Mt,Ot),fn.push(Lt,qt),It===Ht-1&&fn.push(Mt,Ot)}rt.push({bezier:Ge(xt=gt,xe,Gi).call(xt,Gt,Ye,this.rotation),points:Ge(wt=gt,xe,Gi).call(wt,fn,Ye,this.rotation)})}return rt},qi=function(){let _e=1/0,we=-1/0,He=1/0,Ye=-1/0;for(const rt of this.paths)for(const[mt,ft,We,xt]of rt){const wt=$.Util.bezierBoundingBox(...mt,...ft,...We,...xt);_e=Math.min(_e,wt[0]),He=Math.min(He,wt[1]),we=Math.max(we,wt[2]),Ye=Math.max(Ye,wt[3])}return[_e,He,we,Ye]},ei=function(){return U(this,G)?Math.ceil(this.thickness*this.parentScale):0},xr=function(_e=!1){if(this.isEmpty())return;if(!U(this,G)){Ge(this,ie,cr).call(this);return}const we=Ge(this,ie,qi).call(this),He=Ge(this,ie,ei).call(this);at(this,V,Math.max(O.AnnotationEditor.MIN_SIZE,we[2]-we[0])),at(this,ue,Math.max(O.AnnotationEditor.MIN_SIZE,we[3]-we[1]));const Ye=Math.ceil(He+U(this,V)*this.scaleFactor),rt=Math.ceil(He+U(this,ue)*this.scaleFactor),[mt,ft]=this.parentDimensions;this.width=Ye/mt,this.height=rt/ft,this.setAspectRatio(Ye,rt);const We=this.translationX,xt=this.translationY;this.translationX=-we[0],this.translationY=-we[1],Ge(this,ie,wr).call(this),Ge(this,ie,cr).call(this),at(this,pe,Ye),at(this,Q,rt),this.setDims(Ye,rt);const wt=_e?He/this.scaleFactor/2:0;this.translate(We-this.translationX-wt,xt-this.translationY-wt)},ot(gt,xe),In(gt,"_defaultColor",null),In(gt,"_defaultOpacity",1),In(gt,"_defaultThickness",1),In(gt,"_type","ink");let de=gt;R.InkEditor=de},(A,R,H)=>{var de,ue,V,fe,ae,J,re,te,G,ne,oe,Ir,Fr,ti,Ki,qo,Ko,Xi,ni,Xo;Object.defineProperty(R,"__esModule",{value:!0}),R.StampEditor=void 0;var $=H(1),O=H(4),B=H(6),W=H(29);const ge=class ge extends O.AnnotationEditor{constructor(Re){super({...Re,name:"stampEditor"});ot(this,oe);ot(this,de,null);ot(this,ue,null);ot(this,V,null);ot(this,fe,null);ot(this,ae,null);ot(this,J,null);ot(this,re,null);ot(this,te,null);ot(this,G,!1);ot(this,ne,!1);at(this,fe,Re.bitmapUrl),at(this,ae,Re.bitmapFile)}static initialize(Re){O.AnnotationEditor.initialize(Re)}static get supportedTypes(){const Re=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,$.shadow)(this,"supportedTypes",Re.map(Ne=>`image/${Ne}`))}static get supportedTypesStr(){return(0,$.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Re){return this.supportedTypes.includes(Re)}static paste(Re,Ne){Ne.pasteEditor($.AnnotationEditorType.STAMP,{bitmapFile:Re.getAsFile()})}remove(){var Re,Ne;U(this,ue)&&(at(this,de,null),this._uiManager.imageManager.deleteId(U(this,ue)),(Re=U(this,J))==null||Re.remove(),at(this,J,null),(Ne=U(this,re))==null||Ne.disconnect(),at(this,re,null)),super.remove()}rebuild(){if(!this.parent){U(this,ue)&&Ge(this,oe,ti).call(this);return}super.rebuild(),this.div!==null&&(U(this,ue)&&Ge(this,oe,ti).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(U(this,V)||U(this,de)||U(this,fe)||U(this,ae))}get isResizable(){return!0}render(){if(this.div)return this.div;let Re,Ne;if(this.width&&(Re=this.x,Ne=this.y),super.render(),this.div.hidden=!0,U(this,de)?Ge(this,oe,Ki).call(this):Ge(this,oe,ti).call(this),this.width){const[Fe,qe]=this.parentDimensions;this.setAt(Re*Fe,Ne*qe,this.width*Fe,this.height*qe)}return this.div}static deserialize(Re,Ne,Fe){if(Re instanceof W.StampAnnotationElement)return null;const qe=super.deserialize(Re,Ne,Fe),{rect:Ee,bitmapUrl:Te,bitmapId:Be,isSvg:ye,accessibilityData:q}=Re;Be&&Fe.imageManager.isValidId(Be)?at(qe,ue,Be):at(qe,fe,Te),at(qe,G,ye);const[Y,ve]=qe.pageDimensions;return qe.width=(Ee[2]-Ee[0])/Y,qe.height=(Ee[3]-Ee[1])/ve,q&&(qe.altTextData=q),qe}serialize(Re=!1,Ne=null){if(this.isEmpty())return null;const Fe={annotationType:$.AnnotationEditorType.STAMP,bitmapId:U(this,ue),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:U(this,G),structTreeParentId:this._structTreeParentId};if(Re)return Fe.bitmapUrl=Ge(this,oe,ni).call(this,!0),Fe.accessibilityData=this.altTextData,Fe;const{decorative:qe,altText:Ee}=this.altTextData;if(!qe&&Ee&&(Fe.accessibilityData={type:"Figure",alt:Ee}),Ne===null)return Fe;Ne.stamps||(Ne.stamps=new Map);const Te=U(this,G)?(Fe.rect[2]-Fe.rect[0])*(Fe.rect[3]-Fe.rect[1]):null;if(!Ne.stamps.has(U(this,ue)))Ne.stamps.set(U(this,ue),{area:Te,serialized:Fe}),Fe.bitmap=Ge(this,oe,ni).call(this,!1);else if(U(this,G)){const Be=Ne.stamps.get(U(this,ue));Te>Be.area&&(Be.area=Te,Be.serialized.bitmap.close(),Be.serialized.bitmap=Ge(this,oe,ni).call(this,!1))}return Fe}};de=new WeakMap,ue=new WeakMap,V=new WeakMap,fe=new WeakMap,ae=new WeakMap,J=new WeakMap,re=new WeakMap,te=new WeakMap,G=new WeakMap,ne=new WeakMap,oe=new WeakSet,Ir=function(Re,Ne=!1){if(!Re){this.remove();return}at(this,de,Re.bitmap),Ne||(at(this,ue,Re.id),at(this,G,Re.isSvg)),Ge(this,oe,Ki).call(this)},Fr=function(){at(this,V,null),this._uiManager.enableWaiting(!1),U(this,J)&&this.div.focus()},ti=function(){if(U(this,ue)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(U(this,ue)).then(Ne=>Ge(this,oe,Ir).call(this,Ne,!0)).finally(()=>Ge(this,oe,Fr).call(this));return}if(U(this,fe)){const Ne=U(this,fe);at(this,fe,null),this._uiManager.enableWaiting(!0),at(this,V,this._uiManager.imageManager.getFromUrl(Ne).then(Fe=>Ge(this,oe,Ir).call(this,Fe)).finally(()=>Ge(this,oe,Fr).call(this)));return}if(U(this,ae)){const Ne=U(this,ae);at(this,ae,null),this._uiManager.enableWaiting(!0),at(this,V,this._uiManager.imageManager.getFromFile(Ne).then(Fe=>Ge(this,oe,Ir).call(this,Fe)).finally(()=>Ge(this,oe,Fr).call(this)));return}const Re=document.createElement("input");Re.type="file",Re.accept=ge.supportedTypesStr,at(this,V,new Promise(Ne=>{Re.addEventListener("change",async()=>{if(!Re.files||Re.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Fe=await this._uiManager.imageManager.getFromFile(Re.files[0]);Ge(this,oe,Ir).call(this,Fe)}Ne()}),Re.addEventListener("cancel",()=>{this.remove(),Ne()})}).finally(()=>Ge(this,oe,Fr).call(this))),Re.click()},Ki=function(){const{div:Re}=this;let{width:Ne,height:Fe}=U(this,de);const[qe,Ee]=this.pageDimensions,Te=.75;if(this.width)Ne=this.width*qe,Fe=this.height*Ee;else if(Ne>Te*qe||Fe>Te*Ee){const Y=Math.min(Te*qe/Ne,Te*Ee/Fe);Ne*=Y,Fe*=Y}const[Be,ye]=this.parentDimensions;this.setDims(Ne*Be/qe,Fe*ye/Ee),this._uiManager.enableWaiting(!1);const q=at(this,J,document.createElement("canvas"));Re.append(q),Re.hidden=!1,Ge(this,oe,Xi).call(this,Ne,Fe),Ge(this,oe,Xo).call(this),U(this,ne)||(this.parent.addUndoableEditor(this),at(this,ne,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},qo=function(Re,Ne){var Te;const[Fe,qe]=this.parentDimensions;this.width=Re/Fe,this.height=Ne/qe,this.setDims(Re,Ne),(Te=this._initialOptions)!=null&&Te.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,U(this,te)!==null&&clearTimeout(U(this,te)),at(this,te,setTimeout(()=>{at(this,te,null),Ge(this,oe,Xi).call(this,Re,Ne)},200))},Ko=function(Re,Ne){const{width:Fe,height:qe}=U(this,de);let Ee=Fe,Te=qe,Be=U(this,de);for(;Ee>2*Re||Te>2*Ne;){const ye=Ee,q=Te;Ee>2*Re&&(Ee=Ee>=16384?Math.floor(Ee/2)-1:Math.ceil(Ee/2)),Te>2*Ne&&(Te=Te>=16384?Math.floor(Te/2)-1:Math.ceil(Te/2));const Y=new OffscreenCanvas(Ee,Te);Y.getContext("2d").drawImage(Be,0,0,ye,q,0,0,Ee,Te),Be=Y.transferToImageBitmap()}return Be},Xi=function(Re,Ne){Re=Math.ceil(Re),Ne=Math.ceil(Ne);const Fe=U(this,J);if(!Fe||Fe.width===Re&&Fe.height===Ne)return;Fe.width=Re,Fe.height=Ne;const qe=U(this,G)?U(this,de):Ge(this,oe,Ko).call(this,Re,Ne),Ee=Fe.getContext("2d");Ee.filter=this._uiManager.hcmFilter,Ee.drawImage(qe,0,0,qe.width,qe.height,0,0,Re,Ne)},ni=function(Re){if(Re){if(U(this,G)){const qe=this._uiManager.imageManager.getSvgUrl(U(this,ue));if(qe)return qe}const Ne=document.createElement("canvas");return{width:Ne.width,height:Ne.height}=U(this,de),Ne.getContext("2d").drawImage(U(this,de),0,0),Ne.toDataURL()}if(U(this,G)){const[Ne,Fe]=this.pageDimensions,qe=Math.round(this.width*Ne*B.PixelsPerInch.PDF_TO_CSS_UNITS),Ee=Math.round(this.height*Fe*B.PixelsPerInch.PDF_TO_CSS_UNITS),Te=new OffscreenCanvas(qe,Ee);return Te.getContext("2d").drawImage(U(this,de),0,0,U(this,de).width,U(this,de).height,0,0,qe,Ee),Te.transferToImageBitmap()}return structuredClone(U(this,de))},Xo=function(){at(this,re,new ResizeObserver(Re=>{const Ne=Re[0].contentRect;Ne.width&&Ne.height&&Ge(this,oe,qo).call(this,Ne.width,Ne.height)})),U(this,re).observe(this.div)},In(ge,"_type","stamp");let he=ge;R.StampEditor=he}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var R=__webpack_module_cache__[A];if(R!==void 0)return R.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return R.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return R.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return R.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return W.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return R.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return R.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return $.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return R.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return de.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return R.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return R.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return R.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return R.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return $.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return R.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return R.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return $.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return R.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return $.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return H.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return R.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return R.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return R.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ue.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return R.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return $.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return $.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return $.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return $.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return $.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return $.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return $.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return R.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return $.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return R.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return O.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var R=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),$=__w_pdfjs_require__(6),O=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),W=__w_pdfjs_require__(5),he=__w_pdfjs_require__(29),de=__w_pdfjs_require__(14),ue=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var R=reactExports,H=pdfExports;function $(K){var be=Object.create(null);return K&&Object.keys(K).forEach(function(Ie){if(Ie!=="default"){var De=Object.getOwnPropertyDescriptor(K,Ie);Object.defineProperty(be,Ie,De.get?De:{enumerable:!0,get:function(){return K[Ie]}})}}),be.default=K,Object.freeze(be)}var O,B=$(R),W=$(H);A.AnnotationType=void 0,(O=A.AnnotationType||(A.AnnotationType={}))[O.Text=1]="Text",O[O.Link=2]="Link",O[O.FreeText=3]="FreeText",O[O.Line=4]="Line",O[O.Square=5]="Square",O[O.Circle=6]="Circle",O[O.Polygon=7]="Polygon",O[O.Polyline=8]="Polyline",O[O.Highlight=9]="Highlight",O[O.Underline=10]="Underline",O[O.Squiggly=11]="Squiggly",O[O.StrikeOut=12]="StrikeOut",O[O.Stamp=13]="Stamp",O[O.Caret=14]="Caret",O[O.Ink=15]="Ink",O[O.Popup=16]="Popup",O[O.FileAttachment=17]="FileAttachment";var he=function(K,be){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ie,De){Ie.__proto__=De}||function(Ie,De){for(var ze in De)Object.prototype.hasOwnProperty.call(De,ze)&&(Ie[ze]=De[ze])},he(K,be)};function de(K,be){if(typeof be!="function"&&be!==null)throw new TypeError("Class extends value "+String(be)+" is not a constructor or null");function Ie(){this.constructor=K}he(K,be),K.prototype=be===null?Object.create(be):(Ie.prototype=be.prototype,new Ie)}var ue,V=function(){return V=Object.assign||function(K){for(var be,Ie=1,De=arguments.length;Ie<De;Ie++)for(var ze in be=arguments[Ie])Object.prototype.hasOwnProperty.call(be,ze)&&(K[ze]=be[ze]);return K},V.apply(this,arguments)};A.TextDirection=void 0,(ue=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ue.LeftToRight="LTR";var fe,ae=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),J=function(K){var be=[];return Object.keys(K).forEach(function(Ie){Ie&&K[Ie]&&be.push(Ie)}),be.join(" ")},re=typeof window<"u"?B.useLayoutEffect:B.useEffect,te=function(K){var be=B.useRef(null),Ie=K.once,De=K.threshold,ze=K.onVisibilityChanged;return re(function(){var Ve=be.current;if(Ve){var it=new IntersectionObserver(function(Je){Je.forEach(function(je){var nt=je.isIntersecting,tt=je.intersectionRatio;ze({isVisible:nt,ratio:tt}),nt&&Ie&&(it.unobserve(Ve),it.disconnect())})},{threshold:De||0});return it.observe(Ve),function(){it.unobserve(Ve),it.disconnect()}}},[]),be},G=function(K){var be=K.children,Ie=K.ignoreDirection,De=Ie!==void 0&&Ie,ze=K.size,Ve=ze===void 0?24:ze,it=B.useContext(ae).direction,Je=!De&&it===A.TextDirection.RightToLeft,je="".concat(Ve||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:J({"rpv-core__icon":!0,"rpv-core__icon--rtl":Je}),focusable:"false",height:je,viewBox:"0 0 24 24",width:je},be)},ne=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},oe=function(K){var be=K.children,Ie=K.testId,De=K.onClick,ze=B.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=Ie?{"data-testid":Ie}:{};return B.createElement("button",V({className:J({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":ze}),type:"button",onClick:De},Ve),be)},me=function(K){var be=K.size,Ie=be===void 0?"4rem":be,De=K.testId,ze=B.useState(!1),Ve=ze[0],it=ze[1],Je=De?{"data-testid":De}:{},je=te({onVisibilityChanged:function(nt){it(nt.isVisible)}});return B.createElement("div",V({},Je,{className:J({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ve}),ref:je,style:{height:Ie,width:Ie}}))},pe=function(K){var be=K.ariaLabel,Ie=be===void 0?"":be,De=K.autoFocus,ze=De!==void 0&&De,Ve=K.placeholder,it=Ve===void 0?"":Ve,Je=K.testId,je=K.type,nt=je===void 0?"text":je,tt=K.value,yt=tt===void 0?"":tt,Et=K.onChange,_t=K.onKeyDown,Tt=_t===void 0?function(){}:_t,Pt=B.useContext(ae).direction,At=B.useRef(),gn=Pt===A.TextDirection.RightToLeft,Yt={ref:At,"data-testid":"","aria-label":Ie,className:J({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":gn}),placeholder:it,value:yt,onChange:function(Qt){return Et(Qt.target.value)},onKeyDown:Tt};return Je&&(Yt["data-testid"]=Je),re(function(){if(ze){var Qt=At.current;if(Qt){var on=window.scrollX,Ut=window.scrollY;Qt.focus(),window.scrollTo(on,Ut)}}},[]),nt==="text"?B.createElement("input",V({type:"text"},Yt)):B.createElement("input",V({type:"password"},Yt))};(function(K){K[K.ExitFullScreen=0]="ExitFullScreen",K[K.FullScreenChange=1]="FullScreenChange",K[K.FullScreenElement=2]="FullScreenElement",K[K.FullScreenEnabled=3]="FullScreenEnabled",K[K.RequestFullScreen=4]="RequestFullScreen"})(fe||(fe={}));var Q,le={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},ie={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},se={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ce=typeof window<"u",Se=ce&&(fe.FullScreenEnabled in document&&le||ie.FullScreenEnabled in document&&ie||se.FullScreenEnabled in document&&se)||le,ee=function(){return ce&&Se.FullScreenEnabled in document&&document[Se.FullScreenEnabled]===!0},ge=function(K){return ce?K[Se.ExitFullScreen]():Promise.resolve({})},Ae=function(){return ce?document[Se.FullScreenElement]:null},Oe=function(K,be){var Ie=B.useRef(),De=function(){Ie.current&&clearTimeout(Ie.current)};return B.useEffect(function(){return function(){return De()}},[]),B.useCallback(function(){for(var ze=[],Ve=0;Ve<arguments.length;Ve++)ze[Ve]=arguments[Ve];De(),Ie.current=setTimeout(function(){K.apply(void 0,ze)},be)},[K,be])},Re=function(){var K=B.useRef(!1);return B.useEffect(function(){return K.current=!0,function(){K.current=!1}},[]),K},Ne=function(K){var be=B.useRef(K);return B.useEffect(function(){be.current=K},[K]),be.current};(function(K){K.NotRenderedYet="NotRenderedYet",K.Rendering="Rendering",K.Rendered="Rendered"})(Q||(Q={}));var Fe,qe=-9999,Ee=function(K){var be=K.doc,Ie=be.numPages,De=be.loadingTask.docId,ze=B.useMemo(function(){return Array(Ie).fill(null).map(function(Je,je){return{pageIndex:je,renderStatus:Q.NotRenderedYet,visibility:qe}})},[De]),Ve=B.useRef({currentRenderingPage:-1,startRange:0,endRange:Ie-1,visibilities:ze}),it=function(Je,je){Ve.current.visibilities[Je].visibility=je};return{getHighestPriorityPage:function(){var Je=Ve.current.visibilities.slice(Ve.current.startRange,Ve.current.endRange+1).filter(function(Et){return Et.visibility>qe});if(!Je.length)return-1;for(var je=Je[0].pageIndex,nt=Je[Je.length-1].pageIndex,tt=Je.length,yt=0;yt<tt;yt++){if(Je[yt].renderStatus===Q.Rendering)return-1;if(Je[yt].renderStatus===Q.NotRenderedYet)return Je[yt].pageIndex}return nt+1<Ie&&Ve.current.visibilities[nt+1].renderStatus!==Q.Rendered?nt+1:je-1>=0&&Ve.current.visibilities[je-1].renderStatus!==Q.Rendered?je-1:-1},isInRange:function(Je){return Je>=Ve.current.startRange&&Je<=Ve.current.endRange},markNotRendered:function(){for(var Je=0;Je<Ie;Je++)Ve.current.visibilities[Je].renderStatus=Q.NotRenderedYet},markRendered:function(Je){Ve.current.visibilities[Je].renderStatus=Q.Rendered},markRendering:function(Je){Ve.current.currentRenderingPage!==-1&&Ve.current.currentRenderingPage!==Je&&Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus===Q.Rendering&&(Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus=Q.NotRenderedYet),Ve.current.visibilities[Je].renderStatus=Q.Rendering,Ve.current.currentRenderingPage=Je},setOutOfRange:function(Je){it(Je,qe)},setRange:function(Je,je){Ve.current.startRange=Je,Ve.current.endRange=je;for(var nt=0;nt<Ie;nt++)(nt<Je||nt>je)&&(Ve.current.visibilities[nt].visibility=qe,Ve.current.visibilities[nt].renderStatus=Q.NotRenderedYet)},setVisibility:it}},Te={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Be=B.createContext({l10n:Te,setL10n:function(){}}),ye=0,q=function(){return ye++},Y=function(K,be,Ie){var De=function(ze){var Ve=be.current;if(Ve){var it=ze.target;if(it instanceof Element&&it.shadowRoot){var Je=ze.composedPath();Je.length>0&&!Ve.contains(Je[0])&&Ie()}else Ve.contains(it)||Ie()}};B.useEffect(function(){if(K){var ze={capture:!0};return document.addEventListener("click",De,ze),function(){document.removeEventListener("click",De,ze)}}},[])},ve=function(K){var be=function(Ie){Ie.key==="Escape"&&K()};B.useEffect(function(){return document.addEventListener("keyup",be),function(){document.removeEventListener("keyup",be)}},[])},Me=function(K){var be=K.ariaControlsSuffix,Ie=K.children,De=K.closeOnClickOutside,ze=K.closeOnEscape,Ve=K.onToggle,it=B.useRef(),Je=B.useContext(ae).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var je=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=je}},[]),ve(function(){it.current&&ze&&Ve()}),Y(De,it,Ve),re(function(){var je=it.current;if(je){var nt=.75*document.body.clientHeight;je.getBoundingClientRect().height>=nt&&(je.style.overflow="auto",je.style.maxHeight="".concat(nt,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:J({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Je}),id:"rpv-core__modal-body-".concat(be),ref:it,role:"dialog",tabIndex:-1},Ie)},xe=function(K){var be=K.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},be)};A.ToggleStatus=void 0,(Fe=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Fe.Open="Open",Fe.Toggle="Toggle";var Pe,Le=function(K){var be=B.useState(K),Ie=be[0],De=be[1];return{opened:Ie,toggle:function(ze){switch(ze){case A.ToggleStatus.Close:De(!1);break;case A.ToggleStatus.Open:De(!0);break;case A.ToggleStatus.Toggle:default:De(function(Ve){return!Ve})}}}},Qe=function(K){var be=K.content,Ie=K.isOpened,De=Ie!==void 0&&Ie,ze=K.target,Ve=Le(De),it=Ve.opened,Je=Ve.toggle;return B.createElement(B.Fragment,null,ze&&ze(Je,it),it&&be(Je))};A.Position=void 0,(Pe=A.Position||(A.Position={})).TopLeft="TOP_LEFT",Pe.TopCenter="TOP_CENTER",Pe.TopRight="TOP_RIGHT",Pe.RightTop="RIGHT_TOP",Pe.RightCenter="RIGHT_CENTER",Pe.RightBottom="RIGHT_BOTTOM",Pe.BottomLeft="BOTTOM_LEFT",Pe.BottomCenter="BOTTOM_CENTER",Pe.BottomRight="BOTTOM_RIGHT",Pe.LeftTop="LEFT_TOP",Pe.LeftCenter="LEFT_CENTER",Pe.LeftBottom="LEFT_BOTTOM";var st,ct,dt,ht,gt,Ke,Xe,_e,we=function(K,be,Ie,De,ze){re(function(){var Ve=be.current,it=K.current,Je=Ie.current;if(it&&Ve&&Je){var je=Je.getBoundingClientRect(),nt=function(Et,_t,Tt,Pt){var At=_t.getBoundingClientRect(),gn=Et.getBoundingClientRect(),Yt=gn.height,Qt=gn.width,on=0,Ut=0;switch(Tt){case A.Position.TopLeft:on=At.top-Yt,Ut=At.left;break;case A.Position.TopCenter:on=At.top-Yt,Ut=At.left+At.width/2-Qt/2;break;case A.Position.TopRight:on=At.top-Yt,Ut=At.left+At.width-Qt;break;case A.Position.RightTop:on=At.top,Ut=At.left+At.width;break;case A.Position.RightCenter:on=At.top+At.height/2-Yt/2,Ut=At.left+At.width;break;case A.Position.RightBottom:on=At.top+At.height-Yt,Ut=At.left+At.width;break;case A.Position.BottomLeft:on=At.top+At.height,Ut=At.left;break;case A.Position.BottomCenter:on=At.top+At.height,Ut=At.left+At.width/2-Qt/2;break;case A.Position.BottomRight:on=At.top+At.height,Ut=At.left+At.width-Qt;break;case A.Position.LeftTop:on=At.top,Ut=At.left-Qt;break;case A.Position.LeftCenter:on=At.top+At.height/2-Yt/2,Ut=At.left-Qt;break;case A.Position.LeftBottom:on=At.top+At.height-Yt,Ut=At.left-Qt}return{left:Ut+(Pt.left||0),top:on+(Pt.top||0)}}(it,Ve,De,ze),tt=nt.top,yt=nt.left;it.style.top="".concat(tt-je.top,"px"),it.style.left="".concat(yt-je.left,"px")}},[])},He=function(K){var be,Ie=K.customClassName,De=K.position;return B.createElement("div",{className:J((be={"rpv-core__arrow":!0,"rpv-core__arrow--tl":De===A.Position.TopLeft,"rpv-core__arrow--tc":De===A.Position.TopCenter,"rpv-core__arrow--tr":De===A.Position.TopRight,"rpv-core__arrow--rt":De===A.Position.RightTop,"rpv-core__arrow--rc":De===A.Position.RightCenter,"rpv-core__arrow--rb":De===A.Position.RightBottom,"rpv-core__arrow--bl":De===A.Position.BottomLeft,"rpv-core__arrow--bc":De===A.Position.BottomCenter,"rpv-core__arrow--br":De===A.Position.BottomRight,"rpv-core__arrow--lt":De===A.Position.LeftTop,"rpv-core__arrow--lc":De===A.Position.LeftCenter,"rpv-core__arrow--lb":De===A.Position.LeftBottom},be["".concat(Ie)]=Ie!=="",be))})},Ye=function(K){var be=K.ariaControlsSuffix,Ie=K.children,De=K.closeOnClickOutside,ze=K.offset,Ve=K.position,it=K.targetRef,Je=K.onClose,je=B.useRef(),nt=B.useRef(),tt=B.useRef(),yt=B.useContext(ae).direction===A.TextDirection.RightToLeft;Y(De,je,Je),we(je,it,tt,Ve,ze),re(function(){var _t=nt.current;if(_t){var Tt=.75*document.body.clientHeight;_t.getBoundingClientRect().height>=Tt&&(_t.style.overflow="auto",_t.style.maxHeight="".concat(Tt,"px"))}},[]);var Et="rpv-core__popover-body-inner-".concat(be);return B.createElement(B.Fragment,null,B.createElement("div",{ref:tt,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":Et,className:J({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":yt}),id:"rpv-core__popover-body-".concat(be),ref:je,role:"dialog",tabIndex:-1},B.createElement(He,{customClassName:"rpv-core__popover-body-arrow",position:Ve}),B.createElement("div",{id:Et,ref:nt},Ie)))},rt=function(K){var be=K.closeOnEscape,Ie=K.onClose,De=B.useRef();return ve(function(){De.current&&be&&Ie()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:De})},mt=function(K){var be=K.ariaControlsSuffix,Ie=K.children,De=K.contentRef,ze=K.offset,Ve=K.position,it=K.targetRef,Je=B.useRef(),je=B.useContext(ae).direction===A.TextDirection.RightToLeft;return we(De,it,Je,Ve,ze),B.createElement(B.Fragment,null,B.createElement("div",{ref:Je,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:J({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":je}),id:"rpv-core__tooltip-body-".concat(be),ref:De,role:"tooltip"},B.createElement(He,{customClassName:"rpv-core__tooltip-body-arrow",position:Ve}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},Ie)))};A.FullScreenMode=void 0,(st=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",st.Entering="Entering",st.Entered="Entered",st.EnteredCompletely="EnteredCompletely",st.Exitting="Exitting",st.Exited="Exited",A.LayerRenderStatus=void 0,(ct=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ct.PreRender=0]="PreRender",ct[ct.DidRender=1]="DidRender",A.PageMode=void 0,(dt=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",dt.Bookmarks="UseOutlines",dt.ContentGroup="UseOC",dt.Default="UserNone",dt.FullScreen="FullScreen",dt.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(ht=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",ht.WrongPassword="WrongPassword",A.RotateDirection=void 0,(gt=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",gt.Forward="Forward",A.ScrollMode=void 0,(Ke=A.ScrollMode||(A.ScrollMode={})).Page="Page",Ke.Horizontal="Horizontal",Ke.Vertical="Vertical",Ke.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Xe=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Xe.PageFit="PageFit",Xe.PageWidth="PageWidth",A.ViewMode=void 0,(_e=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",_e.DualPageWithCover="DualPageWithCover",_e.SinglePage="SinglePage";var ft,We=function(K,be){return K.reduce(function(Ie,De,ze){return ze%be?Ie[Ie.length-1].push(De):Ie.push([De]),Ie},[])},xt=function(K,be){switch(be[1].name){case"XYZ":return{bottomOffset:function(Ie,De){return be[3]===null?De:be[3]},leftOffset:function(Ie,De){return be[2]===null?0:be[2]},pageIndex:K,scaleTo:be[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:be[2],leftOffset:0,pageIndex:K,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:K,scaleTo:1}}},wt=new Map,Zt=new Map,Gt=function(K,be){return"".concat(K.loadingTask.docId,"___").concat(be.num,"R").concat(be.gen===0?"":be.gen)},fn=function(K,be,Ie){wt.set(Gt(K,be),Ie)},It=function(K,be){if(!K)return Promise.reject("The document is not loaded yet");var Ie="".concat(K.loadingTask.docId,"___").concat(be),De=Zt.get(Ie);return De?Promise.resolve(De):new Promise(function(ze,Ve){K.getPage(be+1).then(function(it){Zt.set(Ie,it),it.ref&&fn(K,it.ref,be),ze(it)})})},Ht=function(K,be){return new Promise(function(Ie){new Promise(function(De){typeof be=="string"?K.getDestination(be).then(function(ze){De(ze)}):De(be)}).then(function(De){if(typeof De[0]=="object"&&De[0]!==null){var ze=De[0],Ve=function(Je,je){var nt=Gt(Je,je);return wt.has(nt)?wt.get(nt):null}(K,ze);Ve===null?K.getPageIndex(ze).then(function(Je){fn(K,ze,Je),Ht(K,be).then(function(je){return Ie(je)})}):Ie(xt(Ve,De))}else{var it=xt(De[0],De);Ie(it)}})})};(function(K){K[K.Solid=1]="Solid",K[K.Dashed=2]="Dashed",K[K.Beveled=3]="Beveled",K[K.Inset=4]="Inset",K[K.Underline=5]="Underline"})(ft||(ft={}));var an,yn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),vt=function(K,be,Ie,De){var ze=parseInt(K,10);return ze>=be&&ze<=Ie?ze:De},Ze=function(K){return K.contentsObj?K.contentsObj.str:K.contents||""},et=function(K){return K.titleObj?K.titleObj.str:K.title||""},$t=function(K){var be=K.annotation,Ie=B.useContext(ae).direction,De=et(be),ze=Ze(be),Ve=Ie===A.TextDirection.RightToLeft,it=B.useRef(),Je="";if(be.modificationDate){var je=function(nt){var tt=yn.exec(nt);if(!tt)return null;var yt=parseInt(tt[1],10),Et=vt(tt[2],1,12,1)-1,_t=vt(tt[3],1,31,1),Tt=vt(tt[4],0,23,0),Pt=vt(tt[5],0,59,0),At=vt(tt[6],0,59,0),gn=tt[7]||"Z",Yt=vt(tt[8],0,23,0),Qt=vt(tt[9],0,59,0);switch(gn){case"-":Tt+=Yt,Pt+=Qt;break;case"+":Tt-=Yt,Pt-=Qt}return new Date(Date.UTC(yt,Et,_t,Tt,Pt,At))}(be.modificationDate);Je=je?"".concat(je.toLocaleDateString(),", ").concat(je.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(it.current){var nt=document.querySelector('[data-annotation-id="'.concat(be.id,'"]'));if(nt){var tt=nt;return tt.style.zIndex+=1,function(){tt.style.zIndex="".concat(parseInt(tt.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:it,className:J({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ve}),style:{top:be.annotationType===A.AnnotationType.Popup?"":"100%"}},De&&B.createElement(B.Fragment,null,B.createElement("div",{className:J({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ve,"rpv-core__annotation-popup-title--rtl":Ve})},De),B.createElement("div",{className:"rpv-core__annotation-popup-date"},Je)),ze&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},ze.split(`
`).map(function(nt,tt){return B.createElement(B.Fragment,{key:tt},nt,B.createElement("br",null))})))};(function(K){K.Click="Click",K.Hover="Hover"})(an||(an={}));var Lt,qt=function(K){var be,Ie=K.annotation,De=K.children,ze=K.ignoreBorder,Ve=K.hasPopup,it=K.isRenderable,Je=K.page,je=K.viewport,nt=Ie.rect,tt=function(){var tn=Le(!1),wn=tn.opened,Sn=tn.toggle,xn=B.useState(an.Hover),Cn=xn[0],Pn=xn[1];return{opened:wn,closeOnHover:function(){Cn===an.Hover&&Sn(A.ToggleStatus.Close)},openOnHover:function(){Cn===an.Hover&&Sn(A.ToggleStatus.Open)},toggleOnClick:function(){switch(Cn){case an.Click:wn&&Pn(an.Hover),Sn(A.ToggleStatus.Toggle);break;case an.Hover:Pn(an.Click),Sn(A.ToggleStatus.Open)}}}}(),yt=tt.closeOnHover,Et=tt.opened,_t=tt.openOnHover,Tt=tt.toggleOnClick,Pt=(be=[nt[0],Je.view[3]+Je.view[1]-nt[1],nt[2],Je.view[3]+Je.view[1]-nt[3]],[Math.min(be[0],be[2]),Math.min(be[1],be[3]),Math.max(be[0],be[2]),Math.max(be[1],be[3])]),At=nt[2]-nt[0],gn=nt[3]-nt[1],Yt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!ze&&Ie.borderStyle.width>0){switch(Ie.borderStyle.style){case ft.Dashed:Yt.borderStyle="dashed";break;case ft.Solid:Yt.borderStyle="solid";break;case ft.Underline:Yt=Object.assign({borderBottomStyle:"solid"},Yt);case ft.Beveled:case ft.Inset:}var Qt=Ie.borderStyle.width;Yt.borderWidth="".concat(Qt,"px"),Ie.borderStyle.style!==ft.Underline&&(At-=2*Qt,gn-=2*Qt);var on=Ie.borderStyle,Ut=on.horizontalCornerRadius,sn=on.verticalCornerRadius;(Ut>0||sn>0)&&(Yt.borderRadius="".concat(Ut,"px / ").concat(sn,"px")),Ie.color?Yt.borderColor="rgb(".concat(0|Ie.color[0],", ").concat(0|Ie.color[1],", ").concat(0|Ie.color[2],")"):Yt.borderWidth="0"}return B.createElement(B.Fragment,null,it&&De({popup:{opened:Et,closeOnHover:yt,openOnHover:_t,toggleOnClick:Tt},slot:{attrs:{style:Object.assign({height:"".concat(gn,"px"),left:"".concat(Pt[0],"px"),top:"".concat(Pt[1],"px"),transform:"matrix(".concat(je.transform.join(","),")"),transformOrigin:"-".concat(Pt[0],"px -").concat(Pt[1],"px"),width:"".concat(At,"px")},Yt)},children:B.createElement(B.Fragment,null,Ve&&Et&&B.createElement($t,{annotation:Ie}))}}))},$e=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},pt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("circle",{cy:tt/2,fill:"none",rx:nt/2-yt/2,ry:tt/2-yt/2,stroke:"transparent",strokeWidth:yt||1})),Et.slot.children)})},Mt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=et(be),Ve=Ze(be),it=!(be.hasPopup!==!1||!ze&&!Ve),Je=function(){var je,nt,tt,yt,Et=be.file;Et&&(je=Et.filename,nt=Et.content,tt=typeof nt=="string"?"":URL.createObjectURL(new Blob([nt],{type:""})),(yt=document.createElement("a")).style.display="none",yt.href=tt||je,yt.setAttribute("download",function(_t){var Tt=_t.split("/").pop();return Tt?Tt.split("#")[0].split("?")[0]:_t}(je)),document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),tt&&URL.revokeObjectURL(tt))};return B.createElement(qt,{annotation:be,hasPopup:it,ignoreBorder:!0,isRenderable:!0,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onDoubleClick:Je,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},Ot=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},Bt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=et(be),Ve=Ze(be),it=!(!ze&&!Ve),Je=!be.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(be.parentType)!==-1;return re(function(){if(be.parentId){var je=document.querySelector('[data-annotation-id="'.concat(be.parentId,'"]')),nt=document.querySelector('[data-annotation-id="'.concat(be.id,'"]'));if(je&&nt){var tt=parseFloat(je.style.left),yt=parseFloat(je.style.top)+parseFloat(je.style.height);nt.style.left="".concat(tt,"px"),nt.style.top="".concat(yt,"px"),nt.style.transformOrigin="-".concat(tt,"px -").concat(yt,"px")}}},[]),B.createElement(qt,{annotation:be,hasPopup:Je,ignoreBorder:!1,isRenderable:it,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":be.id}),B.createElement($t,{annotation:be}))})},Rt=function(K){var be=K.annotation,Ie=K.childAnnotation,De=K.page,ze=K.viewport,Ve=be.hasPopup===!1,it=et(be),Je=Ze(be),je=!!(be.hasPopup||it||Je);if(be.quadPoints&&be.quadPoints.length>0){var nt=be.quadPoints.map(function(tt){return Object.assign({},be,{rect:[tt[2].x,tt[2].y,tt[1].x,tt[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,nt.map(function(tt,yt){return B.createElement(Rt,{key:yt,annotation:tt,childAnnotation:Ie,page:De,viewport:ze})}))}return B.createElement(qt,{annotation:be,hasPopup:Ve,ignoreBorder:!0,isRenderable:je,page:De,viewport:ze},function(tt){return B.createElement(B.Fragment,null,B.createElement("div",V({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":be.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children),Ie&&Ie.annotationType===A.AnnotationType.Popup&&tt.popup.opened&&B.createElement(Bt,{annotation:Ie,page:De,viewport:ze}))})},ke=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),be.inkLists&&be.inkLists.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},be.inkLists.map(function(_t,Tt){return B.createElement("polyline",{key:Tt,fill:"none",stroke:"transparent",strokeWidth:yt||1,points:_t.map(function(Pt){return"".concat(Pt.x-je[0],",").concat(je[3]-Pt.y)}).join(" ")})})),Et.slot.children)})},Ce=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:yt||1,x1:je[2]-be.lineCoordinates[0],x2:je[2]-be.lineCoordinates[2],y1:je[3]-be.lineCoordinates[1],y2:je[3]-be.lineCoordinates[3]})),Et.slot.children)})},Ue=/^([^\w]*)(javascript|data|vbscript)/im,lt=/&#(\w+)(^\w|;)?/g,ut=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,bt=/^([^:]+):/gm,St=function(K,be){var Ie,De=(Ie=K||"",Ie.replace(lt,function(Je,je){return String.fromCharCode(je)})).replace(ut,"").trim();if(!De)return be;var ze=De[0];if(ze==="."||ze==="/")return De;var Ve=De.match(bt);if(!Ve)return De;var it=Ve[0];return Ue.test(it)?be:De},Nt=function(K){var be,Ie=K.annotation,De=K.annotationContainerRef,ze=K.doc,Ve=K.outlines,it=K.page,Je=K.pageIndex,je=K.scale,nt=K.viewport,tt=K.onExecuteNamedAction,yt=K.onJumpFromLinkAnnotation,Et=K.onJumpToDest,_t=B.useRef(),Tt=Ve&&Ve.length&&Ie.dest&&typeof Ie.dest=="string"?(be=Ve.find(function(Yt){return Yt.dest===Ie.dest}))===null||be===void 0?void 0:be.title:"",Pt=!!(Ie.url||Ie.dest||Ie.action||Ie.unsafeUrl),At={};if(Ie.url||Ie.unsafeUrl){var gn=St(Ie.url||Ie.unsafeUrl,"");gn?At={"data-target":"external",href:gn,rel:"noopener noreferrer nofollow",target:Ie.newWindow?"_blank":"",title:gn}:Pt=!1}else At={href:"","data-annotation-link":Ie.id,onClick:function(Yt){Yt.preventDefault(),Ie.action?tt(Ie.action):Ht(ze,Ie.dest).then(function(Qt){var on=_t.current,Ut=De.current;if(on&&Ut){var sn=on.getBoundingClientRect();Ut.style.setProperty("height","100%"),Ut.style.setProperty("width","100%");var tn=Ut.getBoundingClientRect();Ut.style.removeProperty("height"),Ut.style.removeProperty("width");var wn=(sn.left-tn.left)/je,Sn=(tn.bottom-sn.bottom+sn.height)/je;yt({bottomOffset:Sn,label:Tt,leftOffset:wn,pageIndex:Je})}Et(Qt)})}};return Tt&&(At=Object.assign({},At,{title:Tt,"aria-label":Tt})),B.createElement(qt,{annotation:Ie,hasPopup:!1,ignoreBorder:!1,isRenderable:Pt,page:it,viewport:nt},function(Yt){return B.createElement("div",V({},Yt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ie.id,"data-testid":"core__annotation--link-".concat(Ie.id)}),B.createElement("a",V({ref:_t},At)))})},Ft=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),be.vertices&&be.vertices.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:be.vertices.map(function(_t){return"".concat(_t.x-je[0],",").concat(je[3]-_t.y)}).join(" ")})),Et.slot.children)})},kt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),be.vertices&&be.vertices.length&&B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:yt||1,points:be.vertices.map(function(_t){return"".concat(_t.x-je[0],",").concat(je[3]-_t.y)}).join(" ")})),Et.slot.children)})},rn=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it),je=be.rect,nt=je[2]-je[0],tt=je[3]-je[1],yt=be.borderStyle.width;return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(Et){return B.createElement("div",V({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":be.id,onClick:Et.popup.toggleOnClick,onMouseEnter:Et.popup.openOnHover,onMouseLeave:Et.popup.closeOnHover}),B.createElement("svg",{height:"".concat(tt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(nt," ").concat(tt),width:"".concat(nt,"px")},B.createElement("rect",{height:tt-yt,fill:"none",stroke:"transparent",strokeWidth:yt||1,x:yt/2,y:yt/2,width:nt-yt})),Et.slot.children)})},Dt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},zt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},Jt=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},un=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},bn=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Mn=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Wn=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},Nn=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},nr=function(){return B.createElement(G,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ir=function(K){var be=K.annotation,Ie=K.childAnnotation,De=K.page,ze=K.viewport,Ve=be.hasPopup===!1,it=et(be),Je=Ze(be),je=!!(be.hasPopup||it||Je),nt=be.name?be.name.toLowerCase():"";return B.createElement(qt,{annotation:be,hasPopup:Ve,ignoreBorder:!1,isRenderable:je,page:De,viewport:ze},function(tt){return B.createElement(B.Fragment,null,B.createElement("div",V({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":be.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),nt&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},nt==="check"&&B.createElement(ne,null),nt==="comment"&&B.createElement(un,null),nt==="help"&&B.createElement(bn,null),nt==="insert"&&B.createElement(nr,null),nt==="key"&&B.createElement(Mn,null),nt==="note"&&B.createElement(Wn,null),(nt==="newparagraph"||nt==="paragraph")&&B.createElement(Nn,null)),tt.slot.children),Ie&&Ie.annotationType===A.AnnotationType.Popup&&tt.popup.opened&&B.createElement(Bt,{annotation:Ie,page:De,viewport:ze}))})},or=function(K){var be=K.annotation,Ie=K.page,De=K.viewport,ze=be.hasPopup===!1,Ve=et(be),it=Ze(be),Je=!!(be.hasPopup||Ve||it);return B.createElement(qt,{annotation:be,hasPopup:ze,ignoreBorder:!0,isRenderable:Je,page:Ie,viewport:De},function(je){return B.createElement("div",V({},je.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":be.id,onClick:je.popup.toggleOnClick,onMouseEnter:je.popup.openOnHover,onMouseLeave:je.popup.closeOnHover}),je.slot.children)})},Dr=function(K){var be=K.annotations,Ie=K.doc,De=K.outlines,ze=K.page,Ve=K.pageIndex,it=K.plugins,Je=K.rotation,je=K.scale,nt=K.onExecuteNamedAction,tt=K.onJumpFromLinkAnnotation,yt=K.onJumpToDest,Et=B.useRef(),_t=ze.getViewport({rotation:Je,scale:je}).clone({dontFlip:!0}),Tt=be.filter(function(Pt){return!Pt.parentId});return re(function(){var Pt=Et.current;Pt&&it.forEach(function(At){At.onAnnotationLayerRender&&At.onAnnotationLayerRender({annotations:Tt,container:Pt,pageIndex:Ve,rotation:Je,scale:je})})},[]),B.createElement("div",{ref:Et,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ve)},Tt.map(function(Pt){var At=be.find(function(gn){return gn.parentId===Pt.id});switch(Pt.annotationType){case A.AnnotationType.Caret:return B.createElement($e,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Circle:return B.createElement(pt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.FileAttachment:return B.createElement(Mt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.FreeText:return B.createElement(Ot,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Highlight:return B.createElement(Rt,{key:Pt.id,annotation:Pt,childAnnotation:At,page:ze,viewport:_t});case A.AnnotationType.Ink:return B.createElement(ke,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Line:return B.createElement(Ce,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Link:return B.createElement(Nt,{key:Pt.id,annotation:Pt,annotationContainerRef:Et,doc:Ie,outlines:De,page:ze,pageIndex:Ve,scale:je,viewport:_t,onExecuteNamedAction:nt,onJumpFromLinkAnnotation:tt,onJumpToDest:yt});case A.AnnotationType.Polygon:return B.createElement(Ft,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Polyline:return B.createElement(kt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Popup:return B.createElement(Bt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Square:return B.createElement(rn,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Squiggly:return B.createElement(Dt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Stamp:return B.createElement(zt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.StrikeOut:return B.createElement(Jt,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});case A.AnnotationType.Text:return B.createElement(ir,{key:Pt.id,annotation:Pt,childAnnotation:At,page:ze,viewport:_t});case A.AnnotationType.Underline:return B.createElement(or,{key:Pt.id,annotation:Pt,page:ze,viewport:_t});default:return B.createElement(B.Fragment,{key:Pt.id})}}))},Yo=function(K){var be=K.page,Ie=K.renderAnnotations,De=Re(),ze=B.useState({loading:!0,annotations:[]}),Ve=ze[0],it=ze[1];return B.useEffect(function(){be.getAnnotations({intent:"display"}).then(function(Je){De.current&&it({loading:!1,annotations:Je})})},[]),Ve.loading?B.createElement(B.Fragment,null):Ie(Ve.annotations)},Zo=function(K){var be=K.doc,Ie=K.outlines,De=K.page,ze=K.pageIndex,Ve=K.plugins,it=K.rotation,Je=K.scale,je=K.onExecuteNamedAction,nt=K.onJumpFromLinkAnnotation,tt=K.onJumpToDest;return B.createElement(Yo,{page:De,renderAnnotations:function(yt){return B.createElement(Dr,{annotations:yt,doc:be,outlines:Ie,page:De,pageIndex:ze,plugins:Ve,rotation:it,scale:Je,onExecuteNamedAction:je,onJumpFromLinkAnnotation:nt,onJumpToDest:tt})}})},Lr=function(K,be){var Ie=K%be;return Ie===0?K:Math.floor(K-Ie)},Jo=function(K){var be=K.canvasLayerRef,Ie=K.height,De=K.page,ze=K.pageIndex,Ve=K.plugins,it=K.rotation,Je=K.scale,je=K.width,nt=K.onRenderCanvasCompleted,tt=B.useRef();return re(function(){var yt=tt.current;yt&&yt.cancel();var Et=be.current;Et.removeAttribute("data-testid"),Ve.forEach(function(tn){tn.onCanvasLayerRender&&tn.onCanvasLayerRender({ele:Et,pageIndex:ze,rotation:it,scale:Je,status:A.LayerRenderStatus.PreRender})});var _t=De.getViewport({rotation:it,scale:Je}),Tt=window.devicePixelRatio||1,Pt=Math.sqrt(16777216/(_t.width*_t.height)),At=Tt>Pt;At?Et.style.transform="scale(1, 1)":Et.style.removeProperty("transform");var gn=Math.min(Pt,Tt),Yt=function(tn,wn){var Sn,xn;if(Math.floor(tn)===tn)return[tn,1];var Cn=1/tn;if(Cn>wn)return[1,wn];if(Math.floor(Cn)===Cn)return[1,Cn];for(var Pn=tn>1?Cn:tn,Un=0,Ln=1,Vn=1,jn=1;;){var zn=Un+Vn,Hn=Ln+jn;if(Hn>wn)break;Pn<=zn/Hn?(Vn=(Sn=[zn,Hn])[0],jn=Sn[1]):(Un=(xn=[zn,Hn])[0],Ln=xn[1])}return Pn<(Un/Ln+Vn/jn)/2?Pn===tn?[Un,Ln]:[Ln,Un]:Pn===tn?[Vn,jn]:[jn,Vn]}(gn,8),Qt=Yt[0],on=Yt[1];Et.width=Lr(_t.width*gn,Qt),Et.height=Lr(_t.height*gn,Qt),Et.style.width="".concat(Lr(_t.width,on),"px"),Et.style.height="".concat(Lr(_t.height,on),"px"),Et.hidden=!0;var Ut=Et.getContext("2d",{alpha:!1}),sn=At||Tt!==1?[gn,0,0,gn,0,0]:null;return tt.current=De.render({canvasContext:Ut,transform:sn,viewport:_t}),tt.current.promise.then(function(){Et.hidden=!1,Et.setAttribute("data-testid","core__canvas-layer-".concat(ze)),Ve.forEach(function(tn){tn.onCanvasLayerRender&&tn.onCanvasLayerRender({ele:Et,pageIndex:ze,rotation:it,scale:Je,status:A.LayerRenderStatus.DidRender})}),nt()},function(){nt()}),function(){Et&&(Et.width=0,Et.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ie,"px"),width:"".concat(je,"px")}},B.createElement("canvas",{ref:be}))},Qo=function(K){var be=K.height,Ie=K.page,De=K.rotation,ze=K.scale,Ve=K.width,it=B.useRef();return re(function(){var Je=it.current,je=Ie.getViewport({rotation:De,scale:ze});Ie.getOperatorList().then(function(nt){(function(){var tt=it.current;tt&&(tt.innerHTML="")})(),new W.SVGGraphics(Ie.commonObjs,Ie.objs).getSVG(nt,je).then(function(tt){tt.style.height="".concat(be,"px"),tt.style.width="".concat(Ve,"px"),Je.appendChild(tt)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:it})},ea=function(K){var be=K.containerRef,Ie=K.page,De=K.pageIndex,ze=K.plugins,Ve=K.rotation,it=K.scale,Je=K.onRenderTextCompleted,je=B.useRef(),nt=function(){var tt=be.current;tt&&([].slice.call(tt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(yt){return tt.removeChild(yt)}),[].slice.call(tt.querySelectorAll('br[role="presentation"]')).forEach(function(yt){return tt.removeChild(yt)}))};return re(function(){var tt=je.current;tt&&tt.cancel();var yt=be.current;if(yt){yt.removeAttribute("data-testid");var Et=Ie.getViewport({rotation:Ve,scale:it});return ze.forEach(function(_t){_t.onTextLayerRender&&_t.onTextLayerRender({ele:yt,pageIndex:De,scale:it,status:A.LayerRenderStatus.PreRender})}),Ie.getTextContent().then(function(_t){nt(),je.current=W.renderTextLayer({container:yt,textContent:_t,textContentSource:_t,viewport:Et}),je.current.promise.then(function(){yt.setAttribute("data-testid","core__text-layer-".concat(De)),[].slice.call(yt.children).forEach(function(Tt){Tt.classList.contains("rpv-core__text-layer-text--not")||Tt.classList.add("rpv-core__text-layer-text")}),ze.forEach(function(Tt){Tt.onTextLayerRender&&Tt.onTextLayerRender({ele:yt,pageIndex:De,scale:it,status:A.LayerRenderStatus.DidRender})}),Je()},function(){yt.removeAttribute("data-testid"),Je()})}),function(){var _t;nt(),(_t=je.current)===null||_t===void 0||_t.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:be})},ta=function(K){var be=K.doc,Ie=K.measureRef,De=K.outlines,ze=K.pageIndex,Ve=K.pageRotation,it=K.pageSize,Je=K.plugins,je=K.renderPage,nt=K.renderQueueKey,tt=K.rotation,yt=K.scale,Et=K.shouldRender,_t=K.viewMode,Tt=K.onExecuteNamedAction,Pt=K.onJumpFromLinkAnnotation,At=K.onJumpToDest,gn=K.onRenderCompleted,Yt=K.onRotatePage,Qt=Re(),on=B.useState(null),Ut=on[0],sn=on[1],tn=B.useState(!1),wn=tn[0],Sn=tn[1],xn=B.useState(!1),Cn=xn[0],Pn=xn[1],Un=B.useRef(),Ln=B.useRef(),Vn=Math.abs(tt+Ve)%180==0,jn=it.pageWidth*yt,zn=it.pageHeight*yt,Hn=Vn?jn:zn,Bn=Vn?zn:jn,Zn=(it.rotation+tt+Ve)%360,ar=B.useRef(0),rr=je||function(Kn){return B.createElement(B.Fragment,null,Kn.canvasLayer.children,Kn.textLayer.children,Kn.annotationLayer.children)};return B.useEffect(function(){sn(null),Sn(!1),Pn(!1)},[Ve,tt,yt]),B.useEffect(function(){Et&&Qt.current&&!Ut&&It(be,ze).then(function(Kn){Qt.current&&(ar.current=nt,sn(Kn))})},[Et,Ut]),B.useEffect(function(){wn&&Cn&&(nt!==ar.current?(sn(null),Sn(!1),Pn(!1)):gn(ze))},[wn,Cn]),B.createElement("div",{className:J({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":_t===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":_t===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":_t===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(ze),ref:Ie,style:{height:"".concat(Bn,"px"),width:"".concat(Hn,"px")}},Ut?B.createElement(B.Fragment,null,rr({annotationLayer:{attrs:{},children:B.createElement(Zo,{doc:be,outlines:De,page:Ut,pageIndex:ze,plugins:Je,rotation:Zn,scale:yt,onExecuteNamedAction:Tt,onJumpFromLinkAnnotation:Pt,onJumpToDest:At})},canvasLayer:{attrs:{},children:B.createElement(Jo,{canvasLayerRef:Un,height:Bn,page:Ut,pageIndex:ze,plugins:Je,rotation:Zn,scale:yt,width:Hn,onRenderCanvasCompleted:function(){Qt.current&&Sn(!0)}})},canvasLayerRendered:wn,doc:be,height:Bn,pageIndex:ze,rotation:Zn,scale:yt,svgLayer:{attrs:{},children:B.createElement(Qo,{height:Bn,page:Ut,rotation:Zn,scale:yt,width:Hn})},textLayer:{attrs:{},children:B.createElement(ea,{containerRef:Ln,page:Ut,pageIndex:ze,plugins:Je,rotation:Zn,scale:yt,onRenderTextCompleted:function(){Qt.current&&Pn(!0)}})},textLayerRendered:Cn,width:Hn,markRendered:gn,onRotatePage:function(Kn){return Yt(ze,Kn)}}),Je.map(function(Kn,Jn){return Kn.renderPageLayer?B.createElement(B.Fragment,{key:Jn},Kn.renderPageLayer({canvasLayerRef:Un,canvasLayerRendered:wn,doc:be,height:Bn,pageIndex:ze,rotation:Zn,scale:yt,textLayerRef:Ln,textLayerRendered:Cn,width:Hn})):B.createElement(B.Fragment,{key:Jn})})):B.createElement(me,{testId:"core__page-layer-loading-".concat(ze)}))},na=function(K,be){var Ie=be.rect;return K.height!==Ie.height||K.width!==Ie.width?Ie:K};(function(K){K.Horizontal="Horizontal",K.Vertical="Vertical",K.Both="Both"})(Lt||(Lt={}));var ra=function(K){return 1-Math.pow(1-K,4)},Or=1e-4,Yi={left:0,top:0},Zi={capture:!1,passive:!0},ia=function(K){var be=K.elementRef,Ie=K.enableSmoothScroll,De=K.isRtl,ze=K.scrollDirection,Ve=K.onSmoothScroll,it=B.useState(Yi),Je=it[0],je=it[1],nt=B.useState(be.current),tt=nt[0],yt=nt[1],Et=De?-1:1,_t=B.useRef(ze);_t.current=ze;var Tt=B.useRef(Yi),Pt=B.useRef(!0),At=B.useCallback(function(){Pt.current=!0,Ie&&je(Tt.current),Ve(!1)},[]),gn=B.useCallback(function(){if(tt){switch(_t.current){case Lt.Horizontal:Tt.current={left:Et*tt.scrollLeft,top:0};break;case Lt.Both:Tt.current={left:Et*tt.scrollLeft,top:tt.scrollTop};break;case Lt.Vertical:default:Tt.current={left:0,top:tt.scrollTop}}Ie&&!Pt.current||je(Tt.current)}},[tt]);re(function(){yt(be.current)}),re(function(){if(tt)return tt.addEventListener("scroll",gn,Zi),function(){tt.removeEventListener("scroll",gn,Zi)}},[tt]);var Yt=B.useCallback(function(Qt,on){var Ut=be.current;if(!Ut)return Promise.resolve();var sn={left:0,top:0};switch(_t.current){case Lt.Horizontal:sn.left=Et*Qt.left;break;case Lt.Both:sn.left=Et*Qt.left,sn.top=Qt.top;break;case Lt.Vertical:default:sn.top=Qt.top}return on?(Pt.current=!1,Ve(!0),new Promise(function(tn,wn){(function(Sn,xn,Cn,Pn,Un,Ln){Un===void 0&&(Un=function(Jn){return Jn}),Ln===void 0&&(Ln=function(){});var Vn=0,jn=0,zn=!1;switch(xn){case Lt.Horizontal:jn=Sn.scrollLeft,Vn=0;case Lt.Both:jn=Sn.scrollLeft,Vn=Sn.scrollTop;break;case Lt.Vertical:default:jn=0,Vn=Sn.scrollTop}var Hn=function(){zn||(zn=!0,Sn.scrollLeft=Cn.left,Sn.scrollTop=Cn.top,Ln())};if(Math.abs(Vn-Cn.top)<=Or&&xn===Lt.Vertical)Hn();else if(Math.abs(jn-Cn.left)<=Or&&xn===Lt.Horizontal)Hn();else{var Bn,Zn=-1,ar=jn-Cn.left,rr=Vn-Cn.top,Kn=function(Jn){Zn===-1&&(Zn=Jn);var sr=Jn-Zn,nn=Math.min(sr/Pn,1),en=Un(nn),Vt={left:jn-ar*en,top:Vn-rr*en};switch(xn){case Lt.Horizontal:Sn.scrollLeft=Vt.left;break;case Lt.Both:Sn.scrollLeft=Vt.left,Sn.scrollTop=Vt.top;break;case Lt.Vertical:default:Sn.scrollTop=Vt.top}Math.abs(Vt.top-Cn.top)<=Or&&Math.abs(Vt.left-Cn.left)<=Or&&!zn&&(window.cancelAnimationFrame(Bn),Hn()),sr<Pn?Bn=window.requestAnimationFrame(Kn):window.cancelAnimationFrame(Bn)};Bn=window.requestAnimationFrame(Kn)}})(Ut,_t.current,sn,400,ra,function(){At(),tn()})})):new Promise(function(tn,wn){switch(_t.current){case Lt.Horizontal:Ut.scrollLeft=sn.left;break;case Lt.Both:Ut.scrollLeft=sn.left,Ut.scrollTop=sn.top;break;case Lt.Vertical:default:Ut.scrollTop=sn.top}tn()})},[be]);return{scrollOffset:Je,scrollTo:Yt}},Cr=function(K,be,Ie){return Math.max(K,Math.min(Ie,be))},oa=function(K,be){if(be!==A.ViewMode.DualPageWithCover)return 0;if(!function(ze){var Ve=ze.length;if(Ve===1)return!1;for(var it=1;it<Ve;it++)if(ze[it].height!==ze[0].height||ze[it].width!==ze[0].width)return!0;return!1}(K))return 2*K[0].width;var Ie=We(K.slice(1),2).map(function(ze){return ze.length===2?ze[0].width+ze[1].width:ze[0].width}),De=[K[0].width].concat(Ie);return Math.max.apply(Math,De)},aa={left:0,top:0},sa={left:0,top:0},ri={left:0,top:0},ca={left:0,top:0},la={height:0,width:0},Ji={left:0,top:0},Qi="data-virtual-index",ua=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],da=function(K){var be=K.enableSmoothScroll,Ie=K.isRtl,De=K.numberOfItems,ze=K.parentRef,Ve=K.setRenderRange,it=K.sizes,Je=K.scrollMode,je=K.viewMode,nt=B.useState(!1),tt=nt[0],yt=nt[1],Et=B.useCallback(function(nn){return yt(nn)},[]),_t=B.useRef(Je);_t.current=Je;var Tt=B.useRef(je);Tt.current=je;var Pt=Je===A.ScrollMode.Wrapped||je===A.ViewMode.DualPageWithCover||je===A.ViewMode.DualPage?Lt.Both:Je===A.ScrollMode.Horizontal?Lt.Horizontal:Lt.Vertical,At=ia({elementRef:ze,enableSmoothScroll:be,isRtl:Ie,scrollDirection:Pt,onSmoothScroll:Et}),gn=At.scrollOffset,Yt=At.scrollTo,Qt=function(nn){var en=nn.elementRef,Vt=B.useState(en.current),Kt=Vt[0],Wt=Vt[1],ln=B.useRef(!1),dn=B.useReducer(na,{height:0,width:0}),Xt=dn[0],jt=dn[1];return re(function(){en.current!==Kt&&Wt(en.current)}),re(function(){if(Kt&&!ln.current){ln.current=!0;var pn=Kt.getBoundingClientRect(),vn=pn.height,Fn=pn.width;jt({rect:{height:vn,width:Fn}})}},[Kt]),B.useEffect(function(){if(Kt){var pn=new ResizeObserver(function(vn,Fn){vn.forEach(function(Rn){if(Rn.target===Kt){var Xn=Rn.contentRect,Qn=Xn.height,mn=Xn.width;jt({rect:{height:Qn,width:mn}})}})});return pn.observe(Kt),function(){pn.unobserve(Kt)}}},[Kt]),Xt}({elementRef:ze}),on=B.useRef({scrollOffset:Ji,measurements:[]});on.current.scrollOffset=gn;var Ut=B.useMemo(function(){return Array(De).fill(-1)},[]),sn=B.useState(Ut),tn=sn[0],wn=sn[1],Sn=B.useMemo(function(){var nn=new IntersectionObserver(function(en){en.forEach(function(Vt){var Kt=Vt.isIntersecting?Vt.intersectionRatio:-1,Wt=Vt.target.getAttribute(Qi);if(Wt){var ln=parseInt(Wt,10);0<=ln&&ln<De&&wn(function(dn){return dn[ln]=Kt,function(Xt,jt,pn){for(var vn,Fn=0,Rn=jt.length;Fn<Rn;Fn++)!vn&&Fn in jt||(vn||(vn=Array.prototype.slice.call(jt,0,Fn)),vn[Fn]=jt[Fn]);return Xt.concat(vn||Array.prototype.slice.call(jt))}([],dn)})}})},{threshold:ua});return nn},[]),xn=B.useMemo(function(){return Je===A.ScrollMode.Page&&je===A.ViewMode.SinglePage?function(nn,en,Vt){for(var Kt=[],Wt=0;Wt<nn;Wt++){var ln={height:Math.max(en.height,Vt[Wt].height),width:Math.max(en.width,Vt[Wt].width)},dn=Wt===0?ca:Kt[Wt-1].end,Xt={left:dn.left+ln.width,top:dn.top+ln.height};Kt[Wt]={index:Wt,start:dn,size:ln,end:Xt,visibility:-1}}return Kt}(De,Qt,it):je===A.ViewMode.DualPageWithCover?function(nn,en,Vt,Kt){for(var Wt=[],ln=0,dn=0,Xt=ri,jt=0;jt<nn;jt++){var pn=jt===0?{height:Kt===A.ScrollMode.Page?Math.max(en.height,Vt[jt].height):Vt[jt].height,width:Kt===A.ScrollMode.Page?Math.max(en.width,Vt[jt].width):Vt[jt].width}:{height:Kt===A.ScrollMode.Page?Math.max(en.height,Vt[jt].height):Vt[jt].height,width:Math.max(en.width/2,Vt[jt].width)};Kt===A.ScrollMode.Page?Xt=jt===0?ri:{left:jt%2==0?pn.width:0,top:Math.floor((jt-1)/2)*pn.height+Wt[0].end.top}:jt===0?(Xt=ri,ln=Vt[0].height,dn=0):jt%2==1?(Xt={left:0,top:ln+=dn},dn=jt===nn-1?Vt[jt].height:Math.max(Vt[jt].height,Vt[jt+1].height)):Xt={left:Wt[jt-1].end.left,top:ln};var vn={left:Xt.left+pn.width,top:Xt.top+pn.height};Wt[jt]={index:jt,start:Xt,size:pn,end:vn,visibility:-1}}return Wt}(De,Qt,it,Je):je===A.ViewMode.DualPage?function(nn,en,Vt,Kt){for(var Wt=[],ln=0,dn=0,Xt=sa,jt=0;jt<nn;jt++){var pn={height:Kt===A.ScrollMode.Page?Math.max(en.height,Vt[jt].height):Vt[jt].height,width:Math.max(en.width/2,Vt[jt].width)};Kt===A.ScrollMode.Page?Xt={left:jt%2==0?0:pn.width,top:Math.floor(jt/2)*pn.height}:jt%2==0?(Xt={left:0,top:ln+=dn},dn=jt===nn-1?Vt[jt].height:Math.max(Vt[jt].height,Vt[jt+1].height)):Xt={left:Wt[jt-1].end.left,top:ln};var vn={left:Xt.left+pn.width,top:Xt.top+pn.height};Wt[jt]={index:jt,start:Xt,size:pn,end:vn,visibility:-1}}return Wt}(De,Qt,it,Je):function(nn,en,Vt,Kt){for(var Wt=[],ln=0,dn={left:0,top:0},Xt=0,jt=aa,pn=0;pn<nn;pn++){var vn=Vt[pn];if(pn===0)ln=vn.width,dn={left:0,top:0},Xt=vn.height;else switch(Kt){case A.ScrollMode.Wrapped:(ln+=vn.width)<en.width?(jt={left:Wt[pn-1].end.left,top:dn.top},Xt=Math.max(Xt,vn.height)):(ln=vn.width,dn={left:(jt={left:dn.left,top:dn.top+Xt}).left,top:jt.top},Xt=vn.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:jt=Wt[pn-1].end}var Fn={left:jt.left+vn.width,top:jt.top+vn.height};Wt[pn]={index:pn,start:jt,size:vn,end:Fn,visibility:-1}}return Wt}(De,Qt,it,Je)},[Je,it,je,Qt]),Cn=xn[De-1]?{height:xn[De-1].end.top,width:xn[De-1].end.left}:la;on.current.measurements=xn;var Pn=B.useMemo(function(){var nn=function(pn,vn,Fn,Rn){var Xn=0;switch(pn){case Lt.Horizontal:Xn=Rn.left;break;case Lt.Vertical:default:Xn=Rn.top}var Qn=vn.length-1,mn=function(Tn,lr,br,jr){for(;Tn<=lr;){var pr=(Tn+lr)/2|0,Ar=jr(pr);if(Ar<br)Tn=pr+1;else{if(!(Ar>br))return pr;lr=pr-1}}return Tn>0?Tn-1:0}(0,Qn,Xn,function(Tn){switch(pn){case Lt.Horizontal:return vn[Tn].start.left;case Lt.Both:case Lt.Vertical:default:return vn[Tn].start.top}});if(pn===Lt.Both)for(var Yn=vn[mn].start.top;mn-1>=0&&vn[mn-1].start.top===Yn&&vn[mn-1].start.left>=Rn.left;)mn--;for(var Dn=mn;Dn<=Qn;){var On={top:vn[Dn].start.top-Rn.top,left:vn[Dn].start.left-Rn.left},Gn={height:Fn.height-On.top,width:Fn.width-On.left};if(pn===Lt.Horizontal&&Gn.width<0||pn===Lt.Vertical&&Gn.height<0||pn===Lt.Both&&(Gn.width<0||Gn.height<0))break;Dn++}return{start:mn,end:Dn}}(Pt,xn,Qt,gn),en=nn.start,Vt=nn.end,Kt=tn.slice(Cr(0,De,en),Cr(0,De,Vt)),Wt=en+Kt.reduce(function(pn,vn,Fn,Rn){return vn>Rn[pn]?Fn:pn},0),ln=Wt=Cr(0,De-1,Wt),dn=Ve({endPage:Vt,numPages:De,startPage:en}),Xt=dn.startPage,jt=dn.endPage;switch(Xt=Math.max(Xt,0),jt=Math.min(jt,De-1),je){case A.ViewMode.DualPageWithCover:Wt>0&&(ln=Wt%2==1?Wt:Wt-1),Xt=Xt===0?0:Xt%2==1?Xt:Xt-1,De-(jt=jt%2==1?jt-1:jt)<=2&&(jt=De-1);break;case A.ViewMode.DualPage:ln=Wt%2==0?Wt:Wt-1,Xt=Xt%2==0?Xt:Xt-1,jt=jt%2==1?jt:jt-1;break;case A.ViewMode.SinglePage:default:ln=Wt}return{startPage:Xt,endPage:jt,maxVisbilityIndex:ln}},[xn,Qt,gn,je,tn]),Un=Pn.startPage,Ln=Pn.endPage,Vn=Pn.maxVisbilityIndex,jn=B.useMemo(function(){for(var nn=[],en=function(Kt){var Wt=xn[Kt],ln=V(V({},Wt),{visibility:tn[Kt]!==void 0?tn[Kt]:-1,measureRef:function(dn){dn&&(dn.setAttribute(Qi,"".concat(Kt)),Sn.observe(dn))}});nn.push(ln)},Vt=Un;Vt<=Ln;Vt++)en(Vt);return nn},[Un,Ln,tn,xn]),zn=B.useCallback(function(nn,en){var Vt=on.current.measurements[Cr(0,De-1,nn)],Kt=_t.current===A.ScrollMode.Page?Ji:en;return Vt?Yt({left:Kt.left+Vt.start.left,top:Kt.top+Vt.start.top},be):Promise.resolve()},[Yt,be]),Hn=B.useCallback(function(nn,en){var Vt=on.current.measurements,Kt=Vt[nn].start,Wt=Vt.find(function(dn){return dn.start.top-Kt.top>1e-12});if(!Wt)return Promise.resolve();var ln=Wt.index;switch(Tt.current){case A.ViewMode.DualPage:ln=ln%2==0?ln:ln+1;break;case A.ViewMode.DualPageWithCover:ln=ln%2==1?ln:ln+1}return zn(ln,en)},[]),Bn=B.useCallback(function(nn,en){for(var Vt=on.current.measurements,Kt=Vt[nn].start,Wt=nn,ln=!1,dn=De-1;dn>=0;dn--)if(Kt.top-Vt[dn].start.top>1e-12){ln=!0,Wt=Vt[dn].index;break}if(!ln)return Promise.resolve();switch(Tt.current){case A.ViewMode.DualPage:Wt=Wt%2==0?Wt:Wt-1;break;case A.ViewMode.DualPageWithCover:Wt=Wt%2==0?Wt-1:Wt}return Wt===nn&&(Wt=nn-1),zn(Wt,en)},[]),Zn=B.useCallback(function(nn,en){if(Tt.current===A.ViewMode.DualPageWithCover||Tt.current===A.ViewMode.DualPage)return Hn(nn,en);switch(_t.current){case A.ScrollMode.Wrapped:return Hn(nn,en);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return zn(nn+1,en)}},[]),ar=B.useCallback(function(nn,en){if(Tt.current===A.ViewMode.DualPageWithCover||Tt.current===A.ViewMode.DualPage)return Bn(nn,en);switch(_t.current){case A.ScrollMode.Wrapped:return Bn(nn,en);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return zn(nn-1,en)}},[]),rr=B.useCallback(function(){return function(nn,en){switch(en){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(nn.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(nn.height,"px"),width:"100%"}}}(Cn,_t.current)},[Cn]),Kn=B.useCallback(function(nn){return function(en,Vt,Kt){return Kt!==A.ScrollMode.Page?{}:{height:"".concat(Vt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(en.start.top,"px)")}}(nn,Qt,_t.current)},[Qt]),Jn=B.useCallback(function(nn){return function(en,Vt,Kt,Wt,ln){var dn,Xt,jt,pn,vn,Fn,Rn,Xn=Vt?"right":"left",Qn=Vt?-1:1,mn=Kt.length,Yn=en.start.left*Qn,Dn=en.size,On=Dn.height,Gn=Dn.width;if(Wt===A.ViewMode.DualPageWithCover){var Tn=ln===A.ScrollMode.Page?0:en.start.top;return en.index===0||mn%2==0&&en.index===mn-1?((dn={height:"".concat(On,"px"),minWidth:"".concat(oa(Kt,Wt),"px"),width:"100%"})[Xn]=0,dn.position="absolute",dn.top=0,dn.transform="translate(".concat(Yn,"px, ").concat(Tn,"px)"),dn):((Xt={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Xn]=0,Xt.position="absolute",Xt.top=0,Xt.transform="translate(".concat(Yn,"px, ").concat(Tn,"px)"),Xt)}if(Wt===A.ViewMode.DualPage)return(jt={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Xn]=0,jt.position="absolute",jt.top=0,jt.transform="translate(".concat(Yn,"px, ").concat(ln===A.ScrollMode.Page?0:en.start.top,"px)"),jt;switch(ln){case A.ScrollMode.Horizontal:return(pn={height:"100%",width:"".concat(Gn,"px")})[Xn]=0,pn.position="absolute",pn.top=0,pn.transform="translateX(".concat(Yn,"px)"),pn;case A.ScrollMode.Page:return(vn={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Xn]=0,vn.position="absolute",vn.top=0,vn;case A.ScrollMode.Wrapped:return(Fn={height:"".concat(On,"px"),width:"".concat(Gn,"px")})[Xn]=0,Fn.position="absolute",Fn.top=0,Fn.transform="translate(".concat(Yn,"px, ").concat(en.start.top,"px)"),Fn;case A.ScrollMode.Vertical:default:return(Rn={height:"".concat(On,"px"),width:"100%"})[Xn]=0,Rn.position="absolute",Rn.top=0,Rn.transform="translateY(".concat(en.start.top,"px)"),Rn}}(nn,Ie,it,Tt.current,_t.current)},[Ie,it]),sr=B.useCallback(function(nn,en){var Vt=on.current,Kt=Vt.measurements,Wt=Vt.scrollOffset,ln=Kt[Cr(0,De-1,en)];if(ln){var dn=_t.current===A.ScrollMode.Page?{left:ln.start.left,top:ln.start.top}:{left:Wt.left*nn,top:Wt.top*nn};return Yt(dn,!1)}return Promise.resolve()},[]);return B.useEffect(function(){return function(){Sn.disconnect()}},[]),{boundingClientRect:Qt,isSmoothScrolling:tt,startPage:Un,endPage:Ln,maxVisbilityIndex:Vn,virtualItems:jn,getContainerStyles:rr,getItemContainerStyles:Kn,getItemStyles:Jn,scrollToItem:zn,scrollToNextItem:Zn,scrollToPreviousItem:ar,zoom:sr}},ii=function(K,be,Ie,De,ze,Ve){var it=Ie;switch(!0){case(ze===A.ViewMode.DualPageWithCover&&Ve>=3):case(ze===A.ViewMode.DualPage&&Ve>=3):it=2*Ie;break;default:it=Ie}switch(De){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((K.clientWidth-17)/it,(K.clientHeight-16)/be);case A.SpecialZoomLevel.PageWidth:return(K.clientWidth-17)/it}},ha=function(K){var be,Ie,De=K.getCurrentPage,ze=(be=50,Ie=B.useRef([]),B.useEffect(function(){return function(){Ie.current=[]}},[]),{push:function(nt){var tt=Ie.current;tt.length+1>be&&tt.shift(),tt.push(nt),Ie.current=tt},map:function(nt){return Ie.current.map(function(tt){return nt(tt)})},pop:function(){var nt=Ie.current;if(nt.length===0)return null;var tt=nt.pop();return Ie.current=nt,tt}}),Ve=function(nt){var tt=B.useRef([]);return B.useEffect(function(){return function(){tt.current=[]}},[]),{dequeue:function(){var yt=tt.current;if(yt.length===0)return null;var Et=yt.shift();return tt.current=yt,Et||null},enqueue:function(yt){var Et=tt.current;Et.length+1>nt&&Et.pop(),tt.current=[yt].concat(Et)},map:function(yt){return tt.current.map(function(Et){return yt(Et)})}}}(50),it=function(){var nt=Ve.dequeue();return nt&&ze.push(nt),nt&&nt.pageIndex===De()?it():nt},Je=function(){var nt=ze.pop();return nt&&Ve.enqueue(nt),nt&&nt.pageIndex===De()?Je():nt},je=B.useCallback(function(nt){ze.push(nt)},[]);return{getNextDestination:it,getPreviousDestination:Je,markVisitedDestination:je}},eo=function(K){var be=[];return K.map(function(Ie){be=be.concat(Ie).concat(function(De){var ze=[];return De.items&&De.items.length>0&&(ze=ze.concat(eo(De.items))),ze}(Ie))}),be},to={capture:!1,passive:!0},fa={height:0,width:0},oi={height:0,width:0},pa=function(K){var be=K.getCurrentPage,Ie=K.getCurrentScrollMode,De=K.jumpToPage,ze=K.targetRef,Ve=B.useState(A.FullScreenMode.Normal),it=Ve[0],Je=Ve[1],je=function(){var tn=B.useState(fa),wn=tn[0],Sn=tn[1],xn=Oe(function(){Sn({height:window.innerHeight,width:window.innerWidth})},100);return re(function(){return window.addEventListener("resize",xn,to),function(){window.removeEventListener("resize",xn,to)}},[]),wn}(),nt=B.useState(oi),tt=nt[0],yt=nt[1],Et=B.useRef(oi),_t=B.useRef(be()),Tt=B.useRef(oi),Pt=B.useState(ze.current),At=Pt[0],gn=Pt[1],Yt=B.useRef();re(function(){ze.current!==At&&gn(ze.current)},[]),re(function(){if(At){var tn=new ResizeObserver(function(wn){wn.forEach(function(Sn){var xn=Sn.target.getBoundingClientRect(),Cn=xn.height,Pn=xn.width;yt({height:Cn,width:Pn})})});return tn.observe(At),function(){tn.unobserve(At),tn.disconnect()}}},[At]);var Qt=B.useCallback(function(tn){var wn=Ae();return wn&&wn!==tn?(Je(A.FullScreenMode.Normal),ge(wn)):Promise.resolve()},[]),on=B.useCallback(function(tn){tn&&ee()&&(gn(tn),Qt(tn).then(function(){Yt.current=tn,Je(A.FullScreenMode.Entering),function(wn){ce&&wn[Se.RequestFullScreen]()}(tn)}))},[]),Ut=B.useCallback(function(){Ae()&&(Je(A.FullScreenMode.Exitting),ge(document))},[]),sn=B.useCallback(function(){At&&Ae()!==At&&Je(A.FullScreenMode.Exitting)},[At]);return B.useEffect(function(){switch(it){case A.FullScreenMode.Entering:Yt.current&&(Yt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),_t.current=be(),Et.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:Ie()===A.ScrollMode.Page?De(_t.current).then(function(){Je(A.FullScreenMode.EnteredCompletely)}):Je(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:Yt.current&&(Yt.current.style.backgroundColor="",Yt.current=null),_t.current=be();break;case A.FullScreenMode.Exited:Je(A.FullScreenMode.Normal),Ie()===A.ScrollMode.Page&&De(_t.current)}},[it]),B.useEffect(function(){if(it!==A.FullScreenMode.Normal)return it===A.FullScreenMode.Entering&&je.height===tt.height&&je.width===tt.width&&je.height>0&&je.width>0&&(Tt.current.height===0||je.height==Tt.current.height)?(Tt.current={height:window.innerHeight,width:window.innerWidth},void Je(A.FullScreenMode.Entered)):void(it===A.FullScreenMode.Exitting&&Et.current.height===je.height&&Et.current.width===je.width&&je.height>0&&je.width>0&&Je(A.FullScreenMode.Exited))},[it,je,tt]),B.useEffect(function(){var tn;return tn=sn,ce&&document.addEventListener(Se.FullScreenChange,tn),function(){(function(wn){ce&&document.removeEventListener(Se.FullScreenChange,wn)})(sn)}},[At]),{enterFullScreenMode:on,exitFullScreenMode:Ut,fullScreenMode:it}},ma={buildPageStyles:function(){return{}},transformSize:function(K){return K.size}},vr={left:0,top:0},ga=function(K){var be=K.currentFile,Ie=K.defaultScale,De=K.doc,ze=K.enableSmoothScroll,Ve=K.initialPage,it=K.initialRotation,Je=K.initialScale,je=K.pageLayout,nt=K.pageSizes,tt=K.plugins,yt=K.renderPage,Et=K.scrollMode,_t=K.setRenderRange,Tt=K.viewMode,Pt=K.viewerState,At=K.onDocumentLoad,gn=K.onOpenFile,Yt=K.onPageChange,Qt=K.onRotate,on=K.onRotatePage,Ut=K.onZoom,sn=De.numPages,tn=De.loadingTask.docId,wn=B.useContext(Be).l10n,Sn=B.useContext(ae),xn=Sn.direction===A.TextDirection.RightToLeft,Cn=B.useRef(),Pn=B.useRef(),Un=B.useState(Ve),Ln=Un[0],Vn=Un[1],jn=B.useRef(null),zn=ha({getCurrentPage:function(){return mn.current.pageIndex}}),Hn=B.useState(it),Bn=Hn[0],Zn=Hn[1],ar=Ne(Bn),rr=B.useState(!1),Kn=rr[0],Jn=rr[1],sr=B.useState(new Map),nn=sr[0],en=sr[1],Vt=B.useState(Et),Kt=Vt[0],Wt=Vt[1],ln=Ne(Kt),dn=B.useState(Tt),Xt=dn[0],jt=dn[1],pn=Ne(Xt),vn=function(Ct){var hn=Re(),_n=B.useState([]),kn=_n[0],An=_n[1];return B.useEffect(function(){Ct.getOutline().then(function(En){if(hn.current&&En!==null){var qn=eo(En);An(qn)}})},[]),kn}(De),Fn=B.useState(Je),Rn=Fn[0],Xn=Fn[1],Qn=Ne(Rn),mn=B.useRef(Pt),Yn=B.useRef(typeof Ie=="string"?Ie:null),Dn=B.useRef(-1),On=B.useRef(-1),Gn=B.useRef(Ve),Tn=pa({getCurrentPage:function(){return mn.current.pageIndex},getCurrentScrollMode:function(){return mn.current.scrollMode},jumpToPage:function(Ct){return dr(Ct)},targetRef:Pn}),lr=B.useState(-1),br=lr[0],jr=lr[1],pr=B.useState(0),Ar=pr[0],Sa=pr[1],er=Ee({doc:De});B.useEffect(function(){return function(){wt.clear(),Zt.clear()}},[tn]);var oo=B.useMemo(function(){return Object.assign({},ma,je)},[]),wa=B.useMemo(function(){return Array(sn).fill(0).map(function(Ct,hn){var _n=[nt[hn].pageHeight,nt[hn].pageWidth],kn=Math.abs(Bn)%180==0?{height:_n[0],width:_n[1]}:{height:_n[1],width:_n[0]},An={height:kn.height*Rn,width:kn.width*Rn};return oo.transformSize({numPages:sn,pageIndex:hn,size:An})})},[Bn,Rn]),$n=da({enableSmoothScroll:ze,isRtl:xn,numberOfItems:sn,parentRef:Pn,scrollMode:Kt,setRenderRange:_t,sizes:wa,viewMode:Xt}),xa=Oe(function(){!Yn.current||mn.current.fullScreenMode!==A.FullScreenMode.Normal||Ve>0&&Gn.current===Ve||mr(Yn.current)},200);(function(Ct){var hn=Ct.targetRef,_n=Ct.onResize;re(function(){var kn=new ResizeObserver(function(En){En.forEach(function(qn){_n(qn.target)})}),An=hn.current;if(An)return kn.observe(An),function(){kn.unobserve(An)}},[])})({targetRef:Pn,onResize:xa});var ur=function(Ct){var hn=Ct;tt.forEach(function(_n){_n.onViewerStateChange&&(hn=_n.onViewerStateChange(hn))}),mn.current=hn},Ca=function(){return Pn.current},Aa=function(){return mn.current},Ma=B.useCallback(function(Ct){zn.markVisitedDestination(Ct)},[]),ci=B.useCallback(function(Ct){var hn=Ct.pageIndex,_n=Ct.bottomOffset,kn=Ct.leftOffset,An=Ct.scaleTo,En=Pn.current,qn=mn.current;return En&&qn?new Promise(function(hr,pi){It(De,hn).then(function(Br){var fr=Br.getViewport({scale:1}),zr=0,po=(typeof _n=="function"?_n(fr.width,fr.height):_n)||0,Hr=(typeof kn=="function"?kn(fr.width,fr.height):kn)||0,_r=qn.scale;switch(An){case A.SpecialZoomLevel.PageFit:zr=0,Hr=0,mr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:_r=ii(En,nt[hn].pageHeight,nt[hn].pageWidth,A.SpecialZoomLevel.PageWidth,Tt,sn),zr=(fr.height-po)*_r,Hr*=_r,mr(_r);break;default:zr=(fr.height-po)*_r,Hr*=_r}switch(qn.scrollMode){case A.ScrollMode.Horizontal:$n.scrollToItem(hn,{left:Hr,top:0}).then(function(){hr()});break;case A.ScrollMode.Vertical:default:$n.scrollToItem(hn,{left:0,top:zr}).then(function(){hr()})}})}):Promise.resolve()},[]),ao=B.useCallback(function(Ct){return zn.markVisitedDestination(Ct),ci(Ct)},[]),Pa=B.useCallback(function(){var Ct=zn.getNextDestination();return Ct?ci(Ct):Promise.resolve()},[]),ka=B.useCallback(function(){var Ct=zn.getPreviousDestination();return Ct?ci(Ct):Promise.resolve()},[]),Ta=B.useCallback(function(){return $n.scrollToNextItem(mn.current.pageIndex,vr)},[]),dr=B.useCallback(function(Ct){return 0<=Ct&&Ct<sn?$n.scrollToItem(Ct,vr):Promise.resolve()},[]),Ra=B.useCallback(function(){return $n.scrollToPreviousItem(mn.current.pageIndex,vr)},[]),so=B.useCallback(function(Ct){var hn,_n;(hn=Ct.name,_n=hn.split(/\./).pop(),_n?_n.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(kn){var An=new FileReader;An.readAsArrayBuffer(Ct),An.onload=function(){var En=new Uint8Array(An.result);kn(En)}}).then(function(kn){gn(Ct.name,kn)})},[gn]),co=B.useCallback(function(Ct){var hn=Ct===A.RotateDirection.Backward?-90:90,_n=mn.current.rotation,kn=_n===360||_n===-360?hn:_n+hn;er.markNotRendered(),Zn(kn),ur(V(V({},mn.current),{rotation:kn})),Qt({direction:Ct,doc:De,rotation:kn})},[]),li=B.useCallback(function(Ct,hn){var _n=hn===A.RotateDirection.Backward?-90:90,kn=mn.current.pagesRotation,An=(kn.has(Ct)?kn.get(Ct):it)+_n,En=kn.set(Ct,An);en(En),Jn(function(qn){return!qn}),ur(V(V({},mn.current),{pagesRotation:En,rotatedPage:Ct})),on({direction:hn,doc:De,pageIndex:Ct,rotation:An}),er.markRendering(Ct),jr(Ct)},[]),lo=B.useCallback(function(Ct){ur(V(V({},mn.current),{scrollMode:Ct})),Wt(Ct)},[]),uo=B.useCallback(function(Ct){ur(V(V({},mn.current),{viewMode:Ct})),jt(Ct)},[]),mr=B.useCallback(function(Ct){var hn=Pn.current,_n=mn.current.pageIndex;if(!(_n<0||_n>=sn)){var kn=nt[_n].pageHeight,An=nt[_n].pageWidth,En=hn?typeof Ct=="string"?ii(hn,kn,An,Ct,mn.current.viewMode,sn):Ct:1;Yn.current=typeof Ct=="string"?Ct:null,En!==mn.current.scale&&(Sa(function(qn){return qn+1}),er.markNotRendered(),Xn(En),Ut({doc:De,scale:En}),ur(V(V({},mn.current),{scale:En})))}},[]),$a=B.useCallback(function(Ct){Tn.enterFullScreenMode(Ct)},[]),Ia=B.useCallback(function(){Tn.exitFullScreenMode()},[]);B.useEffect(function(){ur(V(V({},mn.current),{fullScreenMode:Tn.fullScreenMode}))},[Tn.fullScreenMode]),B.useEffect(function(){var Ct={enterFullScreenMode:$a,exitFullScreenMode:Ia,getPagesContainer:Ca,getViewerState:Aa,jumpToDestination:ao,jumpToNextDestination:Pa,jumpToPreviousDestination:ka,jumpToNextPage:Ta,jumpToPreviousPage:Ra,jumpToPage:dr,openFile:so,rotate:co,rotatePage:li,setViewerState:ur,switchScrollMode:lo,switchViewMode:uo,zoom:mr};return tt.forEach(function(hn){hn.install&&hn.install(Ct)}),function(){tt.forEach(function(hn){hn.uninstall&&hn.uninstall(Ct)})}},[tn]),B.useEffect(function(){At({doc:De,file:be}),tt.forEach(function(Ct){Ct.onDocumentLoad&&Ct.onDocumentLoad({doc:De,file:be})})},[tn]);var ui,di,hi,ho=$n.boundingClientRect;ui=function(){Ve&&dr(Ve)},di=ho.height>0&&ho.width>0,hi=B.useRef(!1),re(function(){di&&!hi.current&&(hi.current=!0,ui())},[ui,di]),re(function(){var Ct=mn.current.pageIndex;Ct>-1&&ln!==Kt&&$n.scrollToItem(Ct,vr).then(function(){Tn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(ze||er.markNotRendered(),Dn.current=-1)})},[Kt]),re(function(){var Ct=mn.current.pageIndex;Ct>-1&&ar!==Bn&&$n.scrollToItem(Ct,vr)},[Bn]),re(function(){Qn!=0&&Qn!=mn.current.scale&&$n.zoom(mn.current.scale/Qn,mn.current.pageIndex).then(function(){Tn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(On.current=-1)})},[Rn]),re(function(){if(pn!==mn.current.viewMode){var Ct=$n.startPage,hn=$n.endPage,_n=$n.virtualItems;er.markNotRendered(),er.setRange(Ct,hn);for(var kn=function(En){var qn=_n.find(function(hr){return hr.index===En});qn&&er.setVisibility(En,qn.visibility)},An=Ct;An<=hn;An++)kn(An);fi()}},[Xt]),re(function(){var Ct=mn.current.pageIndex;Ct>-1&&pn!==Xt&&$n.scrollToItem(Ct,vr)},[Xt]),re(function(){var Ct=mn.current.pageIndex;Ct>0&&Ct===Ve&&Gn.current===Ve&&Yn.current&&(Gn.current=-1,mr(Yn.current))},[Ln]),B.useEffect(function(){$n.isSmoothScrolling||jn.current!==null&&jn.current===Ln||(jn.current=Ln,Yt({currentPage:Ln,doc:De}))},[Ln,$n.isSmoothScrolling]),B.useEffect(function(){Tn.fullScreenMode===A.FullScreenMode.Entering&&mn.current.scrollMode===A.ScrollMode.Page&&(Dn.current=mn.current.pageIndex),Tn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&mn.current.scrollMode===A.ScrollMode.Page&&ze&&(Dn.current=-1),Tn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&Yn.current&&(On.current=mn.current.pageIndex,mr(Yn.current))},[Tn.fullScreenMode]),B.useEffect(function(){if(Tn.fullScreenMode!==A.FullScreenMode.Entering&&Tn.fullScreenMode!==A.FullScreenMode.Exitting&&!$n.isSmoothScrolling){var Ct=$n.startPage,hn=$n.endPage,_n=$n.maxVisbilityIndex,kn=$n.virtualItems,An=_n,En=Tn.fullScreenMode===A.FullScreenMode.Entered||Tn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(En&&An!==Dn.current&&Dn.current>-1||En&&An!==On.current&&On.current>-1)){Vn(An),ur(V(V({},mn.current),{pageIndex:An})),er.setRange(Ct,hn);for(var qn=function(pi){var Br=kn.find(function(fr){return fr.index===pi});Br&&er.setVisibility(pi,Br.visibility)},hr=Ct;hr<=hn;hr++)qn(hr);fi()}}},[$n.startPage,$n.endPage,$n.isSmoothScrolling,$n.maxVisbilityIndex,Tn.fullScreenMode,Kn,Bn,Rn]);var Fa=B.useCallback(function(Ct){er.markRendered(Ct),fi()},[Ar]),fi=function(){var Ct=er.getHighestPriorityPage();Ct>-1&&er.isInRange(Ct)&&(er.markRendering(Ct),jr(Ct))},Da=function(Ct){var hn=Ln-1,_n=Ln+1;switch(Ct){case"FirstPage":dr(0);break;case"LastPage":dr(sn-1);break;case"NextPage":_n<sn&&dr(_n);break;case"PrevPage":hn>=0&&dr(hn)}},La=B.useCallback(function(){var Ct=$n.virtualItems,hn=[];switch(Xt){case A.ViewMode.DualPage:hn=We(Ct,2);break;case A.ViewMode.DualPageWithCover:Ct.length&&(hn=Ct[0].index===0?[[Ct[0]]].concat(We(Ct.slice(1),2)):We(Ct,2));break;case A.ViewMode.SinglePage:default:hn=We(Ct,1)}var _n=wn&&wn.core?wn.core.pageLabel:"Page {{pageIndex}}",kn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Cn,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:J({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Kt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":xn,"rpv-core__inner-pages--single":Kt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Kt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Kt===A.ScrollMode.Wrapped}),ref:Pn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ln),style:Object.assign({"--scale-factor":Rn},$n.getContainerStyles())},hn.map(function(An){return B.createElement("div",{className:J({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Kt===A.ScrollMode.Page}),style:$n.getItemContainerStyles(An[0]),key:"".concat(An[0].index,"-").concat(Xt)},An.map(function(En){var qn=Xt===A.ViewMode.DualPageWithCover&&(En.index===0||sn%2==0&&En.index===sn-1);return B.createElement("div",{"aria-label":_n.replace("{{pageIndex}}","".concat(En.index+1)),className:J({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Xt===A.ViewMode.DualPage&&En.index%2==0,"rpv-core__inner-page--dual-odd":Xt===A.ViewMode.DualPage&&En.index%2==1,"rpv-core__inner-page--dual-cover":qn,"rpv-core__inner-page--dual-cover-even":Xt===A.ViewMode.DualPageWithCover&&!qn&&En.index%2==0,"rpv-core__inner-page--dual-cover-odd":Xt===A.ViewMode.DualPageWithCover&&!qn&&En.index%2==1,"rpv-core__inner-page--single":Xt===A.ViewMode.SinglePage&&Kt===A.ScrollMode.Page}),role:"region",key:"".concat(En.index,"-").concat(Xt),style:Object.assign({},$n.getItemStyles(En),oo.buildPageStyles({numPages:sn,pageIndex:En.index,scrollMode:Kt,viewMode:Xt}))},B.createElement(ta,{doc:De,measureRef:En.measureRef,outlines:vn,pageIndex:En.index,pageRotation:nn.has(En.index)?nn.get(En.index):0,pageSize:nt[En.index],plugins:tt,renderPage:yt,renderQueueKey:Ar,rotation:Bn,scale:Rn,shouldRender:br===En.index,viewMode:Xt,onExecuteNamedAction:Da,onJumpFromLinkAnnotation:Ma,onJumpToDest:ao,onRenderCompleted:Fa,onRotatePage:li}))}))}))}};return tt.forEach(function(An){An.renderViewer&&(kn=An.renderViewer({containerRef:Cn,doc:De,pagesContainerRef:Pn,pagesRotation:nn,pageSizes:nt,rotation:Bn,slot:kn,themeContext:Sn,jumpToPage:dr,openFile:so,rotate:co,rotatePage:li,switchScrollMode:lo,switchViewMode:uo,zoom:mr}))}),kn},[tt,$n]),fo=B.useCallback(function(Ct){return B.createElement("div",V({},Ct.attrs,{style:Ct.attrs&&Ct.attrs.style?Ct.attrs.style:{}}),Ct.children,Ct.subSlot&&fo(Ct.subSlot))},[]);return fo(La())},no=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],va=function(K){var be=K.defaultScale,Ie=K.doc,De=K.render,ze=K.scrollMode,Ve=K.viewMode,it=B.useRef(),Je=B.useState({pageSizes:[],scale:0}),je=Je[0],nt=Je[1];return B.useLayoutEffect(function(){var tt=Array(Ie.numPages).fill(0).map(function(yt,Et){return new Promise(function(_t,Tt){It(Ie,Et).then(function(Pt){var At=Pt.getViewport({scale:1});_t({pageHeight:At.height,pageWidth:At.width,rotation:At.rotation})})})});Promise.all(tt).then(function(yt){var Et=it.current;if(Et&&yt.length!==0){var _t=yt[0].pageWidth,Tt=yt[0].pageHeight,Pt=Et.parentElement,At=(Pt.clientWidth-45)/_t,gn=(Pt.clientHeight-45)/Tt,Yt=At;switch(ze){case A.ScrollMode.Horizontal:Yt=Math.min(At,gn);break;case A.ScrollMode.Vertical:default:Yt=At}var Qt,on,Ut=be?typeof be=="string"?ii(Pt,Tt,_t,be,Ve,Ie.numPages):be:(Qt=Yt,(on=no.findIndex(function(sn){return sn>=Qt}))===-1||on===0?Qt:no[on-1]);nt({pageSizes:yt,scale:Ut})}})},[Ie.loadingTask.docId]),je.pageSizes.length===0||je.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:it},B.createElement(me,null)):De(je.pageSizes,je.scale)},Nr=function(){},ai=function(K){function be(Ie,De){var ze=K.call(this)||this;return ze.verifyPassword=Ie,ze.passwordStatus=De,ze}return de(be,K),be}(Nr),ba=function(K){var be=K.passwordStatus,Ie=K.renderProtectedView,De=K.verifyPassword,ze=K.onDocumentAskPassword,Ve=B.useContext(Be).l10n,it=B.useState(""),Je=it[0],je=it[1],nt=B.useContext(ae).direction===A.TextDirection.RightToLeft,tt=function(){return De(Je)};return B.useEffect(function(){ze&&ze({verifyPassword:De})},[]),Ie?Ie({passwordStatus:be,verifyPassword:De}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:J({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":nt})},B.createElement("div",{className:"rpv-core__asking-password-message"},be===A.PasswordStatus.RequiredPassword&&Ve.core.askingPassword.requirePasswordToOpen,be===A.PasswordStatus.WrongPassword&&Ve.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:J({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!nt,"rpv-core__asking-password-input--rtl":nt})},B.createElement(pe,{testId:"core__asking-password-input",type:"password",value:Je,onChange:je,onKeyDown:function(yt){yt.key==="Enter"&&tt()}})),B.createElement(oe,{onClick:tt},Ve.core.askingPassword.submit))))},ro=function(K){function be(Ie){var De=K.call(this)||this;return De.doc=Ie,De}return de(be,K),be}(Nr),io=function(K){function be(Ie){var De=K.call(this)||this;return De.error=Ie,De}return de(be,K),be}(Nr),si=function(K){function be(Ie){var De=K.call(this)||this;return De.percentages=Ie,De}return de(be,K),be}(Nr),_a=function(K){var be=K.characterMap,Ie=K.file,De=K.httpHeaders,ze=K.render,Ve=K.renderError,it=K.renderLoader,Je=K.renderProtectedView,je=K.transformGetDocumentParams,nt=K.withCredentials,tt=K.onDocumentAskPassword,yt=B.useContext(ae).direction===A.TextDirection.RightToLeft,Et=B.useState(new si(0)),_t=Et[0],Tt=Et[1],Pt=B.useRef(""),At=Re();return B.useEffect(function(){Pt.current="",Tt(new si(0));var gn=new W.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Yt=Object.assign({httpHeaders:De,withCredentials:nt,worker:gn},typeof Ie=="string"?{url:Ie}:{data:Ie},be?{cMapUrl:be.url,cMapPacked:be.isCompressed}:{}),Qt=je?je(Yt):Yt,on=W.getDocument(Qt);return on.onPassword=function(Ut,sn){switch(sn){case W.PasswordResponses.NEED_PASSWORD:At.current&&Tt(new ai(Ut,A.PasswordStatus.RequiredPassword));break;case W.PasswordResponses.INCORRECT_PASSWORD:At.current&&Tt(new ai(Ut,A.PasswordStatus.WrongPassword))}},on.onProgress=function(Ut){var sn=Ut.total>0?Math.min(100,100*Ut.loaded/Ut.total):100;At.current&&Pt.current===""&&Tt(new si(sn))},on.promise.then(function(Ut){Pt.current=Ut.loadingTask.docId,At.current&&Tt(new ro(Ut))},function(Ut){return At.current&&!gn.destroyed&&Tt(new io({message:Ut.message||"Cannot load document",name:Ut.name}))}),function(){on.destroy(),gn.destroy()}},[Ie]),_t instanceof ai?B.createElement(ba,{passwordStatus:_t.passwordStatus,renderProtectedView:Je,verifyPassword:_t.verifyPassword,onDocumentAskPassword:tt}):_t instanceof ro?ze(_t.doc):_t instanceof io?Ve?Ve(_t.error):B.createElement("div",{className:J({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":yt})},B.createElement("div",{className:"rpv-core__doc-error-text"},_t.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:J({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":yt})},it?it(_t.percentages):B.createElement(me,null))},Ea=function(K,be){var Ie=B.useMemo(function(){return K==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":K},[]),De=B.useState(Ie),ze=De[0],Ve=De[1],it=Ne(ze);return B.useEffect(function(){if(K==="auto"){var Je=window.matchMedia("(prefers-color-scheme: dark)"),je=function(nt){Ve(nt.matches?"dark":"light")};return Je.addEventListener("change",je),function(){return Je.removeEventListener("change",je)}}},[]),B.useEffect(function(){ze!==it&&be&&be(ze)},[ze]),B.useEffect(function(){K!==ze&&Ve(K)},[K]),{currentTheme:ze,setCurrentTheme:Ve}},ya=function(K){return{startPage:K.startPage-3,endPage:K.endPage+3}};A.Button=function(K){var be=K.children,Ie=K.testId,De=K.onClick,ze=B.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=Ie?{"data-testid":Ie}:{};return B.createElement("button",V({className:J({"rpv-core__button":!0,"rpv-core__button--rtl":ze}),type:"button",onClick:De},Ve),be)},A.Icon=G,A.LazyRender=function(K){var be=K.attrs,Ie=K.children,De=K.testId,ze=B.useState(!1),Ve=ze[0],it=ze[1],Je=De?V(V({},be),{"data-testid":De}):be,je=te({once:!0,onVisibilityChanged:function(nt){nt.isVisible&&it(!0)}});return B.createElement("div",V({ref:je},Je),Ve&&Ie)},A.LocalizationContext=Be,A.Menu=function(K){var be=K.children,Ie=B.useRef(),De=B.useRef([]),ze=B.useContext(ae).direction===A.TextDirection.RightToLeft,Ve=function(Je){if(Ie.current)switch(Je.key){case"Tab":Je.preventDefault();break;case"ArrowDown":Je.preventDefault(),it(function(je,nt){return nt+1});break;case"ArrowUp":Je.preventDefault(),it(function(je,nt){return nt-1});break;case"End":Je.preventDefault(),it(function(je,nt){return je.length-1});break;case"Home":Je.preventDefault(),it(function(je,nt){return 0})}},it=function(Je){if(Ie.current){var je=De.current,nt=je.findIndex(function(yt){return yt.getAttribute("tabindex")==="0"}),tt=Math.min(je.length-1,Math.max(0,Je(je,nt)));nt>=0&&nt<=je.length-1&&je[nt].setAttribute("tabindex","-1"),je[tt].setAttribute("tabindex","0"),je[tt].focus()}};return re(function(){var Je=Ie.current;if(Je){var je=function(nt){var tt=[];return nt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(yt){if(yt instanceof HTMLElement){var Et=yt.parentElement;(Et===nt||window.getComputedStyle(Et).display!=="none")&&tt.push(yt)}}),tt}(Je);De.current=je}},[]),re(function(){return document.addEventListener("keydown",Ve),function(){document.removeEventListener("keydown",Ve)}},[]),B.createElement("div",{ref:Ie,"aria-orientation":"vertical",className:J({"rpv-core__menu":!0,"rpv-core__menu--rtl":ze}),role:"menu",tabIndex:0},be)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(K){var be=K.checked,Ie=be!==void 0&&be,De=K.children,ze=K.icon,Ve=ze===void 0?null:ze,it=K.isDisabled,Je=it!==void 0&&it,je=K.testId,nt=K.onClick,tt=B.useContext(ae).direction===A.TextDirection.RightToLeft,yt=je?{"data-testid":je}:{};return B.createElement("button",V({className:J({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Je,"rpv-core__menu-item--ltr":!tt,"rpv-core__menu-item--rtl":tt}),role:"menuitem",tabIndex:-1,type:"button",onClick:nt},yt),B.createElement("div",{className:J({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!tt,"rpv-core__menu-item-icon--rtl":tt})},Ve),B.createElement("div",{className:J({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!tt,"rpv-core__menu-item-label--rtl":tt})},De),B.createElement("div",{className:J({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!tt,"rpv-core__menu-item-check--rtl":tt})},Ie&&B.createElement(ne,null)))},A.MinimalButton=function(K){var be=K.ariaLabel,Ie=be===void 0?"":be,De=K.ariaKeyShortcuts,ze=De===void 0?"":De,Ve=K.children,it=K.isDisabled,Je=it!==void 0&&it,je=K.isSelected,nt=je!==void 0&&je,tt=K.testId,yt=K.onClick,Et=B.useContext(ae).direction===A.TextDirection.RightToLeft,_t=tt?{"data-testid":tt}:{};return B.createElement("button",V({"aria-label":Ie},ze&&{"aria-keyshortcuts":ze},Je&&{"aria-disabled":!0},{className:J({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Je,"rpv-core__minimal-button--rtl":Et,"rpv-core__minimal-button--selected":nt}),type:"button",onClick:yt},_t),Ve)},A.Modal=function(K){var be=K.ariaControlsSuffix,Ie=K.closeOnClickOutside,De=K.closeOnEscape,ze=K.content,Ve=K.isOpened,it=Ve!==void 0&&Ve,Je=K.target,je=be||"".concat(q());return B.createElement(Qe,{target:Je?function(nt,tt){return B.createElement("div",{"aria-expanded":tt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(je)},Je(nt,tt))}:null,content:function(nt){return B.createElement(xe,null,B.createElement(Me,{ariaControlsSuffix:je,closeOnClickOutside:Ie,closeOnEscape:De,onToggle:nt},ze(nt)))},isOpened:it})},A.Popover=function(K){var be=K.ariaHasPopup,Ie=be===void 0?"dialog":be,De=K.ariaControlsSuffix,ze=K.closeOnClickOutside,Ve=K.closeOnEscape,it=K.content,Je=K.lockScroll,je=Je===void 0||Je,nt=K.offset,tt=K.position,yt=K.target,Et=Le(!1),_t=Et.opened,Tt=Et.toggle,Pt=B.useRef(),At=B.useMemo(function(){return De||"".concat(q())},[]);return B.createElement("div",{ref:Pt,"aria-expanded":_t?"true":"false","aria-haspopup":Ie,"aria-controls":"rpv-core__popver-body-".concat(At)},yt(Tt,_t),_t&&B.createElement(B.Fragment,null,je&&B.createElement(rt,{closeOnEscape:Ve,onClose:Tt}),B.createElement(Ye,{ariaControlsSuffix:At,closeOnClickOutside:ze,offset:nt,position:tt,targetRef:Pt,onClose:Tt},it(Tt))))},A.PrimaryButton=oe,A.ProgressBar=function(K){var be=K.progress,Ie=B.useContext(ae).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:J({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ie})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(be,"%")}},be,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=me,A.Splitter=function(K){var be=K.constrain,Ie=B.useContext(ae).direction===A.TextDirection.RightToLeft,De=B.useRef(),ze=B.useRef(),Ve=B.useRef(),it=B.useRef(0),Je=B.useRef(0),je=B.useRef(0),nt=B.useRef(0),tt={capture:!0},yt=function(_t){var Tt=De.current,Pt=ze.current,At=Ve.current;if(Tt&&Pt&&At){var gn=nt.current,Yt=_t.clientX-it.current,Qt=je.current+(Ie?-Yt:Yt),on=Tt.parentElement.getBoundingClientRect().width,Ut=100*Qt/on;if(Tt.classList.add("rpv-core__splitter--resizing"),be){var sn=on-Qt-gn;if(!be({firstHalfPercentage:Ut,firstHalfSize:Qt,secondHalfPercentage:100*sn/on,secondHalfSize:sn}))return}Pt.style.width="".concat(Ut,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Pt.classList.add("rpv-core__splitter-sibling--resizing"),At.classList.add("rpv-core__splitter-sibling--resizing")}},Et=function(_t){var Tt=De.current,Pt=ze.current,At=Ve.current;Tt&&Pt&&At&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Tt.classList.remove("rpv-core__splitter--resizing"),Pt.classList.remove("rpv-core__splitter-sibling--resizing"),At.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",yt,tt),document.removeEventListener("mouseup",Et,tt))};return B.useEffect(function(){var _t=De.current;_t&&(nt.current=_t.getBoundingClientRect().width,ze.current=_t.previousElementSibling,Ve.current=_t.nextElementSibling)},[]),B.createElement("div",{ref:De,className:"rpv-core__splitter",onMouseDown:function(_t){var Tt=ze.current;Tt&&(it.current=_t.clientX,Je.current=_t.clientY,je.current=Tt.getBoundingClientRect().width,document.addEventListener("mousemove",yt,tt),document.addEventListener("mouseup",Et,tt))}})},A.TextBox=pe,A.ThemeContext=ae,A.Tooltip=function(K){var be=K.ariaControlsSuffix,Ie=K.content,De=K.offset,ze=K.position,Ve=K.target,it=Le(!1),Je=it.opened,je=it.toggle,nt=B.useRef(),tt=B.useRef(),yt=B.useMemo(function(){return be||"".concat(q())},[]);ve(function(){nt.current&&document.activeElement&&nt.current.contains(document.activeElement)&&_t()});var Et=function(){je(A.ToggleStatus.Open)},_t=function(){je(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:nt,"aria-describedby":"rpv-core__tooltip-body-".concat(yt),onBlur:function(Tt){Tt.relatedTarget instanceof HTMLElement&&Tt.currentTarget.parentElement&&Tt.currentTarget.parentElement.contains(Tt.relatedTarget)?tt.current&&(tt.current.style.display="none"):_t()},onFocus:Et,onMouseEnter:Et,onMouseLeave:_t},Ve),Je&&B.createElement(mt,{ariaControlsSuffix:yt,contentRef:tt,offset:De,position:ze,targetRef:nt},Ie()))},A.Viewer=function(K){var be=K.characterMap,Ie=K.defaultScale,De=K.enableSmoothScroll,ze=De===void 0||De,Ve=K.fileUrl,it=K.httpHeaders,Je=it===void 0?{}:it,je=K.initialPage,nt=je===void 0?0:je,tt=K.pageLayout,yt=K.initialRotation,Et=yt===void 0?0:yt,_t=K.localization,Tt=K.plugins,Pt=Tt===void 0?[]:Tt,At=K.renderError,gn=K.renderLoader,Yt=K.renderPage,Qt=K.renderProtectedView,on=K.scrollMode,Ut=on===void 0?A.ScrollMode.Vertical:on,sn=K.setRenderRange,tn=sn===void 0?ya:sn,wn=K.transformGetDocumentParams,Sn=K.theme,xn=Sn===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Sn,Cn=K.viewMode,Pn=Cn===void 0?A.ViewMode.SinglePage:Cn,Un=K.withCredentials,Ln=Un!==void 0&&Un,Vn=K.onDocumentAskPassword,jn=K.onDocumentLoad,zn=jn===void 0?function(){}:jn,Hn=K.onPageChange,Bn=Hn===void 0?function(){}:Hn,Zn=K.onRotate,ar=Zn===void 0?function(){}:Zn,rr=K.onRotatePage,Kn=rr===void 0?function(){}:rr,Jn=K.onSwitchTheme,sr=Jn===void 0?function(){}:Jn,nn=K.onZoom,en=nn===void 0?function(){}:nn,Vt=B.useState({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:!1}),Kt=Vt[0],Wt=Vt[1],ln=function(Dn,On){Wt({data:On,name:Dn,shouldLoad:!0})},dn=B.useState(!1),Xt=dn[0],jt=dn[1],pn=Ne(Kt);B.useEffect(function(){var Dn,On,Gn,Tn;Dn=pn.data,Tn=typeof(On=Ve),(Gn=typeof Dn)=="string"&&Tn==="string"&&Dn===On||Gn==="object"&&Tn==="object"&&Dn.length===On.length&&Dn.every(function(lr,br){return lr===On[br]})||Wt({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:Xt})},[Ve,Xt]);var vn=te({onVisibilityChanged:function(Dn){jt(Dn.isVisible),Dn.isVisible&&Wt(function(On){return Object.assign({},On,{shouldLoad:!0})})}}),Fn=typeof xn=="string"?{direction:A.TextDirection.LeftToRight,theme:xn}:xn,Rn=B.useState(_t||Te),Xn=Rn[0],Qn=Rn[1],mn={l10n:Xn,setL10n:Qn},Yn=Object.assign({},{direction:Fn.direction},Ea(Fn.theme||"light",sr));return B.useEffect(function(){_t&&Qn(_t)},[_t]),B.createElement(Be.Provider,{value:mn},B.createElement(ae.Provider,{value:Yn},B.createElement("div",{ref:vn,className:"rpv-core__viewer rpv-core__viewer--".concat(Yn.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Kt.shouldLoad&&B.createElement(_a,{characterMap:be,file:Kt.data,httpHeaders:Je,render:function(Dn){return B.createElement(va,{defaultScale:Ie,doc:Dn,render:function(On,Gn){return B.createElement(ga,{currentFile:{data:Kt.data,name:Kt.name},defaultScale:Ie,doc:Dn,enableSmoothScroll:ze,initialPage:nt,initialRotation:Et,initialScale:Gn,pageLayout:tt,pageSizes:On,plugins:Pt,renderPage:Yt,scrollMode:Ut,setRenderRange:tn,viewMode:Pn,viewerState:{file:Kt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:On[0].pageHeight,pageWidth:On[0].pageWidth,pagesRotation:new Map,rotation:Et,scale:Gn,scrollMode:Ut,viewMode:Pn},onDocumentLoad:zn,onOpenFile:ln,onPageChange:Bn,onRotate:ar,onRotatePage:Kn,onZoom:en})},scrollMode:Ut,viewMode:Pn})},renderError:At,renderLoader:gn,renderProtectedView:Qt,transformGetDocumentParams:wn,withCredentials:Ln,onDocumentAskPassword:Vn}))))},A.Worker=function(K){var be=K.children,Ie=K.workerUrl;return W.GlobalWorkerOptions.workerSrc=Ie,B.createElement(B.Fragment,null,be)},A.chunk=We,A.classNames=J,A.createStore=function(K){var be=K||{},Ie={},De=function(Ve,it){var Je;be=V(V({},be),((Je={})[Ve]=it,Je)),(Ie[Ve]||[]).forEach(function(je){return je(be[Ve])})},ze=function(Ve){return be[Ve]};return{subscribe:function(Ve,it){Ie[Ve]=(Ie[Ve]||[]).concat(it)},unsubscribe:function(Ve,it){Ie[Ve]=(Ie[Ve]||[]).filter(function(Je){return Je!==it})},update:function(Ve,it){De(Ve,it)},updateCurrentValue:function(Ve,it){var Je=ze(Ve);Je!==void 0&&De(Ve,it(Je))},get:function(Ve){return ze(Ve)}}},A.getDestination=Ht,A.getPage=It,A.isFullScreenEnabled=ee,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=Oe,A.useIntersectionObserver=te,A.useIsMounted=Re,A.useIsomorphicLayoutEffect=re,A.usePrevious=Ne,A.useRenderQueue=Ee})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$e=t$e(reactExports),a$e=function(A){var R=A.files,H=n$e.useRef(),$=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),W=$&&$.attachment?$.attachment.clickToDownload:"Click to download",he=function(de){var ue=H.current,V=[].slice.call(ue.getElementsByClassName("rpv-attachment__item"));if(V.length!==0){V.forEach(function(J){return J.setAttribute("tabindex","-1")});var fe=document.activeElement,ae=V[Math.min(V.length-1,Math.max(0,de(V,fe)))];ae.setAttribute("tabindex","0"),ae.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var de=H.current;if(de){var ue=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(B.current=ue,ue.length>0){var V=ue[0];V.focus(),V.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":O}),ref:H,tabIndex:-1,onKeyDown:function(de){switch(de.key){case"ArrowDown":de.preventDefault(),he(function(ue,V){return ue.indexOf(V)+1});break;case"ArrowUp":de.preventDefault(),he(function(ue,V){return ue.indexOf(V)-1});break;case"End":de.preventDefault(),he(function(ue,V){return ue.length-1});break;case"Home":de.preventDefault(),he(function(ue,V){return 0})}}},R.map(function(de){return n$e.createElement("button",{className:"rpv-attachment__item",key:de.fileName,tabIndex:-1,title:W,type:"button",onClick:function(){return ue=de.fileName,V=de.data,fe=typeof V=="string"?"":URL.createObjectURL(new Blob([V],{type:""})),(ae=document.createElement("a")).style.display="none",ae.href=fe||ue,ae.setAttribute("download",function(J){var re=J.split("/").pop();return re?re.split("#")[0].split("?")[0]:J}(ue)),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),void(fe&&URL.revokeObjectURL(fe));var ue,V,fe,ae}},de.fileName)}))},r$e=function(A){var R=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,$=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,O=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),W=B[0],he=B[1];return n$e.useEffect(function(){R.getAttachments().then(function(de){var ue=de?Object.keys(de).map(function(V){return{data:de[V].content,fileName:de[V].filename}}):[];he({files:ue,isLoaded:!0})})},[R]),W.isLoaded?W.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":$})},O):n$e.createElement(a$e,{files:W.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var R=A.store,H=n$e.useState(R.get("doc")),$=H[0],O=H[1],B=function(W){O(W)};return n$e.useEffect(function(){return R.subscribe("doc",B),function(){R.unsubscribe("doc",B)}},[]),$?n$e.createElement(r$e,{doc:$}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function(R){A.update("doc",R.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var r$d,o$d=t$d(reactExports),n$d=function(){return n$d=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(A){var R=A.bookmark,H=A.depth,$=A.doc,O=A.index,B=A.isBookmarkExpanded,W=A.numberOfSiblings,he=A.pathFromRoot,de=A.renderBookmarkItem,ue=A.store,V=he?"".concat(he,".").concat(O):"".concat(O),fe=o$d.useMemo(function(){return function(ce){var Se=ce.count,ee=ce.items;if(Se>=0)return!1;var ge=ee.length;if(ge===0)return!1;for(var Ae=ee.concat([]);Ae.length>0;){var Oe=Ae.shift(),Re=Oe.items;Oe.count&&Re&&Oe.count>0&&Re.length>0&&(ge+=Re.length,Ae=Ae.concat(Re))}return Math.abs(Se)===ge}(R)},[R]),ae=ue.get("bookmarkExpandedMap"),J=B?B({bookmark:R,doc:$,depth:H,index:O}):ae.has(V)?ae.get(V):!fe,re=o$d.useState(J),te=re[0],G=re[1],ne=R.items&&R.items.length>0,oe=function(){var ce=!te;ue.updateCurrentValue("bookmarkExpandedMap",function(Se){return Se.set(V,ce)}),G(ce)},me=function(){var ce=R.dest,Se=ue.get("jumpToDestination");e$d.getDestination($,ce).then(function(ee){Se&&Se(n$d({label:R.title},ee))})},pe=function(){ne&&R.dest&&me()},Q=function(){!ne&&R.dest&&me()},le=function(ce,Se){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:ce},Se)},ie=function(ce,Se){return ne?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(O),onClick:oe},te?ce:Se):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},se=function(ce){return R.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:R.url,rel:"noopener noreferrer nofollow",target:R.newWindow?"_blank":""},R.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":R.title,onClick:ce},R.title)};return o$d.createElement("li",{"aria-expanded":te?"true":"false","aria-label":R.title,"aria-level":H+1,"aria-posinset":O+1,"aria-setsize":W,role:"treeitem",tabIndex:-1},de?de({bookmark:R,depth:H,hasSubItems:ne,index:O,isExpanded:te,path:V,defaultRenderItem:le,defaultRenderTitle:se,defaultRenderToggle:ie,onClickItem:Q,onClickTitle:pe,onToggleSubItems:oe}):le(Q,o$d.createElement(o$d.Fragment,null,ie(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),se(pe))),ne&&te&&o$d.createElement(m$9,{bookmarks:R.items,depth:H+1,doc:$,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:V,renderBookmarkItem:de,store:ue}))},m$9=function(A){var R=A.bookmarks,H=A.depth,$=H===void 0?0:H,O=A.doc,B=A.isBookmarkExpanded,W=A.isRoot,he=A.pathFromRoot,de=A.renderBookmarkItem,ue=A.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:W?"tree":"group",tabIndex:-1},R.map(function(V,fe){return o$d.createElement(c$d,{bookmark:V,depth:$,doc:O,index:fe,isBookmarkExpanded:B,key:fe,numberOfSiblings:R.length,pathFromRoot:he,renderBookmarkItem:de,store:ue})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(A){var R=A.bookmarks,H=A.doc,$=A.isBookmarkExpanded,O=A.renderBookmarkItem,B=A.store,W=o$d.useRef(),he=function(fe){var ae=W.current;if(ae&&fe.target instanceof HTMLElement&&ae.contains(fe.target))switch(fe.key){case"ArrowDown":fe.preventDefault(),ue(function(J,re){return J.indexOf(re)+1});break;case"ArrowLeft":fe.preventDefault(),V(r$d.Collapse);break;case"ArrowRight":fe.preventDefault(),V(r$d.Expand);break;case"ArrowUp":fe.preventDefault,ue(function(J,re){return J.indexOf(re)-1});break;case"End":fe.preventDefault(),ue(function(J,re){return J.length-1});break;case" ":case"Enter":case"Space":fe.preventDefault(),de();break;case"Home":fe.preventDefault(),ue(function(J,re){return 0})}},de=function(){var fe=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");fe&&fe.click()},ue=function(fe){var ae=W.current,J=[].slice.call(ae.getElementsByClassName("rpv-bookmark__item"));if(J.length!==0){var re=document.activeElement,te=J[Math.min(J.length-1,Math.max(0,fe(J,re)))];re.setAttribute("tabindex","-1"),te.setAttribute("tabindex","0"),te.focus()}},V=function(fe){var ae=W.current;if([].slice.call(ae.getElementsByClassName("rpv-bookmark__item")).length!==0){var J=document.activeElement.closest(".rpv-bookmark__item"),re=fe===r$d.Collapse?"true":"false";if(J&&J.parentElement.getAttribute("aria-expanded")===re){var te=J.querySelector(".rpv-bookmark__toggle");te&&te.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),o$d.useEffect(function(){var fe=W.current;if(fe){var ae=[].slice.call(fe.getElementsByClassName("rpv-bookmark__item"));ae.length>0&&(ae[0].focus(),ae[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:W},o$d.createElement(m$9,{bookmarks:R,depth:0,doc:H,isBookmarkExpanded:$,isRoot:!0,pathFromRoot:"",renderBookmarkItem:O,store:B}))},s$9=function(A){var R=A.doc,H=A.isBookmarkExpanded,$=A.renderBookmarkItem,O=A.store,B=o$d.useContext(e$d.LocalizationContext).l10n,W=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,he=o$d.useState({isLoaded:!1,items:[]}),de=he[0],ue=he[1];return o$d.useEffect(function(){ue({isLoaded:!1,items:[]}),R.getOutline().then(function(V){ue({isLoaded:!0,items:V||[]})})},[R]),de.isLoaded?de.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":W})},B&&B.bookmark?B.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":W})},o$d.createElement(l$d,{bookmarks:de.items,doc:R,isBookmarkExpanded:H,renderBookmarkItem:$,store:O})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(A){var R=A.isBookmarkExpanded,H=A.renderBookmarkItem,$=A.store,O=o$d.useState($.get("doc")),B=O[0],W=O[1],he=function(de){W(de)};return o$d.useEffect(function(){return $.subscribe("doc",he),function(){$.unsubscribe("doc",he)}},[]),B?o$d.createElement(s$9,{doc:B,isBookmarkExpanded:R,renderBookmarkItem:H,store:$}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var A=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(R){A.update("jumpToDestination",R.jumpToDestination)},onDocumentLoad:function(R){A.update("doc",R.doc)},Bookmarks:function(R){return o$d.createElement(u$d,{isBookmarkExpanded:R==null?void 0:R.isBookmarkExpanded,renderBookmarkItem:R==null?void 0:R.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(A){var R=libExports$h;function H(te){var G=Object.create(null);return te&&Object.keys(te).forEach(function(ne){if(ne!=="default"){var oe=Object.getOwnPropertyDescriptor(te,ne);Object.defineProperty(G,ne,oe.get?oe:{enumerable:!0,get:function(){return te[ne]}})}}),G.default=te,Object.freeze(G)}var $,O=H(reactExports);A.ThumbnailDirection=void 0,($=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",$.Vertical="Vertical";var B=function(){return B=Object.assign||function(te){for(var G,ne=1,oe=arguments.length;ne<oe;ne++)for(var me in G=arguments[ne])Object.prototype.hasOwnProperty.call(G,me)&&(te[me]=G[me]);return te},B.apply(this,arguments)},W=function(te){var G=te.doc,ne=te.getPageIndex,oe=te.renderSpinner,me=te.store,pe=te.width,Q=G.numPages,le=ne?ne({numPages:Q}):0,ie=Math.max(0,Math.min(le,Q-1)),se=me.get("pagesRotation")||new Map,ce=se.has(ie)?se.get(ie):0,Se=O.useState(""),ee=Se[0],ge=Se[1],Ae=R.useIsMounted(),Oe=O.useRef(),Re=O.useState(me.get("rotation")||0),Ne=Re[0],Fe=Re[1],qe=O.useState(ce),Ee=qe[0],Te=qe[1],Be=O.useState(!1),ye=Be[0],q=Be[1],Y=function(xe){var Pe=xe.has(ie)?xe.get(ie):0;Te(Pe)},ve=function(xe){Fe(xe)},Me=R.useIntersectionObserver({onVisibilityChanged:function(xe){q(xe.isVisible)}});return O.useEffect(function(){if(ye){var xe=Me.current;xe&&(ge(""),R.getPage(G,ie).then(function(Pe){var Le=Pe.getViewport({scale:1}),Qe=(Le.rotation+Ne+Ee)%360,st=Math.abs(Ne+Ee)%180==0,ct=st?Le.width:Le.height,dt=st?Le.height:Le.width,ht=document.createElement("canvas"),gt=ht.getContext("2d",{alpha:!1}),Ke=xe.clientWidth,Xe=xe.clientHeight,_e=pe?pe/ct:Math.min(Ke/ct,Xe/dt),we=_e*ct,He=_e*dt;ht.height=He,ht.width=we,ht.style.opacity="0";var Ye=Pe.getViewport({rotation:Qe,scale:_e});Oe.current=Pe.render({canvasContext:gt,viewport:Ye}),Oe.current.promise.then(function(){Ae.current&&ge(ht.toDataURL()),ht.width=0,ht.height=0},function(){})}))}},[Ee,ye]),O.useEffect(function(){return me.subscribe("pagesRotation",Y),me.subscribe("rotation",ve),function(){me.unsubscribe("pagesRotation",Y),me.unsubscribe("rotation",ve)}},[]),O.useEffect(function(){return function(){var xe;(xe=Oe.current)===null||xe===void 0||xe.cancel()}},[]),O.createElement("div",{ref:Me,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},ee?O.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:ee}):O.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},oe?oe():O.createElement(R.Spinner,null)))},he=function(te){var G=te.getPageIndex,ne=te.renderSpinner,oe=te.store,me=te.width,pe=O.useState(oe.get("doc")),Q=pe[0],le=pe[1],ie=function(se){le(se)};return O.useEffect(function(){return oe.subscribe("doc",ie),function(){oe.unsubscribe("doc",ie)}},[]),O.createElement("div",{className:"rpv-thumbnail__cover"},Q?O.createElement(W,{doc:Q,getPageIndex:G,renderSpinner:ne,store:oe,width:me}):O.createElement("div",{className:"rpv-thumbnail__cover-loader"},ne?ne():O.createElement(R.Spinner,null)))},de=function(){return O.createElement(R.Spinner,null)},ue=O.createContext({renderSpinner:de}),V=function(te){var G=te.children,ne=te.doc,oe=R.useIsMounted(),me=O.useState({loading:!0,labels:[]}),pe=me[0],Q=me[1];return O.useEffect(function(){ne.getPageLabels().then(function(le){oe.current&&Q({loading:!1,labels:le||[]})})},[ne.loadingTask.docId]),pe.loading?O.createElement(O.Fragment,null):G(pe.labels)},fe=function(te){var G=te.page,ne=te.pageHeight,oe=te.pageIndex,me=te.pageWidth,pe=te.rotation,Q=te.thumbnailHeight,le=te.thumbnailWidth,ie=te.onRenderCompleted,se=O.useContext(R.LocalizationContext).l10n,ce=O.useRef(),Se=O.useState(""),ee=Se[0],ge=Se[1],Ae=se&&se.thumbnail?se.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return O.useEffect(function(){var Oe=ce.current;Oe&&Oe.cancel();var Re=document.createElement("canvas"),Ne=Re.getContext("2d",{alpha:!1}),Fe=le,qe=Fe/(me/ne),Ee=Fe/me;Re.height=qe,Re.width=Fe,Re.style.height="".concat(qe,"px"),Re.style.width="".concat(Fe,"px");var Te=G.getViewport({rotation:pe,scale:Ee});return ce.current=G.render({canvasContext:Ne,viewport:Te}),ce.current.promise.then(function(){ge(Re.toDataURL()),ie(oe)},function(){ie(oe)}),function(){var Be;(Be=ce.current)===null||Be===void 0||Be.cancel()}},[pe]),ee?O.createElement("img",{"aria-label":Ae.replace("{{pageIndex}}","".concat(oe+1)),src:ee,height:"".concat(Q,"px"),width:"".concat(le,"px")}):O.useContext(ue).renderSpinner()},ae=function(te){var G=te.doc,ne=te.pageHeight,oe=te.pageIndex,me=te.pageRotation,pe=te.pageWidth,Q=te.rotation,le=te.shouldRender,ie=te.thumbnailWidth,se=te.onRenderCompleted,ce=te.onVisibilityChanged,Se=R.useIsMounted(),ee=O.useState({height:ne,page:null,viewportRotation:0,width:pe}),ge=ee[0],Ae=ee[1],Oe=ge.page,Re=ge.height,Ne=ge.width,Fe=Ne/Re,qe=Math.abs(Q+me)%180==0,Ee=qe?ie:ie/Fe,Te=qe?ie/Fe:ie;O.useEffect(function(){le&&R.getPage(G,oe).then(function(q){var Y=q.getViewport({scale:1});Se.current&&Ae({height:Y.height,page:q,viewportRotation:Y.rotation,width:Y.width})})},[le]);var Be=(ge.viewportRotation+Q+me)%360,ye=R.useIntersectionObserver({onVisibilityChanged:function(q){ce(oe,q)}});return O.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(oe),ref:ye,style:{height:"".concat(Te,"px"),width:"".concat(Ee,"px")}},Oe?O.createElement(fe,{page:Oe,pageHeight:qe?Re:Ne,pageIndex:oe,pageWidth:qe?Ne:Re,rotation:Be,thumbnailHeight:Te,thumbnailWidth:Ee,onRenderCompleted:se}):O.useContext(ue).renderSpinner())},J=function(te){var G=te.currentPage,ne=te.doc,oe=te.labels,me=te.pagesRotation,pe=te.pageHeight,Q=te.pageWidth,le=te.renderCurrentPageLabel,ie=te.renderThumbnailItem,se=te.rotatedPage,ce=te.rotation,Se=te.thumbnailDirection,ee=te.thumbnailWidth,ge=te.viewMode,Ae=te.onJumpToPage,Oe=te.onRotatePage,Re=ne.numPages,Ne=ne.loadingTask.docId,Fe=O.useRef(null),qe=O.useRef([]),Ee=O.useState(G),Te=Ee[0],Be=Ee[1],ye=O.useContext(R.ThemeContext).direction===R.TextDirection.RightToLeft,q=O.useState(-1),Y=q[0],ve=q[1],Me=R.useIsMounted(),xe=R.usePrevious(ge),Pe=O.useRef(!1),Le=R.useRenderQueue({doc:ne}),Qe=O.useMemo(function(){return Array(Re).fill(0).map(function(_e,we){return we})},[Ne]),st=O.useMemo(function(){switch(ge){case R.ViewMode.DualPage:return R.chunk(Qe,2);case R.ViewMode.DualPageWithCover:return[[Qe[0]]].concat(R.chunk(Qe.slice(1),2));case R.ViewMode.SinglePage:default:return R.chunk(Qe,1)}},[Ne,ge]),ct=function(){if(Fe.current){var _e=qe.current,we=Te+1;we<_e.length&&(Te>=0&&_e[Te].setAttribute("tabindex","-1"),Be(we))}},dt=function(){if(Fe.current){var _e=qe.current,we=Te-1;we>=0&&(Te>=0&&_e[Te].setAttribute("tabindex","-1"),Be(we))}},ht=function(){Te>=0&&Te<Re&&Ae(Te)};R.useIsomorphicLayoutEffect(function(){var _e=Fe.current;_e&&(qe.current=Array.from(_e.querySelectorAll(".rpv-thumbnail__item")))},[ge]),O.useEffect(function(){var _e=qe.current;if(!(_e.length===0||Te<0||Te>_e.length)){var we=_e[Te];we.setAttribute("tabindex","0"),we.focus()}},[Te]),R.useIsomorphicLayoutEffect(function(){var _e=Fe.current,we=qe.current;if(!(!_e||we.length===0||G<0||G>we.length)){var He=we[G].closest(".rpv-thumbnail__items");He&&(Se===A.ThumbnailDirection.Vertical?function(Ye,rt){var mt=Ye.getBoundingClientRect().top-rt.getBoundingClientRect().top,ft=Ye.clientHeight,We=rt.clientHeight;mt<0?rt.scrollTop+=mt:mt+ft<=We||(rt.scrollTop+=mt+ft-We)}(He,_e):function(Ye,rt){var mt=Ye.getBoundingClientRect().left-rt.getBoundingClientRect().left,ft=Ye.clientWidth,We=rt.clientWidth;mt<0?rt.scrollLeft+=mt:mt+ft<=We||(rt.scrollLeft+=mt+ft-We)}(He,_e))}},[G,Se]);var gt=O.useCallback(function(_e){Me.current&&(Le.markRendered(_e),Pe.current=!1,Xe())},[Ne]),Ke=O.useCallback(function(_e,we){we.isVisible?Le.setVisibility(_e,we.ratio):Le.setOutOfRange(_e),Xe()},[Ne]),Xe=O.useCallback(function(){if(!Pe.current){var _e=Le.getHighestPriorityPage();_e>-1&&(Le.markRendering(_e),Pe.current=!0,ve(_e))}},[Ne]);return O.useEffect(function(){se>=0&&(Le.markRendering(se),Pe.current=!0,ve(se))},[Ne,se]),R.useIsomorphicLayoutEffect(function(){xe!==ge&&(Le.markNotRendered(),Xe())},[ge]),O.createElement("div",{ref:Fe,"data-testid":"thumbnail__list",className:R.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Se===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":ye,"rpv-thumbnail__list--vertical":Se===A.ThumbnailDirection.Vertical}),onKeyDown:function(_e){switch(_e.key){case"ArrowDown":ct();break;case"ArrowUp":dt();break;case"Enter":ht()}}},st.map(function(_e,we){var He=!1;switch(ge){case R.ViewMode.DualPage:He=G===2*we||G===2*we+1;break;case R.ViewMode.DualPageWithCover:He=G===0&&we===0||we>0&&G===2*we-1||we>0&&G===2*we;break;case R.ViewMode.SinglePage:default:He=G===we}return O.createElement("div",{className:R.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ge===R.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ge===R.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ge===R.ViewMode.SinglePage,"rpv-thumbnail__items--selected":He}),key:"".concat(we,"___").concat(ge)},_e.map(function(Ye){return function(rt){var mt=ge===R.ViewMode.DualPageWithCover&&(rt===0||Re%2==0&&rt===Re-1),ft="".concat(ne.loadingTask.docId,"___").concat(rt),We=oe.length===Re?oe[rt]:"".concat(rt+1),xt=le?le({currentPage:G,pageIndex:rt,numPages:Re,pageLabel:We}):We,wt=me.has(rt)?me.get(rt):0,Zt=O.createElement(ae,{doc:ne,pageHeight:pe,pageIndex:rt,pageRotation:wt,pageWidth:Q,rotation:ce,shouldRender:Y===rt,thumbnailWidth:ee,onRenderCompleted:gt,onVisibilityChanged:Ke});return ie?ie({currentPage:G,key:ft,numPages:Re,pageIndex:rt,renderPageLabel:O.createElement(O.Fragment,null,xt),renderPageThumbnail:Zt,onJumpToPage:function(){return Ae(rt)},onRotatePage:function(Gt){return Oe(rt,Gt)}}):O.createElement("div",{key:ft},O.createElement("div",{className:R.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ge===R.ViewMode.DualPage&&rt%2==0,"rpv-thumbnail__item--dual-odd":ge===R.ViewMode.DualPage&&rt%2==1,"rpv-thumbnail__item--dual-cover":mt,"rpv-thumbnail__item--dual-cover-even":ge===R.ViewMode.DualPageWithCover&&!mt&&rt%2==0,"rpv-thumbnail__item--dual-cover-odd":ge===R.ViewMode.DualPageWithCover&&!mt&&rt%2==1,"rpv-thumbnail__item--single":ge===R.ViewMode.SinglePage,"rpv-thumbnail__item--selected":G===rt}),role:"button",tabIndex:G===rt?0:-1,onClick:function(){return Ae(rt)}},Zt),O.createElement("div",{"data-testid":"thumbnail__label-".concat(rt),className:"rpv-thumbnail__label"},xt))}(Ye)}))}))},re=function(te){var G=te.renderCurrentPageLabel,ne=te.renderThumbnailItem,oe=te.store,me=te.thumbnailDirection,pe=te.thumbnailWidth,Q=O.useState(oe.get("doc")),le=Q[0],ie=Q[1],se=O.useState(oe.get("currentPage")||0),ce=se[0],Se=se[1],ee=O.useState(oe.get("pageHeight")||0),ge=ee[0],Ae=ee[1],Oe=O.useState(oe.get("pageWidth")||0),Re=Oe[0],Ne=Oe[1],Fe=O.useState(oe.get("rotation")||0),qe=Fe[0],Ee=Fe[1],Te=O.useState(oe.get("pagesRotation")||new Map),Be=Te[0],ye=Te[1],q=O.useState(oe.get("rotatedPage")||-1),Y=q[0],ve=q[1],Me=O.useState(oe.get("viewMode")),xe=Me[0],Pe=Me[1],Le=function(we){Se(we)},Qe=function(we){ie(we)},st=function(we){Ae(we)},ct=function(we){Ne(we)},dt=function(we){Ee(we)},ht=function(we){ye(we)},gt=function(we){ve(we)},Ke=function(we){Pe(we)},Xe=function(we){var He=oe.get("jumpToPage");He&&He(we)},_e=function(we,He){oe.get("rotatePage")(we,He)};return O.useEffect(function(){return oe.subscribe("doc",Qe),oe.subscribe("pageHeight",st),oe.subscribe("pageWidth",ct),oe.subscribe("rotatedPage",gt),oe.subscribe("rotation",dt),oe.subscribe("pagesRotation",ht),oe.subscribe("viewMode",Ke),function(){oe.unsubscribe("doc",Qe),oe.unsubscribe("pageHeight",st),oe.unsubscribe("pageWidth",ct),oe.unsubscribe("rotatedPage",gt),oe.unsubscribe("rotation",dt),oe.unsubscribe("pagesRotation",ht),oe.unsubscribe("viewMode",Ke)}},[]),R.useIsomorphicLayoutEffect(function(){return oe.subscribe("currentPage",Le),function(){oe.unsubscribe("currentPage",Le)}},[]),le?O.createElement(R.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},O.createElement(V,{doc:le},function(we){return O.createElement(J,{currentPage:ce,doc:le,labels:we,pagesRotation:Be,pageHeight:ge,pageWidth:Re,renderCurrentPageLabel:G,renderThumbnailItem:ne,rotatedPage:Y,rotation:qe,thumbnailDirection:me,thumbnailWidth:pe,viewMode:xe,onJumpToPage:Xe,onRotatePage:_e})})):O.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},O.useContext(ue).renderSpinner())};A.thumbnailPlugin=function(te){var G=O.useMemo(function(){return R.createStore({rotatePage:function(){},viewMode:R.ViewMode.SinglePage})},[]),ne=O.useState(""),oe=ne[0],me=ne[1];return{install:function(pe){G.update("jumpToPage",pe.jumpToPage),G.update("rotatePage",pe.rotatePage)},onDocumentLoad:function(pe){me(pe.doc.loadingTask.docId),G.update("doc",pe.doc)},onViewerStateChange:function(pe){return G.update("currentPage",pe.pageIndex),G.update("pagesRotation",pe.pagesRotation),G.update("pageHeight",pe.pageHeight),G.update("pageWidth",pe.pageWidth),G.update("rotation",pe.rotation),G.update("rotatedPage",pe.rotatedPage),G.update("viewMode",pe.viewMode),pe},Cover:function(pe){return O.createElement(he,B({},pe,{renderSpinner:te==null?void 0:te.renderSpinner,store:G}))},Thumbnails:O.useCallback(function(pe){return O.createElement(ue.Provider,{value:{renderSpinner:(te==null?void 0:te.renderSpinner)||de}},O.createElement(re,{renderCurrentPageLabel:te==null?void 0:te.renderCurrentPageLabel,renderThumbnailItem:pe==null?void 0:pe.renderThumbnailItem,store:G,thumbnailDirection:(pe==null?void 0:pe.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(te==null?void 0:te.thumbnailWidth)||100}))},[oe])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var R=libExports$h;function H(re){var te=Object.create(null);return re&&Object.keys(re).forEach(function(G){if(G!=="default"){var ne=Object.getOwnPropertyDescriptor(re,G);Object.defineProperty(te,G,ne.get?ne:{enumerable:!0,get:function(){return re[G]}})}}),te.default=re,Object.freeze(te)}var $,O=H(reactExports),B=function(){return O.createElement(R.Icon,{size:16},O.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},W=function(){return W=Object.assign||function(re){for(var te,G=1,ne=arguments.length;G<ne;G++)for(var oe in te=arguments[G])Object.prototype.hasOwnProperty.call(te,oe)&&(re[oe]=te[oe]);return re},W.apply(this,arguments)};A.SelectionMode=void 0,($=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",$.Text="Text";var he=function(){return O.createElement(R.Icon,{size:16},O.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},de=function(re){var te=re.children,G=re.mode,ne=re.onClick,oe=O.useContext(R.LocalizationContext).l10n,me="",pe=O.createElement(he,null);switch(G){case A.SelectionMode.Hand:me=oe&&oe.selectionMode?oe.selectionMode.handTool:"Hand tool",pe=O.createElement(B,null);break;case A.SelectionMode.Text:default:me=oe&&oe.selectionMode?oe.selectionMode.textSelectionTool:"Text selection tool",pe=O.createElement(he,null)}return te({icon:pe,label:me,onClick:ne})},ue={left:0,top:8},V=function(re){var te=re.isSelected,G=re.mode,ne=re.onClick,oe="";switch(G){case A.SelectionMode.Hand:oe="selection-mode__hand-button";break;case A.SelectionMode.Text:default:oe="selection-mode__text-button"}return O.createElement(de,{mode:G,onClick:ne},function(me){return O.createElement(R.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:R.Position.BottomCenter,target:O.createElement(R.MinimalButton,{ariaLabel:me.label,isSelected:te,testId:oe,onClick:me.onClick},me.icon),content:function(){return me.label},offset:ue})})},fe=function(re){var te=re.children,G=re.mode,ne=re.store,oe=G===ne.get("selectionMode");return(te||function(me){return O.createElement(V,{isSelected:oe,mode:me.mode,onClick:me.onClick})})({isSelected:oe,mode:G,onClick:function(){return ne.update("selectionMode",G)}})},ae=function(re){var te=re.isSelected,G=re.mode,ne=re.onClick,oe="";switch(G){case A.SelectionMode.Hand:oe="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:oe="selection-mode__text-menu"}return O.createElement(de,{mode:G,onClick:ne},function(me){return O.createElement(R.MenuItem,{checked:te,icon:me.icon,testId:oe,onClick:me.onClick},me.label)})},J=function(re){var te=re.store,G=O.useRef(null),ne=O.useState(A.SelectionMode.Text),oe=ne[0],me=ne[1],pe=O.useRef({top:0,left:0,x:0,y:0}),Q=function(Se){var ee=G.current;ee&&(ee.scrollTop=pe.current.top-(Se.clientY-pe.current.y),ee.scrollLeft=pe.current.left-(Se.clientX-pe.current.x))},le=function(){var Se=G.current;Se&&(Se.classList.add("rpv-selection-mode__grab"),Se.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",le))},ie=function(Se){var ee=G.current;ee&&oe!==A.SelectionMode.Text&&(ee.classList.remove("rpv-selection-mode__grab"),ee.classList.add("rpv-selection-mode__grabbing"),Se.preventDefault(),Se.stopPropagation(),pe.current={left:ee.scrollLeft,top:ee.scrollTop,x:Se.clientX,y:Se.clientY},document.addEventListener("mousemove",Q),document.addEventListener("mouseup",le))},se=function(Se){G.current=Se()},ce=function(Se){me(Se)};return O.useEffect(function(){var Se=G.current;if(Se)return oe===A.SelectionMode.Hand?Se.classList.add("rpv-selection-mode__grab"):Se.classList.remove("rpv-selection-mode__grab"),Se.addEventListener("mousedown",ie),function(){Se.removeEventListener("mousedown",ie)}},[oe]),O.useEffect(function(){return te.subscribe("getPagesContainer",se),te.subscribe("selectionMode",ce),function(){te.unsubscribe("getPagesContainer",se),te.unsubscribe("selectionMode",ce)}},[]),O.createElement(O.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=he,A.selectionModePlugin=function(re){var te=O.useMemo(function(){return R.createStore()},[]),G=function(ne){return O.createElement(fe,W({},ne,{store:te}))};return{install:function(ne){te.update("selectionMode",re&&re.selectionMode?re.selectionMode:A.SelectionMode.Text),te.update("getPagesContainer",ne.getPagesContainer)},renderViewer:function(ne){var oe=ne.slot;return oe.subSlot&&oe.subSlot.children&&(oe.subSlot.children=O.createElement(O.Fragment,null,O.createElement(J,{store:te}),oe.subSlot.children)),oe},SwitchSelectionMode:G,SwitchSelectionModeButton:function(ne){return O.createElement(G,{mode:ne.mode},function(oe){return O.createElement(V,{isSelected:oe.isSelected,mode:oe.mode,onClick:function(){oe.onClick()}})})},SwitchSelectionModeMenuItem:function(ne){return O.createElement(G,{mode:ne.mode},function(oe){return O.createElement(ae,{isSelected:oe.isSelected,mode:oe.mode,onClick:function(){oe.onClick(),ne.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$c=t$c(reactExports),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(A){var R=A.enableShortcuts,H=A.onClick,$=n$c.useContext(e$c.LocalizationContext).l10n,O=$&&$.fullScreen?$.fullScreen.enterFullScreen:"Full screen",B=R?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:H},n$c.createElement(l$c,null)),content:function(){return O},offset:u$c})},i$c={left:0,top:8},a$c=function(A){var R=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,$=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:$,testId:"full-screen__exit-button-with-tooltip",onClick:R},n$c.createElement(r$c,null)),content:function(){return $},offset:i$c})},f$9=function(A,R){var H=n$c.useState(R.get("fullScreenMode")),$=H[0],O=H[1],B=n$c.useCallback(function(W){O(W)},[]);return n$c.useEffect(function(){return R.subscribe("fullScreenMode",B),function(){R.unsubscribe("fullScreenMode",B)}},[]),{enterFullScreen:function(){var W=R.get("getPagesContainer");if(W){var he=A(W());R.get("enterFullScreenMode")(he)}},exitFullScreen:function(){R.get("exitFullScreenMode")()},isFullScreen:$===e$c.FullScreenMode.Entering||$===e$c.FullScreenMode.EnteredCompletely}},s$8=function(A){var R=A.children,H=A.enableShortcuts,$=A.getFullScreenTarget,O=A.store,B=f$9($,O),W=B.enterFullScreen,he=B.exitFullScreen,de=B.isFullScreen;return(R||function(ue){return de?n$c.createElement(a$c,{onClick:ue.onClick}):n$c.createElement(o$c,{enableShortcuts:H,onClick:ue.onClick})})({onClick:de?he:W})},S$4=function(A){var R=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,$=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:R},$)},d$9=function(A){var R=A.onClick,H=n$c.useContext(e$c.LocalizationContext).l10n,$=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!$,"rpv-full-screen__exit-button--rtl":$})},n$c.createElement(e$c.MinimalButton,{ariaLabel:O,testId:"full-screen__exit-button",onClick:R},n$c.createElement(r$c,null)))},m$8=function(A){var R=A.children,H=A.getFullScreenTarget,$=A.store,O=f$9(H,$),B=O.enterFullScreen,W=O.exitFullScreen,he=O.isFullScreen;return he&&(R||function(de){return n$c.createElement(d$9,{onClick:de.onClick})})({onClick:he?W:B})},E$5=function(A){var R=A.store,H=A.onEnterFullScreen,$=A.onExitFullScreen,O=n$c.useState(R.get("fullScreenMode")),B=O[0],W=O[1],he=n$c.useCallback(function(de){W(de)},[]);return n$c.useEffect(function(){switch(B){case e$c.FullScreenMode.EnteredCompletely:H(R.get("zoom"));break;case e$c.FullScreenMode.Exited:$(R.get("zoom"))}},[B]),n$c.useEffect(function(){return R.subscribe("fullScreenMode",he),function(){R.unsubscribe("fullScreenMode",he)}},[]),(B===e$c.FullScreenMode.Entering||B===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(A){var R=A.containerRef,H=A.getFullScreenTarget,$=A.store,O=f$9(H,$).enterFullScreen,B=function(W){if(!W.shiftKey&&!W.altKey&&(e$c.isMac()?W.metaKey&&W.ctrlKey&&W.key==="f":W.key==="F11")){var he=R.current;he&&document.activeElement&&he.contains(document.activeElement)&&(W.preventDefault(),O())}};return n$c.useEffect(function(){if(R.current)return document.addEventListener("keydown",B),function(){document.removeEventListener("keydown",B)}},[R.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(A){var R=(A==null?void 0:A.getFullScreenTarget)||function(W){return W},H=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),$=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),O=function(W){return n$c.createElement(s$8,c$c({},W,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:R,store:$}))},B=function(){return n$c.createElement(m$8,{getFullScreenTarget:R,store:$},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(W){$.update("enterFullScreenMode",W.enterFullScreenMode),$.update("exitFullScreenMode",W.exitFullScreenMode),$.update("getPagesContainer",W.getPagesContainer),$.update("zoom",W.zoom)},onViewerStateChange:function(W){return $.update("fullScreenMode",W.fullScreenMode),W},renderViewer:function(W){var he=W.slot;return he.subSlot&&(he.subSlot.children=n$c.createElement(n$c.Fragment,null,H.enableShortcuts&&n$c.createElement(F,{containerRef:W.containerRef,getFullScreenTarget:R,store:$}),n$c.createElement(E$5,{store:$,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),n$c.createElement(B,null),he.subSlot.children)),he},EnterFullScreen:O,EnterFullScreenButton:function(){return n$c.createElement(O,null,function(W){return n$c.createElement(o$c,c$c({enableShortcuts:H.enableShortcuts},W))})},EnterFullScreenMenuItem:function(W){return n$c.createElement(O,null,function(he){return n$c.createElement(S$4,{onClick:function(){he.onClick(),W.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var R=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,$=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:$,testId:"get-file__download-button",onClick:R},n$b.createElement(o$b,null)),content:function(){return $},offset:i$b})},c$b=function(A,R){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",R),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,R,H){var $=URL.createObjectURL(new Blob([A],{type:H}));c$b($,R),$&&URL.revokeObjectURL($)},u$b=function(A,R){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,R,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function($){return btoa(Array($.length).fill("").map(function(O,B){return String.fromCharCode($[B])}).join(""))}(H)),R):l$b(H,R,"application/pdf")})},f$8=function(A){var R=A.children,H=A.fileNameGenerator,$=A.store,O=n$b.useState($.get("file")),B=O[0],W=O[1],he=n$b.useState($.get("doc")),de=he[0],ue=he[1],V=function(ae){ue(ae)},fe=function(ae){W(ae)};return n$b.useEffect(function(){return $.subscribe("doc",V),$.subscribe("file",fe),function(){$.subscribe("doc",V),$.unsubscribe("file",fe)}},[]),(R||function(ae){return n$b.createElement(a$b,{onClick:ae.onClick})})({onClick:function(){de&&B&&u$b(de,H(B))}})},d$8=function(A){var R=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,$=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:R},$)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var R=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(O){return O.name?(B=O.name,(W=B.split("/").pop())?W.split("#")[0].split("?")[0]:B):"document.pdf";var B,W},$=function(O){return n$b.createElement(f$8,r$b({},O,{fileNameGenerator:A&&A.fileNameGenerator||H,store:R}))};return{onDocumentLoad:function(O){R.update("doc",O.doc),R.update("file",O.file)},Download:$,DownloadButton:function(){return n$b.createElement($,null,function(O){return n$b.createElement(a$b,r$b({},O))})},DownloadMenuItem:function(O){return n$b.createElement($,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},o$a.apply(this,arguments)},i$a=function(A){var R=n$a.useRef(),H=function(){var O=R.current;O&&(O.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},$=function(O){O&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",$),function(){A.unsubscribe("triggerOpenFile",$)}},[]),{inputRef:R,openFile:H}},c$a={left:0,top:8},u$a=function(A){var R=A.enableShortcuts,H=A.store,$=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",W=i$a(H),he=W.inputRef,de=W.openFile,ue=R?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:he,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:$}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ue,ariaLabel:B,testId:"open__button",onClick:de},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var R=A.children,H=A.enableShortcuts,$=A.store;return(R||function(O){return n$a.createElement(u$a,{enableShortcuts:H,store:$,onClick:O.onClick})})({onClick:function(O){var B=O.target.files;if(B&&B.length){var W=$.get("openFile");W&&W(B[0])}}})},l$a=function(A){var R=A.store,H=A.onClick,$=n$a.useContext(e$a.LocalizationContext).l10n,O=$&&$.open?$.open.openFile:"Open file",B=i$a(R),W=B.inputRef,he=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:he},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:W,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),O))},p$7=function(A){var R=A.containerRef,H=A.store,$=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="o"&&(e$a.isMac()?O.metaKey:O.ctrlKey)){var B=R.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if(R.current)return document.addEventListener("keydown",$),function(){document.removeEventListener("keydown",$)}},[R.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var R=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),$=function(O){return n$a.createElement(a$a,o$a({enableShortcuts:R.enableShortcuts},O,{store:H}))};return{install:function(O){H.update("openFile",O.openFile)},renderViewer:function(O){var B=O.slot,W={children:n$a.createElement(n$a.Fragment,null,R.enableShortcuts&&n$a.createElement(p$7,{containerRef:O.containerRef,store:H}),B.children)};return o$a(o$a({},B),W)},Open:$,OpenButton:function(){return n$a.createElement($,null)},OpenMenuItem:function(){return n$a.createElement($,null,function(O){return n$a.createElement(l$a,{store:H,onClick:O.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$9=t$9(reactExports),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},o$9.apply(this,arguments)},i$9=function(A){var R=n$9.useState(A.get("currentPage")||0),H=R[0],$=R[1],O=function(B){$(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",O),function(){A.unsubscribe("currentPage",O)}},[]),{currentPage:H}},u$9=function(A){var R=n$9.useState(A.get("numberOfPages")||0),H=R[0],$=R[1],O=function(B){$(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",O),function(){A.unsubscribe("numberOfPages",O)}},[]),{numberOfPages:H}},c$9=function(A){var R=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,$=n$9.useState("1"),O=$[0],B=$[1],W=i$9(R).currentPage,he=u$9(R).numberOfPages;n$9.useEffect(function(){return B("".concat(W+1))},[W]);var de=function(V){var fe=R.get("jumpToPage");fe&&fe(V)},ue=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ue,testId:"page-navigation__current-page-input",type:"text",value:O,onChange:B,onKeyDown:function(V){switch(V.key){case"ArrowUp":(J=W-1)>=0&&(B("".concat(J+1)),de(J));break;case"ArrowDown":(ae=W+1)<he&&(B("".concat(ae+1)),de(ae));break;case"Enter":fe=parseInt(O,10),O===""||fe<1||fe>he?B("".concat(W+1)):de(fe-1)}var fe,ae,J}}))},l$9=function(A){var R=A.children,H=A.doc,$=e$9.useIsMounted(),O=n$9.useState({loading:!0,labels:[]}),B=O[0],W=O[1];return n$9.useEffect(function(){H.getPageLabels().then(function(he){$.current&&W({loading:!1,labels:he||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):R(B.labels)},s$7=function(A){var R=A.children,H=A.store,$=function(he){var de=n$9.useState(he.get("doc")),ue=de[0],V=de[1],fe=function(ae){V(ae)};return n$9.useEffect(function(){return he.subscribe("doc",fe),function(){he.unsubscribe("doc",fe)}},[]),ue}(H),O=i$9(H).currentPage,B=u$9(H).numberOfPages,W=R||function(he){return n$9.createElement(n$9.Fragment,null,he.currentPage+1)};return $?n$9.createElement(l$9,{doc:$},function(he){var de=he.length===B&&B>0?he[O]:"";return W({currentPage:O,numberOfPages:B,pageLabel:de})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:R,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return O},offset:f$7})},p$6=function(A){var R=A.children,H=A.store;return(R||function($){return n$9.createElement(m$7,{isDisabled:$.isDisabled,onClick:$.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var $=H.get("jumpToPage");$&&$(0)}})},v$5=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:R,testId:"page-navigation__first-menu",onClick:H},O)},d$7={left:0,top:8},P$2=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:R,testId:"page-navigation__last-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return O},offset:d$7})},b$4=function(A){var R=A.children,H=A.store,$=i$9(H).currentPage,O=u$9(H).numberOfPages;return(R||function(B){return n$9.createElement(P$2,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:$+1>=O,onClick:function(){var B=H.get("jumpToPage");B&&B(O-1)}})},E$4=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:R,testId:"page-navigation__last-menu",onClick:H},O)},C$3={left:0,top:8},D=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:R,testId:"page-navigation__next-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return O},offset:C$3})},k$3=function(A){var R=A.children,H=A.store;return(R||function($){return n$9.createElement(D,{onClick:$.onClick,isDisabled:$.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var $=H.get("jumpToNextPage");$&&$()}})},T=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:R,testId:"page-navigation__next-menu",onClick:H},O)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:O,isDisabled:R,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(x$1,null)),content:function(){return O},offset:L})},j=function(A){var R=A.store;return(A.children||function(H){return n$9.createElement(N,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9(R).currentPage<=0,onClick:function(){var H=R.get("jumpToPreviousPage");H&&H()}})},I$2=function(A){var R=A.isDisabled,H=A.onClick,$=n$9.useContext(e$9.LocalizationContext).l10n,O=$&&$.pageNavigation?$.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:R,testId:"page-navigation__previous-menu",onClick:H},O)},h$5=function(A){var R=A.children,H=A.store,$=u$9(H).numberOfPages;return R?R({numberOfPages:$}):n$9.createElement(n$9.Fragment,null,$)},y$1=function(A){var R=A.containerRef,H=A.numPages,$=A.store,O=i$9($).currentPage,B=n$9.useRef(O);B.current=O;var W=n$9.useRef(!1),he=function(){W.current=!0},de=function(){W.current=!1},ue=function(V){var fe=R.current,ae=W.current||document.activeElement&&fe.contains(document.activeElement);if(fe&&ae){var J,re,te=V.altKey&&V.key==="ArrowDown"||!V.shiftKey&&!V.altKey&&V.key==="PageDown",G=V.altKey&&V.key==="ArrowUp"||!V.shiftKey&&!V.altKey&&V.key==="PageUp";if(te)return V.preventDefault(),J=$.get("jumpToPage"),re=B.current+1,void(J&&re<H&&J(re));if(G)return V.preventDefault(),void function(){var ne=$.get("jumpToPage"),oe=B.current-1;ne&&oe>=0&&ne(oe)}();if(e$9.isMac()?V.metaKey&&!V.ctrlKey:V.altKey)switch(V.key){case"ArrowLeft":V.preventDefault(),function(){var ne=$.get("jumpToPreviousDestination");ne&&ne()}();break;case"ArrowRight":V.preventDefault(),function(){var ne=$.get("jumpToNextDestination");ne&&ne()}()}}};return n$9.useEffect(function(){var V=R.current;if(V)return document.addEventListener("keydown",ue),V.addEventListener("mouseenter",he),V.addEventListener("mouseleave",de),function(){document.removeEventListener("keydown",ue),V.removeEventListener("mouseenter",he),V.removeEventListener("mouseleave",de)}},[R.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var R=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),$=function(he){return n$9.createElement(p$6,o$9({},he,{store:H}))},O=function(he){return n$9.createElement(b$4,o$9({},he,{store:H}))},B=function(he){return n$9.createElement(k$3,o$9({},he,{store:H}))},W=function(he){return n$9.createElement(j,o$9({},he,{store:H}))};return{install:function(he){H.update("jumpToDestination",he.jumpToDestination),H.update("jumpToNextDestination",he.jumpToNextDestination),H.update("jumpToNextPage",he.jumpToNextPage),H.update("jumpToPage",he.jumpToPage),H.update("jumpToPreviousDestination",he.jumpToPreviousDestination),H.update("jumpToPreviousPage",he.jumpToPreviousPage)},renderViewer:function(he){var de=he.slot;if(!R.enableShortcuts)return de;var ue={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:he.containerRef,numPages:he.doc.numPages,store:H}),de.children)};return o$9(o$9({},de),ue)},onDocumentLoad:function(he){H.update("doc",he.doc),H.update("numberOfPages",he.doc.numPages)},onViewerStateChange:function(he){return H.update("currentPage",he.pageIndex),he},jumpToNextPage:function(){var he=H.get("jumpToNextPage");he&&he()},jumpToPage:function(he){var de=H.get("jumpToPage");de&&de(he)},jumpToPreviousPage:function(){var he=H.get("jumpToPreviousPage");he&&he()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(he){return n$9.createElement(s$7,o$9({},he,{store:H}))},GoToFirstPage:$,GoToFirstPageButton:function(){return n$9.createElement($,null,function(he){return n$9.createElement(m$7,o$9({},he))})},GoToFirstPageMenuItem:function(he){return n$9.createElement($,null,function(de){return n$9.createElement(v$5,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),he.onClick()}})})},GoToLastPage:O,GoToLastPageButton:function(){return n$9.createElement(O,null,function(he){return n$9.createElement(P$2,o$9({},he))})},GoToLastPageMenuItem:function(he){return n$9.createElement(O,null,function(de){return n$9.createElement(E$4,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),he.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(he){return n$9.createElement(D,o$9({},he))})},GoToNextPageMenuItem:function(he){return n$9.createElement(B,null,function(de){return n$9.createElement(T,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),he.onClick()}})})},GoToPreviousPage:W,GoToPreviousPageButton:function(){return n$9.createElement(W,null,function(he){return n$9.createElement(N,o$9({},he))})},GoToPreviousPageMenuItem:function(he){return n$9.createElement(W,null,function(de){return n$9.createElement(I$2,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),he.onClick()}})})},NumberOfPages:function(he){return n$9.createElement(h$5,o$9({},he,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var R=A.enableShortcuts,H=A.onClick,$=a$8.useContext(e$8.LocalizationContext).l10n,O=$&&$.print?$.print.print:"Print",B=R?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return O},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var R=A.children,H=A.enableShortcuts,$=A.store;return(R||s$6)({enableShortcuts:H,onClick:function(){$.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var R=A.doc,H=A.store,$=a$8.useContext(e$8.LocalizationContext).l10n,O=a$8.useState(!0),B=O[0],W=O[1];return a$8.useEffect(function(){R.getPermissions().then(function(he){he===null||he.includes(4)||he.includes(2048)?H.update("printStatus",o$8.Preparing):W(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(he){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},$&&$.print?$.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){he(),H.update("printStatus",o$8.Cancelled)}},$&&$.print?$.print.close:"Close")))},isOpened:!0})},m$6=function(A){var R=A.numLoadedPages,H=A.numPages,$=A.onCancel,O=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,W=Math.floor(100*R/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},O&&O.print?O.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:W})),a$8.createElement(e$8.Button,{onClick:$},O&&O.print?O.print.cancel:"Cancel")))},d$6=function(A){var R=A.canvas,H=A.page,$=A.pageHeight,O=A.pageIndex,B=A.pageWidth,W=A.rotation,he=A.onLoad,de=e$8.useIsMounted(),ue=a$8.useRef(),V=a$8.useState(""),fe=V[0],ae=V[1],J=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var re=ue.current;re&&re.cancel();var te=150/72;R.height=Math.floor($*te),R.width=Math.floor(B*te);var G=R.getContext("2d");G.save(),G.fillStyle="rgb(255, 255, 255)",G.fillRect(0,0,R.width,R.height),G.restore();var ne=H.getViewport({rotation:W,scale:1});ue.current=H.render({canvasContext:G,intent:"print",transform:[te,0,0,te,0,0],viewport:ne}),ue.current.promise.then(function(){"toBlob"in R&&"createObjectURL"in URL?R.toBlob(function(oe){de.current&&ae(URL.createObjectURL(oe)),J&&he()}):(de.current&&ae(R.toDataURL()),J&&he())},function(){})},[]),fe&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(O),src:fe,onLoad:function(){J||he()}}))},f$6=function(A){var R=A.canvas,H=A.doc,$=A.pageIndex,O=A.pageRotation,B=A.pageSize,W=A.rotation,he=A.shouldRender,de=A.onLoad,ue=e$8.useIsMounted(),V=a$8.useState(null),fe=V[0],ae=V[1],J=Math.abs(W+O)%180==0;a$8.useEffect(function(){he&&e$8.getPage(H,$).then(function(te){ue.current&&ae(te)})},[he]);var re=(B.rotation+W+O)%360;return fe&&a$8.createElement(d$6,{canvas:R,page:fe,pageHeight:J?B.pageHeight:B.pageWidth,pageIndex:$,pageWidth:J?B.pageWidth:B.pageHeight,rotation:re,onLoad:de})},g$4=function(A){var R=A.doc,H=A.numLoadedPages,$=A.pagesRotation,O=A.pageSizes,B=A.printPages,W=A.printStatus,he=A.rotation,de=A.onCancel,ue=A.onLoad,V=a$8.useMemo(function(){return document.createElement("canvas")},[]),fe=a$8.useMemo(function(){var re=document.querySelector(".rpv-print__zone");if(re)return re;var te=document.createElement("div");return te.classList.add("rpv-print__zone"),te.setAttribute("data-testid","print__zone"),document.body.appendChild(te),te},[]);a$8.useEffect(function(){W===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var re=function(){if(W===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var te=document.querySelectorAll(".rpv-print__zone");te&&te.forEach(function(G){G.parentElement.removeChild(G)}),V.height=0,V.width=0,document.removeEventListener("mousemove",re),de()}};return document.addEventListener("mousemove",re),function(){return document.removeEventListener("mousemove",re)}},[W]);var ae=O[0].pageHeight,J=O[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(re,te){return a$8.createElement(f$6,{key:re,canvas:V,doc:R,pageIndex:re,pageRotation:$.has(re)?$.get(re):0,pageSize:O[re],rotation:he,shouldRender:te===H,onLoad:ue})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(J,"pt ").concat(ae,"pt }")}})),fe)},v$4=function(A){var R=A.doc,H=A.pagesRotation,$=A.pageSizes,O=A.renderProgressBar,B=A.rotation,W=A.setPages,he=A.store,de=a$8.useState(o$8.Inactive),ue=de[0],V=de[1],fe=a$8.useState(0),ae=fe[0],J=fe[1],re=a$8.useMemo(function(){var oe=R.numPages;return W(R).filter(function(me){return me>=0&&me<oe})},[R,W]),te=re.length,G=function(){J(0),V(o$8.Inactive)},ne=function(oe){return V(oe)};return a$8.useEffect(function(){return he.subscribe("printStatus",ne),function(){he.unsubscribe("printStatus",ne)}},[]),a$8.createElement(a$8.Fragment,null,ue===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:R,store:he}),ue===o$8.Preparing&&(O?O(ae,te,G):a$8.createElement(m$6,{numLoadedPages:ae,numPages:te,onCancel:G})),(ue===o$8.Preparing||ue===o$8.Ready)&&ae<=te&&a$8.createElement(g$4,{doc:R,numLoadedPages:ae,pagesRotation:H,pageSizes:$,printPages:re,printStatus:ue,rotation:B,onCancel:G,onLoad:function(){var oe=ae+1;oe<=te&&(J(oe),oe===te&&V(o$8.Ready))}}))},h$4=function(A){var R=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,$=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:R},$)},E$3=function(A){var R=A.containerRef,H=A.store,$=function(O){if(!O.shiftKey&&!O.altKey&&O.key==="p"&&(e$8.isMac()?O.metaKey:O.ctrlKey)){var B=R.current;B&&document.activeElement&&B.contains(document.activeElement)&&(O.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if(R.current)return document.addEventListener("keydown",$),function(){document.removeEventListener("keydown",$)}},[R.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,H){return H})},print_min.getCustomPagesNumbers=function(A){return function(R){var H,$=[];return A.replace(/\s+/g,"").split(",").forEach(function(O){var B,W,he=O.split("-").map(function(de){return parseInt(de,10)}).filter(function(de){return Number.isInteger(de)});he.length===1?$.push(he[0]-1):he.length===2&&$.push.apply($,(B=he[0]-1,W=he[1]-1,Array(W-B+1).fill(0).map(function(de,ue){return B+ue})))}),(H=$,H.filter(function(O){return H.indexOf(O)===H.lastIndexOf(O)})).filter(function(O){return O>=0&&O<R.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,H){return H}).filter(function(R){return(R+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,H){return H}).filter(function(R){return(R+1)%2==1})},print_min.printPlugin=function(A){var R=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(O){return Array(O.numPages).fill(0).map(function(B,W){return W})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),$=function(O){return a$8.createElement(l$8,c$8({enableShortcuts:R.enableShortcuts},O,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(O){var B=O.slot,W={children:a$8.createElement(a$8.Fragment,null,R.enableShortcuts&&a$8.createElement(E$3,{containerRef:O.containerRef,store:H}),a$8.createElement(v$4,{doc:O.doc,pagesRotation:O.pagesRotation,pageSizes:O.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:O.rotation,setPages:R.setPages,store:H}),B.children)};return c$8(c$8({},B),W)},Print:$,PrintButton:function(){return a$8.createElement($,null,function(O){return a$8.createElement(s$6,c$8({},O))})},PrintMenuItem:function(O){return a$8.createElement($,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),O.onClick()}})})},setPages:function(O){R.setPages=O}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},o$7.apply(this,arguments)},a$7=function(A){var R=A.doc,H=A.render,$=r$7.useState(),O=$[0],B=$[1];return r$7.useEffect(function(){R.getMetadata().then(function(W){return Promise.resolve(W)}).then(function(W){return R.getDownloadInfo().then(function(he){return Promise.resolve({fileName:W.contentDispositionFilename||"",info:W.info,length:he.length})})}).then(function(W){B(W)})},[]),O?H(O):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var R=A.label,H=A.value,$=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":$})},r$7.createElement("dt",{className:"rpv-properties__item-label"},R,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,R,H,$){var O=parseInt(A,10);return O>=R&&O<=H?O:$},p$4=function(A){var R=A.doc,H=A.fileName,$=A.onToggle,O=r$7.useContext(e$7.LocalizationContext).l10n,B=function(W){var he=function(de){var ue=l$7.exec(de);if(!ue)return null;var V=parseInt(ue[1],10),fe=c$7(ue[2],1,12,1)-1,ae=c$7(ue[3],1,31,1),J=c$7(ue[4],0,23,0),re=c$7(ue[5],0,59,0),te=c$7(ue[6],0,59,0),G=ue[7]||"Z",ne=c$7(ue[8],0,23,0),oe=c$7(ue[9],0,59,0);switch(G){case"-":J+=ne,re+=oe;break;case"+":J-=ne,re-=oe}return new Date(Date.UTC(V,fe,ae,J,re,te))}(W);return he?"".concat(he.toLocaleDateString(),", ").concat(he.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:R,render:function(W){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileName:"File name",value:W.fileName||(ue=H,V=ue.split("/").pop(),V?V.split("#")[0].split("?")[0]:ue)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.fileSize:"File size",value:(he=W.length,de=Math.floor(Math.log(he)/Math.log(1024)),"".concat((he/Math.pow(1024,de)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][de]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.title:"Title",value:W.info.Title}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.author:"Author",value:W.info.Author}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.subject:"Subject",value:W.info.Subject}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.keywords:"Keywords",value:W.info.Keywords}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creator:"Creator",value:W.info.Creator}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.creationDate:"Creation date",value:B(W.info.CreationDate)}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.modificationDate:"Modification date",value:B(W.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfProducer:"PDF producer",value:W.info.Producer}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pdfVersion:"PDF version",value:W.info.PDFFormatVersion}),r$7.createElement(i$7,{label:O&&O.properties?O.properties.pageCount:"Page count",value:"".concat(R.numPages)})));var he,de,ue,V}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:$},O&&O.properties?O.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var R=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,$=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:$,testId:"properties__button",onClick:R},r$7.createElement(n$7,null)),content:function(){return $},offset:s$5})},m$5=function(A){var R=A.children,H=A.store,$=function(W){var he=r$7.useState(W.get("doc")),de=he[0],ue=he[1],V=function(fe){ue(fe)};return r$7.useEffect(function(){return W.subscribe("doc",V),function(){W.unsubscribe("doc",V)}},[]),{currentDoc:de}}(H).currentDoc,O=H.get("fileName")||"",B=R||function(W){return r$7.createElement(u$7,o$7({},W))};return $?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(W){return B({onClick:W})},content:function(W){return r$7.createElement(p$4,{doc:$,fileName:O,onToggle:W})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var R=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,$=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:R},$)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),R=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:R,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement(R,null,function($){return r$7.createElement(f$5,o$7({},$))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var R=A.direction,H=A.onClick,$=r$6.useContext(t$6.LocalizationContext).l10n,O=$&&$.rotate?$.rotate.rotateBackward:"Rotate counterclockwise",B=$&&$.rotate?$.rotate.rotateForward:"Rotate clockwise",W=R===t$6.RotateDirection.Backward?O:B,he=R===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:W,testId:R===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},he),content:function(){return W},offset:a$6})},u$6=function(A){var R=A.children,H=A.direction,$=A.store;return(R||function(O){return r$6.createElement(i$6,{direction:O.direction,onClick:O.onClick})})({direction:H,onClick:function(){var O=$.get("rotate");O&&O(H)}})},l$6=function(A){var R=A.direction,H=A.onClick,$=r$6.useContext(t$6.LocalizationContext).l10n,O=$&&$.rotate?$.rotate.rotateBackward:"Rotate counterclockwise",B=$&&$.rotate?$.rotate.rotateForward:"Rotate clockwise",W=R===t$6.RotateDirection.Backward?O:B,he=R===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:he,testId:R===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},W)},d$5=function(A){var R=A.children,H=A.store;return R({onRotatePage:function($,O){var B=H.get("rotatePage");B&&B($,O)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),R=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:R,RotateBackwardButton:function(){return r$6.createElement(R,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement(R,{direction:t$6.RotateDirection.Backward},function($){return r$6.createElement(l$6,{direction:$.direction,onClick:function(){$.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement(R,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement(R,{direction:t$6.RotateDirection.Forward},function($){return r$6.createElement(l$6,{direction:$.direction,onClick:function(){$.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},i$5.apply(this,arguments)},a$5=function(A,R){A.get("switchScrollMode")(R);var H=A.get("viewMode");R!==e$5.ScrollMode.Horizontal&&R!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var R=A.children,H=A.mode,$=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",W=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=O&&O.scrollMode?O.scrollMode.horizontalScrolling:"Horizontal scrolling",W=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=O&&O.scrollMode?O.scrollMode.pageScrolling:"Page scrolling",W=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=O&&O.scrollMode?O.scrollMode.wrappedScrolling:"Wrapped scrolling",W=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=O&&O.scrollMode?O.scrollMode.verticalScrolling:"Vertical scrolling",W=t$5.createElement(d$4,null)}return R({icon:W,label:B,onClick:$})},m$4={left:0,top:8},M$2=function(A){var R=A.isDisabled,H=A.isSelected,$=A.mode,O=A.onClick,B="";switch($){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:$,onClick:O},function(W){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:W.label,isDisabled:R,isSelected:H,testId:B,onClick:W.onClick},W.icon),content:function(){return W.label},offset:m$4})})},f$4=function(A){var R=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=R[0],$=R[1],O=function(B){$(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",O),function(){A.unsubscribe("scrollMode",O)}},[]),{scrollMode:H}},w$1=function(A){var R=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=R[0],$=R[1],O=function(B){$(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",O),function(){A.unsubscribe("viewMode",O)}},[]),{viewMode:H}},S$3=function(A){var R=A.children,H=A.mode,$=A.store,O=w$1($).viewMode,B=f$4($).scrollMode===H,W=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&O!==e$5.ViewMode.SinglePage;return(R||function(he){return t$5.createElement(M$2,{isDisabled:W,isSelected:B,mode:he.mode,onClick:he.onClick})})({isDisabled:W,isSelected:B,mode:H,onClick:function(){a$5($,H)}})},g$3=function(A){var R=A.isDisabled,H=A.isSelected,$=A.mode,O=A.onClick,B="";switch($){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:$,onClick:O},function(W){return t$5.createElement(e$5.MenuItem,{checked:H,icon:W.icon,isDisabled:R,testId:B,onClick:W.onClick},W.label)})},h$3=function(A,R){A.get("switchViewMode")(R);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||R===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var R=A.children,H=A.mode,$=A.onClick,O=t$5.useContext(e$5.LocalizationContext).l10n,B="",W=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=O&&O.scrollMode?O.scrollMode.dualPage:"Dual page",W=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=O&&O.scrollMode?O.scrollMode.dualPageCover:"Dual page with cover",W=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=O&&O.scrollMode?O.scrollMode.singlePage:"Single page",W=t$5.createElement(r$5,null)}return R({icon:W,label:B,onClick:$})},p$3={left:0,top:8},v$3=function(A){var R=A.isDisabled,H=A.isSelected,$=A.mode,O=A.onClick,B="";switch($){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:$,onClick:O},function(W){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:W.label,isDisabled:R,isSelected:H,testId:B,onClick:W.onClick},W.icon),content:function(){return W.label},offset:p$3})})},k$2=function(A){var R=A.children,H=A.mode,$=A.store,O=w$1($).viewMode,B=f$4($).scrollMode,W=O===H,he=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return(R||function(de){return t$5.createElement(v$3,{isDisabled:he,isSelected:W,mode:de.mode,onClick:de.onClick})})({isDisabled:he,isSelected:W,mode:H,onClick:function(){h$3($,H)}})},C$2=function(A){var R=A.isDisabled,H=A.isSelected,$=A.mode,O=A.onClick,B="";switch($){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:$,onClick:O},function(W){return t$5.createElement(e$5.MenuItem,{checked:H,icon:W.icon,isDisabled:R,testId:B,onClick:W.onClick},W.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),R=function($){return t$5.createElement(S$3,i$5({},$,{store:A}))},H=function($){return t$5.createElement(k$2,i$5({},$,{store:A}))};return{install:function($){A.update("switchScrollMode",$.switchScrollMode),A.update("switchViewMode",$.switchViewMode)},onViewerStateChange:function($){return A.update("scrollMode",$.scrollMode),A.update("viewMode",$.viewMode),$},switchScrollMode:function($){a$5(A,$)},switchViewMode:function($){h$3(A,$)},SwitchScrollMode:R,SwitchScrollModeButton:function($){return t$5.createElement(R,{mode:$.mode},function(O){return t$5.createElement(M$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchScrollModeMenuItem:function($){return t$5.createElement(R,{mode:$.mode},function(O){return t$5.createElement(g$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),$.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function($){return t$5.createElement(H,{mode:$.mode},function(O){return t$5.createElement(v$3,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick()}})})},SwitchViewModeMenuItem:function($){return t$5.createElement(H,{mode:$.mode},function(O){return t$5.createElement(C$2,{isDisabled:O.isDisabled,isSelected:O.isSelected,mode:O.mode,onClick:function(){O.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var R=A.index,H=A.area,$=A.onHighlightKeyword,O=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=O.current;$&&B&&$({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":R,ref:O,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var R=A.parentNode;R&&R.removeChild(A)},h$2=function(A){var R=A.parentNode;if(R){var H=document.createRange();H.selectNodeContents(A),function($,O){l$4($);var B=O.parentNode;B&&B.insertBefore($,O),l$4(O)}(H.extractContents(),A),R.normalize()}},d$3=function(A,R){return A.top<R.top?-1:A.top>R.top?1:A.left<R.left?-1:A.left>R.left?1:0},f$3=function(A){var R=A.numPages,H=A.pageIndex,$=A.renderHighlights,O=A.store,B=A.onHighlightKeyword,W=r$4.useRef(),he=r$4.useCallback(function(Oe){return r$4.createElement(r$4.Fragment,null,Oe.highlightAreas.map(function(Re,Ne){return r$4.createElement(s$3,{index:Ne,key:Ne,area:Re,onHighlightKeyword:B})}))},[]),de=$||he,ue=r$4.useState(O.get("matchPosition")),V=ue[0],fe=ue[1],ae=r$4.useState(O.get("keyword")||[u$4]),J=ae[0],re=ae[1],te=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),G=te[0],ne=te[1],oe=r$4.useRef(null),me=r$4.useRef([]),pe=r$4.useState([]),Q=pe[0],le=pe[1],ie=function(){return!0},se=r$4.useCallback(function(){return O.get("targetPageFilter")||ie},[O.get("targetPageFilter")]),ce=function(Oe){var Re=me.current;if(Re.length===0)return[];var Ne=[],Fe=[].slice.call(Oe.querySelectorAll(".rpv-core__text-layer-text")),qe=Re.map(function(Ee){return Ee.char}).join("");return J.forEach(function(Ee){var Te=Ee.keyword;if(Te.trim()){for(var Be,ye=Ee.regExp.flags.indexOf("g")===-1?new RegExp(Ee.regExp,"".concat(Ee.regExp.flags,"g")):Ee.regExp,q=[];(Be=ye.exec(qe))!==null;)q.push({keyword:ye,startIndex:Be.index,endIndex:ye.lastIndex});q.map(function(Y){return{keyword:Y.keyword,indexes:Re.slice(Y.startIndex,Y.endIndex)}}).forEach(function(Y){var ve=Y.indexes.reduce(function(Me,xe){return Me[xe.spanIndex]=(Me[xe.spanIndex]||[]).concat([xe]),Me},{});Object.values(ve).forEach(function(Me){if(Me.length!==1||Me[0].char.trim()!==""){var xe=Ee.wholeWords?Me.slice(1,-1):Me,Pe=function(Le,Qe,st,ct,dt){var ht=document.createRange(),gt=ct.firstChild;if(!gt||gt.nodeType!==Node.TEXT_NODE)return null;var Ke=gt.textContent.length,Xe=dt[0].charIndexInSpan,_e=dt.length===1?Xe:dt[dt.length-1].charIndexInSpan;if(Xe>Ke||_e+1>Ke)return null;ht.setStart(gt,Xe),ht.setEnd(gt,_e+1);var we=document.createElement("span");ht.surroundContents(we);var He=we.getBoundingClientRect(),Ye=st.getBoundingClientRect(),rt=Ye.height,mt=Ye.width,ft=100*(He.left-Ye.left)/mt,We=100*(He.top-Ye.top)/rt,xt=100*He.height/rt,wt=100*He.width/mt;return h$2(we),{keyword:Qe,keywordStr:Le,numPages:R,pageIndex:H,left:ft,top:We,height:xt,width:wt,pageHeight:rt,pageWidth:mt}}(Te,Y.keyword,Oe,Fe[xe[0].spanIndex],xe);Pe&&Ne.push(Pe)}})})}}),Ne.sort(d$3)},Se=function(Oe){Oe&&Oe.length>0&&re(Oe)},ee=function(Oe){return fe(Oe)},ge=function(Oe){if(Oe.has(H)){var Re=Oe.get(H);Re&&ne({ele:Re.ele,pageIndex:H,scale:Re.scale,status:Re.status})}},Ae=function(){return J.length===0||J.length===1&&J[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Ae()&&G.status===e$4.LayerRenderStatus.DidRender&&!me.current.length){var Oe=G.ele,Re=[].slice.call(Oe.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ne){return Ne.textContent}).reduce(function(Ne,Fe,qe){return Ne.concat(Fe.split("").map(function(Ee,Te){return{char:Ee,charIndexInSpan:Te,spanIndex:qe}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);me.current=Re}},[J,G.status]),r$4.useEffect(function(){if(!Ae()&&G.ele&&G.status===e$4.LayerRenderStatus.DidRender&&se()({pageIndex:H,numPages:R})){var Oe=G.ele,Re=ce(Oe);le(Re)}},[J,V,G.status,me.current]),r$4.useEffect(function(){Ae()&&G.ele&&G.status===e$4.LayerRenderStatus.DidRender&&le([])},[J,G.status]),r$4.useEffect(function(){if(Q.length!==0){var Oe=W.current;if(V.pageIndex===H&&Oe&&G.status===e$4.LayerRenderStatus.DidRender){var Re=Oe.querySelector('.rpv-search__highlight[data-index="'.concat(V.matchIndex,'"]'));if(Re){var Ne=function(Te,Be){for(var ye=Te.offsetTop,q=Te.offsetLeft,Y=Te.parentElement;Y&&Y!==Be;)ye+=Y.offsetTop,q+=Y.offsetLeft,Y=Y.parentElement;return{left:q,top:ye}}(Re,Oe),Fe=Ne.left,qe=Ne.top,Ee=O.get("jumpToDestination");Ee&&(Ee({pageIndex:H,bottomOffset:(Oe.getBoundingClientRect().height-qe)/G.scale,leftOffset:Fe/G.scale,scaleTo:G.scale}),oe.current&&oe.current.classList.remove("rpv-search__highlight--current"),oe.current=Re,Re.classList.add("rpv-search__highlight--current"))}}}},[Q,V]),r$4.useEffect(function(){return O.subscribe("keyword",Se),O.subscribe("matchPosition",ee),O.subscribe("renderStatus",ge),function(){O.unsubscribe("keyword",Se),O.unsubscribe("matchPosition",ee),O.unsubscribe("renderStatus",ge)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:W},de({getCssProperties:i$4,highlightAreas:Q}))},p$2=function(A){var R,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,$=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp((R=H,R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),$),wholeWords:A.wholeWords||!1}},g$2=function(A,R,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:R||!1,wholeWords:H||!1}):(R!==void 0&&(A.matchCase=R),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var R,H=A.get("initialKeyword"),$=r$4.useMemo(function(){if(H&&H.length===1){var ee=g$2(H[0]);return{matchCase:ee.regExp.flags.indexOf("i")===-1,wholeWords:ee.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),O=function(ee){var ge=r$4.useRef(ee.get("doc")),Ae=function(Oe){ge.current=Oe};return r$4.useEffect(function(){return ee.subscribe("doc",Ae),function(){ee.unsubscribe("doc",Ae)}},[]),ge}(A),B=r$4.useState(H),W=B[0],he=B[1],de=r$4.useState([]),ue=de[0],V=de[1],fe=r$4.useState(0),ae=fe[0],J=fe[1],re=r$4.useState($.matchCase),te=re[0],G=re[1],ne=r$4.useRef([]),oe=r$4.useState($.wholeWords),me=oe[0],pe=oe[1],Q=function(){return!0},le=r$4.useCallback(function(){return A.get("targetPageFilter")||Q},[A.get("targetPageFilter")]),ie=function(ee){var ge=ue.length;if(W.length===0||ge===0)return null;var Ae=ee===ge+1?1:Math.max(1,Math.min(ge,ee));return J(Ae),ce(ue[Ae-1])},se=function(ee){return he(ee===""?[]:[ee])},ce=function(ee){var ge=A.get("jumpToPage");return ge&&ge(ee.pageIndex),A.update("matchPosition",{matchIndex:ee.matchIndex,pageIndex:ee.pageIndex}),ee},Se=function(ee,ge,Ae){var Oe=O.current;if(!Oe)return Promise.resolve([]);var Re=Oe.numPages,Ne=ee.map(function(Fe){return g$2(Fe,ge,Ae)});return A.update("keyword",Ne),J(0),V([]),new Promise(function(Fe,qe){var Ee=ne.current.length===0?function(){var Te=O.current;if(!Te)return Promise.resolve([]);var Be=Array(Te.numPages).fill(0).map(function(ye,q){return e$4.getPage(Te,q).then(function(Y){return Y.getTextContent()}).then(function(Y){var ve=Y.items.map(function(Me){return Me.str||""}).join("");return Promise.resolve({pageContent:ve,pageIndex:q})})});return Promise.all(Be).then(function(ye){return ye.sort(function(q,Y){return q.pageIndex-Y.pageIndex}),Promise.resolve(ye.map(function(q){return q.pageContent}))})}().then(function(Te){return ne.current=Te,Promise.resolve(Te)}):Promise.resolve(ne.current);Ee.then(function(Te){var Be=[];Te.forEach(function(ye,q){le()({pageIndex:q,numPages:Re})&&Ne.forEach(function(Y){for(var ve,Me=0;(ve=Y.regExp.exec(ye))!==null;)Be.push({keyword:Y.regExp,matchIndex:Me,pageIndex:q,pageText:ye,startIndex:ve.index,endIndex:Y.regExp.lastIndex}),Me++})}),V(Be),Be.length>0&&(J(1),ce(Be[0])),Fe(Be)})})};return r$4.useEffect(function(){ne.current=[]},[O.current]),{clearKeyword:function(){A.update("keyword",[u$4]),se(""),J(0),V([]),G(!1),pe(!1)},changeMatchCase:function(ee){G(ee),W.length>0&&Se(W,ee,me)},changeWholeWords:function(ee){pe(ee),W.length>0&&Se(W,te,ee)},currentMatch:ae,jumpToMatch:ie,jumpToNextMatch:function(){return ie(ae+1)},jumpToPreviousMatch:function(){return ie(ae-1)},keywords:W,matchCase:te,numberOfMatches:ue.length,wholeWords:me,search:function(){return Se(W,te,me)},searchFor:Se,setKeywords:he,keyword:W.length===0?"":(R=W[0],R instanceof RegExp?R.source:typeof R=="string"?R:R.keyword),setKeyword:se,setTargetPages:function(ee){A.update("targetPageFilter",ee)}}},v$2=function(A){var R=A.children,H=A.store,$=m$3(H),O=r$4.useState(!1),B=O[0],W=O[1],he=function(de){return W(!0)};return r$4.useEffect(function(){return H.subscribe("doc",he),function(){H.unsubscribe("doc",he)}},[]),R(c$4(c$4({},$),{isDocumentLoaded:B}))},x=function(A){var R=A.containerRef,H=A.store,$=r$4.useRef(!1),O=function(){$.current=!0},B=function(){$.current=!1},W=function(he){var de=R.current;de&&(he.shiftKey||he.altKey||he.key!=="f"||(e$4.isMac()?he.metaKey&&!he.ctrlKey:he.ctrlKey)&&($.current||document.activeElement&&de.contains(document.activeElement))&&(he.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var he=R.current;if(he)return document.addEventListener("keydown",W),he.addEventListener("mouseenter",O),he.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",W),he.removeEventListener("mouseenter",O),he.removeEventListener("mouseleave",B)}},[R.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var R=A.store,H=A.onToggle,$=r$4.useContext(e$4.LocalizationContext).l10n,O=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),W=B[0],he=B[1],de=r$4.useState(!1),ue=de[0],V=de[1],fe=O===e$4.TextDirection.RightToLeft,ae=m$3(R),J=ae.clearKeyword,re=ae.changeMatchCase,te=ae.changeWholeWords,G=ae.currentMatch,ne=ae.jumpToNextMatch,oe=ae.jumpToPreviousMatch,me=ae.keyword,pe=ae.matchCase,Q=ae.numberOfMatches,le=ae.wholeWords,ie=ae.search,se=ae.setKeyword,ce=function(Oe){he(!0),ie().then(function(Re){he(!1),V(!0),Oe&&Oe()})};r$4.useEffect(function(){var Oe=R.get("initialKeyword");Oe&&Oe.length===1&&me&&ce(function(){R.update("initialKeyword",[])})},[]);var Se=$&&$.search?$.search.enterToSearch:"Enter to search",ee=$&&$.search?$.search.previousMatch:"Previous match",ge=$&&$.search?$.search.nextMatch:"Next match",Ae=$&&$.search?$.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Se,autoFocus:!0,placeholder:Se,type:"text",value:me,onChange:function(Oe){V(!1),se(Oe)},onKeyDown:function(Oe){Oe.key==="Enter"&&me&&(ue?ne():ce())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!fe,"rpv-search__popover-counter--rtl":fe})},W&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!W&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},G,"/",Q))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:pe,type:"checkbox",onChange:function(Oe){V(!1),re(Oe.target.checked)}})," ",$&&$.search?$.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:le,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Oe){V(!1),te(Oe.target.checked)}})," ",$&&$.search?$.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:fe?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ee,isDisabled:G<=1,onClick:oe},r$4.createElement(o$4,null)),content:function(){return ee},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ge,isDisabled:G>Q-1,onClick:ne},r$4.createElement(n$4,null)),content:function(){return ge},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!fe,"rpv-search__popover-footer-button--rtl":fe})},r$4.createElement(e$4.Button,{onClick:function(){H(),J()}},Ae))))},w=function(A){var R=A.children,H=A.onClick,$=r$4.useContext(e$4.LocalizationContext).l10n,O=$&&$.search?$.search.search:"Search";return R({icon:r$4.createElement(a$4,null),label:O,onClick:H})},b$2={left:0,top:8},k$1=function(A){var R=A.enableShortcuts,H=A.store,$=A.onClick,O=R?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(W){W&&$()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:$},function(W){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:O,ariaLabel:W.label,testId:"search__popover-button",onClick:$},W.icon),content:function(){return W.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var R=A.children,H=A.enableShortcuts,$=A.store,O=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=R||function(W){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:$},W))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:O,target:function(W){return B({onClick:W})},content:function(W){return r$4.createElement(E$2,{store:$,onToggle:W})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function(R){return g$2(R)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var R=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),$=m$3(H),O=$.clearKeyword,B=$.jumpToMatch,W=$.jumpToNextMatch,he=$.jumpToPreviousMatch,de=$.searchFor,ue=$.setKeywords,V=$.setTargetPages,fe=function(ae){return r$4.createElement(C$1,c$4({enableShortcuts:R.enableShortcuts},ae,{store:H}))};return{install:function(ae){var J=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],re=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",J),H.update("jumpToDestination",ae.jumpToDestination),H.update("jumpToPage",ae.jumpToPage),H.update("keyword",re)},renderPageLayer:function(ae){return r$4.createElement(f$3,{key:ae.pageIndex,numPages:ae.doc.numPages,pageIndex:ae.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:R.onHighlightKeyword})},renderViewer:function(ae){var J=ae.slot;return J.subSlot&&(J.subSlot.children=r$4.createElement(r$4.Fragment,null,R.enableShortcuts&&r$4.createElement(x,{containerRef:ae.containerRef,store:H}),J.subSlot.children)),J},uninstall:function(ae){var J=H.get("renderStatus");J&&J.clear()},onDocumentLoad:function(ae){H.update("doc",ae.doc)},onTextLayerRender:function(ae){var J=H.get("renderStatus");J&&(J=J.set(ae.pageIndex,ae),H.update("renderStatus",J))},Search:function(ae){return r$4.createElement(v$2,c$4({},ae,{store:H}))},ShowSearchPopover:fe,ShowSearchPopoverButton:function(){return r$4.createElement(fe,null,function(ae){return r$4.createElement(k$1,c$4({enableShortcuts:R.enableShortcuts,store:H},ae))})},clearHighlights:function(){O()},highlight:function(ae){var J=Array.isArray(ae)?ae:[ae];return ue(J),de(J)},jumpToMatch:B,jumpToNextMatch:W,jumpToPreviousMatch:he,setTargetPages:V}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var R=A.onClick,H=n$3.useContext(e$3.ThemeContext),$=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=$&&$.theme?O?$.theme.switchLightTheme:$.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:R},O?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var R=A.children,H=n$3.useContext(e$3.ThemeContext);return(R||function($){return n$3.createElement(i$3,{onClick:$.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var R=A.onClick,H=n$3.useContext(e$3.ThemeContext),$=n$3.useContext(e$3.LocalizationContext).l10n,O=H.currentTheme==="dark",B=$&&$.theme?O?$.theme.switchLightTheme:$.theme.switchDarkTheme:O?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:O?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:R},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function(R){return n$3.createElement(l$3,o$3({},R))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function(R){return n$3.createElement(i$3,o$3({},R))})},SwitchThemeMenuItem:function(R){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},c$2.apply(this,arguments)},a$2=function(A){var R=n$2.useState(A.get("scale")||0),H=R[0],$=R[1],O=function(B){$(B)};return n$2.useEffect(function(){return A.subscribe("scale",O),function(){A.unsubscribe("scale",O)}},[]),{scale:H}},u$2=function(A){var R=A.children,H=A.store;return(R||function($){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*$.scale),"%"))})({scale:a$2(H).scale})},l$2={passive:!1},i$2=null,s$2=function(A){var R=A.pagesContainerRef,H=A.store,$=e$2.useDebounceCallback(function(B){var W=H.get("zoom");W&&W(B)},40),O=function(B){if(B.ctrlKey){B.preventDefault();var W=B.target.getBoundingClientRect(),he=1-B.deltaY/100,de=B.clientX-W.left,ue=B.clientY-W.top,V=H.get("scale"),fe=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(de,ue).scale(he).translate(-de,-ue).scale(V);$(fe.a)}};return e$2.useIsomorphicLayoutEffect(function(){var B=R.current;if(B)return B.addEventListener("wheel",O,l$2),function(){B.removeEventListener("wheel",O)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(A){return m$2.find(function(R){return R>A})||A},v$1=function(A){var R=m$2.findIndex(function(H){return H>=A});return R===-1||R===0?A:m$2[R-1]},p$1=function(A){var R=A.containerRef,H=A.store,$=function(O){if(!O.shiftKey&&!O.altKey&&(e$2.isMac()?O.metaKey:O.ctrlKey)){var B=R.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var W=H.get("zoom");if(W){var he=H.get("scale")||1,de=1;switch(O.key){case"-":de=v$1(he);break;case"=":de=f$2(he);break;case"0":de=1;break;default:de=he}de!==he&&(O.preventDefault(),W(de))}}}};return n$2.useEffect(function(){if(R.current)return document.addEventListener("keydown",$),function(){document.removeEventListener("keydown",$)}},[R.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(A){var R=A.levels,H=R===void 0?z:R,$=A.scale,O=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,W=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,he=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(de){return n$2.createElement(e$2.MinimalButton,{ariaLabel:he,testId:"zoom__popover-target",onClick:function(){de()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!W,"rpv-zoom__popover-target-scale--rtl":W})},Math.round(100*$),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(de){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ue){var V=ue;return n$2.createElement(e$2.MenuItem,{key:V,onClick:function(){de(),O(V)}},function(fe){switch(fe){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(V))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(ue){return n$2.createElement(e$2.MenuItem,{key:ue,onClick:function(){de(),O(ue)}},"".concat(Math.round(100*ue),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var R=A.children,H=A.levels,$=A.store;return(R||function(O){return n$2.createElement(d$2,{levels:H,scale:O.scale,onZoom:O.onZoom})})({scale:a$2($).scale,onZoom:function(O){var B=$.get("zoom");B&&B(O)}})},C={left:0,top:8},h$1=function(A){var R=A.enableShortcuts,H=A.onClick,$=n$2.useContext(e$2.LocalizationContext).l10n,O=$&&$.zoom?$.zoom.zoomIn:"Zoom in",B=R?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return O},offset:C})},b$1=function(A){var R=A.children,H=A.enableShortcuts,$=A.store,O=a$2($).scale;return(R||h$1)({enableShortcuts:H,onClick:function(){var B=$.get("zoom");B&&B(f$2(O))}})},k=function(A){var R=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,$=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:R},$)},S$1={left:0,top:8},M$1=function(A){var R=A.enableShortcuts,H=A.onClick,$=n$2.useContext(e$2.LocalizationContext).l10n,O=$&&$.zoom?$.zoom.zoomOut:"Zoom out",B=R?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:O,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return O},offset:S$1})},I$1=function(A){var R=A.children,H=A.enableShortcuts,$=A.store,O=a$2($).scale;return(R||M$1)({enableShortcuts:H,onClick:function(){var B=$.get("zoom");B&&B(v$1(O))}})},Z=function(A){var R=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,$=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:R},$)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var R=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),$=function(W){return n$2.createElement(b$1,c$2({enableShortcuts:R.enableShortcuts},W,{store:H}))},O=function(W){return n$2.createElement(I$1,c$2({enableShortcuts:R.enableShortcuts},W,{store:H}))},B=function(W){return n$2.createElement(g$1,c$2({},W,{store:H}))};return{renderViewer:function(W){var he=W.slot;if(!R.enableShortcuts)return he;var de={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:W.containerRef,store:H}),n$2.createElement(s$2,{pagesContainerRef:W.pagesContainerRef,store:H}),he.children)};return c$2(c$2({},he),de)},install:function(W){H.update("zoom",W.zoom)},onViewerStateChange:function(W){return H.update("scale",W.scale),W},zoomTo:function(W){var he=H.get("zoom");he&&he(W)},CurrentScale:function(W){return n$2.createElement(u$2,c$2({},W,{store:H}))},ZoomIn:$,ZoomInButton:function(){return n$2.createElement($,null,function(W){return n$2.createElement(h$1,c$2({},W))})},ZoomInMenuItem:function(W){return n$2.createElement($,null,function(he){return n$2.createElement(k,{onClick:function(){he.onClick(),W.onClick()}})})},ZoomOut:O,ZoomOutButton:function(){return n$2.createElement(O,null,function(W){return n$2.createElement(M$1,c$2({},W))})},ZoomOutMenuItem:function(W){return n$2.createElement(O,null,function(he){return n$2.createElement(Z,{onClick:function(){he.onClick(),W.onClick()}})})},Zoom:B,ZoomPopover:function(W){return n$2.createElement(B,null,function(he){return n$2.createElement(d$2,c$2({levels:W==null?void 0:W.levels},he))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=reactExports,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var R=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,$=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,O=R.DownloadMenuItem,B=R.EnterFullScreenMenuItem,W=R.GoToFirstPageMenuItem,he=R.GoToLastPageMenuItem,de=R.GoToNextPageMenuItem,ue=R.GoToPreviousPageMenuItem,V=R.OpenMenuItem,fe=R.PrintMenuItem,ae=R.RotateBackwardMenuItem,J=R.RotateForwardMenuItem,re=R.ShowPropertiesMenuItem,te=R.SwitchScrollModeMenuItem,G=R.SwitchSelectionModeMenuItem,ne=R.SwitchViewModeMenuItem,oe=R.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:$,target:function(me,pe){var Q=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:$,target:_.createElement(e$1.MinimalButton,{ariaLabel:Q,isSelected:pe,testId:"toolbar__more-actions-popover-target",onClick:me},_.createElement(E,null)),content:function(){return Q},offset:g})},content:function(me){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(oe,{onClick:me})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:me})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(V,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(fe,{onClick:me})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(O,{onClick:me})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(W,{onClick:me}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ue,{onClick:me})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:me})),_.createElement(he,{onClick:me}),_.createElement(e$1.MenuDivider,null),_.createElement(J,{onClick:me}),_.createElement(ae,{onClick:me}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:t$1.SelectionMode.Text,onClick:me}),_.createElement(G,{mode:t$1.SelectionMode.Hand,onClick:me}),_.createElement(e$1.MenuDivider,null),_.createElement(te,{mode:e$1.ScrollMode.Page,onClick:me}),_.createElement(te,{mode:e$1.ScrollMode.Vertical,onClick:me}),_.createElement(te,{mode:e$1.ScrollMode.Horizontal,onClick:me}),_.createElement(te,{mode:e$1.ScrollMode.Wrapped,onClick:me}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.SinglePage,onClick:me})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPage,onClick:me})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPageWithCover,onClick:me})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(re,{onClick:me}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},M.apply(this,arguments)},h=function(A){return function(R){var H=_.useMemo(function(){return A(R)},[]),$=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,O=H.CurrentPageInput,B=H.Download,W=H.EnterFullScreen,he=H.GoToNextPage,de=H.GoToPreviousPage,ue=H.NumberOfPages,V=H.Open,fe=H.Print,ae=H.ShowSearchPopover,J=H.SwitchTheme,re=H.Zoom,te=H.ZoomIn,G=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":$}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ae,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(de,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(O,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ue,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(he,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(W,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(V,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var R=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(R,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var R=A.children,H=A.slot;return(R||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var R=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),$=a$1.openPlugin(A?A.openPlugin:{}),O=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),W=c$1.propertiesPlugin(),he=m$1.rotatePlugin(),de=u$1.scrollModePlugin(),ue=s$1.searchPlugin(A?A.searchPlugin:{}),V=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),fe=d$1.themePlugin(),ae=p.zoomPlugin(A?A.zoomPlugin:{}),J=[R,H,$,O,B,W,he,de,ue,V,fe,ae],re=_.useCallback(function(te){var G=R.EnterFullScreen,ne=R.EnterFullScreenMenuItem,oe=H.Download,me=H.DownloadMenuItem,pe=$.Open,Q=$.OpenMenuItem,le=O.CurrentPageInput,ie=O.CurrentPageLabel,se=O.GoToFirstPage,ce=O.GoToFirstPageMenuItem,Se=O.GoToLastPage,ee=O.GoToLastPageMenuItem,ge=O.GoToNextPage,Ae=O.GoToNextPageMenuItem,Oe=O.GoToPreviousPage,Re=O.GoToPreviousPageMenuItem,Ne=O.NumberOfPages,Fe=B.Print,qe=B.PrintMenuItem,Ee=W.ShowProperties,Te=W.ShowPropertiesMenuItem,Be=he.Rotate,ye=he.RotateBackwardMenuItem,q=he.RotateForwardMenuItem,Y=de.SwitchScrollMode,ve=de.SwitchScrollModeMenuItem,Me=de.SwitchViewMode,xe=de.SwitchViewModeMenuItem,Pe=ue.Search,Le=ue.ShowSearchPopover,Qe=V.SwitchSelectionMode,st=V.SwitchSelectionModeMenuItem,ct=fe.SwitchTheme,dt=fe.SwitchThemeMenuItem,ht=ae.CurrentScale,gt=ae.Zoom,Ke=ae.ZoomIn,Xe=ae.ZoomInMenuItem,_e=ae.ZoomOut,we=ae.ZoomOutMenuItem;return _.createElement(I,M({},te,{slot:{CurrentPageInput:le,CurrentPageLabel:ie,CurrentScale:ht,Download:oe,DownloadMenuItem:me,EnterFullScreen:G,EnterFullScreenMenuItem:ne,GoToFirstPage:se,GoToFirstPageMenuItem:ce,GoToLastPage:Se,GoToLastPageMenuItem:ee,GoToNextPage:ge,GoToNextPageMenuItem:Ae,GoToPreviousPage:Oe,GoToPreviousPageMenuItem:Re,NumberOfPages:Ne,Open:pe,OpenMenuItem:Q,Print:Fe,PrintMenuItem:qe,Rotate:Be,RotateBackwardMenuItem:ye,RotateForwardMenuItem:q,Search:Pe,ShowProperties:Ee,ShowPropertiesMenuItem:Te,ShowSearchPopover:Le,SwitchScrollMode:Y,SwitchScrollModeMenuItem:ve,SwitchSelectionMode:Qe,SwitchSelectionModeMenuItem:st,SwitchViewMode:Me,SwitchViewModeMenuItem:xe,SwitchTheme:ct,SwitchThemeMenuItem:dt,Zoom:gt,ZoomIn:Ke,ZoomInMenuItem:Xe,ZoomOut:_e,ZoomOutMenuItem:we}}))},[]);return{fullScreenPluginInstance:R,getFilePluginInstance:H,openPluginInstance:$,pageNavigationPluginInstance:O,printPluginInstance:B,propertiesPluginInstance:W,rotatePluginInstance:he,scrollModePluginInstance:de,searchPluginInstance:ue,selectionModePluginInstance:V,themePluginInstance:fe,zoomPluginInstance:ae,install:function(te){J.forEach(function(G){G.install&&G.install(te)})},renderPageLayer:function(te){return _.createElement(_.Fragment,null,J.map(function(G,ne){return G.renderPageLayer?_.createElement(_.Fragment,{key:ne},G.renderPageLayer(te)):_.createElement(_.Fragment,{key:ne})}))},renderViewer:function(te){var G=te.slot;return J.forEach(function(ne){ne.renderViewer&&(G=ne.renderViewer(M(M({},te),{slot:G})))}),G},uninstall:function(te){J.forEach(function(G){G.uninstall&&G.uninstall(te)})},onDocumentLoad:function(te){J.forEach(function(G){G.onDocumentLoad&&G.onDocumentLoad(te)})},onAnnotationLayerRender:function(te){J.forEach(function(G){G.onAnnotationLayerRender&&G.onAnnotationLayerRender(te)})},onTextLayerRender:function(te){J.forEach(function(G){G.onTextLayerRender&&G.onTextLayerRender(te)})},onViewerStateChange:function(te){var G=te;return J.forEach(function(ne){ne.onViewerStateChange&&(G=ne.onViewerStateChange(G))}),G},renderDefaultToolbar:h,Toolbar:re}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=reactExports,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var $=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty(R,H,$.get?$:{enumerable:!0,get:function(){return A[H]}})}}),R.default=A,Object.freeze(R)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var R,H=1,$=arguments.length;H<$;H++)for(var O in R=arguments[H])Object.prototype.hasOwnProperty.call(R,O)&&(A[O]=R[O]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var R=A.attachmentTabContent,H=A.bookmarkTabContent,$=A.store,O=A.thumbnailTabContent,B=A.tabs,W=u.useRef(),he=u.useContext(e.LocalizationContext).l10n,de=u.useState($.get("isCurrentTabOpened")||!1),ue=de[0],V=de[1],fe=u.useState(Math.max($.get("currentTab")||0,0)),ae=fe[0],J=fe[1],re=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,te=[{content:O,icon:u.createElement(d,null),title:he&&he.defaultLayout?he.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:he&&he.defaultLayout?he.defaultLayout.bookmark:"Bookmark"},{content:R,icon:u.createElement(s,null),title:he&&he.defaultLayout?he.defaultLayout.attachment:"Attachment"}],G=B?B(te):te,ne=function(me){me>=0&&me<=G.length-1&&($.update("isCurrentTabOpened",!0),J(me))},oe=function(me){V(me)};return u.useEffect(function(){return $.subscribe("currentTab",ne),$.subscribe("isCurrentTabOpened",oe),function(){$.unsubscribe("currentTab",ne),$.unsubscribe("isCurrentTabOpened",oe)}},[]),G.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ue,"rpv-default-layout__sidebar--ltr":!re,"rpv-default-layout__sidebar--rtl":re}),ref:W},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},G.map(function(me,pe){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ae===pe,key:pe,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(pe),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(pe),position:re?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:me.title,isSelected:ae===pe,onClick:function(){return function(Q){if(ae===Q){$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened"));var le=W.current;le&&le.style.width&&le.style.removeProperty("width")}else $.update("currentTab",Q)}(pe)}},me.icon),content:function(){return me.title},offset:re?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ae),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ue,"rpv-default-layout__sidebar-content--ltr":!re,"rpv-default-layout__sidebar-content--rtl":re}),role:"tabpanel",tabIndex:-1},G[ae].content))),ue&&u.createElement(e.Splitter,{constrain:function(me){return me.firstHalfPercentage>=20&&me.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var R=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),$=a.bookmarkPlugin(),O=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),W=H.Attachments,he=$.Bookmarks,de=O.Thumbnails,ue=B.Toolbar,V=A?A.sidebarTabs:function(ae){return ae},fe=[H,$,O,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:$,thumbnailPluginInstance:O,toolbarPluginInstance:B,activateTab:function(ae){R.update("currentTab",ae)},toggleTab:function(ae){var J=R.get("currentTab");R.update("isCurrentTabOpened",!R.get("isCurrentTabOpened")),J!==ae&&R.update("currentTab",ae)},install:function(ae){fe.forEach(function(J){J.install&&J.install(ae)})},renderPageLayer:function(ae){return u.createElement(u.Fragment,null,fe.map(function(J,re){return J.renderPageLayer?u.createElement(u.Fragment,{key:re},J.renderPageLayer(ae)):u.createElement(u.Fragment,{key:re},u.createElement(u.Fragment,null))}))},renderViewer:function(ae){var J=ae.slot;fe.forEach(function(te){te.renderViewer&&(J=te.renderViewer(i(i({},ae),{slot:J})))});var re=J.subSlot&&J.subSlot.attrs?{className:J.subSlot.attrs.className,"data-testid":J.subSlot.attrs["data-testid"],ref:J.subSlot.attrs.ref,style:J.subSlot.attrs.style}:{};return J.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ae.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(W,null),bookmarkTabContent:u.createElement(he,null),store:R,thumbnailTabContent:u.createElement(de,null),tabs:V}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(ue):u.createElement(ue,null)),u.createElement("div",i({},re),J.subSlot.children))),J.children),J.subSlot.attrs={},J.subSlot.children=u.createElement(u.Fragment,null),J},uninstall:function(ae){fe.forEach(function(J){J.uninstall&&J.uninstall(ae)})},onDocumentLoad:function(ae){fe.forEach(function(J){J.onDocumentLoad&&J.onDocumentLoad(ae)}),A&&A.setInitialTab&&A.setInitialTab(ae.doc).then(function(J){R.update("currentTab",J),R.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ae){fe.forEach(function(J){J.onAnnotationLayerRender&&J.onAnnotationLayerRender(ae)})},onTextLayerRender:function(ae){fe.forEach(function(J){J.onTextLayerRender&&J.onTextLayerRender(ae)})},onViewerStateChange:function(ae){var J=ae;return fe.forEach(function(re){re.onViewerStateChange&&(J=re.onViewerStateChange(J))}),J}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function(R,H){A.getPageMode().then(function($){if($)switch($){case e.PageMode.Attachments:R(2);break;case e.PageMode.Bookmarks:R(1);break;case e.PageMode.Thumbnails:R(0);break;default:R(-1)}else R(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$g.exports=defaultLayout_min;var libExports=lib$g.exports,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((A,R)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:A.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:A.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...A,ref:R})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((A,R)=>{const{__scopeRovingFocusGroup:H,orientation:$,loop:O=!1,dir:B,currentTabStopId:W,defaultCurrentTabStopId:he,onCurrentTabStopIdChange:de,onEntryFocus:ue,preventScrollOnEntryFocus:V=!1,...fe}=A,ae=reactExports.useRef(null),J=useComposedRefs(R,ae),re=useDirection(B),[te,G]=useControllableState({prop:W,defaultProp:he??null,onChange:de,caller:GROUP_NAME$2}),[ne,oe]=reactExports.useState(!1),me=useCallbackRef(ue),pe=useCollection$1(H),Q=reactExports.useRef(!1),[le,ie]=reactExports.useState(0);return reactExports.useEffect(()=>{const se=ae.current;if(se)return se.addEventListener(ENTRY_FOCUS,me),()=>se.removeEventListener(ENTRY_FOCUS,me)},[me]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:H,orientation:$,dir:re,loop:O,currentTabStopId:te,onItemFocus:reactExports.useCallback(se=>G(se),[G]),onItemShiftTab:reactExports.useCallback(()=>oe(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>ie(se=>se+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>ie(se=>se-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:ne||le===0?-1:0,"data-orientation":$,...fe,ref:J,style:{outline:"none",...A.style},onMouseDown:composeEventHandlers(A.onMouseDown,()=>{Q.current=!0}),onFocus:composeEventHandlers(A.onFocus,se=>{const ce=!Q.current;if(se.target===se.currentTarget&&ce&&!ne){const Se=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(se.currentTarget.dispatchEvent(Se),!Se.defaultPrevented){const ee=pe().filter(Ne=>Ne.focusable),ge=ee.find(Ne=>Ne.active),Ae=ee.find(Ne=>Ne.id===te),Re=[ge,Ae,...ee].filter(Boolean).map(Ne=>Ne.ref.current);focusFirst$1(Re,V)}}Q.current=!1}),onBlur:composeEventHandlers(A.onBlur,()=>oe(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((A,R)=>{const{__scopeRovingFocusGroup:H,focusable:$=!0,active:O=!1,tabStopId:B,children:W,...he}=A,de=useId(),ue=B||de,V=useRovingFocusContext(ITEM_NAME$2,H),fe=V.currentTabStopId===ue,ae=useCollection$1(H),{onFocusableItemAdd:J,onFocusableItemRemove:re,currentTabStopId:te}=V;return reactExports.useEffect(()=>{if($)return J(),()=>re()},[$,J,re]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:H,id:ue,focusable:$,active:O,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:fe?0:-1,"data-orientation":V.orientation,...he,ref:R,onMouseDown:composeEventHandlers(A.onMouseDown,G=>{$?V.onItemFocus(ue):G.preventDefault()}),onFocus:composeEventHandlers(A.onFocus,()=>V.onItemFocus(ue)),onKeyDown:composeEventHandlers(A.onKeyDown,G=>{if(G.key==="Tab"&&G.shiftKey){V.onItemShiftTab();return}if(G.target!==G.currentTarget)return;const ne=getFocusIntent(G,V.orientation,V.dir);if(ne!==void 0){if(G.metaKey||G.ctrlKey||G.altKey||G.shiftKey)return;G.preventDefault();let me=ae().filter(pe=>pe.focusable).map(pe=>pe.ref.current);if(ne==="last")me.reverse();else if(ne==="prev"||ne==="next"){ne==="prev"&&me.reverse();const pe=me.indexOf(G.currentTarget);me=V.loop?wrapArray$1(me,pe+1):me.slice(pe+1)}setTimeout(()=>focusFirst$1(me))}}),children:typeof W=="function"?W({isCurrentTabStop:fe,hasTabStop:te!=null}):W})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(A,R){return R!=="rtl"?A:A==="ArrowLeft"?"ArrowRight":A==="ArrowRight"?"ArrowLeft":A}function getFocusIntent(A,R,H){const $=getDirectionAwareKey(A.key,H);if(!(R==="vertical"&&["ArrowLeft","ArrowRight"].includes($))&&!(R==="horizontal"&&["ArrowUp","ArrowDown"].includes($)))return MAP_KEY_TO_FOCUS_INTENT[$]}function focusFirst$1(A,R=!1){const H=document.activeElement;for(const $ of A)if($===H||($.focus({preventScroll:R}),document.activeElement!==H))return}function wrapArray$1(A,R){return A.map((H,$)=>A[(R+$)%A.length])}var Root=RovingFocusGroup,Item=RovingFocusGroupItem,SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=A=>{const{__scopeMenu:R,open:H=!1,children:$,dir:O,onOpenChange:B,modal:W=!0}=A,he=usePopperScope(R),[de,ue]=reactExports.useState(null),V=reactExports.useRef(!1),fe=useCallbackRef(B),ae=useDirection(O);return reactExports.useEffect(()=>{const J=()=>{V.current=!0,document.addEventListener("pointerdown",re,{capture:!0,once:!0}),document.addEventListener("pointermove",re,{capture:!0,once:!0})},re=()=>V.current=!1;return document.addEventListener("keydown",J,{capture:!0}),()=>{document.removeEventListener("keydown",J,{capture:!0}),document.removeEventListener("pointerdown",re,{capture:!0}),document.removeEventListener("pointermove",re,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$1,{...he,children:jsxRuntimeExports.jsx(MenuProvider,{scope:R,open:H,onOpenChange:fe,content:de,onContentChange:ue,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:R,onClose:reactExports.useCallback(()=>fe(!1),[fe]),isUsingKeyboardRef:V,dir:ae,modal:W,children:$})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,...$}=A,O=usePopperScope(H);return jsxRuntimeExports.jsx(Anchor,{...O,...$,ref:R})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$1="MenuPortal",[PortalProvider,usePortalContext]=createMenuContext(PORTAL_NAME$1,{forceMount:void 0}),MenuPortal=A=>{const{__scopeMenu:R,forceMount:H,children:$,container:O}=A,B=useMenuContext(PORTAL_NAME$1,R);return jsxRuntimeExports.jsx(PortalProvider,{scope:R,forceMount:H,children:jsxRuntimeExports.jsx(Presence,{present:H||B.open,children:jsxRuntimeExports.jsx(Portal$1,{asChild:!0,container:O,children:$})})})};MenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$1),MenuContent=reactExports.forwardRef((A,R)=>{const H=usePortalContext(CONTENT_NAME$1,A.__scopeMenu),{forceMount:$=H.forceMount,...O}=A,B=useMenuContext(CONTENT_NAME$1,A.__scopeMenu),W=useMenuRootContext(CONTENT_NAME$1,A.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:A.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:$||B.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:A.__scopeMenu,children:W.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...O,ref:R}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...O,ref:R})})})})}),MenuRootContentModal=reactExports.forwardRef((A,R)=>{const H=useMenuContext(CONTENT_NAME$1,A.__scopeMenu),$=reactExports.useRef(null),O=useComposedRefs(R,$);return reactExports.useEffect(()=>{const B=$.current;if(B)return hideOthers(B)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...A,ref:O,trapFocus:H.open,disableOutsidePointerEvents:H.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(A.onFocusOutside,B=>B.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>H.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((A,R)=>{const H=useMenuContext(CONTENT_NAME$1,A.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...A,ref:R,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>H.onOpenChange(!1)})}),Slot=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,loop:$=!1,trapFocus:O,onOpenAutoFocus:B,onCloseAutoFocus:W,disableOutsidePointerEvents:he,onEntryFocus:de,onEscapeKeyDown:ue,onPointerDownOutside:V,onFocusOutside:fe,onInteractOutside:ae,onDismiss:J,disableOutsideScroll:re,...te}=A,G=useMenuContext(CONTENT_NAME$1,H),ne=useMenuRootContext(CONTENT_NAME$1,H),oe=usePopperScope(H),me=useRovingFocusGroupScope(H),pe=useCollection(H),[Q,le]=reactExports.useState(null),ie=reactExports.useRef(null),se=useComposedRefs(R,ie,G.onContentChange),ce=reactExports.useRef(0),Se=reactExports.useRef(""),ee=reactExports.useRef(0),ge=reactExports.useRef(null),Ae=reactExports.useRef("right"),Oe=reactExports.useRef(0),Re=re?ReactRemoveScroll:reactExports.Fragment,Ne=re?{as:Slot,allowPinchZoom:!0}:void 0,Fe=Ee=>{var xe,Pe;const Te=Se.current+Ee,Be=pe().filter(Le=>!Le.disabled),ye=document.activeElement,q=(xe=Be.find(Le=>Le.ref.current===ye))==null?void 0:xe.textValue,Y=Be.map(Le=>Le.textValue),ve=getNextMatch(Y,Te,q),Me=(Pe=Be.find(Le=>Le.textValue===ve))==null?void 0:Pe.ref.current;(function Le(Qe){Se.current=Qe,window.clearTimeout(ce.current),Qe!==""&&(ce.current=window.setTimeout(()=>Le(""),1e3))})(Te),Me&&setTimeout(()=>Me.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(ce.current),[]),useFocusGuards();const qe=reactExports.useCallback(Ee=>{var Be,ye;return Ae.current===((Be=ge.current)==null?void 0:Be.side)&&isPointerInGraceArea(Ee,(ye=ge.current)==null?void 0:ye.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:H,searchRef:Se,onItemEnter:reactExports.useCallback(Ee=>{qe(Ee)&&Ee.preventDefault()},[qe]),onItemLeave:reactExports.useCallback(Ee=>{var Te;qe(Ee)||((Te=ie.current)==null||Te.focus(),le(null))},[qe]),onTriggerLeave:reactExports.useCallback(Ee=>{qe(Ee)&&Ee.preventDefault()},[qe]),pointerGraceTimerRef:ee,onPointerGraceIntentChange:reactExports.useCallback(Ee=>{ge.current=Ee},[]),children:jsxRuntimeExports.jsx(Re,{...Ne,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:O,onMountAutoFocus:composeEventHandlers(B,Ee=>{var Te;Ee.preventDefault(),(Te=ie.current)==null||Te.focus({preventScroll:!0})}),onUnmountAutoFocus:W,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:he,onEscapeKeyDown:ue,onPointerDownOutside:V,onFocusOutside:fe,onInteractOutside:ae,onDismiss:J,children:jsxRuntimeExports.jsx(Root,{asChild:!0,...me,dir:ne.dir,orientation:"vertical",loop:$,currentTabStopId:Q,onCurrentTabStopIdChange:le,onEntryFocus:composeEventHandlers(de,Ee=>{ne.isUsingKeyboardRef.current||Ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(G.open),"data-radix-menu-content":"",dir:ne.dir,...oe,...te,ref:se,style:{outline:"none",...te.style},onKeyDown:composeEventHandlers(te.onKeyDown,Ee=>{const Be=Ee.target.closest("[data-radix-menu-content]")===Ee.currentTarget,ye=Ee.ctrlKey||Ee.altKey||Ee.metaKey,q=Ee.key.length===1;Be&&(Ee.key==="Tab"&&Ee.preventDefault(),!ye&&q&&Fe(Ee.key));const Y=ie.current;if(Ee.target!==Y||!FIRST_LAST_KEYS.includes(Ee.key))return;Ee.preventDefault();const Me=pe().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);LAST_KEYS.includes(Ee.key)&&Me.reverse(),focusFirst(Me)}),onBlur:composeEventHandlers(A.onBlur,Ee=>{Ee.currentTarget.contains(Ee.target)||(window.clearTimeout(ce.current),Se.current="")}),onPointerMove:composeEventHandlers(A.onPointerMove,whenMouse(Ee=>{const Te=Ee.target,Be=Oe.current!==Ee.clientX;if(Ee.currentTarget.contains(Te)&&Be){const ye=Ee.clientX>Oe.current?"right":"left";Ae.current=ye,Oe.current=Ee.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$1;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,...$}=A;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...$,ref:R})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,...$}=A;return jsxRuntimeExports.jsx(Primitive.div,{...$,ref:R})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((A,R)=>{const{disabled:H=!1,onSelect:$,...O}=A,B=reactExports.useRef(null),W=useMenuRootContext(ITEM_NAME$1,A.__scopeMenu),he=useMenuContentContext(ITEM_NAME$1,A.__scopeMenu),de=useComposedRefs(R,B),ue=reactExports.useRef(!1),V=()=>{const fe=B.current;if(!H&&fe){const ae=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});fe.addEventListener(ITEM_SELECT,J=>$==null?void 0:$(J),{once:!0}),dispatchDiscreteCustomEvent(fe,ae),ae.defaultPrevented?ue.current=!1:W.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...O,ref:de,disabled:H,onClick:composeEventHandlers(A.onClick,V),onPointerDown:fe=>{var ae;(ae=A.onPointerDown)==null||ae.call(A,fe),ue.current=!0},onPointerUp:composeEventHandlers(A.onPointerUp,fe=>{var ae;ue.current||(ae=fe.currentTarget)==null||ae.click()}),onKeyDown:composeEventHandlers(A.onKeyDown,fe=>{const ae=he.searchRef.current!=="";H||ae&&fe.key===" "||SELECTION_KEYS.includes(fe.key)&&(fe.currentTarget.click(),fe.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,disabled:$=!1,textValue:O,...B}=A,W=useMenuContentContext(ITEM_NAME$1,H),he=useRovingFocusGroupScope(H),de=reactExports.useRef(null),ue=useComposedRefs(R,de),[V,fe]=reactExports.useState(!1),[ae,J]=reactExports.useState("");return reactExports.useEffect(()=>{const re=de.current;re&&J((re.textContent??"").trim())},[B.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:H,disabled:$,textValue:O??ae,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...he,focusable:!$,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":V?"":void 0,"aria-disabled":$||void 0,"data-disabled":$?"":void 0,...B,ref:ue,onPointerMove:composeEventHandlers(A.onPointerMove,whenMouse(re=>{$?W.onItemLeave(re):(W.onItemEnter(re),re.defaultPrevented||re.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(A.onPointerLeave,whenMouse(re=>W.onItemLeave(re))),onFocus:composeEventHandlers(A.onFocus,()=>fe(!0)),onBlur:composeEventHandlers(A.onBlur,()=>fe(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((A,R)=>{const{checked:H=!1,onCheckedChange:$,...O}=A;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:A.__scopeMenu,checked:H,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(H)?"mixed":H,...O,ref:R,"data-state":getCheckedState(H),onSelect:composeEventHandlers(O.onSelect,()=>$==null?void 0:$(isIndeterminate(H)?!0:!H),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((A,R)=>{const{value:H,onValueChange:$,...O}=A,B=useCallbackRef($);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:A.__scopeMenu,value:H,onValueChange:B,children:jsxRuntimeExports.jsx(MenuGroup,{...O,ref:R})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((A,R)=>{const{value:H,...$}=A,O=useRadioGroupContext(RADIO_ITEM_NAME$1,A.__scopeMenu),B=H===O.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:A.__scopeMenu,checked:B,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":B,...$,ref:R,"data-state":getCheckedState(B),onSelect:composeEventHandlers($.onSelect,()=>{var W;return(W=O.onValueChange)==null?void 0:W.call(O,H)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,forceMount:$,...O}=A,B=useItemIndicatorContext(ITEM_INDICATOR_NAME,H);return jsxRuntimeExports.jsx(Presence,{present:$||isIndeterminate(B.checked)||B.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...O,ref:R,"data-state":getCheckedState(B.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,...$}=A;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...$,ref:R})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef((A,R)=>{const{__scopeMenu:H,...$}=A,O=usePopperScope(H);return jsxRuntimeExports.jsx(Arrow,{...O,...$,ref:R})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((A,R)=>{const H=useMenuContext(SUB_TRIGGER_NAME$1,A.__scopeMenu),$=useMenuRootContext(SUB_TRIGGER_NAME$1,A.__scopeMenu),O=useMenuSubContext(SUB_TRIGGER_NAME$1,A.__scopeMenu),B=useMenuContentContext(SUB_TRIGGER_NAME$1,A.__scopeMenu),W=reactExports.useRef(null),{pointerGraceTimerRef:he,onPointerGraceIntentChange:de}=B,ue={__scopeMenu:A.__scopeMenu},V=reactExports.useCallback(()=>{W.current&&window.clearTimeout(W.current),W.current=null},[]);return reactExports.useEffect(()=>V,[V]),reactExports.useEffect(()=>{const fe=he.current;return()=>{window.clearTimeout(fe),de(null)}},[he,de]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...ue,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:O.triggerId,"aria-haspopup":"menu","aria-expanded":H.open,"aria-controls":O.contentId,"data-state":getOpenState(H.open),...A,ref:composeRefs(R,O.onTriggerChange),onClick:fe=>{var ae;(ae=A.onClick)==null||ae.call(A,fe),!(A.disabled||fe.defaultPrevented)&&(fe.currentTarget.focus(),H.open||H.onOpenChange(!0))},onPointerMove:composeEventHandlers(A.onPointerMove,whenMouse(fe=>{B.onItemEnter(fe),!fe.defaultPrevented&&!A.disabled&&!H.open&&!W.current&&(B.onPointerGraceIntentChange(null),W.current=window.setTimeout(()=>{H.onOpenChange(!0),V()},100))})),onPointerLeave:composeEventHandlers(A.onPointerLeave,whenMouse(fe=>{var J,re;V();const ae=(J=H.content)==null?void 0:J.getBoundingClientRect();if(ae){const te=(re=H.content)==null?void 0:re.dataset.side,G=te==="right",ne=G?-5:5,oe=ae[G?"left":"right"],me=ae[G?"right":"left"];B.onPointerGraceIntentChange({area:[{x:fe.clientX+ne,y:fe.clientY},{x:oe,y:ae.top},{x:me,y:ae.top},{x:me,y:ae.bottom},{x:oe,y:ae.bottom}],side:te}),window.clearTimeout(he.current),he.current=window.setTimeout(()=>B.onPointerGraceIntentChange(null),300)}else{if(B.onTriggerLeave(fe),fe.defaultPrevented)return;B.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(A.onKeyDown,fe=>{var J;const ae=B.searchRef.current!=="";A.disabled||ae&&fe.key===" "||SUB_OPEN_KEYS[$.dir].includes(fe.key)&&(H.onOpenChange(!0),(J=H.content)==null||J.focus(),fe.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((A,R)=>{const H=usePortalContext(CONTENT_NAME$1,A.__scopeMenu),{forceMount:$=H.forceMount,...O}=A,B=useMenuContext(CONTENT_NAME$1,A.__scopeMenu),W=useMenuRootContext(CONTENT_NAME$1,A.__scopeMenu),he=useMenuSubContext(SUB_CONTENT_NAME$1,A.__scopeMenu),de=reactExports.useRef(null),ue=useComposedRefs(R,de);return jsxRuntimeExports.jsx(Collection.Provider,{scope:A.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:$||B.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:A.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:he.contentId,"aria-labelledby":he.triggerId,...O,ref:ue,align:"start",side:W.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:V=>{var fe;W.isUsingKeyboardRef.current&&((fe=de.current)==null||fe.focus()),V.preventDefault()},onCloseAutoFocus:V=>V.preventDefault(),onFocusOutside:composeEventHandlers(A.onFocusOutside,V=>{V.target!==he.trigger&&B.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(A.onEscapeKeyDown,V=>{W.onClose(),V.preventDefault()}),onKeyDown:composeEventHandlers(A.onKeyDown,V=>{var J;const fe=V.currentTarget.contains(V.target),ae=SUB_CLOSE_KEYS[W.dir].includes(V.key);fe&&ae&&(B.onOpenChange(!1),(J=he.trigger)==null||J.focus(),V.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(A){return A?"open":"closed"}function isIndeterminate(A){return A==="indeterminate"}function getCheckedState(A){return isIndeterminate(A)?"indeterminate":A?"checked":"unchecked"}function focusFirst(A){const R=document.activeElement;for(const H of A)if(H===R||(H.focus(),document.activeElement!==R))return}function wrapArray(A,R){return A.map((H,$)=>A[(R+$)%A.length])}function getNextMatch(A,R,H){const O=R.length>1&&Array.from(R).every(ue=>ue===R[0])?R[0]:R,B=H?A.indexOf(H):-1;let W=wrapArray(A,Math.max(B,0));O.length===1&&(W=W.filter(ue=>ue!==H));const de=W.find(ue=>ue.toLowerCase().startsWith(O.toLowerCase()));return de!==H?de:void 0}function isPointInPolygon(A,R){const{x:H,y:$}=A;let O=!1;for(let B=0,W=R.length-1;B<R.length;W=B++){const he=R[B],de=R[W],ue=he.x,V=he.y,fe=de.x,ae=de.y;V>$!=ae>$&&H<(fe-ue)*($-V)/(ae-V)+ue&&(O=!O)}return O}function isPointerInGraceArea(A,R){if(!R)return!1;const H={x:A.clientX,y:A.clientY};return isPointInPolygon(H,R)}function whenMouse(A){return R=>R.pointerType==="mouse"?A(R):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2$1=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=A=>{const{__scopeDropdownMenu:R,children:H,dir:$,open:O,defaultOpen:B,onOpenChange:W,modal:he=!0}=A,de=useMenuScope(R),ue=reactExports.useRef(null),[V,fe]=useControllableState({prop:O,defaultProp:B??!1,onChange:W,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:R,triggerId:useId(),triggerRef:ue,contentId:useId(),open:V,onOpenChange:fe,onOpenToggle:reactExports.useCallback(()=>fe(ae=>!ae),[fe]),modal:he,children:jsxRuntimeExports.jsx(Root3,{...de,open:V,onOpenChange:fe,dir:$,modal:he,children:H})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,disabled:$=!1,...O}=A,B=useDropdownMenuContext(TRIGGER_NAME,H),W=useMenuScope(H);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...W,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:B.triggerId,"aria-haspopup":"menu","aria-expanded":B.open,"aria-controls":B.open?B.contentId:void 0,"data-state":B.open?"open":"closed","data-disabled":$?"":void 0,disabled:$,...O,ref:composeRefs(R,B.triggerRef),onPointerDown:composeEventHandlers(A.onPointerDown,he=>{!$&&he.button===0&&he.ctrlKey===!1&&(B.onOpenToggle(),B.open||he.preventDefault())}),onKeyDown:composeEventHandlers(A.onKeyDown,he=>{$||(["Enter"," "].includes(he.key)&&B.onOpenToggle(),he.key==="ArrowDown"&&B.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(he.key)&&he.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME;var PORTAL_NAME="DropdownMenuPortal",DropdownMenuPortal=A=>{const{__scopeDropdownMenu:R,...H}=A,$=useMenuScope(R);return jsxRuntimeExports.jsx(Portal,{...$,...H})};DropdownMenuPortal.displayName=PORTAL_NAME;var CONTENT_NAME="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useDropdownMenuContext(CONTENT_NAME,H),B=useMenuScope(H),W=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$1,{id:O.contentId,"aria-labelledby":O.triggerId,...B,...$,ref:R,onCloseAutoFocus:composeEventHandlers(A.onCloseAutoFocus,he=>{var de;W.current||(de=O.triggerRef.current)==null||de.focus(),W.current=!1,he.preventDefault()}),onInteractOutside:composeEventHandlers(A.onInteractOutside,he=>{const de=he.detail.originalEvent,ue=de.button===0&&de.ctrlKey===!0,V=de.button===2||ue;(!O.modal||V)&&(W.current=!0)}),style:{...A.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(Group,{...O,...$,ref:R})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(Label,{...O,...$,ref:R})});DropdownMenuLabel$1.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(Item2$1,{...O,...$,ref:R})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(CheckboxItem,{...O,...$,ref:R})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(RadioGroup,{...O,...$,ref:R})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(RadioItem,{...O,...$,ref:R})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(ItemIndicator,{...O,...$,ref:R})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(Separator,{...O,...$,ref:R})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(Arrow2,{...O,...$,ref:R})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(SubTrigger,{...O,...$,ref:R})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((A,R)=>{const{__scopeDropdownMenu:H,...$}=A,O=useMenuScope(H);return jsxRuntimeExports.jsx(SubContent,{...O,...$,ref:R,style:{...A.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2=DropdownMenu$1,Trigger=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2,DropdownMenuTrigger=Trigger,DropdownMenuSubTrigger=reactExports.forwardRef(({className:A,inset:R,children:H,...$},O)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:O,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",R&&"pl-8",A),...$,children:[H,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:A,...R},H)=>jsxRuntimeExports.jsx(SubContent2,{ref:H,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",A),...R}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:A,sideOffset:R=4,...H},$)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2,{ref:$,sideOffset:R,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",A),...H})}));DropdownMenuContent.displayName=Content2.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:A,inset:R,...H},$)=>jsxRuntimeExports.jsx(Item2,{ref:$,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",R&&"pl-8",A),...H}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:A,children:R,checked:H,...$},O)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:O,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",A),checked:H,...$,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),R]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:A,children:R,...H},$)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:$,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",A),...H,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),R]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:A,inset:R,...H},$)=>jsxRuntimeExports.jsx(Label2,{ref:$,className:cn("px-2 py-1.5 text-sm font-semibold",R&&"pl-8",A),...H}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:A,...R},H)=>jsxRuntimeExports.jsx(Separator2,{ref:H,className:cn("-mx-1 my-1 h-px bg-muted",A),...R}));DropdownMenuSeparator.displayName=Separator2.displayName;const MOBILE_BREAKPOINT=768;function useIsMobile(){const[A,R]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const H=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),$=()=>{R(window.innerWidth<MOBILE_BREAKPOINT)};return H.addEventListener("change",$),R(window.innerWidth<MOBILE_BREAKPOINT),()=>H.removeEventListener("change",$)},[]),!!A}const WhatsAppIcon=({className:A})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",className:A,fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),LinkedInIcon=({className:A})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",className:A,fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})});function PDFViewerModal({article:A,open:R,onOpenChange:H}){const[$,O]=reactExports.useState(!0),[B,W]=reactExports.useState(!1),[he,de]=reactExports.useState(!1),[ue,V]=reactExports.useState(0),fe=useIsMobile(),ae=libExports.defaultLayoutPlugin({sidebarTabs:()=>[],toolbarPlugin:{fullScreenPlugin:{onEnterFullScreen:()=>{},onExitFullScreen:()=>{}}}}),J=reactExports.useCallback(Q=>{const le=fe?2:5;return{startPage:Math.max(0,Q.startPage-le),endPage:Q.endPage+le}},[fe]);if(reactExports.useEffect(()=>{R&&(O(!0),W(!1))},[R,A]),reactExports.useEffect(()=>{const Q=le=>{le.key==="Escape"&&R&&H(!1)};return R&&(document.addEventListener("keydown",Q),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Q),document.body.style.overflow=""}},[R,H]),!A)return null;const re=A.externalUrl;`${A.title}${A.journal}${A.year}`;const te=()=>{if(A.pdfUrl){const Q=document.createElement("a");Q.href=A.pdfUrl,Q.download=`${A.id}.pdf`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)}},G=()=>{window.open(A.externalUrl,"_blank","noopener,noreferrer")},ne=()=>{const Q=`https://wa.me/?text=${encodeURIComponent(`📚 *${A.title}*

${A.description}

📖 ${A.journal} • ${A.year}

🔗 ${re}`)}`;window.open(Q,"_blank","noopener,noreferrer")},oe=()=>{const Q=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(re)}`;window.open(Q,"_blank","noopener,noreferrer")},me=()=>{const Q=encodeURIComponent(`📚 Artigo: ${A.title}`),le=encodeURIComponent(`Olá!

Gostaria de compartilhar este artigo acadêmico:

📖 ${A.title}

${A.description}

📰 Publicado em: ${A.journal} (${A.year})
📂 Categoria: ${A.category}

🔗 Acesse o artigo completo:
${re}

---
Mariana Lima - Advocacia
Direito Ambiental, Empresarial, Tributário e Civil`);window.open(`mailto:?subject=${Q}&body=${le}`,"_self")},pe=async()=>{try{await navigator.clipboard.writeText(re),de(!0),toast({title:"Link copiado!",description:"O link do artigo foi copiado para a área de transferência."}),setTimeout(()=>de(!1),2e3)}catch{toast({title:"Erro ao copiar",description:"Não foi possível copiar o link. Tente novamente.",variant:"destructive"})}};return jsxRuntimeExports.jsx(AnimatePresence,{children:R&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm",onClick:()=>H(!1)}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:cn("fixed inset-2 sm:inset-4 lg:inset-6 z-50","flex flex-col","bg-background rounded-xl sm:rounded-2xl overflow-hidden","border border-border shadow-2xl shadow-black/50"),children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0 bg-card border-b border-border",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-gradient-to-r from-accent/60 via-accent to-accent/60"}),jsxRuntimeExports.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 sm:px-2.5 py-1 rounded-full text-xs font-semibold bg-accent/15 text-accent border border-accent/30",children:[jsxRuntimeExports.jsx(Award,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:A.type||"Artigo Científico"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Artigo"})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2 sm:px-2.5 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3"}),A.year]}),jsxRuntimeExports.jsxs("div",{className:"hidden xs:inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-muted/50 text-muted-foreground",children:[jsxRuntimeExports.jsx(FileText,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",children:A.journal})]})]}),jsxRuntimeExports.jsx("h2",{className:"font-heading text-sm sm:text-base lg:text-lg font-semibold text-foreground line-clamp-2",children:A.title})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[jsxRuntimeExports.jsx(Share2,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-56",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:ne,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(WhatsAppIcon,{className:"h-4 w-4 text-[#25D366]"}),jsxRuntimeExports.jsx("span",{children:"WhatsApp"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:oe,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(LinkedInIcon,{className:"h-4 w-4 text-[#0A66C2]"}),jsxRuntimeExports.jsx("span",{children:"LinkedIn"})]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:me,className:"gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{children:"Email"})]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:pe,className:"gap-3 cursor-pointer",children:[he?jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(Link2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{children:he?"Copiado!":"Copiar link"})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:te,className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[jsxRuntimeExports.jsx(Download,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Baixar"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:G,className:"gap-1.5 sm:gap-2 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3 hidden sm:flex",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Ver original"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>H(!1),className:cn("p-1.5 sm:p-2 rounded-lg","bg-muted/50 hover:bg-muted","text-muted-foreground hover:text-foreground","transition-colors duration-200"),children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4 sm:h-5 sm:w-5"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Fechar"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative bg-muted/30 overflow-hidden pdf-viewer-container",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:$&&!B&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-10 flex items-center justify-center bg-muted/50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 text-accent animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:fe?"Carregando PDF (otimizado para mobile)...":"Carregando PDF..."}),fe&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70 text-center px-4",children:"Páginas carregam progressivamente conforme você rola"})]})})}),B&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/30",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-6 max-w-md",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"font-heading text-lg font-semibold text-foreground mb-2",children:"Não foi possível carregar o PDF"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"O documento pode estar temporariamente indisponível. Tente baixar o arquivo ou acessar o original."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[jsxRuntimeExports.jsxs(Button,{onClick:te,className:"gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Baixar PDF"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:G,className:"gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Ver original"]})]})]})}),A.pdfUrl&&!B&&jsxRuntimeExports.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full",children:jsxRuntimeExports.jsx(libExports$h.Viewer,{fileUrl:A.pdfUrl,plugins:[ae],defaultScale:libExports$h.SpecialZoomLevel.PageWidth,setRenderRange:J,onDocumentLoad:Q=>{O(!1),V(100),console.log(`PDF loaded: ${Q.doc.numPages} pages`)},renderError:()=>(W(!0),O(!1),jsxRuntimeExports.jsx("div",{})),theme:{theme:"auto"}})})})]})]})]})})}export{Calendar as C,PDFViewerModal as P,Sparkles as S};
