import{a as P,j as e,r as g,c as u,m,L as y,P as R,E as z,A as F,F as B,N as M}from"./index-GmPaaKoG.js";import{U as w,W as $,L as C}from"./Layout-ebbrQytw.js";import{L as H,S as U,N as V}from"./NewsletterForm-DQQlS2n_.js";import{C as W}from"./calendar-BuFZuLpC.js";import{C as X}from"./clock-cxl5q2kL.js";import{L as Y,P as Z}from"./PostContent-BrQlDyUo.js";import{B as v}from"./button-ClwUPC7V.js";import{S as q}from"./share-2-BHgRIB_P.js";import{C as G}from"./check-BAMmdpAr.js";import{L as J}from"./link-C9Jg82Mv.js";import{b as K,c as Q}from"./usePosts-DdjAbizG.js";import{S as j}from"./skeleton-CXGjvzQ4.js";import{A as ee}from"./arrow-right-CXFYZoAK.js";import{I as k}from"./input-Bb_pj6H8.js";import{T as te,S as ae}from"./textarea-zog82y1B.js";import{L as N}from"./label-jt_XKepE.js";import{g as re,u as se,a as ie,b as oe,c as ne,d as le}from"./usePostInteractions-COvGWt_h.js";import{H as ce}from"./heart-CMeQkoSj.js";import{M as me}from"./mail-CSTyhwZk.js";import{L as de}from"./loader-circle-RzEHkGJ0.js";import{C as he}from"./chevron-down-mJk7wFbE.js";import{C as xe}from"./chevron-up-BWXo9x1R.js";import{u as ue}from"./usePostViews-DfvPe6Dx.js";import{A as pe}from"./arrow-left-CoVboXsb.js";import"./file-text-DfvvcJR4.js";import"./useNewsletter-CPw7MG5s.js";import"./circle-check-big-CfLTJIQh.js";import"./types-3c7sL9OC.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=P("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=P("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);function fe(a){return a?new Date(a).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):""}function je(a){const t=a.replace(/<[^>]*>/g,"").split(/\s+/).length;return Math.ceil(t/200)}function ve({post:a}){const t=je(a.content_html);return e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-foreground mb-6 leading-tight",children:a.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 md:gap-6 text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:a.author_name})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("time",{dateTime:a.published_at||"",children:fe(a.published_at)})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsxs("span",{children:[t," min de leitura"]})]})]})]})}function L({url:a,title:t,className:i}){const[o,s]=g.useState(!1),r=encodeURIComponent(a),l=encodeURIComponent(t),d={whatsapp:`https://wa.me/?text=${l}%20${r}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${r}`,twitter:`https://twitter.com/intent/tweet?text=${l}&url=${r}`},n=async()=>{try{await navigator.clipboard.writeText(a),s(!0),setTimeout(()=>s(!1),2e3)}catch(h){console.error("Failed to copy:",h)}},c={hover:{scale:1.05},tap:{scale:.95}};return e.jsxs("div",{className:u("flex items-center gap-3",i),children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(q,{className:"w-4 h-4"}),"Compartilhar:"]}),e.jsx(m.a,{href:d.whatsapp,target:"_blank",rel:"noopener noreferrer",variants:c,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-[#25D366]/10 text-[#25D366] hover:bg-[#25D366]/20 transition-colors","aria-label":"Compartilhar no WhatsApp",children:e.jsx($,{className:"w-6 h-6"})}),e.jsx(m.a,{href:d.linkedin,target:"_blank",rel:"noopener noreferrer",variants:c,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-[#0077B5]/10 text-[#0077B5] hover:bg-[#0077B5]/20 transition-colors","aria-label":"Compartilhar no LinkedIn",children:e.jsx(H,{className:"w-6 h-6"})}),e.jsx(m.a,{href:d.twitter,target:"_blank",rel:"noopener noreferrer",variants:c,whileHover:"hover",whileTap:"tap",className:"p-3 rounded-full bg-foreground/10 text-foreground hover:bg-foreground/20 transition-colors","aria-label":"Compartilhar no Twitter/X",children:e.jsx(ge,{className:"w-6 h-6"})}),e.jsx(m.div,{variants:c,whileHover:"hover",whileTap:"tap",children:e.jsx(v,{variant:"outline",size:"icon",onClick:n,className:u("rounded-full h-12 w-12",o&&"bg-green-500/10 border-green-500/50 text-green-500"),"aria-label":"Copiar link",children:o?e.jsx(G,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})})]})}function be(a){return a?new Date(a).toLocaleDateString("pt-BR",{day:"numeric",month:"short",year:"numeric"}):""}function Ne({currentSlug:a,className:t}){const{data:i,isLoading:o}=K({published:!0,pageSize:4}),s=(i==null?void 0:i.posts.filter(r=>r.slug!==a).slice(0,3))||[];return o?e.jsxs("div",{className:u("space-y-4",t),children:[e.jsx("h3",{className:"text-xl font-serif font-semibold",children:"Outros Artigos"}),e.jsx("div",{className:"grid gap-4",children:[1,2,3].map(r=>e.jsx(j,{className:"h-24"},r))})]}):s.length===0?null:e.jsxs("aside",{className:t,children:[e.jsx("h3",{className:"text-xl font-serif font-semibold mb-4",children:"Outros Artigos"}),e.jsx("div",{className:"grid gap-4",children:s.map(r=>e.jsxs(y,{to:`/blog/${r.slug}`,className:u("group block p-4 rounded-lg border border-border/50","bg-card/30 backdrop-blur-sm","hover:border-primary/30 hover:bg-card/50","transition-all duration-200"),children:[e.jsx("h4",{className:"font-medium text-foreground group-hover:text-primary transition-colors line-clamp-2 mb-2",children:r.title}),e.jsx("span",{className:"text-sm text-muted-foreground",children:be(r.published_at)})]},r.id))}),e.jsxs(y,{to:"/blog",className:"inline-flex items-center text-primary hover:underline mt-4 text-sm font-medium",children:["Ver todos os artigos",e.jsx(ee,{className:"w-4 h-4 ml-1"})]})]})}var ye="Separator",S="horizontal",we=["horizontal","vertical"],A=g.forwardRef((a,t)=>{const{decorative:i,orientation:o=S,...s}=a,r=Ce(o)?o:S,d=i?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(R.div,{"data-orientation":r,...d,...s,ref:t})});A.displayName=ye;function Ce(a){return we.includes(a)}var E=A;const I=g.forwardRef(({className:a,orientation:t="horizontal",decorative:i=!0,...o},s)=>e.jsx(E,{ref:s,decorative:i,orientation:t,className:u("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...o}));I.displayName=E.displayName;function ke({postId:a,className:t}){const{toast:i}=z(),o=re(),{data:s=0}=se(a),{data:r=!1}=ie(a,o),l=oe(),{data:d=[]}=ne(a),n=le(),[c,h]=g.useState(!1),[p,b]=g.useState({author_name:"",author_email:"",content:""}),D=async()=>{try{await l.mutateAsync({postId:a,fingerprint:o})}catch{i({title:"Erro",description:"Não foi possível registrar sua curtida.",variant:"destructive"})}},O=async x=>{if(x.preventDefault(),!p.author_name.trim()||!p.author_email.trim()||!p.content.trim()){i({title:"Campos obrigatórios",description:"Preencha todos os campos para enviar seu comentário.",variant:"destructive"});return}try{await n.mutateAsync({post_id:a,...p}),b({author_name:"",author_email:"",content:""}),h(!1),i({title:"Comentário enviado!",description:"Seu comentário será publicado após aprovação."})}catch{i({title:"Erro ao enviar",description:"Não foi possível enviar seu comentário. Tente novamente.",variant:"destructive"})}};return e.jsxs("div",{className:u("space-y-6",t),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(v,{variant:"outline",size:"lg",onClick:D,disabled:l.isPending,className:u("group transition-all duration-300",r&&"border-red-500/50 bg-red-500/10 hover:bg-red-500/20"),children:[e.jsx(ce,{className:u("w-5 h-5 mr-2 transition-all",r?"fill-red-500 text-red-500":"group-hover:text-red-500")}),e.jsx("span",{className:"font-medium",children:s}),e.jsx("span",{className:"ml-1 text-muted-foreground",children:s===1?"curtida":"curtidas"})]}),e.jsxs(v,{variant:"outline",size:"lg",onClick:()=>h(!c),children:[e.jsx(_,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:d.length}),e.jsx("span",{className:"ml-1 text-muted-foreground",children:d.length===1?"comentário":"comentários"})]})]}),e.jsx(F,{children:c&&e.jsx(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("form",{onSubmit:O,className:"space-y-4 p-4 bg-muted/30 rounded-lg border border-border",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Deixe seu comentário"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"author_name",children:"Nome *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(k,{id:"author_name",value:p.author_name,onChange:x=>b(f=>({...f,author_name:x.target.value})),placeholder:"Seu nome",className:"pl-10",maxLength:100})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"author_email",children:"E-mail *"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(k,{id:"author_email",type:"email",value:p.author_email,onChange:x=>b(f=>({...f,author_email:x.target.value})),placeholder:"seu@email.com",className:"pl-10",maxLength:255})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Seu e-mail não será publicado."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"content",children:"Comentário *"}),e.jsx(te,{id:"content",value:p.content,onChange:x=>b(f=>({...f,content:x.target.value})),placeholder:"Escreva seu comentário...",rows:4,maxLength:1e3}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[p.content.length,"/1000 caracteres"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{type:"submit",disabled:n.isPending,children:[n.isPending?e.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Enviar comentário"]}),e.jsx(v,{type:"button",variant:"ghost",onClick:()=>h(!1),children:"Cancelar"})]})]})})}),d.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(I,{}),e.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5"}),"Comentários (",d.length,")"]}),e.jsx("div",{className:"space-y-4",children:d.map((x,f)=>e.jsx(_e,{comment:x,index:f},x.id))})]})]})}function _e({comment:a,index:t}){const i=o=>new Date(o).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"p-4 bg-card rounded-lg border border-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(w,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-foreground",children:a.author_name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:i(a.created_at)})]}),e.jsx("p",{className:"mt-2 text-foreground/90 whitespace-pre-wrap",children:a.content})]})]})})}function Le(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").slice(0,50)}function Se(a){const t=[],i=/<h([23])[^>]*>([^<]+)<\/h[23]>/gi;let o;for(;(o=i.exec(a))!==null;){const s=parseInt(o[1]),r=o[2].trim();r&&t.push({id:Le(r),text:r,level:s})}return t}function T({html:a,className:t}){const[i,o]=g.useState(""),[s,r]=g.useState(!1),l=g.useMemo(()=>Se(a),[a]);g.useEffect(()=>{if(l.length===0)return;const n=new IntersectionObserver(c=>{c.forEach(h=>{h.isIntersecting&&o(h.target.id)})},{rootMargin:"-80px 0px -80% 0px",threshold:0});return l.forEach(({id:c})=>{const h=document.getElementById(c);h&&n.observe(h)}),()=>{n.disconnect()}},[l]);const d=n=>{const c=document.getElementById(n);if(c){const p=c.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:p,behavior:"smooth"})}};return l.length<2?null:e.jsxs(m.nav,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:u("bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-4",t),"aria-label":"Índice do artigo",children:[e.jsxs("button",{onClick:()=>r(!s),className:"flex items-center justify-between w-full text-sm font-medium text-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-primary"}),"Índice"]}),s?e.jsx(he,{className:"w-4 h-4"}):e.jsx(xe,{className:"w-4 h-4"})]}),!s&&e.jsx(m.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-1",children:l.map(n=>e.jsx("li",{className:u(n.level===3&&"ml-3"),children:e.jsx("button",{onClick:()=>d(n.id),className:u("block w-full text-left text-sm py-1.5 px-2 rounded-md transition-colors duration-200","hover:bg-muted hover:text-foreground",i===n.id?"text-primary font-medium bg-primary/5 border-l-2 border-primary":"text-muted-foreground",n.level===3&&"text-xs"),children:n.text})},n.id))})]})}const rt=()=>{const{slug:a}=B(),{data:t,isLoading:i,isError:o}=Q(a||"");if(ue((t==null?void 0:t.id)||""),i)return e.jsx(C,{children:e.jsx("article",{className:"py-16 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-4xl",children:[e.jsx(j,{className:"h-4 w-32 mb-8"}),e.jsx(j,{className:"h-12 w-full mb-4"}),e.jsx(j,{className:"h-12 w-3/4 mb-6"}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx(j,{className:"h-4 w-24"}),e.jsx(j,{className:"h-4 w-24"}),e.jsx(j,{className:"h-4 w-24"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(l=>e.jsx(j,{className:"h-4 w-full"},l))})]})})});if(o||!t)return e.jsx(M,{to:"/404",replace:!0});const s=`https://marianalima.adv.br/blog/${t.slug}`,r={"@context":"https://schema.org","@type":"Article",headline:t.title,description:t.excerpt||t.title,image:t.cover_image_url||"https://marianalima.adv.br/og-image.png",datePublished:t.published_at,dateModified:t.updated_at,author:{"@type":"Person",name:t.author_name,url:"https://marianalima.adv.br/sobre"},publisher:{"@type":"Organization",name:"Mariana Lima Advocacia",logo:{"@type":"ImageObject",url:"https://marianalima.adv.br/logo-horizontal.png"}},mainEntityOfPage:{"@type":"WebPage","@id":s}};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:t.title,description:t.excerpt||`Leia "${t.title}" no blog de Mariana Lima Advocacia.`,canonical:s,type:"article",image:t.cover_image_url||void 0,structuredData:r}),e.jsx(C,{children:e.jsx("article",{className:"pt-24 md:pt-28 pb-16 md:pb-20",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(m.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"max-w-4xl",children:e.jsx(y,{to:"/blog",children:e.jsxs(v,{variant:"ghost",className:"mb-8 -ml-4 text-muted-foreground hover:text-foreground",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Voltar para o blog"]})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1 max-w-4xl",children:[t.cover_image_url&&e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"aspect-video overflow-hidden rounded-xl mb-8",children:e.jsx("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-full object-cover"})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(ve,{post:t})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(L,{url:s,title:t.title,className:"mb-8 pb-8 border-b border-border/50"})}),e.jsx("div",{className:"lg:hidden mb-8",children:e.jsx(T,{html:t.content_html})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx(Z,{html:t.content_html})}),e.jsx("div",{className:"mt-12",children:e.jsx(V,{})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-border/50",children:e.jsx(L,{url:s,title:t.title})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-12 pt-8 border-t border-border/50",children:e.jsx(ke,{postId:t.id})}),e.jsx("div",{className:"mt-16 pt-8 border-t border-border/50",children:e.jsx(Ne,{currentSlug:t.slug})})]}),e.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsx("div",{className:"sticky top-24",children:e.jsx(T,{html:t.content_html})})})]})]})})})})]})};export{rt as default};
