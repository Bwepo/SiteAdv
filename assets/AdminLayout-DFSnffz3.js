import{c as ce,r as s,j as e,m as O,S as q,P,T as W,e as A,u as _e,s as X,R as Ye,U as Qe,l as Xe,V as Je,L as G,W as Ze,Y as et,Z as tt,_ as rt}from"./index-CBKbDdfZ.js";import{D as Re,a as Le}from"./dialog-ChXu-w_2.js";import{B as $}from"./button-D7qP377h.js";import{H as je}from"./heart-D1a1UsX4.js";import{S as we}from"./sparkles-7HtcsM9H.js";import{R as at,P as nt,O as st,C as lt}from"./index-BwaOuhBS.js";import{S as Me}from"./search-BGDTWAfy.js";import{B as ot,P as it}from"./badge-Dvw6CZT0.js";import{L as dt}from"./loader-circle-CZFBpDtK.js";import{L as ue}from"./list-todo-C0iBtZs4.js";import{C as me}from"./calendar-CCaD6yKu.js";import{F as fe}from"./folder-kanban-DuFl4cJ_.js";import{S as ct,a as ut,b as mt,c as ft,d as pt}from"./sheet-D1lg-Wii.js";import{C as ht}from"./chevron-right-CguGXDH4.js";import{C as xt}from"./chevron-left-CN1GBbls.js";import{H as gt}from"./house-C_kKZ2EI.js";import{S as bt,M as vt,a as yt}from"./sun-DXfeEyvx.js";import{S as Ae}from"./settings-D-rlWJzW.js";import{B as jt}from"./briefcase-BOKeT5sL.js";import{S as wt}from"./scale-SbYSwudp.js";import{U as kt}from"./users-xLb9jbXT.js";import{G as Nt}from"./globe-DeVAdRMG.js";import"./index-CefIVmab.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ce("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ne="mladv_welcome_shown";function St(){const[t,n]=s.useState(!1);s.useEffect(()=>{if(!sessionStorage.getItem(Ne)){const o=setTimeout(()=>n(!0),600);return()=>clearTimeout(o)}},[]);const r=()=>{sessionStorage.setItem(Ne,"true"),n(!1)};return e.jsx(Re,{open:t,onOpenChange:m=>{m||r()},children:e.jsx(Le,{className:"sm:max-w-md border-none bg-gradient-to-br from-rose-50 via-white to-pink-50 dark:from-rose-950/40 dark:via-background dark:to-pink-950/30 shadow-2xl p-0 overflow-hidden",children:e.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"p-8 text-center",children:[e.jsxs("div",{className:"relative flex justify-center mb-6",children:[e.jsx(O.div,{animate:{y:[0,-8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(je,{className:"w-16 h-16 text-rose-400 fill-rose-400 drop-shadow-lg"})}),e.jsx(O.div,{className:"absolute -left-2 top-0",animate:{y:[0,-6,0],opacity:[.4,1,.4]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.3},children:e.jsx(we,{className:"w-5 h-5 text-amber-400"})}),e.jsx(O.div,{className:"absolute -right-2 top-2",animate:{y:[0,-5,0],opacity:[.5,1,.5]},transition:{duration:2.2,repeat:1/0,ease:"easeInOut",delay:.6},children:e.jsx(we,{className:"w-4 h-4 text-amber-400"})})]}),e.jsx(O.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-bold bg-gradient-to-r from-rose-600 to-pink-600 dark:from-rose-400 dark:to-pink-400 bg-clip-text text-transparent mb-4",children:"Bem-vinda, meu amor! ðŸ’•"}),e.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3 text-sm leading-relaxed text-muted-foreground",children:[e.jsx("p",{children:"Este portal foi feito com muito carinho, especialmente pra vocÃª."}),e.jsx("p",{children:"Ã‰ o meu presente â€” um cantinho digital onde vocÃª pode organizar sua agenda, suas tarefas, seus clientes e tudo o que precisar para brilhar ainda mais no seu trabalho."}),e.jsx("p",{className:"text-base font-medium text-foreground/80",children:"Eu te amo. Sempre. ðŸ¤"})]}),e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-8",children:e.jsxs($,{onClick:r,className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-8 shadow-lg shadow-rose-200 dark:shadow-rose-900/30",children:[e.jsx(je,{className:"w-4 h-4 mr-2 fill-white"}),"ComeÃ§ar"]})}),e.jsx(O.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"mt-4 text-[11px] text-muted-foreground/60 italic",children:"â€” Com amor, CÃ¡ssio"})]})})})}var Ce=1,Et=.9,It=.8,_t=.17,se=.1,le=.999,Rt=.9999,Lt=.99,Mt=/[\\\/_+.#"@\[\(\{&]/,At=/[\\\/_+.#"@\[\(\{&]/g,Tt=/[\s-]/,Oe=/[\s-]/g;function ie(t,n,r,m,o,d,c){if(d===n.length)return o===t.length?Ce:Lt;var x=`${o},${d}`;if(c[x]!==void 0)return c[x];for(var y=m.charAt(d),l=r.indexOf(y,o),b=0,v,p,f,w;l>=0;)v=ie(t,n,r,m,l+1,d+1,c),v>b&&(l===o?v*=Ce:Mt.test(t.charAt(l-1))?(v*=It,f=t.slice(o,l-1).match(At),f&&o>0&&(v*=Math.pow(le,f.length))):Tt.test(t.charAt(l-1))?(v*=Et,w=t.slice(o,l-1).match(Oe),w&&o>0&&(v*=Math.pow(le,w.length))):(v*=_t,o>0&&(v*=Math.pow(le,l-o))),t.charAt(l)!==n.charAt(d)&&(v*=Rt)),(v<se&&r.charAt(l-1)===m.charAt(d+1)||m.charAt(d+1)===m.charAt(d)&&r.charAt(l-1)!==m.charAt(d))&&(p=ie(t,n,r,m,l+1,d+2,c),p*se>v&&(v=p*se)),v>b&&(b=v),l=r.indexOf(y,l+1);return c[x]=b,b}function Se(t){return t.toLowerCase().replace(Oe," ")}function Ot(t,n,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,ie(t,n,Se(t),Se(n),0,0,{})}var U='[cmdk-group=""]',oe='[cmdk-group-items=""]',$t='[cmdk-group-heading=""]',$e='[cmdk-item=""]',Ee=`${$e}:not([aria-disabled="true"])`,de="cmdk-item-select",K="data-value",Dt=(t,n,r)=>Ot(t,n,r),De=s.createContext(void 0),Y=()=>s.useContext(De),Pe=s.createContext(void 0),pe=()=>s.useContext(Pe),Be=s.createContext(void 0),ze=s.forwardRef((t,n)=>{let r=V(()=>{var a,u;return{search:"",value:(u=(a=t.value)!=null?a:t.defaultValue)!=null?u:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),m=V(()=>new Set),o=V(()=>new Map),d=V(()=>new Map),c=V(()=>new Set),x=Fe(t),{label:y,children:l,value:b,onValueChange:v,filter:p,shouldFilter:f,loop:w,disablePointerSelection:E=!1,vimBindings:I=!0,...T}=t,C=q(),N=q(),h=q(),B=s.useRef(null),S=Wt();z(()=>{if(b!==void 0){let a=b.trim();r.current.value=a,R.emit()}},[b]),z(()=>{S(6,xe)},[]);let R=s.useMemo(()=>({subscribe:a=>(c.current.add(a),()=>c.current.delete(a)),snapshot:()=>r.current,setState:(a,u,g)=>{var i,j,k,M;if(!Object.is(r.current[a],u)){if(r.current[a]=u,a==="search")re(),ee(),S(1,te);else if(a==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _=document.getElementById(h);_?_.focus():(i=document.getElementById(C))==null||i.focus()}if(S(7,()=>{var _;r.current.selectedItemId=(_=F())==null?void 0:_.id,R.emit()}),g||S(5,xe),((j=x.current)==null?void 0:j.value)!==void 0){let _=u??"";(M=(k=x.current).onValueChange)==null||M.call(k,_);return}}R.emit()}},emit:()=>{c.current.forEach(a=>a())}}),[]),Z=s.useMemo(()=>({value:(a,u,g)=>{var i;u!==((i=d.current.get(a))==null?void 0:i.value)&&(d.current.set(a,{value:u,keywords:g}),r.current.filtered.items.set(a,he(u,g)),S(2,()=>{ee(),R.emit()}))},item:(a,u)=>(m.current.add(a),u&&(o.current.has(u)?o.current.get(u).add(a):o.current.set(u,new Set([a]))),S(3,()=>{re(),ee(),r.current.value||te(),R.emit()}),()=>{d.current.delete(a),m.current.delete(a),r.current.filtered.items.delete(a);let g=F();S(4,()=>{re(),(g==null?void 0:g.getAttribute("id"))===a&&te(),R.emit()})}),group:a=>(o.current.has(a)||o.current.set(a,new Set),()=>{d.current.delete(a),o.current.delete(a)}),filter:()=>x.current.shouldFilter,label:y||t["aria-label"],getDisablePointerSelection:()=>x.current.disablePointerSelection,listId:C,inputId:h,labelId:N,listInnerRef:B}),[]);function he(a,u){var g,i;let j=(i=(g=x.current)==null?void 0:g.filter)!=null?i:Dt;return a?j(a,r.current.search,u):0}function ee(){if(!r.current.search||x.current.shouldFilter===!1)return;let a=r.current.filtered.items,u=[];r.current.filtered.groups.forEach(i=>{let j=o.current.get(i),k=0;j.forEach(M=>{let _=a.get(M);k=Math.max(_,k)}),u.push([i,k])});let g=B.current;H().sort((i,j)=>{var k,M;let _=i.getAttribute("id"),Q=j.getAttribute("id");return((k=a.get(Q))!=null?k:0)-((M=a.get(_))!=null?M:0)}).forEach(i=>{let j=i.closest(oe);j?j.appendChild(i.parentElement===j?i:i.closest(`${oe} > *`)):g.appendChild(i.parentElement===g?i:i.closest(`${oe} > *`))}),u.sort((i,j)=>j[1]-i[1]).forEach(i=>{var j;let k=(j=B.current)==null?void 0:j.querySelector(`${U}[${K}="${encodeURIComponent(i[0])}"]`);k==null||k.parentElement.appendChild(k)})}function te(){let a=H().find(g=>g.getAttribute("aria-disabled")!=="true"),u=a==null?void 0:a.getAttribute(K);R.setState("value",u||void 0)}function re(){var a,u,g,i;if(!r.current.search||x.current.shouldFilter===!1){r.current.filtered.count=m.current.size;return}r.current.filtered.groups=new Set;let j=0;for(let k of m.current){let M=(u=(a=d.current.get(k))==null?void 0:a.value)!=null?u:"",_=(i=(g=d.current.get(k))==null?void 0:g.keywords)!=null?i:[],Q=he(M,_);r.current.filtered.items.set(k,Q),Q>0&&j++}for(let[k,M]of o.current)for(let _ of M)if(r.current.filtered.items.get(_)>0){r.current.filtered.groups.add(k);break}r.current.filtered.count=j}function xe(){var a,u,g;let i=F();i&&(((a=i.parentElement)==null?void 0:a.firstChild)===i&&((g=(u=i.closest(U))==null?void 0:u.querySelector($t))==null||g.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function F(){var a;return(a=B.current)==null?void 0:a.querySelector(`${$e}[aria-selected="true"]`)}function H(){var a;return Array.from(((a=B.current)==null?void 0:a.querySelectorAll(Ee))||[])}function ae(a){let u=H()[a];u&&R.setState("value",u.getAttribute(K))}function ne(a){var u;let g=F(),i=H(),j=i.findIndex(M=>M===g),k=i[j+a];(u=x.current)!=null&&u.loop&&(k=j+a<0?i[i.length-1]:j+a===i.length?i[0]:i[j+a]),k&&R.setState("value",k.getAttribute(K))}function ge(a){let u=F(),g=u==null?void 0:u.closest(U),i;for(;g&&!i;)g=a>0?Gt(g,U):Ut(g,U),i=g==null?void 0:g.querySelector(Ee);i?R.setState("value",i.getAttribute(K)):ne(a)}let be=()=>ae(H().length-1),ve=a=>{a.preventDefault(),a.metaKey?be():a.altKey?ge(1):ne(1)},ye=a=>{a.preventDefault(),a.metaKey?ae(0):a.altKey?ge(-1):ne(-1)};return s.createElement(P.div,{ref:n,tabIndex:-1,...T,"cmdk-root":"",onKeyDown:a=>{var u;(u=T.onKeyDown)==null||u.call(T,a);let g=a.nativeEvent.isComposing||a.keyCode===229;if(!(a.defaultPrevented||g))switch(a.key){case"n":case"j":{I&&a.ctrlKey&&ve(a);break}case"ArrowDown":{ve(a);break}case"p":case"k":{I&&a.ctrlKey&&ye(a);break}case"ArrowUp":{ye(a);break}case"Home":{a.preventDefault(),ae(0);break}case"End":{a.preventDefault(),be();break}case"Enter":{a.preventDefault();let i=F();if(i){let j=new Event(de);i.dispatchEvent(j)}}}}},s.createElement("label",{"cmdk-label":"",htmlFor:Z.inputId,id:Z.labelId,style:Qt},y),J(t,a=>s.createElement(Pe.Provider,{value:R},s.createElement(De.Provider,{value:Z},a))))}),Pt=s.forwardRef((t,n)=>{var r,m;let o=q(),d=s.useRef(null),c=s.useContext(Be),x=Y(),y=Fe(t),l=(m=(r=y.current)==null?void 0:r.forceMount)!=null?m:c==null?void 0:c.forceMount;z(()=>{if(!l)return x.item(o,c==null?void 0:c.id)},[l]);let b=Ke(o,d,[t.value,t.children,d],t.keywords),v=pe(),p=D(S=>S.value&&S.value===b.current),f=D(S=>l||x.filter()===!1?!0:S.search?S.filtered.items.get(o)>0:!0);s.useEffect(()=>{let S=d.current;if(!(!S||t.disabled))return S.addEventListener(de,w),()=>S.removeEventListener(de,w)},[f,t.onSelect,t.disabled]);function w(){var S,R;E(),(R=(S=y.current).onSelect)==null||R.call(S,b.current)}function E(){v.setState("value",b.current,!0)}if(!f)return null;let{disabled:I,value:T,onSelect:C,forceMount:N,keywords:h,...B}=t;return s.createElement(P.div,{ref:W(d,n),...B,id:o,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!p,"data-disabled":!!I,"data-selected":!!p,onPointerMove:I||x.getDisablePointerSelection()?void 0:E,onClick:I?void 0:w},t.children)}),Bt=s.forwardRef((t,n)=>{let{heading:r,children:m,forceMount:o,...d}=t,c=q(),x=s.useRef(null),y=s.useRef(null),l=q(),b=Y(),v=D(f=>o||b.filter()===!1?!0:f.search?f.filtered.groups.has(c):!0);z(()=>b.group(c),[]),Ke(c,x,[t.value,t.heading,y]);let p=s.useMemo(()=>({id:c,forceMount:o}),[o]);return s.createElement(P.div,{ref:W(x,n),...d,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},r&&s.createElement("div",{ref:y,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),J(t,f=>s.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},s.createElement(Be.Provider,{value:p},f))))}),zt=s.forwardRef((t,n)=>{let{alwaysRender:r,...m}=t,o=s.useRef(null),d=D(c=>!c.search);return!r&&!d?null:s.createElement(P.div,{ref:W(o,n),...m,"cmdk-separator":"",role:"separator"})}),Ft=s.forwardRef((t,n)=>{let{onValueChange:r,...m}=t,o=t.value!=null,d=pe(),c=D(l=>l.search),x=D(l=>l.selectedItemId),y=Y();return s.useEffect(()=>{t.value!=null&&d.setState("search",t.value)},[t.value]),s.createElement(P.input,{ref:n,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":y.listId,"aria-labelledby":y.labelId,"aria-activedescendant":x,id:y.inputId,type:"text",value:o?t.value:c,onChange:l=>{o||d.setState("search",l.target.value),r==null||r(l.target.value)}})}),Kt=s.forwardRef((t,n)=>{let{children:r,label:m="Suggestions",...o}=t,d=s.useRef(null),c=s.useRef(null),x=D(l=>l.selectedItemId),y=Y();return s.useEffect(()=>{if(c.current&&d.current){let l=c.current,b=d.current,v,p=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let f=l.offsetHeight;b.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return p.observe(l),()=>{cancelAnimationFrame(v),p.unobserve(l)}}},[]),s.createElement(P.div,{ref:W(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":x,"aria-label":m,id:y.listId},J(t,l=>s.createElement("div",{ref:W(c,y.listInnerRef),"cmdk-list-sizer":""},l)))}),Vt=s.forwardRef((t,n)=>{let{open:r,onOpenChange:m,overlayClassName:o,contentClassName:d,container:c,...x}=t;return s.createElement(at,{open:r,onOpenChange:m},s.createElement(nt,{container:c},s.createElement(st,{"cmdk-overlay":"",className:o}),s.createElement(lt,{"aria-label":t.label,"cmdk-dialog":"",className:d},s.createElement(ze,{ref:n,...x}))))}),qt=s.forwardRef((t,n)=>D(r=>r.filtered.count===0)?s.createElement(P.div,{ref:n,...t,"cmdk-empty":"",role:"presentation"}):null),Ht=s.forwardRef((t,n)=>{let{progress:r,children:m,label:o="Loading...",...d}=t;return s.createElement(P.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},J(t,c=>s.createElement("div",{"aria-hidden":!0},c)))}),L=Object.assign(ze,{List:Kt,Item:Pt,Input:Ft,Group:Bt,Separator:zt,Dialog:Vt,Empty:qt,Loading:Ht});function Gt(t,n){let r=t.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ut(t,n){let r=t.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Fe(t){let n=s.useRef(t);return z(()=>{n.current=t}),n}var z=typeof window>"u"?s.useEffect:s.useLayoutEffect;function V(t){let n=s.useRef();return n.current===void 0&&(n.current=t()),n}function D(t){let n=pe(),r=()=>t(n.snapshot());return s.useSyncExternalStore(n.subscribe,r,r)}function Ke(t,n,r,m=[]){let o=s.useRef(),d=Y();return z(()=>{var c;let x=(()=>{var l;for(let b of r){if(typeof b=="string")return b.trim();if(typeof b=="object"&&"current"in b)return b.current?(l=b.current.textContent)==null?void 0:l.trim():o.current}})(),y=m.map(l=>l.trim());d.value(t,x,y),(c=n.current)==null||c.setAttribute(K,x),o.current=x}),o}var Wt=()=>{let[t,n]=s.useState(),r=V(()=>new Map);return z(()=>{r.current.forEach(m=>m()),r.current=new Map},[t]),(m,o)=>{r.current.set(m,o),n({})}};function Yt(t){let n=t.type;return typeof n=="function"?n(t.props):"render"in n?n.render(t.props):t}function J({asChild:t,children:n},r){return t&&s.isValidElement(n)?s.cloneElement(Yt(n),{ref:n.ref},r(n.props.children)):r(n)}var Qt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ve=s.forwardRef(({className:t,...n},r)=>e.jsx(L,{ref:r,className:A("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...n}));Ve.displayName=L.displayName;const Xt=({children:t,...n})=>e.jsx(Re,{...n,children:e.jsx(Le,{className:"overflow-hidden p-0 shadow-lg max-h-[85vh] flex flex-col border-border/50 [&_[cmdk-input-wrapper]]:ring-0 [&_[cmdk-input-wrapper]]:ring-offset-0 [&_*:focus-visible]:ring-0 [&_*:focus-visible]:ring-offset-0",children:e.jsx(Ve,{className:"flex flex-col flex-1 overflow-hidden [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),qe=s.forwardRef(({className:t,...n},r)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Me,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(L.Input,{ref:r,className:A("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...n})]}));qe.displayName=L.Input.displayName;const He=s.forwardRef(({className:t,...n},r)=>e.jsx(L.List,{ref:r,className:A("flex-1 overflow-y-auto overflow-x-hidden",t),...n}));He.displayName=L.List.displayName;const Ge=s.forwardRef((t,n)=>e.jsx(L.Empty,{ref:n,className:"py-6 text-center text-sm",...t}));Ge.displayName=L.Empty.displayName;const Ue=s.forwardRef(({className:t,...n},r)=>e.jsx(L.Group,{ref:r,className:A("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...n}));Ue.displayName=L.Group.displayName;const Jt=s.forwardRef(({className:t,...n},r)=>e.jsx(L.Separator,{ref:r,className:A("-mx-1 h-px bg-border",t),...n}));Jt.displayName=L.Separator.displayName;const We=s.forwardRef(({className:t,...n},r)=>e.jsx(L.Item,{ref:r,className:A("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...n}));We.displayName=L.Item.displayName;const Zt={tarefa:{label:"Tarefa",icon:ue,className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400 border-yellow-500/20"},subtarefa:{label:"Subtarefa",icon:Ct,className:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20"},agenda:{label:"Agenda",icon:me,className:"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-500/20"},projeto:{label:"Projeto",icon:fe,className:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20"}};function er(){const[t,n]=s.useState(!1),[r,m]=s.useState(""),[o,d]=s.useState(!1),[c,x]=s.useState({tarefas:[],subtarefas:[],agenda:[],projetos:[]}),y=_e();s.useEffect(()=>{const p=f=>{(f.key==="k"&&(f.metaKey||f.ctrlKey)||f.key==="/")&&(f.preventDefault(),n(w=>!w))};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[]),s.useEffect(()=>{if(!t)return;d(!0),(async()=>{const[f,w,E,I]=await Promise.all([X.from("mladv_crm_tarefas").select("airtable_id, titulo, status, cliente, deadline").limit(1e3),X.from("mladv_crm_subtarefas").select("airtable_id, titulo, status, deadline, tarefa_airtable_id").limit(1e3),X.from("mladv_crm_agenda").select("airtable_id, titulo, tipo, status, data_local, cliente").limit(1e3),X.from("mladv_crm_projetos").select("airtable_id, nome, status, tipo").limit(1e3)]);x({tarefas:f.data||[],subtarefas:w.data||[],agenda:E.data||[],projetos:I.data||[]}),d(!1)})()},[t]);const l=s.useMemo(()=>{var w,E,I,T,C,N;const p=r.toLowerCase().trim();if(!p)return[];const f=[];for(const h of c.tarefas)((w=h.titulo)!=null&&w.toLowerCase().includes(p)||(E=h.cliente)!=null&&E.toLowerCase().includes(p))&&f.push({id:`t-${h.airtable_id}`,title:h.titulo,subtitle:[h.status,h.cliente].filter(Boolean).join(" Â· "),type:"tarefa",href:"/admin/tarefas"});for(const h of c.subtarefas)(I=h.titulo)!=null&&I.toLowerCase().includes(p)&&f.push({id:`s-${h.airtable_id}`,title:h.titulo,subtitle:h.status,type:"subtarefa",href:"/admin/tarefas"});for(const h of c.agenda)((T=h.titulo)!=null&&T.toLowerCase().includes(p)||(C=h.cliente)!=null&&C.toLowerCase().includes(p))&&f.push({id:`a-${h.airtable_id}`,title:h.titulo,subtitle:[h.tipo,h.data_local,h.cliente].filter(Boolean).join(" Â· "),type:"agenda",href:"/admin/agenda"});for(const h of c.projetos)(N=h.nome)!=null&&N.toLowerCase().includes(p)&&f.push({id:`p-${h.airtable_id}`,title:h.nome,subtitle:[h.status,h.tipo].filter(Boolean).join(" Â· "),type:"projeto",href:"/admin/projetos"});return f.slice(0,50)},[r,c]),b=s.useMemo(()=>{const p={};for(const f of l)p[f.type]||(p[f.type]=[]),p[f.type].push(f);return p},[l]),v=s.useCallback(p=>{n(!1),m(""),y(p)},[y]);return e.jsxs(e.Fragment,{children:[e.jsxs($,{variant:"outline",size:"sm",onClick:()=>n(!0),className:"text-muted-foreground h-8 px-3 gap-2 border-border/60 hover:border-primary/40 hover:text-foreground transition-colors",children:[e.jsx(Me,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline text-xs",children:"Buscar..."}),e.jsx("kbd",{className:"hidden sm:inline-flex pointer-events-none h-5 select-none items-center gap-0.5 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground ml-2",children:"âŒ˜K"})]}),e.jsxs(Xt,{open:t,onOpenChange:n,children:[e.jsx(qe,{placeholder:"Buscar tarefas, agenda, projetos...",value:r,onValueChange:m}),e.jsxs(He,{children:[o&&e.jsxs("div",{className:"flex items-center justify-center py-8 gap-2 text-muted-foreground",children:[e.jsx(dt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Carregando..."})]}),!o&&r&&l.length===0&&e.jsx(Ge,{children:"Nenhum resultado encontrado."}),!o&&!r&&e.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Digite para buscar tarefas, agenda e projetos..."}),!o&&l.length>0&&e.jsxs("div",{className:"px-1 py-1 text-xs text-muted-foreground border-b border-border/50 mb-1",children:[l.length," resultado",l.length!==1?"s":""]}),Object.entries(b).map(([p,f])=>{const w=Zt[p];return e.jsx(Ue,{heading:`${w.label} (${f.length})`,children:f.map(E=>{const I=w.icon;return e.jsxs(We,{value:E.title,onSelect:()=>v(E.href),className:"flex items-center gap-2.5 py-2.5 px-2 rounded-md cursor-pointer",children:[e.jsx("div",{className:`p-1 rounded ${w.className}`,children:e.jsx(I,{className:"w-3.5 h-3.5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium truncate block",children:E.title}),E.subtitle&&e.jsx("span",{className:"text-xs text-muted-foreground truncate block mt-0.5",children:E.subtitle})]}),e.jsx(ot,{variant:"outline",className:`text-[10px] shrink-0 ${w.className}`,children:w.label})]},E.id)})},p)})]})]})]})}const Ie=[{title:"VisÃ£o geral",items:[{href:"/admin",label:"Dashboard",icon:Te}]},{title:"CRM",items:[{href:"/admin/projetos",label:"Projetos",icon:fe},{href:"/admin/agenda",label:"Agenda",icon:me},{href:"/admin/tarefas",label:"Tarefas",icon:ue},{href:"/admin/clientes",label:"Clientes",icon:jt},{href:"/admin/processos",label:"Processos",icon:wt},{href:"/admin/bosi",label:"BOSI",icon:kt}]},{title:"ConteÃºdo",items:[{href:"/admin/blog",label:"Blog Site",icon:Nt}]},{title:"Conta",items:[{href:"/admin/configuracoes",label:"ConfiguraÃ§Ãµes",icon:Ae}]}],tr=[{href:"/admin",label:"InÃ­cio",icon:Te},{href:"/admin/projetos",label:"Projetos",icon:fe},{href:"/admin/agenda",label:"Agenda",icon:me},{href:"/admin/tarefas",label:"Tarefas",icon:ue}];function Cr(){const{user:t,signOut:n}=Ye(),{prefs:r,loaded:m,updatePref:o}=Qe(),d=_e(),c=Xe(),[x,y]=s.useState(!1),[l,b]=s.useState(!0),v=s.useRef(null),p=s.useCallback(()=>{v.current&&(clearTimeout(v.current),v.current=null),b(!1)},[]),f=s.useCallback(()=>{v.current=setTimeout(()=>{b(!0)},300)},[]),w=Je.includes(r.color_theme),E=r.theme==="dark",I=()=>{o("theme",E?"light":"dark")},T=async()=>{await n(),d("/")};return e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(St,{}),e.jsxs("aside",{className:A("hidden md:flex flex-col border-r border-sidebar-border bg-sidebar transition-all duration-300 shrink-0",l?"w-14":"w-60"),onMouseEnter:p,onMouseLeave:f,children:[e.jsxs("div",{className:"flex h-12 items-center justify-between border-b border-sidebar-border px-3",children:[!l&&e.jsx("span",{className:"font-serif text-lg font-semibold text-sidebar-foreground truncate",children:r.panel_name||"Painel Admin"}),e.jsx($,{variant:"ghost",size:"icon",onClick:()=>b(!l),className:"h-8 w-8 text-sidebar-foreground hover:bg-sidebar-accent shrink-0",children:l?e.jsx(ht,{className:"h-4 w-4"}):e.jsx(xt,{className:"h-4 w-4"})})]}),e.jsx("nav",{className:"flex-1 space-y-3 p-2 overflow-y-auto",children:Ie.map(C=>e.jsxs("div",{children:[!l&&e.jsx("p",{className:"px-2.5 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground/50 mb-1",children:C.title}),e.jsx("div",{className:"space-y-px",children:C.items.map(N=>{const h=c.pathname===N.href||N.href!=="/admin"&&c.pathname.startsWith(N.href);return e.jsxs(G,{to:N.href,title:l?N.label:void 0,className:A("group flex items-center gap-2.5 rounded-lg transition-all duration-150 text-[13px]",l?"justify-center p-2":"px-2.5 py-[7px]",h?"bg-sidebar-accent text-accent font-medium":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[e.jsx(N.icon,{className:A("w-[18px] h-[18px] shrink-0 transition-all duration-200",h?"text-accent scale-110":"text-muted-foreground group-hover:text-foreground group-hover:scale-110")}),!l&&e.jsx("span",{className:"truncate",children:N.label})]},N.href)})})]},C.title))}),e.jsx("div",{className:"p-2 space-y-1.5 border-t border-sidebar-border",children:e.jsx(G,{to:"/admin/posts/new",className:"block",children:e.jsxs($,{className:A("w-full gap-1.5 h-8 text-xs font-medium gold-gradient text-primary-foreground hover:opacity-90",l&&"px-0"),size:"sm",title:l?"Novo Post":void 0,children:[e.jsx(it,{className:"w-3.5 h-3.5 shrink-0"}),!l&&e.jsx("span",{children:"Novo Post"})]})})})]}),e.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[e.jsxs("header",{className:"sticky top-0 z-40 flex h-12 items-center justify-between border-b border-border/40 px-4 glass",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsxs(G,{to:"/",className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors text-xs",children:[e.jsx(gt,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:"Site"})]}),e.jsx("div",{className:"w-px h-4 bg-border/60 hidden sm:block"}),e.jsx(er,{})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!w&&e.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:I,children:E?e.jsx(bt,{className:"h-4 w-4"}):e.jsx(vt,{className:"h-4 w-4"})}),e.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d("/admin/configuracoes"),children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-4 bg-border/60 mx-0.5 hidden sm:block"}),e.jsx("span",{className:"text-[11px] text-muted-foreground hidden md:block truncate max-w-[160px]",children:t==null?void 0:t.email}),e.jsxs(Ze,{children:[e.jsx(et,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",onClick:T,className:"text-muted-foreground hover:text-destructive h-7 w-7 p-0",children:e.jsx(ke,{className:"w-3.5 h-3.5"})})}),e.jsx(tt,{side:"bottom",className:"text-xs",children:"Sair"})]})]})]}),e.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 pb-20 md:pb-6",children:e.jsx("div",{className:"mx-auto max-w-[1400px]",children:e.jsx(rt,{})})})]}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-xl border-t border-border/40 px-1 py-1 md:hidden z-40",children:e.jsxs("div",{className:"flex justify-around items-center max-w-md mx-auto",children:[tr.map(C=>{const N=c.pathname===C.href;return e.jsxs(G,{to:C.href,className:A("flex flex-col items-center gap-0.5 p-1.5 rounded-lg transition-colors min-w-[3.5rem]",N?"text-accent":"text-muted-foreground"),children:[e.jsx(C.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] leading-tight font-medium",children:C.label})]},C.href)}),e.jsxs(ct,{open:x,onOpenChange:y,children:[e.jsx(ut,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center gap-0.5 p-1.5 rounded-lg text-muted-foreground min-w-[3.5rem]",children:[e.jsx(yt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] leading-tight font-medium",children:"Mais"})]})}),e.jsxs(mt,{side:"bottom",className:"rounded-t-2xl pb-safe",children:[e.jsx(ft,{className:"mb-2",children:e.jsx(pt,{className:"text-left text-sm font-medium",children:"Menu"})}),e.jsx("div",{className:"space-y-0.5 max-h-[60vh] overflow-y-auto",children:Ie.map(C=>e.jsxs("div",{children:[e.jsx("p",{className:"px-2.5 pt-3 pb-1 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground/50",children:C.title}),C.items.map(N=>{const h=c.pathname===N.href;return e.jsxs(G,{to:N.href,onClick:()=>y(!1),className:A("flex items-center gap-3 px-2.5 py-2.5 rounded-md transition-colors text-[13px]",h?"bg-accent/10 text-accent font-medium":"text-muted-foreground hover:text-foreground hover:bg-muted/40"),children:[e.jsx(N.icon,{className:"w-4 h-4"}),e.jsx("span",{children:N.label})]},N.href)})]},C.title))}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-border/40 flex items-center justify-between",children:[e.jsx("span",{className:"text-[11px] text-muted-foreground truncate mr-4",children:t==null?void 0:t.email}),e.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{T(),y(!1)},className:"text-destructive h-7 shrink-0 text-xs",children:[e.jsx(ke,{className:"w-3.5 h-3.5 mr-1"}),"Sair"]})]})]})]})]})})]})}export{Cr as AdminLayout,Cr as default};
